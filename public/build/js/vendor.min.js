if(function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(E,t){var u=[],f=E.document,d=u.slice,m=u.concat,s=u.push,o=u.indexOf,n={},e=n.toString,g=n.hasOwnProperty,v={},i="1.12.4",M=function(t,e){return new M.fn.init(t,e)},r=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,a=/^-ms-/,l=/-([\da-z])/gi,c=function(t,e){return e.toUpperCase()};function h(t){var e=!!t&&"length"in t&&t.length,n=M.type(t);return"function"!==n&&!M.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&0<e&&e-1 in t)}M.fn=M.prototype={jquery:i,constructor:M,selector:"",length:0,toArray:function(){return d.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:d.call(this)},pushStack:function(t){var e=M.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return M.each(this,t)},map:function(n){return this.pushStack(M.map(this,function(t,e){return n.call(t,e,t)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(0<=n&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:u.sort,splice:u.splice},M.extend=M.fn.extend=function(){var t,e,n,i,o,r,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||M.isFunction(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(o=arguments[s]))for(i in o)t=a[i],a!==(n=o[i])&&(c&&n&&(M.isPlainObject(n)||(e=M.isArray(n)))?(r=e?(e=!1,t&&M.isArray(t)?t:[]):t&&M.isPlainObject(t)?t:{},a[i]=M.extend(c,r,n)):void 0!==n&&(a[i]=n));return a},M.extend({expando:"jQuery"+(i+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===M.type(t)},isArray:Array.isArray||function(t){return"array"===M.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){var e=t&&t.toString();return!M.isArray(t)&&0<=e-parseFloat(e)+1},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==M.type(t)||t.nodeType||M.isWindow(t))return!1;try{if(t.constructor&&!g.call(t,"constructor")&&!g.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}if(!v.ownFirst)for(e in t)return g.call(t,e);for(e in t);return void 0===e||g.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?n[e.call(t)]||"object":typeof t},globalEval:function(t){t&&M.trim(t)&&(E.execScript||function(t){E.eval.call(E,t)})(t)},camelCase:function(t){return t.replace(a,"ms-").replace(l,c)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,i=0;if(h(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(r,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(h(Object(t))?M.merge(n,"string"==typeof t?[t]:t):s.call(n,t)),n},inArray:function(t,e,n){var i;if(e){if(o)return o.call(e,t,n);for(i=e.length,n=n?n<0?Math.max(0,i+n):n:0;n<i;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,e){for(var n=+e.length,i=0,o=t.length;i<n;)t[o++]=e[i++];if(n!=n)for(;void 0!==e[i];)t[o++]=e[i++];return t.length=o,t},grep:function(t,e,n){for(var i=[],o=0,r=t.length,a=!n;o<r;o++)!e(t[o],o)!==a&&i.push(t[o]);return i},map:function(t,e,n){var i,o,r=0,a=[];if(h(t))for(i=t.length;r<i;r++)null!=(o=e(t[r],r,n))&&a.push(o);else for(r in t)null!=(o=e(t[r],r,n))&&a.push(o);return m.apply([],a)},guid:1,proxy:function(t,e){var n,i,o;return"string"==typeof e&&(o=t[e],e=t,t=o),M.isFunction(t)?(n=d.call(arguments,2),(i=function(){return t.apply(e||this,n.concat(d.call(arguments)))}).guid=t.guid=t.guid||M.guid++,i):void 0},now:function(){return+new Date},support:v}),"function"==typeof Symbol&&(M.fn[Symbol.iterator]=u[Symbol.iterator]),M.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){n["[object "+e+"]"]=e.toLowerCase()});var p=function(n){var t,f,_,r,o,m,u,g,x,l,c,w,E,a,M,v,s,d,y,T="sizzle"+1*new Date,b=n.document,C=0,i=0,h=ot(),p=ot(),S=ot(),A=function(t,e){return t===e&&(c=!0),0},k={}.hasOwnProperty,e=[],D=e.pop,O=e.push,P=e.push,N=e.slice,L=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},I="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",R="[\\x20\\t\\r\\n\\f]",$="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",F="\\["+R+"*("+$+")(?:"+R+"*([*^$|!~]?=)"+R+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+$+"))|)"+R+"*\\]",z=":("+$+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",H=new RegExp(R+"+","g"),B=new RegExp("^"+R+"+|((?:^|[^\\\\])(?:\\\\.)*)"+R+"+$","g"),U=new RegExp("^"+R+"*,"+R+"*"),j=new RegExp("^"+R+"*([>+~]|"+R+")"+R+"*"),V=new RegExp("="+R+"*([^\\]'\"]*?)"+R+"*\\]","g"),G=new RegExp(z),W=new RegExp("^"+$+"$"),Y={ID:new RegExp("^#("+$+")"),CLASS:new RegExp("^\\.("+$+")"),TAG:new RegExp("^("+$+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+z),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+R+"*(even|odd|(([+-]|)(\\d*)n|)"+R+"*(?:([+-]|)"+R+"*(\\d+)|))"+R+"*\\)|)","i"),bool:new RegExp("^(?:"+I+")$","i"),needsContext:new RegExp("^"+R+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+R+"*((?:-\\d)?\\d*)"+R+"*\\)|)(?=[^-]|$)","i")},q=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,K=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/[+~]/,J=/'|\\/g,tt=new RegExp("\\\\([\\da-f]{1,6}"+R+"?|("+R+")|.)","ig"),et=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},nt=function(){w()};try{P.apply(e=N.call(b.childNodes),b.childNodes),e[b.childNodes.length].nodeType}catch(t){P={apply:e.length?function(t,e){O.apply(t,N.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function it(t,e,n,i){var o,r,a,s,l,c,d,u,h=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!i&&((e?e.ownerDocument||e:b)!==E&&w(e),e=e||E,M)){if(11!==p&&(c=K.exec(t)))if(o=c[1]){if(9===p){if(!(a=e.getElementById(o)))return n;if(a.id===o)return n.push(a),n}else if(h&&(a=h.getElementById(o))&&y(e,a)&&a.id===o)return n.push(a),n}else{if(c[2])return P.apply(n,e.getElementsByTagName(t)),n;if((o=c[3])&&f.getElementsByClassName&&e.getElementsByClassName)return P.apply(n,e.getElementsByClassName(o)),n}if(f.qsa&&!S[t+" "]&&(!v||!v.test(t))){if(1!==p)h=e,u=t;else if("object"!==e.nodeName.toLowerCase()){for((s=e.getAttribute("id"))?s=s.replace(J,"\\$&"):e.setAttribute("id",s=T),r=(d=m(t)).length,l=W.test(s)?"#"+s:"[id='"+s+"']";r--;)d[r]=l+" "+ft(d[r]);u=d.join(","),h=Q.test(t)&&ht(e.parentNode)||e}if(u)try{return P.apply(n,h.querySelectorAll(u)),n}catch(t){}finally{s===T&&e.removeAttribute("id")}}}return g(t.replace(B,"$1"),e,n,i)}function ot(){var i=[];return function t(e,n){return i.push(e+" ")>_.cacheLength&&delete t[i.shift()],t[e+" "]=n}}function rt(t){return t[T]=!0,t}function at(t){var e=E.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function st(t,e){for(var n=t.split("|"),i=n.length;i--;)_.attrHandle[n[i]]=e}function lt(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||1<<31)-(~t.sourceIndex||1<<31);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ct(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function dt(n){return function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&t.type===n}}function ut(a){return rt(function(r){return r=+r,rt(function(t,e){for(var n,i=a([],t.length,r),o=i.length;o--;)t[n=i[o]]&&(t[n]=!(e[n]=t[n]))})})}function ht(t){return t&&void 0!==t.getElementsByTagName&&t}for(t in f=it.support={},o=it.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},w=it.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:b;return i!==E&&9===i.nodeType&&i.documentElement&&(a=(E=i).documentElement,M=!o(E),(n=E.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",nt,!1):n.attachEvent&&n.attachEvent("onunload",nt)),f.attributes=at(function(t){return t.className="i",!t.getAttribute("className")}),f.getElementsByTagName=at(function(t){return t.appendChild(E.createComment("")),!t.getElementsByTagName("*").length}),f.getElementsByClassName=Z.test(E.getElementsByClassName),f.getById=at(function(t){return a.appendChild(t).id=T,!E.getElementsByName||!E.getElementsByName(T).length}),f.getById?(_.find.ID=function(t,e){if(void 0!==e.getElementById&&M){var n=e.getElementById(t);return n?[n]:[]}},_.filter.ID=function(t){var e=t.replace(tt,et);return function(t){return t.getAttribute("id")===e}}):(delete _.find.ID,_.filter.ID=function(t){var n=t.replace(tt,et);return function(t){var e=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return e&&e.value===n}}),_.find.TAG=f.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):f.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],o=0,r=e.getElementsByTagName(t);if("*"!==t)return r;for(;n=r[o++];)1===n.nodeType&&i.push(n);return i},_.find.CLASS=f.getElementsByClassName&&function(t,e){return void 0!==e.getElementsByClassName&&M?e.getElementsByClassName(t):void 0},s=[],v=[],(f.qsa=Z.test(E.querySelectorAll))&&(at(function(t){a.appendChild(t).innerHTML="<a id='"+T+"'></a><select id='"+T+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+R+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||v.push("\\["+R+"*(?:value|"+I+")"),t.querySelectorAll("[id~="+T+"-]").length||v.push("~="),t.querySelectorAll(":checked").length||v.push(":checked"),t.querySelectorAll("a#"+T+"+*").length||v.push(".#.+[+~]")}),at(function(t){var e=E.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&v.push("name"+R+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||v.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),v.push(",.*:")})),(f.matchesSelector=Z.test(d=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&at(function(t){f.disconnectedMatch=d.call(t,"div"),d.call(t,"[s!='']:x"),s.push("!=",z)}),v=v.length&&new RegExp(v.join("|")),s=s.length&&new RegExp(s.join("|")),e=Z.test(a.compareDocumentPosition),y=e||Z.test(a.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},A=e?function(t,e){if(t===e)return c=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!f.sortDetached&&e.compareDocumentPosition(t)===n?t===E||t.ownerDocument===b&&y(b,t)?-1:e===E||e.ownerDocument===b&&y(b,e)?1:l?L(l,t)-L(l,e):0:4&n?-1:1)}:function(t,e){if(t===e)return c=!0,0;var n,i=0,o=t.parentNode,r=e.parentNode,a=[t],s=[e];if(!o||!r)return t===E?-1:e===E?1:o?-1:r?1:l?L(l,t)-L(l,e):0;if(o===r)return lt(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?lt(a[i],s[i]):a[i]===b?-1:s[i]===b?1:0}),E},it.matches=function(t,e){return it(t,null,null,e)},it.matchesSelector=function(t,e){if((t.ownerDocument||t)!==E&&w(t),e=e.replace(V,"='$1']"),f.matchesSelector&&M&&!S[e+" "]&&(!s||!s.test(e))&&(!v||!v.test(e)))try{var n=d.call(t,e);if(n||f.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return 0<it(e,E,null,[t]).length},it.contains=function(t,e){return(t.ownerDocument||t)!==E&&w(t),y(t,e)},it.attr=function(t,e){(t.ownerDocument||t)!==E&&w(t);var n=_.attrHandle[e.toLowerCase()],i=n&&k.call(_.attrHandle,e.toLowerCase())?n(t,e,!M):void 0;return void 0!==i?i:f.attributes||!M?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},it.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},it.uniqueSort=function(t){var e,n=[],i=0,o=0;if(c=!f.detectDuplicates,l=!f.sortStable&&t.slice(0),t.sort(A),c){for(;e=t[o++];)e===t[o]&&(i=n.push(o));for(;i--;)t.splice(n[i],1)}return l=null,t},r=it.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=r(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=r(e);return n},(_=it.selectors={cacheLength:50,createPseudo:rt,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(tt,et),t[3]=(t[3]||t[4]||t[5]||"").replace(tt,et),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||it.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&it.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return Y.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&G.test(n)&&(e=m(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(tt,et).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=h[t+" "];return e||(e=new RegExp("(^|"+R+")"+t+"("+R+"|$)"))&&h(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(n,i,o){return function(t){var e=it.attr(t,n);return null==e?"!="===i:!i||(e+="","="===i?e===o:"!="===i?e!==o:"^="===i?o&&0===e.indexOf(o):"*="===i?o&&-1<e.indexOf(o):"$="===i?o&&e.slice(-o.length)===o:"~="===i?-1<(" "+e.replace(H," ")+" ").indexOf(o):"|="===i&&(e===o||e.slice(0,o.length+1)===o+"-"))}},CHILD:function(f,t,e,m,g){var v="nth"!==f.slice(0,3),y="last"!==f.slice(-4),b="of-type"===t;return 1===m&&0===g?function(t){return!!t.parentNode}:function(t,e,n){var i,o,r,a,s,l,c=v!==y?"nextSibling":"previousSibling",d=t.parentNode,u=b&&t.nodeName.toLowerCase(),h=!n&&!b,p=!1;if(d){if(v){for(;c;){for(a=t;a=a[c];)if(b?a.nodeName.toLowerCase()===u:1===a.nodeType)return!1;l=c="only"===f&&!l&&"nextSibling"}return!0}if(l=[y?d.firstChild:d.lastChild],y&&h){for(p=(s=(i=(o=(r=(a=d)[T]||(a[T]={}))[a.uniqueID]||(r[a.uniqueID]={}))[f]||[])[0]===C&&i[1])&&i[2],a=s&&d.childNodes[s];a=++s&&a&&a[c]||(p=s=0)||l.pop();)if(1===a.nodeType&&++p&&a===t){o[f]=[C,s,p];break}}else if(h&&(p=s=(i=(o=(r=(a=t)[T]||(a[T]={}))[a.uniqueID]||(r[a.uniqueID]={}))[f]||[])[0]===C&&i[1]),!1===p)for(;(a=++s&&a&&a[c]||(p=s=0)||l.pop())&&((b?a.nodeName.toLowerCase()!==u:1!==a.nodeType)||!++p||(h&&((o=(r=a[T]||(a[T]={}))[a.uniqueID]||(r[a.uniqueID]={}))[f]=[C,p]),a!==t)););return(p-=g)===m||p%m==0&&0<=p/m}}},PSEUDO:function(t,r){var e,a=_.pseudos[t]||_.setFilters[t.toLowerCase()]||it.error("unsupported pseudo: "+t);return a[T]?a(r):1<a.length?(e=[t,t,"",r],_.setFilters.hasOwnProperty(t.toLowerCase())?rt(function(t,e){for(var n,i=a(t,r),o=i.length;o--;)t[n=L(t,i[o])]=!(e[n]=i[o])}):function(t){return a(t,0,e)}):a}},pseudos:{not:rt(function(t){var i=[],o=[],s=u(t.replace(B,"$1"));return s[T]?rt(function(t,e,n,i){for(var o,r=s(t,null,i,[]),a=t.length;a--;)(o=r[a])&&(t[a]=!(e[a]=o))}):function(t,e,n){return i[0]=t,s(i,null,n,o),i[0]=null,!o.pop()}}),has:rt(function(e){return function(t){return 0<it(e,t).length}}),contains:rt(function(e){return e=e.replace(tt,et),function(t){return-1<(t.textContent||t.innerText||r(t)).indexOf(e)}}),lang:rt(function(n){return W.test(n||"")||it.error("unsupported lang: "+n),n=n.replace(tt,et).toLowerCase(),function(t){var e;do{if(e=M?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(e=e.toLowerCase())===n||0===e.indexOf(n+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=n.location&&n.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===a},focus:function(t){return t===E.activeElement&&(!E.hasFocus||E.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!_.pseudos.empty(t)},header:function(t){return X.test(t.nodeName)},input:function(t){return q.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:ut(function(){return[0]}),last:ut(function(t,e){return[e-1]}),eq:ut(function(t,e,n){return[n<0?n+e:n]}),even:ut(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:ut(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:ut(function(t,e,n){for(var i=n<0?n+e:n;0<=--i;)t.push(i);return t}),gt:ut(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=_.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[t]=ct(t);for(t in{submit:!0,reset:!0})_.pseudos[t]=dt(t);function pt(){}function ft(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function mt(s,t,e){var l=t.dir,c=e&&"parentNode"===l,d=i++;return t.first?function(t,e,n){for(;t=t[l];)if(1===t.nodeType||c)return s(t,e,n)}:function(t,e,n){var i,o,r,a=[C,d];if(n){for(;t=t[l];)if((1===t.nodeType||c)&&s(t,e,n))return!0}else for(;t=t[l];)if(1===t.nodeType||c){if((i=(o=(r=t[T]||(t[T]={}))[t.uniqueID]||(r[t.uniqueID]={}))[l])&&i[0]===C&&i[1]===d)return a[2]=i[2];if((o[l]=a)[2]=s(t,e,n))return!0}}}function gt(o){return 1<o.length?function(t,e,n){for(var i=o.length;i--;)if(!o[i](t,e,n))return!1;return!0}:o[0]}function vt(t,e,n,i,o){for(var r,a=[],s=0,l=t.length,c=null!=e;s<l;s++)(r=t[s])&&(n&&!n(r,i,o)||(a.push(r),c&&e.push(s)));return a}function yt(p,f,m,g,v,t){return g&&!g[T]&&(g=yt(g)),v&&!v[T]&&(v=yt(v,t)),rt(function(t,e,n,i){var o,r,a,s=[],l=[],c=e.length,d=t||function(t,e,n){for(var i=0,o=e.length;i<o;i++)it(t,e[i],n);return n}(f||"*",n.nodeType?[n]:n,[]),u=!p||!t&&f?d:vt(d,s,p,n,i),h=m?v||(t?p:c||g)?[]:e:u;if(m&&m(u,h,n,i),g)for(o=vt(h,l),g(o,[],n,i),r=o.length;r--;)(a=o[r])&&(h[l[r]]=!(u[l[r]]=a));if(t){if(v||p){if(v){for(o=[],r=h.length;r--;)(a=h[r])&&o.push(u[r]=a);v(null,h=[],o,i)}for(r=h.length;r--;)(a=h[r])&&-1<(o=v?L(t,a):s[r])&&(t[o]=!(e[o]=a))}}else h=vt(h===e?h.splice(c,h.length):h),v?v(null,e,h,i):P.apply(e,h)})}function bt(t){for(var o,e,n,i=t.length,r=_.relative[t[0].type],a=r||_.relative[" "],s=r?1:0,l=mt(function(t){return t===o},a,!0),c=mt(function(t){return-1<L(o,t)},a,!0),d=[function(t,e,n){var i=!r&&(n||e!==x)||((o=e).nodeType?l(t,e,n):c(t,e,n));return o=null,i}];s<i;s++)if(e=_.relative[t[s].type])d=[mt(gt(d),e)];else{if((e=_.filter[t[s].type].apply(null,t[s].matches))[T]){for(n=++s;n<i&&!_.relative[t[n].type];n++);return yt(1<s&&gt(d),1<s&&ft(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(B,"$1"),e,s<n&&bt(t.slice(s,n)),n<i&&bt(t=t.slice(n)),n<i&&ft(t))}d.push(e)}return gt(d)}return pt.prototype=_.filters=_.pseudos,_.setFilters=new pt,m=it.tokenize=function(t,e){var n,i,o,r,a,s,l,c=p[t+" "];if(c)return e?0:c.slice(0);for(a=t,s=[],l=_.preFilter;a;){for(r in n&&!(i=U.exec(a))||(i&&(a=a.slice(i[0].length)||a),s.push(o=[])),n=!1,(i=j.exec(a))&&(n=i.shift(),o.push({value:n,type:i[0].replace(B," ")}),a=a.slice(n.length)),_.filter)!(i=Y[r].exec(a))||l[r]&&!(i=l[r](i))||(n=i.shift(),o.push({value:n,type:r,matches:i}),a=a.slice(n.length));if(!n)break}return e?a.length:a?it.error(t):p(t,s).slice(0)},u=it.compile=function(t,e){var n,g,v,y,b,i,o=[],r=[],a=S[t+" "];if(!a){for(e||(e=m(t)),n=e.length;n--;)(a=bt(e[n]))[T]?o.push(a):r.push(a);(a=S(t,(g=r,y=0<(v=o).length,b=0<g.length,i=function(t,e,n,i,o){var r,a,s,l=0,c="0",d=t&&[],u=[],h=x,p=t||b&&_.find.TAG("*",o),f=C+=null==h?1:Math.random()||.1,m=p.length;for(o&&(x=e===E||e||o);c!==m&&null!=(r=p[c]);c++){if(b&&r){for(a=0,e||r.ownerDocument===E||(w(r),n=!M);s=g[a++];)if(s(r,e||E,n)){i.push(r);break}o&&(C=f)}y&&((r=!s&&r)&&l--,t&&d.push(r))}if(l+=c,y&&c!==l){for(a=0;s=v[a++];)s(d,u,e,n);if(t){if(0<l)for(;c--;)d[c]||u[c]||(u[c]=D.call(i));u=vt(u)}P.apply(i,u),o&&!t&&0<u.length&&1<l+v.length&&it.uniqueSort(i)}return o&&(C=f,x=h),d},y?rt(i):i))).selector=t}return a},g=it.select=function(t,e,n,i){var o,r,a,s,l,c="function"==typeof t&&t,d=!i&&m(t=c.selector||t);if(n=n||[],1===d.length){if(2<(r=d[0]=d[0].slice(0)).length&&"ID"===(a=r[0]).type&&f.getById&&9===e.nodeType&&M&&_.relative[r[1].type]){if(!(e=(_.find.ID(a.matches[0].replace(tt,et),e)||[])[0]))return n;c&&(e=e.parentNode),t=t.slice(r.shift().value.length)}for(o=Y.needsContext.test(t)?0:r.length;o--&&(a=r[o],!_.relative[s=a.type]);)if((l=_.find[s])&&(i=l(a.matches[0].replace(tt,et),Q.test(r[0].type)&&ht(e.parentNode)||e))){if(r.splice(o,1),!(t=i.length&&ft(r)))return P.apply(n,i),n;break}}return(c||u(t,d))(i,e,!M,n,!e||Q.test(t)&&ht(e.parentNode)||e),n},f.sortStable=T.split("").sort(A).join("")===T,f.detectDuplicates=!!c,w(),f.sortDetached=at(function(t){return 1&t.compareDocumentPosition(E.createElement("div"))}),at(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||st("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),f.attributes&&at(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||st("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),at(function(t){return null==t.getAttribute("disabled")})||st(I,function(t,e,n){var i;return n?void 0:!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),it}(E);M.find=p,M.expr=p.selectors,M.expr[":"]=M.expr.pseudos,M.uniqueSort=M.unique=p.uniqueSort,M.text=p.getText,M.isXMLDoc=p.isXML,M.contains=p.contains;var y=function(t,e,n){for(var i=[],o=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&M(t).is(n))break;i.push(t)}return i},b=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},_=M.expr.match.needsContext,x=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;function T(t,n,i){if(M.isFunction(n))return M.grep(t,function(t,e){return!!n.call(t,e,t)!==i});if(n.nodeType)return M.grep(t,function(t){return t===n!==i});if("string"==typeof n){if(w.test(n))return M.filter(n,t,i);n=M.filter(n,t)}return M.grep(t,function(t){return-1<M.inArray(t,n)!==i})}M.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?M.find.matchesSelector(i,t)?[i]:[]:M.find.matches(t,M.grep(e,function(t){return 1===t.nodeType}))},M.fn.extend({find:function(t){var e,n=[],i=this,o=i.length;if("string"!=typeof t)return this.pushStack(M(t).filter(function(){for(e=0;e<o;e++)if(M.contains(i[e],this))return!0}));for(e=0;e<o;e++)M.find(t,i[e],n);return(n=this.pushStack(1<o?M.unique(n):n)).selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(T(this,t||[],!1))},not:function(t){return this.pushStack(T(this,t||[],!0))},is:function(t){return!!T(this,"string"==typeof t&&_.test(t)?M(t):t||[],!1).length}});var C,S=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(M.fn.init=function(t,e,n){var i,o;if(!t)return this;if(n=n||C,"string"!=typeof t)return t.nodeType?(this.context=this[0]=t,this.length=1,this):M.isFunction(t)?void 0!==n.ready?n.ready(t):t(M):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),M.makeArray(t,this));if(!(i="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&3<=t.length?[null,t,null]:S.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof M?e[0]:e,M.merge(this,M.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:f,!0)),x.test(i[1])&&M.isPlainObject(e))for(i in e)M.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}if((o=f.getElementById(i[2]))&&o.parentNode){if(o.id!==i[2])return C.find(t);this.length=1,this[0]=o}return this.context=f,this.selector=t,this}).prototype=M.fn,C=M(f);var A=/^(?:parents|prev(?:Until|All))/,k={children:!0,contents:!0,next:!0,prev:!0};function D(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}M.fn.extend({has:function(t){var e,n=M(t,this),i=n.length;return this.filter(function(){for(e=0;e<i;e++)if(M.contains(this,n[e]))return!0})},closest:function(t,e){for(var n,i=0,o=this.length,r=[],a=_.test(t)||"string"!=typeof t?M(t,e||this.context):0;i<o;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&M.find.matchesSelector(n,t))){r.push(n);break}return this.pushStack(1<r.length?M.uniqueSort(r):r)},index:function(t){return t?"string"==typeof t?M.inArray(this[0],M(t)):M.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(M.uniqueSort(M.merge(this.get(),M(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),M.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return y(t,"parentNode")},parentsUntil:function(t,e,n){return y(t,"parentNode",n)},next:function(t){return D(t,"nextSibling")},prev:function(t){return D(t,"previousSibling")},nextAll:function(t){return y(t,"nextSibling")},prevAll:function(t){return y(t,"previousSibling")},nextUntil:function(t,e,n){return y(t,"nextSibling",n)},prevUntil:function(t,e,n){return y(t,"previousSibling",n)},siblings:function(t){return b((t.parentNode||{}).firstChild,t)},children:function(t){return b(t.firstChild)},contents:function(t){return M.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:M.merge([],t.childNodes)}},function(i,o){M.fn[i]=function(t,e){var n=M.map(this,o,t);return"Until"!==i.slice(-5)&&(e=t),e&&"string"==typeof e&&(n=M.filter(e,n)),1<this.length&&(k[i]||(n=M.uniqueSort(n)),A.test(i)&&(n=n.reverse())),this.pushStack(n)}});var O,P,N=/\S+/g;function L(){f.addEventListener?(f.removeEventListener("DOMContentLoaded",I),E.removeEventListener("load",I)):(f.detachEvent("onreadystatechange",I),E.detachEvent("onload",I))}function I(){(f.addEventListener||"load"===E.event.type||"complete"===f.readyState)&&(L(),M.ready())}for(P in M.Callbacks=function(i){var t,n;i="string"==typeof i?(t=i,n={},M.each(t.match(N)||[],function(t,e){n[e]=!0}),n):M.extend({},i);var o,e,r,a,s=[],l=[],c=-1,d=function(){for(a=i.once,r=o=!0;l.length;c=-1)for(e=l.shift();++c<s.length;)!1===s[c].apply(e[0],e[1])&&i.stopOnFalse&&(c=s.length,e=!1);i.memory||(e=!1),o=!1,a&&(s=e?[]:"")},u={add:function(){return s&&(e&&!o&&(c=s.length-1,l.push(e)),function n(t){M.each(t,function(t,e){M.isFunction(e)?i.unique&&u.has(e)||s.push(e):e&&e.length&&"string"!==M.type(e)&&n(e)})}(arguments),e&&!o&&d()),this},remove:function(){return M.each(arguments,function(t,e){for(var n;-1<(n=M.inArray(e,s,n));)s.splice(n,1),n<=c&&c--}),this},has:function(t){return t?-1<M.inArray(t,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return a=l=[],s=e="",this},disabled:function(){return!s},lock:function(){return a=!0,e||u.disable(),this},locked:function(){return!!a},fireWith:function(t,e){return a||(e=[t,(e=e||[]).slice?e.slice():e],l.push(e),o||d()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!r}};return u},M.extend({Deferred:function(t){var r=[["resolve","done",M.Callbacks("once memory"),"resolved"],["reject","fail",M.Callbacks("once memory"),"rejected"],["notify","progress",M.Callbacks("memory")]],o="pending",a={state:function(){return o},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var o=arguments;return M.Deferred(function(i){M.each(r,function(t,e){var n=M.isFunction(o[t])&&o[t];s[e[1]](function(){var t=n&&n.apply(this,arguments);t&&M.isFunction(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[e[0]+"With"](this===a?i.promise():this,n?[t]:arguments)})}),o=null}).promise()},promise:function(t){return null!=t?M.extend(t,a):a}},s={};return a.pipe=a.then,M.each(r,function(t,e){var n=e[2],i=e[3];a[e[1]]=n.add,i&&n.add(function(){o=i},r[1^t][2].disable,r[2][2].lock),s[e[0]]=function(){return s[e[0]+"With"](this===s?a:this,arguments),this},s[e[0]+"With"]=n.fireWith}),a.promise(s),t&&t.call(s,s),s},when:function(t){var o,e,n,i=0,r=d.call(arguments),a=r.length,s=1!==a||t&&M.isFunction(t.promise)?a:0,l=1===s?t:M.Deferred(),c=function(e,n,i){return function(t){n[e]=this,i[e]=1<arguments.length?d.call(arguments):t,i===o?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(1<a)for(o=new Array(a),e=new Array(a),n=new Array(a);i<a;i++)r[i]&&M.isFunction(r[i].promise)?r[i].promise().progress(c(i,e,o)).done(c(i,n,r)).fail(l.reject):--s;return s||l.resolveWith(n,r),l.promise()}}),M.fn.ready=function(t){return M.ready.promise().done(t),this},M.extend({isReady:!1,readyWait:1,holdReady:function(t){t?M.readyWait++:M.ready(!0)},ready:function(t){(!0===t?--M.readyWait:M.isReady)||((M.isReady=!0)!==t&&0<--M.readyWait||(O.resolveWith(f,[M]),M.fn.triggerHandler&&(M(f).triggerHandler("ready"),M(f).off("ready"))))}}),M.ready.promise=function(t){if(!O)if(O=M.Deferred(),"complete"===f.readyState||"loading"!==f.readyState&&!f.documentElement.doScroll)E.setTimeout(M.ready);else if(f.addEventListener)f.addEventListener("DOMContentLoaded",I),E.addEventListener("load",I);else{f.attachEvent("onreadystatechange",I),E.attachEvent("onload",I);var n=!1;try{n=null==E.frameElement&&f.documentElement}catch(t){}n&&n.doScroll&&function e(){if(!M.isReady){try{n.doScroll("left")}catch(t){return E.setTimeout(e,50)}L(),M.ready()}}()}return O.promise(t)},M.ready.promise(),M(v))break;v.ownFirst="0"===P,v.inlineBlockNeedsLayout=!1,M(function(){var t,e,n,i;(n=f.getElementsByTagName("body")[0])&&n.style&&(e=f.createElement("div"),(i=f.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),void 0!==e.style.zoom&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",v.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(n.style.zoom=1)),n.removeChild(i))}),function(){var t=f.createElement("div");v.deleteExpando=!0;try{delete t.test}catch(t){v.deleteExpando=!1}t=null}();var R,$=function(t){var e=M.noData[(t.nodeName+" ").toLowerCase()],n=+t.nodeType||1;return(1===n||9===n)&&(!e||!0!==e&&t.getAttribute("classid")===e)},F=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,z=/([A-Z])/g;function H(t,e,n){if(void 0===n&&1===t.nodeType){var i="data-"+e.replace(z,"-$1").toLowerCase();if("string"==typeof(n=t.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:F.test(n)?M.parseJSON(n):n)}catch(t){}M.data(t,e,n)}else n=void 0}return n}function B(t){var e;for(e in t)if(("data"!==e||!M.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function U(t,e,n,i){if($(t)){var o,r,a=M.expando,s=t.nodeType,l=s?M.cache:t,c=s?t[a]:t[a]&&a;if(c&&l[c]&&(i||l[c].data)||void 0!==n||"string"!=typeof e)return c||(c=s?t[a]=u.pop()||M.guid++:a),l[c]||(l[c]=s?{}:{toJSON:M.noop}),"object"!=typeof e&&"function"!=typeof e||(i?l[c]=M.extend(l[c],e):l[c].data=M.extend(l[c].data,e)),r=l[c],i||(r.data||(r.data={}),r=r.data),void 0!==n&&(r[M.camelCase(e)]=n),"string"==typeof e?null==(o=r[e])&&(o=r[M.camelCase(e)]):o=r,o}}function j(t,e,n){if($(t)){var i,o,r=t.nodeType,a=r?M.cache:t,s=r?t[M.expando]:M.expando;if(a[s]){if(e&&(i=n?a[s]:a[s].data)){o=(e=M.isArray(e)?e.concat(M.map(e,M.camelCase)):e in i?[e]:(e=M.camelCase(e))in i?[e]:e.split(" ")).length;for(;o--;)delete i[e[o]];if(n?!B(i):!M.isEmptyObject(i))return}(n||(delete a[s].data,B(a[s])))&&(r?M.cleanData([t],!0):v.deleteExpando||a!=a.window?delete a[s]:a[s]=void 0)}}}M.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return!!(t=t.nodeType?M.cache[t[M.expando]]:t[M.expando])&&!B(t)},data:function(t,e,n){return U(t,e,n)},removeData:function(t,e){return j(t,e)},_data:function(t,e,n){return U(t,e,n,!0)},_removeData:function(t,e){return j(t,e,!0)}}),M.fn.extend({data:function(t,e){var n,i,o,r=this[0],a=r&&r.attributes;if(void 0!==t)return"object"==typeof t?this.each(function(){M.data(this,t)}):1<arguments.length?this.each(function(){M.data(this,t,e)}):r?H(r,t,M.data(r,t)):void 0;if(this.length&&(o=M.data(r),1===r.nodeType&&!M._data(r,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&(0===(i=a[n].name).indexOf("data-")&&H(r,i=M.camelCase(i.slice(5)),o[i]));M._data(r,"parsedAttrs",!0)}return o},removeData:function(t){return this.each(function(){M.removeData(this,t)})}}),M.extend({queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=M._data(t,e),n&&(!i||M.isArray(n)?i=M._data(t,e,M.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=M.queue(t,e),i=n.length,o=n.shift(),r=M._queueHooks(t,e);"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===e&&n.unshift("inprogress"),delete r.stop,o.call(t,function(){M.dequeue(t,e)},r)),!i&&r&&r.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return M._data(t,n)||M._data(t,n,{empty:M.Callbacks("once memory").add(function(){M._removeData(t,e+"queue"),M._removeData(t,n)})})}}),M.fn.extend({queue:function(e,n){var t=2;return"string"!=typeof e&&(n=e,e="fx",t--),arguments.length<t?M.queue(this[0],e):void 0===n?this:this.each(function(){var t=M.queue(this,e,n);M._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&M.dequeue(this,e)})},dequeue:function(t){return this.each(function(){M.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,o=M.Deferred(),r=this,a=this.length,s=function(){--i||o.resolveWith(r,[r])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(n=M._data(r[a],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),o.promise(e)}}),v.shrinkWrapBlocks=function(){return null!=R?R:(R=!1,(e=f.getElementsByTagName("body")[0])&&e.style?(t=f.createElement("div"),(n=f.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",e.appendChild(n).appendChild(t),void 0!==t.style.zoom&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(f.createElement("div")).style.width="5px",R=3!==t.offsetWidth),e.removeChild(n),R):void 0);var t,e,n};var V=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,G=new RegExp("^(?:([+-])=|)("+V+")([a-z%]*)$","i"),W=["Top","Right","Bottom","Left"],Y=function(t,e){return t=e||t,"none"===M.css(t,"display")||!M.contains(t.ownerDocument,t)};function q(t,e,n,i){var o,r=1,a=20,s=i?function(){return i.cur()}:function(){return M.css(t,e,"")},l=s(),c=n&&n[3]||(M.cssNumber[e]?"":"px"),d=(M.cssNumber[e]||"px"!==c&&+l)&&G.exec(M.css(t,e));if(d&&d[3]!==c)for(c=c||d[3],n=n||[],d=+l||1;d/=r=r||".5",M.style(t,e,d+c),r!==(r=s()/l)&&1!==r&&--a;);return n&&(d=+d||+l||0,o=n[1]?d+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=d,i.end=o)),o}var X,Z,K,Q=function(t,e,n,i,o,r,a){var s=0,l=t.length,c=null==n;if("object"===M.type(n))for(s in o=!0,n)Q(t,e,s,n[s],!0,r,a);else if(void 0!==i&&(o=!0,M.isFunction(i)||(a=!0),c&&(e=a?(e.call(t,i),null):(c=e,function(t,e,n){return c.call(M(t),n)})),e))for(;s<l;s++)e(t[s],n,a?i:i.call(t[s],s,e(t[s],n)));return o?t:c?e.call(t):l?e(t[0],n):r},J=/^(?:checkbox|radio)$/i,tt=/<([\w:-]+)/,et=/^$|\/(?:java|ecma)script/i,nt=/^\s+/,it="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";function ot(t){var e=it.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}X=f.createElement("div"),Z=f.createDocumentFragment(),K=f.createElement("input"),X.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",v.leadingWhitespace=3===X.firstChild.nodeType,v.tbody=!X.getElementsByTagName("tbody").length,v.htmlSerialize=!!X.getElementsByTagName("link").length,v.html5Clone="<:nav></:nav>"!==f.createElement("nav").cloneNode(!0).outerHTML,K.type="checkbox",K.checked=!0,Z.appendChild(K),v.appendChecked=K.checked,X.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!X.cloneNode(!0).lastChild.defaultValue,Z.appendChild(X),(K=f.createElement("input")).setAttribute("type","radio"),K.setAttribute("checked","checked"),K.setAttribute("name","t"),X.appendChild(K),v.checkClone=X.cloneNode(!0).cloneNode(!0).lastChild.checked,v.noCloneEvent=!!X.addEventListener,X[M.expando]=1,v.attributes=!X.getAttribute(M.expando);var rt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:v.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};function at(t,e){var n,i,o=0,r=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):void 0;if(!r)for(r=[],n=t.childNodes||t;null!=(i=n[o]);o++)!e||M.nodeName(i,e)?r.push(i):M.merge(r,at(i,e));return void 0===e||e&&M.nodeName(t,e)?M.merge([t],r):r}function st(t,e){for(var n,i=0;null!=(n=t[i]);i++)M._data(n,"globalEval",!e||M._data(e[i],"globalEval"))}rt.optgroup=rt.option,rt.tbody=rt.tfoot=rt.colgroup=rt.caption=rt.thead,rt.th=rt.td;var lt=/<|&#?\w+;/,ct=/<tbody/i;function dt(t){J.test(t.type)&&(t.defaultChecked=t.checked)}function ut(t,e,n,i,o){for(var r,a,s,l,c,d,u,h=t.length,p=ot(e),f=[],m=0;m<h;m++)if((a=t[m])||0===a)if("object"===M.type(a))M.merge(f,a.nodeType?[a]:a);else if(lt.test(a)){for(l=l||p.appendChild(e.createElement("div")),c=(tt.exec(a)||["",""])[1].toLowerCase(),u=rt[c]||rt._default,l.innerHTML=u[1]+M.htmlPrefilter(a)+u[2],r=u[0];r--;)l=l.lastChild;if(!v.leadingWhitespace&&nt.test(a)&&f.push(e.createTextNode(nt.exec(a)[0])),!v.tbody)for(r=(a="table"!==c||ct.test(a)?"<table>"!==u[1]||ct.test(a)?0:l:l.firstChild)&&a.childNodes.length;r--;)M.nodeName(d=a.childNodes[r],"tbody")&&!d.childNodes.length&&a.removeChild(d);for(M.merge(f,l.childNodes),l.textContent="";l.firstChild;)l.removeChild(l.firstChild);l=p.lastChild}else f.push(e.createTextNode(a));for(l&&p.removeChild(l),v.appendChecked||M.grep(at(f,"input"),dt),m=0;a=f[m++];)if(i&&-1<M.inArray(a,i))o&&o.push(a);else if(s=M.contains(a.ownerDocument,a),l=at(p.appendChild(a),"script"),s&&st(l),n)for(r=0;a=l[r++];)et.test(a.type||"")&&n.push(a);return l=null,p}!function(){var t,e,n=f.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})e="on"+t,(v[t]=e in E)||(n.setAttribute(e,"t"),v[t]=!1===n.attributes[e].expando);n=null}();var ht=/^(?:input|select|textarea)$/i,pt=/^key/,ft=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,mt=/^(?:focusinfocus|focusoutblur)$/,gt=/^([^.]*)(?:\.(.+)|)/;function vt(){return!0}function yt(){return!1}function bt(){try{return f.activeElement}catch(t){}}function _t(t,e,n,i,o,r){var a,s;if("object"==typeof e){for(s in"string"!=typeof n&&(i=i||n,n=void 0),e)_t(t,s,n,i,e[s],r);return t}if(null==i&&null==o?(o=n,i=n=void 0):null==o&&("string"==typeof n?(o=i,i=void 0):(o=i,i=n,n=void 0)),!1===o)o=yt;else if(!o)return t;return 1===r&&(a=o,(o=function(t){return M().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=M.guid++)),t.each(function(){M.event.add(this,e,o,i,n)})}M.event={global:{},add:function(t,e,n,i,o){var r,a,s,l,c,d,u,h,p,f,m,g=M._data(t);if(g){for(n.handler&&(n=(l=n).handler,o=l.selector),n.guid||(n.guid=M.guid++),(a=g.events)||(a=g.events={}),(d=g.handle)||((d=g.handle=function(t){return void 0===M||t&&M.event.triggered===t.type?void 0:M.event.dispatch.apply(d.elem,arguments)}).elem=t),s=(e=(e||"").match(N)||[""]).length;s--;)p=m=(r=gt.exec(e[s])||[])[1],f=(r[2]||"").split(".").sort(),p&&(c=M.event.special[p]||{},p=(o?c.delegateType:c.bindType)||p,c=M.event.special[p]||{},u=M.extend({type:p,origType:m,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&M.expr.match.needsContext.test(o),namespace:f.join(".")},l),(h=a[p])||((h=a[p]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(t,i,f,d)||(t.addEventListener?t.addEventListener(p,d,!1):t.attachEvent&&t.attachEvent("on"+p,d))),c.add&&(c.add.call(t,u),u.handler.guid||(u.handler.guid=n.guid)),o?h.splice(h.delegateCount++,0,u):h.push(u),M.event.global[p]=!0);t=null}},remove:function(t,e,n,i,o){var r,a,s,l,c,d,u,h,p,f,m,g=M.hasData(t)&&M._data(t);if(g&&(d=g.events)){for(c=(e=(e||"").match(N)||[""]).length;c--;)if(p=m=(s=gt.exec(e[c])||[])[1],f=(s[2]||"").split(".").sort(),p){for(u=M.event.special[p]||{},h=d[p=(i?u.delegateType:u.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=h.length;r--;)a=h[r],!o&&m!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||i&&i!==a.selector&&("**"!==i||!a.selector)||(h.splice(r,1),a.selector&&h.delegateCount--,u.remove&&u.remove.call(t,a));l&&!h.length&&(u.teardown&&!1!==u.teardown.call(t,f,g.handle)||M.removeEvent(t,p,g.handle),delete d[p])}else for(p in d)M.event.remove(t,p+e[c],n,i,!0);M.isEmptyObject(d)&&(delete g.handle,M._removeData(t,"events"))}},trigger:function(t,e,n,i){var o,r,a,s,l,c,d,u=[n||f],h=g.call(t,"type")?t.type:t,p=g.call(t,"namespace")?t.namespace.split("."):[];if(a=c=n=n||f,3!==n.nodeType&&8!==n.nodeType&&!mt.test(h+M.event.triggered)&&(-1<h.indexOf(".")&&(h=(p=h.split(".")).shift(),p.sort()),r=h.indexOf(":")<0&&"on"+h,(t=t[M.expando]?t:new M.Event(h,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=p.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:M.makeArray(e,[t]),l=M.event.special[h]||{},i||!l.trigger||!1!==l.trigger.apply(n,e))){if(!i&&!l.noBubble&&!M.isWindow(n)){for(s=l.delegateType||h,mt.test(s+h)||(a=a.parentNode);a;a=a.parentNode)u.push(a),c=a;c===(n.ownerDocument||f)&&u.push(c.defaultView||c.parentWindow||E)}for(d=0;(a=u[d++])&&!t.isPropagationStopped();)t.type=1<d?s:l.bindType||h,(o=(M._data(a,"events")||{})[t.type]&&M._data(a,"handle"))&&o.apply(a,e),(o=r&&a[r])&&o.apply&&$(a)&&(t.result=o.apply(a,e),!1===t.result&&t.preventDefault());if(t.type=h,!i&&!t.isDefaultPrevented()&&(!l._default||!1===l._default.apply(u.pop(),e))&&$(n)&&r&&n[h]&&!M.isWindow(n)){(c=n[r])&&(n[r]=null),M.event.triggered=h;try{n[h]()}catch(t){}M.event.triggered=void 0,c&&(n[r]=c)}return t.result}},dispatch:function(t){t=M.event.fix(t);var e,n,i,o,r,a=[],s=d.call(arguments),l=(M._data(this,"events")||{})[t.type]||[],c=M.event.special[t.type]||{};if((s[0]=t).delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,t)){for(a=M.event.handlers.call(this,t,l),e=0;(o=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=o.elem,n=0;(r=o.handlers[n++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(r.namespace)||(t.handleObj=r,t.data=r.data,void 0!==(i=((M.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,s))&&!1===(t.result=i)&&(t.preventDefault(),t.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,o,r,a=[],s=e.delegateCount,l=t.target;if(s&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==t.type)){for(i=[],n=0;n<s;n++)void 0===i[o=(r=e[n]).selector+" "]&&(i[o]=r.needsContext?-1<M(o,this).index(l):M.find(o,this,null,[l]).length),i[o]&&i.push(r);i.length&&a.push({elem:l,handlers:i})}return s<e.length&&a.push({elem:this,handlers:e.slice(s)}),a},fix:function(t){if(t[M.expando])return t;var e,n,i,o=t.type,r=t,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=ft.test(o)?this.mouseHooks:pt.test(o)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,t=new M.Event(r),e=i.length;e--;)t[n=i[e]]=r[n];return t.target||(t.target=r.srcElement||f),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,a.filter?a.filter(t,r):t},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,o,r=e.button,a=e.fromElement;return null==t.pageX&&null!=e.clientX&&(o=(i=t.target.ownerDocument||f).documentElement,n=i.body,t.pageX=e.clientX+(o&&o.scrollLeft||n&&n.scrollLeft||0)-(o&&o.clientLeft||n&&n.clientLeft||0),t.pageY=e.clientY+(o&&o.scrollTop||n&&n.scrollTop||0)-(o&&o.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&a&&(t.relatedTarget=a===t.target?e.toElement:a),t.which||void 0===r||(t.which=1&r?1:2&r?3:4&r?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==bt()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){return this===bt()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return M.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(t){return M.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n){var i=M.extend(new M.Event,n,{type:t,isSimulated:!0});M.event.trigger(i,null,e),i.isDefaultPrevented()&&n.preventDefault()}},M.removeEvent=f.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)}:function(t,e,n){var i="on"+e;t.detachEvent&&(void 0===t[i]&&(t[i]=null),t.detachEvent(i,n))},M.Event=function(t,e){return this instanceof M.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?vt:yt):this.type=t,e&&M.extend(this,e),this.timeStamp=t&&t.timeStamp||M.now(),void(this[M.expando]=!0)):new M.Event(t,e)},M.Event.prototype={constructor:M.Event,isDefaultPrevented:yt,isPropagationStopped:yt,isImmediatePropagationStopped:yt,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=vt,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=vt,t&&!this.isSimulated&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=vt,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},M.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,o){M.event.special[t]={delegateType:o,bindType:o,handle:function(t){var e,n=t.relatedTarget,i=t.handleObj;return n&&(n===this||M.contains(this,n))||(t.type=i.origType,e=i.handler.apply(this,arguments),t.type=o),e}}}),v.submit||(M.event.special.submit={setup:function(){return!M.nodeName(this,"form")&&void M.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,n=M.nodeName(e,"input")||M.nodeName(e,"button")?M.prop(e,"form"):void 0;n&&!M._data(n,"submit")&&(M.event.add(n,"submit._submit",function(t){t._submitBubble=!0}),M._data(n,"submit",!0))})},postDispatch:function(t){t._submitBubble&&(delete t._submitBubble,this.parentNode&&!t.isTrigger&&M.event.simulate("submit",this.parentNode,t))},teardown:function(){return!M.nodeName(this,"form")&&void M.event.remove(this,"._submit")}}),v.change||(M.event.special.change={setup:function(){return ht.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(M.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._justChanged=!0)}),M.event.add(this,"click._change",function(t){this._justChanged&&!t.isTrigger&&(this._justChanged=!1),M.event.simulate("change",this,t)})),!1):void M.event.add(this,"beforeactivate._change",function(t){var e=t.target;ht.test(e.nodeName)&&!M._data(e,"change")&&(M.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||M.event.simulate("change",this.parentNode,t)}),M._data(e,"change",!0))})},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return M.event.remove(this,"._change"),!ht.test(this.nodeName)}}),v.focusin||M.each({focus:"focusin",blur:"focusout"},function(n,i){var o=function(t){M.event.simulate(i,t.target,M.event.fix(t))};M.event.special[i]={setup:function(){var t=this.ownerDocument||this,e=M._data(t,i);e||t.addEventListener(n,o,!0),M._data(t,i,(e||0)+1)},teardown:function(){var t=this.ownerDocument||this,e=M._data(t,i)-1;e?M._data(t,i,e):(t.removeEventListener(n,o,!0),M._removeData(t,i))}}}),M.fn.extend({on:function(t,e,n,i){return _t(this,t,e,n,i)},one:function(t,e,n,i){return _t(this,t,e,n,i,1)},off:function(t,e,n){var i,o;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,M(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"!=typeof t)return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=yt),this.each(function(){M.event.remove(this,t,n,e)});for(o in t)this.off(o,e,t[o]);return this},trigger:function(t,e){return this.each(function(){M.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?M.event.trigger(t,e,n,!0):void 0}});var xt=/ jQuery\d+="(?:null|\d+)"/g,wt=new RegExp("<(?:"+it+")[\\s/>]","i"),Et=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Mt=/<script|<style|<link/i,Tt=/checked\s*(?:[^=]|=\s*.checked.)/i,Ct=/^true\/(.*)/,St=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,At=ot(f).appendChild(f.createElement("div"));function kt(t,e){return M.nodeName(t,"table")&&M.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function Dt(t){return t.type=(null!==M.find.attr(t,"type"))+"/"+t.type,t}function Ot(t){var e=Ct.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function Pt(t,e){if(1===e.nodeType&&M.hasData(t)){var n,i,o,r=M._data(t),a=M._data(e,r),s=r.events;if(s)for(n in delete a.handle,a.events={},s)for(i=0,o=s[n].length;i<o;i++)M.event.add(e,n,s[n][i]);a.data&&(a.data=M.extend({},a.data))}}function Nt(t,e){var n,i,o;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!v.noCloneEvent&&e[M.expando]){for(i in(o=M._data(e)).events)M.removeEvent(e,i,o.handle);e.removeAttribute(M.expando)}"script"===n&&e.text!==t.text?(Dt(e).text=t.text,Ot(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),v.html5Clone&&t.innerHTML&&!M.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&J.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}}function Lt(n,i,o,r){i=m.apply([],i);var t,e,a,s,l,c,d=0,u=n.length,h=u-1,p=i[0],f=M.isFunction(p);if(f||1<u&&"string"==typeof p&&!v.checkClone&&Tt.test(p))return n.each(function(t){var e=n.eq(t);f&&(i[0]=p.call(this,t,e.html())),Lt(e,i,o,r)});if(u&&(t=(c=ut(i,n[0].ownerDocument,!1,n,r)).firstChild,1===c.childNodes.length&&(c=t),t||r)){for(a=(s=M.map(at(c,"script"),Dt)).length;d<u;d++)e=c,d!==h&&(e=M.clone(e,!0,!0),a&&M.merge(s,at(e,"script"))),o.call(n[d],e,d);if(a)for(l=s[s.length-1].ownerDocument,M.map(s,Ot),d=0;d<a;d++)e=s[d],et.test(e.type||"")&&!M._data(e,"globalEval")&&M.contains(l,e)&&(e.src?M._evalUrl&&M._evalUrl(e.src):M.globalEval((e.text||e.textContent||e.innerHTML||"").replace(St,"")));c=t=null}return n}function It(t,e,n){for(var i,o=e?M.filter(e,t):t,r=0;null!=(i=o[r]);r++)n||1!==i.nodeType||M.cleanData(at(i)),i.parentNode&&(n&&M.contains(i.ownerDocument,i)&&st(at(i,"script")),i.parentNode.removeChild(i));return t}M.extend({htmlPrefilter:function(t){return t.replace(Et,"<$1></$2>")},clone:function(t,e,n){var i,o,r,a,s,l=M.contains(t.ownerDocument,t);if(v.html5Clone||M.isXMLDoc(t)||!wt.test("<"+t.nodeName+">")?r=t.cloneNode(!0):(At.innerHTML=t.outerHTML,At.removeChild(r=At.firstChild)),!(v.noCloneEvent&&v.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||M.isXMLDoc(t)))for(i=at(r),s=at(t),a=0;null!=(o=s[a]);++a)i[a]&&Nt(o,i[a]);if(e)if(n)for(s=s||at(t),i=i||at(r),a=0;null!=(o=s[a]);a++)Pt(o,i[a]);else Pt(t,r);return 0<(i=at(r,"script")).length&&st(i,!l&&at(t,"script")),i=s=o=null,r},cleanData:function(t,e){for(var n,i,o,r,a=0,s=M.expando,l=M.cache,c=v.attributes,d=M.event.special;null!=(n=t[a]);a++)if((e||$(n))&&(r=(o=n[s])&&l[o])){if(r.events)for(i in r.events)d[i]?M.event.remove(n,i):M.removeEvent(n,i,r.handle);l[o]&&(delete l[o],c||void 0===n.removeAttribute?n[s]=void 0:n.removeAttribute(s),u.push(o))}}}),M.fn.extend({domManip:Lt,detach:function(t){return It(this,t,!0)},remove:function(t){return It(this,t)},text:function(t){return Q(this,function(t){return void 0===t?M.text(this):this.empty().append((this[0]&&this[0].ownerDocument||f).createTextNode(t))},null,t,arguments.length)},append:function(){return Lt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||kt(this,t).appendChild(t)})},prepend:function(){return Lt(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=kt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return Lt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Lt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&M.cleanData(at(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&M.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return M.clone(this,t,e)})},html:function(t){return Q(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t)return 1===e.nodeType?e.innerHTML.replace(xt,""):void 0;if("string"==typeof t&&!Mt.test(t)&&(v.htmlSerialize||!wt.test(t))&&(v.leadingWhitespace||!nt.test(t))&&!rt[(tt.exec(t)||["",""])[1].toLowerCase()]){t=M.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(M.cleanData(at(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var n=[];return Lt(this,arguments,function(t){var e=this.parentNode;M.inArray(this,n)<0&&(M.cleanData(at(this)),e&&e.replaceChild(t,this))},n)}}),M.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,a){M.fn[t]=function(t){for(var e,n=0,i=[],o=M(t),r=o.length-1;n<=r;n++)e=n===r?this:this.clone(!0),M(o[n])[a](e),s.apply(i,e.get());return this.pushStack(i)}});var Rt,$t={HTML:"block",BODY:"block"};function Ft(t,e){var n=M(e.createElement(t)).appendTo(e.body),i=M.css(n[0],"display");return n.detach(),i}function zt(t){var e=f,n=$t[t];return n||("none"!==(n=Ft(t,e))&&n||((e=((Rt=(Rt||M("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement))[0].contentWindow||Rt[0].contentDocument).document).write(),e.close(),n=Ft(t,e),Rt.detach()),$t[t]=n),n}var Ht=/^margin/,Bt=new RegExp("^("+V+")(?!px)[a-z%]+$","i"),Ut=function(t,e,n,i){var o,r,a={};for(r in e)a[r]=t.style[r],t.style[r]=e[r];for(r in o=n.apply(t,i||[]),e)t.style[r]=a[r];return o},jt=f.documentElement;!function(){var i,o,r,a,s,l,c=f.createElement("div"),d=f.createElement("div");if(d.style){function t(){var t,e,n=f.documentElement;n.appendChild(c),d.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",i=r=l=!1,o=s=!0,E.getComputedStyle&&(e=E.getComputedStyle(d),i="1%"!==(e||{}).top,l="2px"===(e||{}).marginLeft,r="4px"===(e||{width:"4px"}).width,d.style.marginRight="50%",o="4px"===(e||{marginRight:"4px"}).marginRight,(t=d.appendChild(f.createElement("div"))).style.cssText=d.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",d.style.width="1px",s=!parseFloat((E.getComputedStyle(t)||{}).marginRight),d.removeChild(t)),d.style.display="none",(a=0===d.getClientRects().length)&&(d.style.display="",d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",d.childNodes[0].style.borderCollapse="separate",(t=d.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(a=0===t[0].offsetHeight)&&(t[0].style.display="",t[1].style.display="none",a=0===t[0].offsetHeight)),n.removeChild(c)}d.style.cssText="float:left;opacity:.5",v.opacity="0.5"===d.style.opacity,v.cssFloat=!!d.style.cssFloat,d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===d.style.backgroundClip,(c=f.createElement("div")).style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",d.innerHTML="",c.appendChild(d),v.boxSizing=""===d.style.boxSizing||""===d.style.MozBoxSizing||""===d.style.WebkitBoxSizing,M.extend(v,{reliableHiddenOffsets:function(){return null==i&&t(),a},boxSizingReliable:function(){return null==i&&t(),r},pixelMarginRight:function(){return null==i&&t(),o},pixelPosition:function(){return null==i&&t(),i},reliableMarginRight:function(){return null==i&&t(),s},reliableMarginLeft:function(){return null==i&&t(),l}})}}();var Vt,Gt,Wt=/^(top|right|bottom|left)$/;function Yt(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}E.getComputedStyle?(Vt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=E),e.getComputedStyle(t)},Gt=function(t,e,n){var i,o,r,a,s=t.style;return""!==(a=(n=n||Vt(t))?n.getPropertyValue(e)||n[e]:void 0)&&void 0!==a||M.contains(t.ownerDocument,t)||(a=M.style(t,e)),n&&!v.pixelMarginRight()&&Bt.test(a)&&Ht.test(e)&&(i=s.width,o=s.minWidth,r=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=o,s.maxWidth=r),void 0===a?a:a+""}):jt.currentStyle&&(Vt=function(t){return t.currentStyle},Gt=function(t,e,n){var i,o,r,a,s=t.style;return null==(a=(n=n||Vt(t))?n[e]:void 0)&&s&&s[e]&&(a=s[e]),Bt.test(a)&&!Wt.test(e)&&(i=s.left,(r=(o=t.runtimeStyle)&&o.left)&&(o.left=t.currentStyle.left),s.left="fontSize"===e?"1em":a,a=s.pixelLeft+"px",s.left=i,r&&(o.left=r)),void 0===a?a:a+""||"auto"});var qt=/alpha\([^)]*\)/i,Xt=/opacity\s*=\s*([^)]*)/i,Zt=/^(none|table(?!-c[ea]).+)/,Kt=new RegExp("^("+V+")(.*)$","i"),Qt={position:"absolute",visibility:"hidden",display:"block"},Jt={letterSpacing:"0",fontWeight:"400"},te=["Webkit","O","Moz","ms"],ee=f.createElement("div").style;function ne(t){if(t in ee)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=te.length;n--;)if((t=te[n]+e)in ee)return t}function ie(t,e){for(var n,i,o,r=[],a=0,s=t.length;a<s;a++)(i=t[a]).style&&(r[a]=M._data(i,"olddisplay"),n=i.style.display,e?(r[a]||"none"!==n||(i.style.display=""),""===i.style.display&&Y(i)&&(r[a]=M._data(i,"olddisplay",zt(i.nodeName)))):(o=Y(i),(n&&"none"!==n||!o)&&M._data(i,"olddisplay",o?n:M.css(i,"display"))));for(a=0;a<s;a++)(i=t[a]).style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?r[a]||"":"none"));return t}function oe(t,e,n){var i=Kt.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function re(t,e,n,i,o){for(var r=n===(i?"border":"content")?4:"width"===e?1:0,a=0;r<4;r+=2)"margin"===n&&(a+=M.css(t,n+W[r],!0,o)),i?("content"===n&&(a-=M.css(t,"padding"+W[r],!0,o)),"margin"!==n&&(a-=M.css(t,"border"+W[r]+"Width",!0,o))):(a+=M.css(t,"padding"+W[r],!0,o),"padding"!==n&&(a+=M.css(t,"border"+W[r]+"Width",!0,o)));return a}function ae(t,e,n){var i=!0,o="width"===e?t.offsetWidth:t.offsetHeight,r=Vt(t),a=v.boxSizing&&"border-box"===M.css(t,"boxSizing",!1,r);if(o<=0||null==o){if(((o=Gt(t,e,r))<0||null==o)&&(o=t.style[e]),Bt.test(o))return o;i=a&&(v.boxSizingReliable()||o===t.style[e]),o=parseFloat(o)||0}return o+re(t,e,n||(a?"border":"content"),i,r)+"px"}function se(t,e,n,i,o){return new se.prototype.init(t,e,n,i,o)}M.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Gt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:v.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,r,a,s=M.camelCase(e),l=t.style;if(e=M.cssProps[s]||(M.cssProps[s]=ne(s)||s),a=M.cssHooks[e]||M.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(o=a.get(t,!1,i))?o:l[e];if("string"===(r=typeof n)&&(o=G.exec(n))&&o[1]&&(n=q(t,e,o),r="number"),null!=n&&n==n&&("number"===r&&(n+=o&&o[3]||(M.cssNumber[s]?"":"px")),v.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),!(a&&"set"in a&&void 0===(n=a.set(t,n,i)))))try{l[e]=n}catch(t){}}},css:function(t,e,n,i){var o,r,a,s=M.camelCase(e);return e=M.cssProps[s]||(M.cssProps[s]=ne(s)||s),(a=M.cssHooks[e]||M.cssHooks[s])&&"get"in a&&(r=a.get(t,!0,n)),void 0===r&&(r=Gt(t,e,i)),"normal"===r&&e in Jt&&(r=Jt[e]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),M.each(["height","width"],function(t,o){M.cssHooks[o]={get:function(t,e,n){return e?Zt.test(M.css(t,"display"))&&0===t.offsetWidth?Ut(t,Qt,function(){return ae(t,o,n)}):ae(t,o,n):void 0},set:function(t,e,n){var i=n&&Vt(t);return oe(0,e,n?re(t,o,n,v.boxSizing&&"border-box"===M.css(t,"boxSizing",!1,i),i):0)}}}),v.opacity||(M.cssHooks.opacity={get:function(t,e){return Xt.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,i=t.currentStyle,o=M.isNumeric(e)?"alpha(opacity="+100*e+")":"",r=i&&i.filter||n.filter||"";((n.zoom=1)<=e||""===e)&&""===M.trim(r.replace(qt,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||i&&!i.filter)||(n.filter=qt.test(r)?r.replace(qt,o):r+" "+o)}}),M.cssHooks.marginRight=Yt(v.reliableMarginRight,function(t,e){return e?Ut(t,{display:"inline-block"},Gt,[t,"marginRight"]):void 0}),M.cssHooks.marginLeft=Yt(v.reliableMarginLeft,function(t,e){return e?(parseFloat(Gt(t,"marginLeft"))||(M.contains(t.ownerDocument,t)?t.getBoundingClientRect().left-Ut(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}):0))+"px":void 0}),M.each({margin:"",padding:"",border:"Width"},function(o,r){M.cssHooks[o+r]={expand:function(t){for(var e=0,n={},i="string"==typeof t?t.split(" "):[t];e<4;e++)n[o+W[e]+r]=i[e]||i[e-2]||i[0];return n}},Ht.test(o)||(M.cssHooks[o+r].set=oe)}),M.fn.extend({css:function(t,e){return Q(this,function(t,e,n){var i,o,r={},a=0;if(M.isArray(e)){for(i=Vt(t),o=e.length;a<o;a++)r[e[a]]=M.css(t,e[a],!1,i);return r}return void 0!==n?M.style(t,e,n):M.css(t,e)},t,e,1<arguments.length)},show:function(){return ie(this,!0)},hide:function(){return ie(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Y(this)?M(this).show():M(this).hide()})}}),((M.Tween=se).prototype={constructor:se,init:function(t,e,n,i,o,r){this.elem=t,this.prop=n,this.easing=o||M.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=r||(M.cssNumber[n]?"":"px")},cur:function(){var t=se.propHooks[this.prop];return t&&t.get?t.get(this):se.propHooks._default.get(this)},run:function(t){var e,n=se.propHooks[this.prop];return this.options.duration?this.pos=e=M.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):se.propHooks._default.set(this),this}}).init.prototype=se.prototype,(se.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=M.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){M.fx.step[t.prop]?M.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[M.cssProps[t.prop]]&&!M.cssHooks[t.prop]?t.elem[t.prop]=t.now:M.style(t.elem,t.prop,t.now+t.unit)}}}).scrollTop=se.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},M.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},M.fx=se.prototype.init,M.fx.step={};var le,ce,de,ue,he,pe,fe,me=/^(?:toggle|show|hide)$/,ge=/queueHooks$/;function ve(){return E.setTimeout(function(){le=void 0}),le=M.now()}function ye(t,e){var n,i={height:t},o=0;for(e=e?1:0;o<4;o+=2-e)i["margin"+(n=W[o])]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function be(t,e,n){for(var i,o=(_e.tweeners[e]||[]).concat(_e.tweeners["*"]),r=0,a=o.length;r<a;r++)if(i=o[r].call(n,e,t))return i}function _e(r,t,e){var n,a,i=0,o=_e.prefilters.length,s=M.Deferred().always(function(){delete l.elem}),l=function(){if(a)return!1;for(var t=le||ve(),e=Math.max(0,c.startTime+c.duration-t),n=1-(e/c.duration||0),i=0,o=c.tweens.length;i<o;i++)c.tweens[i].run(n);return s.notifyWith(r,[c,n,e]),n<1&&o?e:(s.resolveWith(r,[c]),!1)},c=s.promise({elem:r,props:M.extend({},t),opts:M.extend(!0,{specialEasing:{},easing:M.easing._default},e),originalProperties:t,originalOptions:e,startTime:le||ve(),duration:e.duration,tweens:[],createTween:function(t,e){var n=M.Tween(r,c.opts,t,e,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var e=0,n=t?c.tweens.length:0;if(a)return this;for(a=!0;e<n;e++)c.tweens[e].run(1);return t?(s.notifyWith(r,[c,1,0]),s.resolveWith(r,[c,t])):s.rejectWith(r,[c,t]),this}}),d=c.props;for(function(t,e){var n,i,o,r,a;for(n in t)if(o=e[i=M.camelCase(n)],r=t[n],M.isArray(r)&&(o=r[1],r=t[n]=r[0]),n!==i&&(t[i]=r,delete t[n]),(a=M.cssHooks[i])&&"expand"in a)for(n in r=a.expand(r),delete t[i],r)n in t||(t[n]=r[n],e[n]=o);else e[i]=o}(d,c.opts.specialEasing);i<o;i++)if(n=_e.prefilters[i].call(c,r,d,c.opts))return M.isFunction(n.stop)&&(M._queueHooks(c.elem,c.opts.queue).stop=M.proxy(n.stop,n)),n;return M.map(d,be,c),M.isFunction(c.opts.start)&&c.opts.start.call(r,c),M.fx.timer(M.extend(l,{elem:r,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}M.Animation=M.extend(_e,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return q(n.elem,t,G.exec(e),n),n}]},tweener:function(t,e){for(var n,i=0,o=(t=M.isFunction(t)?(e=t,["*"]):t.match(N)).length;i<o;i++)n=t[i],_e.tweeners[n]=_e.tweeners[n]||[],_e.tweeners[n].unshift(e)},prefilters:[function(e,t,n){var i,o,r,a,s,l,c,d=this,u={},h=e.style,p=e.nodeType&&Y(e),f=M._data(e,"fxshow");for(i in n.queue||(null==(s=M._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,M.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===("none"===(c=M.css(e,"display"))?M._data(e,"olddisplay")||zt(e.nodeName):c)&&"none"===M.css(e,"float")&&(v.inlineBlockNeedsLayout&&"inline"!==zt(e.nodeName)?h.zoom=1:h.display="inline-block")),n.overflow&&(h.overflow="hidden",v.shrinkWrapBlocks()||d.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),t)if(o=t[i],me.exec(o)){if(delete t[i],r=r||"toggle"===o,o===(p?"hide":"show")){if("show"!==o||!f||void 0===f[i])continue;p=!0}u[i]=f&&f[i]||M.style(e,i)}else c=void 0;if(M.isEmptyObject(u))"inline"===("none"===c?zt(e.nodeName):c)&&(h.display=c);else for(i in f?"hidden"in f&&(p=f.hidden):f=M._data(e,"fxshow",{}),r&&(f.hidden=!p),p?M(e).show():d.done(function(){M(e).hide()}),d.done(function(){var t;for(t in M._removeData(e,"fxshow"),u)M.style(e,t,u[t])}),u)a=be(p?f[i]:0,i,d),i in f||(f[i]=a.start,p&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}],prefilter:function(t,e){e?_e.prefilters.unshift(t):_e.prefilters.push(t)}}),M.speed=function(t,e,n){var i=t&&"object"==typeof t?M.extend({},t):{complete:n||!n&&e||M.isFunction(t)&&t,duration:t,easing:n&&e||e&&!M.isFunction(e)&&e};return i.duration=M.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in M.fx.speeds?M.fx.speeds[i.duration]:M.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){M.isFunction(i.old)&&i.old.call(this),i.queue&&M.dequeue(this,i.queue)},i},M.fn.extend({fadeTo:function(t,e,n,i){return this.filter(Y).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(e,t,n,i){var o=M.isEmptyObject(e),r=M.speed(t,n,i),a=function(){var t=_e(this,M.extend({},e),r);(o||M._data(this,"finish"))&&t.stop(!0)};return a.finish=a,o||!1===r.queue?this.each(a):this.queue(r.queue,a)},stop:function(o,t,r){var a=function(t){var e=t.stop;delete t.stop,e(r)};return"string"!=typeof o&&(r=t,t=o,o=void 0),t&&!1!==o&&this.queue(o||"fx",[]),this.each(function(){var t=!0,e=null!=o&&o+"queueHooks",n=M.timers,i=M._data(this);if(e)i[e]&&i[e].stop&&a(i[e]);else for(e in i)i[e]&&i[e].stop&&ge.test(e)&&a(i[e]);for(e=n.length;e--;)n[e].elem!==this||null!=o&&n[e].queue!==o||(n[e].anim.stop(r),t=!1,n.splice(e,1));!t&&r||M.dequeue(this,o)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var t,e=M._data(this),n=e[a+"queue"],i=e[a+"queueHooks"],o=M.timers,r=n?n.length:0;for(e.finish=!0,M.queue(this,a,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===a&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<r;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete e.finish})}}),M.each(["toggle","show","hide"],function(t,i){var o=M.fn[i];M.fn[i]=function(t,e,n){return null==t||"boolean"==typeof t?o.apply(this,arguments):this.animate(ye(i,!0),t,e,n)}}),M.each({slideDown:ye("show"),slideUp:ye("hide"),slideToggle:ye("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,i){M.fn[t]=function(t,e,n){return this.animate(i,t,e,n)}}),M.timers=[],M.fx.tick=function(){var t,e=M.timers,n=0;for(le=M.now();n<e.length;n++)(t=e[n])()||e[n]!==t||e.splice(n--,1);e.length||M.fx.stop(),le=void 0},M.fx.timer=function(t){M.timers.push(t),t()?M.fx.start():M.timers.pop()},M.fx.interval=13,M.fx.start=function(){ce||(ce=E.setInterval(M.fx.tick,M.fx.interval))},M.fx.stop=function(){E.clearInterval(ce),ce=null},M.fx.speeds={slow:600,fast:200,_default:400},M.fn.delay=function(i,t){return i=M.fx&&M.fx.speeds[i]||i,t=t||"fx",this.queue(t,function(t,e){var n=E.setTimeout(t,i);e.stop=function(){E.clearTimeout(n)}})},ue=f.createElement("input"),he=f.createElement("div"),pe=f.createElement("select"),fe=pe.appendChild(f.createElement("option")),(he=f.createElement("div")).setAttribute("className","t"),he.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",de=he.getElementsByTagName("a")[0],ue.setAttribute("type","checkbox"),he.appendChild(ue),(de=he.getElementsByTagName("a")[0]).style.cssText="top:1px",v.getSetAttribute="t"!==he.className,v.style=/top/.test(de.getAttribute("style")),v.hrefNormalized="/a"===de.getAttribute("href"),v.checkOn=!!ue.value,v.optSelected=fe.selected,v.enctype=!!f.createElement("form").enctype,pe.disabled=!0,v.optDisabled=!fe.disabled,(ue=f.createElement("input")).setAttribute("value",""),v.input=""===ue.getAttribute("value"),ue.value="t",ue.setAttribute("type","radio"),v.radioValue="t"===ue.value;var xe=/\r/g,we=/[\x20\t\r\n\f]+/g;M.fn.extend({val:function(n){var i,t,o,e=this[0];return arguments.length?(o=M.isFunction(n),this.each(function(t){var e;1===this.nodeType&&(null==(e=o?n.call(this,t,M(this).val()):n)?e="":"number"==typeof e?e+="":M.isArray(e)&&(e=M.map(e,function(t){return null==t?"":t+""})),(i=M.valHooks[this.type]||M.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&void 0!==i.set(this,e,"value")||(this.value=e))})):e?(i=M.valHooks[e.type]||M.valHooks[e.nodeName.toLowerCase()])&&"get"in i&&void 0!==(t=i.get(e,"value"))?t:"string"==typeof(t=e.value)?t.replace(xe,""):null==t?"":t:void 0}}),M.extend({valHooks:{option:{get:function(t){var e=M.find.attr(t,"value");return null!=e?e:M.trim(M.text(t)).replace(we," ")}},select:{get:function(t){for(var e,n,i=t.options,o=t.selectedIndex,r="select-one"===t.type||o<0,a=r?null:[],s=r?o+1:i.length,l=o<0?s:r?o:0;l<s;l++)if(((n=i[l]).selected||l===o)&&(v.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!M.nodeName(n.parentNode,"optgroup"))){if(e=M(n).val(),r)return e;a.push(e)}return a},set:function(t,e){for(var n,i,o=t.options,r=M.makeArray(e),a=o.length;a--;)if(i=o[a],-1<M.inArray(M.valHooks.option.get(i),r))try{i.selected=n=!0}catch(t){i.scrollHeight}else i.selected=!1;return n||(t.selectedIndex=-1),o}}}}),M.each(["radio","checkbox"],function(){M.valHooks[this]={set:function(t,e){return M.isArray(e)?t.checked=-1<M.inArray(M(t).val(),e):void 0}},v.checkOn||(M.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Ee,Me,Te=M.expr.attrHandle,Ce=/^(?:checked|selected)$/i,Se=v.getSetAttribute,Ae=v.input;M.fn.extend({attr:function(t,e){return Q(this,M.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){M.removeAttr(this,t)})}}),M.extend({attr:function(t,e,n){var i,o,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return void 0===t.getAttribute?M.prop(t,e,n):(1===r&&M.isXMLDoc(t)||(e=e.toLowerCase(),o=M.attrHooks[e]||(M.expr.match.bool.test(e)?Me:Ee)),void 0!==n?null===n?void M.removeAttr(t,e):o&&"set"in o&&void 0!==(i=o.set(t,n,e))?i:(t.setAttribute(e,n+""),n):o&&"get"in o&&null!==(i=o.get(t,e))?i:null==(i=M.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!v.radioValue&&"radio"===e&&M.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i,o=0,r=e&&e.match(N);if(r&&1===t.nodeType)for(;n=r[o++];)i=M.propFix[n]||n,M.expr.match.bool.test(n)?Ae&&Se||!Ce.test(n)?t[i]=!1:t[M.camelCase("default-"+n)]=t[i]=!1:M.attr(t,n,""),t.removeAttribute(Se?n:i)}}),Me={set:function(t,e,n){return!1===e?M.removeAttr(t,n):Ae&&Se||!Ce.test(n)?t.setAttribute(!Se&&M.propFix[n]||n,n):t[M.camelCase("default-"+n)]=t[n]=!0,n}},M.each(M.expr.match.bool.source.match(/\w+/g),function(t,e){var r=Te[e]||M.find.attr;Ae&&Se||!Ce.test(e)?Te[e]=function(t,e,n){var i,o;return n||(o=Te[e],Te[e]=i,i=null!=r(t,e,n)?e.toLowerCase():null,Te[e]=o),i}:Te[e]=function(t,e,n){return n?void 0:t[M.camelCase("default-"+e)]?e.toLowerCase():null}}),Ae&&Se||(M.attrHooks.value={set:function(t,e,n){return M.nodeName(t,"input")?void(t.defaultValue=e):Ee&&Ee.set(t,e,n)}}),Se||(Ee={set:function(t,e,n){var i=t.getAttributeNode(n);return i||t.setAttributeNode(i=t.ownerDocument.createAttribute(n)),i.value=e+="","value"===n||e===t.getAttribute(n)?e:void 0}},Te.id=Te.name=Te.coords=function(t,e,n){var i;return n?void 0:(i=t.getAttributeNode(e))&&""!==i.value?i.value:null},M.valHooks.button={get:function(t,e){var n=t.getAttributeNode(e);return n&&n.specified?n.value:void 0},set:Ee.set},M.attrHooks.contenteditable={set:function(t,e,n){Ee.set(t,""!==e&&e,n)}},M.each(["width","height"],function(t,n){M.attrHooks[n]={set:function(t,e){return""===e?(t.setAttribute(n,"auto"),e):void 0}}})),v.style||(M.attrHooks.style={get:function(t){return t.style.cssText||void 0},set:function(t,e){return t.style.cssText=e+""}});var ke=/^(?:input|select|textarea|button|object)$/i,De=/^(?:a|area)$/i;M.fn.extend({prop:function(t,e){return Q(this,M.prop,t,e,1<arguments.length)},removeProp:function(t){return t=M.propFix[t]||t,this.each(function(){try{this[t]=void 0,delete this[t]}catch(t){}})}}),M.extend({prop:function(t,e,n){var i,o,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&M.isXMLDoc(t)||(e=M.propFix[e]||e,o=M.propHooks[e]),void 0!==n?o&&"set"in o&&void 0!==(i=o.set(t,n,e))?i:t[e]=n:o&&"get"in o&&null!==(i=o.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=M.find.attr(t,"tabindex");return e?parseInt(e,10):ke.test(t.nodeName)||De.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.hrefNormalized||M.each(["href","src"],function(t,e){M.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),v.optSelected||(M.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),M.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){M.propFix[this.toLowerCase()]=this}),v.enctype||(M.propFix.enctype="encoding");var Oe=/[\t\r\n\f]/g;function Pe(t){return M.attr(t,"class")||""}M.fn.extend({addClass:function(e){var t,n,i,o,r,a,s,l=0;if(M.isFunction(e))return this.each(function(t){M(this).addClass(e.call(this,t,Pe(this)))});if("string"==typeof e&&e)for(t=e.match(N)||[];n=this[l++];)if(o=Pe(n),i=1===n.nodeType&&(" "+o+" ").replace(Oe," ")){for(a=0;r=t[a++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");o!==(s=M.trim(i))&&M.attr(n,"class",s)}return this},removeClass:function(e){var t,n,i,o,r,a,s,l=0;if(M.isFunction(e))return this.each(function(t){M(this).removeClass(e.call(this,t,Pe(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(N)||[];n=this[l++];)if(o=Pe(n),i=1===n.nodeType&&(" "+o+" ").replace(Oe," ")){for(a=0;r=t[a++];)for(;-1<i.indexOf(" "+r+" ");)i=i.replace(" "+r+" "," ");o!==(s=M.trim(i))&&M.attr(n,"class",s)}return this},toggleClass:function(o,e){var r=typeof o;return"boolean"==typeof e&&"string"===r?e?this.addClass(o):this.removeClass(o):M.isFunction(o)?this.each(function(t){M(this).toggleClass(o.call(this,t,Pe(this),e),e)}):this.each(function(){var t,e,n,i;if("string"===r)for(e=0,n=M(this),i=o.match(N)||[];t=i[e++];)n.hasClass(t)?n.removeClass(t):n.addClass(t);else void 0!==o&&"boolean"!==r||((t=Pe(this))&&M._data(this,"__className__",t),M.attr(this,"class",t||!1===o?"":M._data(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&-1<(" "+Pe(n)+" ").replace(Oe," ").indexOf(e))return!0;return!1}}),M.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,n){M.fn[n]=function(t,e){return 0<arguments.length?this.on(n,null,t,e):this.trigger(n)}}),M.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}});var Ne=E.location,Le=M.now(),Ie=/\?/,Re=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;M.parseJSON=function(t){if(E.JSON&&E.JSON.parse)return E.JSON.parse(t+"");var o,r=null,e=M.trim(t+"");return e&&!M.trim(e.replace(Re,function(t,e,n,i){return o&&e&&(r=0),0===r?t:(o=n||e,r+=!i-!n,"")}))?Function("return "+e)():M.error("Invalid JSON: "+t)},M.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{E.DOMParser?e=(new E.DOMParser).parseFromString(t,"text/xml"):((e=new E.ActiveXObject("Microsoft.XMLDOM")).async="false",e.loadXML(t))}catch(t){e=void 0}return e&&e.documentElement&&!e.getElementsByTagName("parsererror").length||M.error("Invalid XML: "+t),e};var $e=/#.*$/,Fe=/([?&])_=[^&]*/,ze=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,He=/^(?:GET|HEAD)$/,Be=/^\/\//,Ue=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,je={},Ve={},Ge="*/".concat("*"),We=Ne.href,Ye=Ue.exec(We.toLowerCase())||[];function qe(r){return function(t,e){"string"!=typeof t&&(e=t,t="*");var n,i=0,o=t.toLowerCase().match(N)||[];if(M.isFunction(e))for(;n=o[i++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(r[n]=r[n]||[]).unshift(e)):(r[n]=r[n]||[]).push(e)}}function Xe(e,o,r,a){var s={},l=e===Ve;function c(t){var i;return s[t]=!0,M.each(e[t]||[],function(t,e){var n=e(o,r,a);return"string"!=typeof n||l||s[n]?l?!(i=n):void 0:(o.dataTypes.unshift(n),c(n),!1)}),i}return c(o.dataTypes[0])||!s["*"]&&c("*")}function Ze(t,e){var n,i,o=M.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((o[i]?t:n||(n={}))[i]=e[i]);return n&&M.extend(!0,t,n),t}M.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:We,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ye[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ge,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":M.parseJSON,"text xml":M.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Ze(Ze(t,M.ajaxSettings),e):Ze(M.ajaxSettings,t)},ajaxPrefilter:qe(je),ajaxTransport:qe(Ve),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,i,d,u,h,p,f,o,m=M.ajaxSetup({},e),g=m.context||m,v=m.context&&(g.nodeType||g.jquery)?M(g):M.event,y=M.Deferred(),b=M.Callbacks("once memory"),_=m.statusCode||{},r={},a={},x=0,s="canceled",w={readyState:0,getResponseHeader:function(t){var e;if(2===x){if(!o)for(o={};e=ze.exec(u);)o[e[1].toLowerCase()]=e[2];e=o[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===x?u:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return x||(t=a[n]=a[n]||t,r[t]=e),this},overrideMimeType:function(t){return x||(m.mimeType=t),this},statusCode:function(t){var e;if(t)if(x<2)for(e in t)_[e]=[_[e],t[e]];else w.always(t[w.status]);return this},abort:function(t){var e=t||s;return f&&f.abort(e),l(0,e),this}};if(y.promise(w).complete=b.add,w.success=w.done,w.error=w.fail,m.url=((t||m.url||We)+"").replace($e,"").replace(Be,Ye[1]+"//"),m.type=e.method||e.type||m.method||m.type,m.dataTypes=M.trim(m.dataType||"*").toLowerCase().match(N)||[""],null==m.crossDomain&&(n=Ue.exec(m.url.toLowerCase()),m.crossDomain=!(!n||n[1]===Ye[1]&&n[2]===Ye[2]&&(n[3]||("http:"===n[1]?"80":"443"))===(Ye[3]||("http:"===Ye[1]?"80":"443")))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=M.param(m.data,m.traditional)),Xe(je,m,e,w),2===x)return w;for(i in(p=M.event&&m.global)&&0==M.active++&&M.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!He.test(m.type),d=m.url,m.hasContent||(m.data&&(d=m.url+=(Ie.test(d)?"&":"?")+m.data,delete m.data),!1===m.cache&&(m.url=Fe.test(d)?d.replace(Fe,"$1_="+Le++):d+(Ie.test(d)?"&":"?")+"_="+Le++)),m.ifModified&&(M.lastModified[d]&&w.setRequestHeader("If-Modified-Since",M.lastModified[d]),M.etag[d]&&w.setRequestHeader("If-None-Match",M.etag[d])),(m.data&&m.hasContent&&!1!==m.contentType||e.contentType)&&w.setRequestHeader("Content-Type",m.contentType),w.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Ge+"; q=0.01":""):m.accepts["*"]),m.headers)w.setRequestHeader(i,m.headers[i]);if(m.beforeSend&&(!1===m.beforeSend.call(g,w,m)||2===x))return w.abort();for(i in s="abort",{success:1,error:1,complete:1})w[i](m[i]);if(f=Xe(Ve,m,e,w)){if(w.readyState=1,p&&v.trigger("ajaxSend",[w,m]),2===x)return w;m.async&&0<m.timeout&&(h=E.setTimeout(function(){w.abort("timeout")},m.timeout));try{x=1,f.send(r,l)}catch(t){if(!(x<2))throw t;l(-1,t)}}else l(-1,"No Transport");function l(t,e,n,i){var o,r,a,s,l,c=e;2!==x&&(x=2,h&&E.clearTimeout(h),f=void 0,u=i||"",w.readyState=0<t?4:0,o=200<=t&&t<300||304===t,n&&(s=function(t,e,n){for(var i,o,r,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===o&&(o=t.mimeType||e.getResponseHeader("Content-Type"));if(o)for(a in s)if(s[a]&&s[a].test(o)){l.unshift(a);break}if(l[0]in n)r=l[0];else{for(a in n){if(!l[0]||t.converters[a+" "+l[0]]){r=a;break}i||(i=a)}r=r||i}return r?(r!==l[0]&&l.unshift(r),n[r]):void 0}(m,w,n)),s=function(t,e,n,i){var o,r,a,s,l,c={},d=t.dataTypes.slice();if(d[1])for(a in t.converters)c[a.toLowerCase()]=t.converters[a];for(r=d.shift();r;)if(t.responseFields[r]&&(n[t.responseFields[r]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=r,r=d.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(a=c[l+" "+r]||c["* "+r]))for(o in c)if((s=o.split(" "))[1]===r&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[o]:!0!==c[o]&&(r=s[0],d.unshift(s[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+l+" to "+r}}}return{state:"success",data:e}}(m,s,w,o),o?(m.ifModified&&((l=w.getResponseHeader("Last-Modified"))&&(M.lastModified[d]=l),(l=w.getResponseHeader("etag"))&&(M.etag[d]=l)),204===t||"HEAD"===m.type?c="nocontent":304===t?c="notmodified":(c=s.state,r=s.data,o=!(a=s.error))):(a=c,!t&&c||(c="error",t<0&&(t=0))),w.status=t,w.statusText=(e||c)+"",o?y.resolveWith(g,[r,c,w]):y.rejectWith(g,[w,c,a]),w.statusCode(_),_=void 0,p&&v.trigger(o?"ajaxSuccess":"ajaxError",[w,m,o?r:a]),b.fireWith(g,[w,c]),p&&(v.trigger("ajaxComplete",[w,m]),--M.active||M.event.trigger("ajaxStop")))}return w},getJSON:function(t,e,n){return M.get(t,e,n,"json")},getScript:function(t,e){return M.get(t,void 0,e,"script")}}),M.each(["get","post"],function(t,o){M[o]=function(t,e,n,i){return M.isFunction(e)&&(i=i||n,n=e,e=void 0),M.ajax(M.extend({url:t,type:o,dataType:i,data:e,success:n},M.isPlainObject(t)&&t))}}),M._evalUrl=function(t){return M.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},M.fn.extend({wrapAll:function(e){if(M.isFunction(e))return this.each(function(t){M(this).wrapAll(e.call(this,t))});if(this[0]){var t=M(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(n){return M.isFunction(n)?this.each(function(t){M(this).wrapInner(n.call(this,t))}):this.each(function(){var t=M(this),e=t.contents();e.length?e.wrapAll(n):t.append(n)})},wrap:function(e){var n=M.isFunction(e);return this.each(function(t){M(this).wrapAll(n?e.call(this,t):e)})},unwrap:function(){return this.parent().each(function(){M.nodeName(this,"body")||M(this).replaceWith(this.childNodes)}).end()}}),M.expr.filters.hidden=function(t){return v.reliableHiddenOffsets()?t.offsetWidth<=0&&t.offsetHeight<=0&&!t.getClientRects().length:function(t){if(!M.contains(t.ownerDocument||f,t))return!0;for(;t&&1===t.nodeType;){if("none"===((e=t).style&&e.style.display||M.css(e,"display"))||"hidden"===t.type)return!0;t=t.parentNode}var e;return!1}(t)},M.expr.filters.visible=function(t){return!M.expr.filters.hidden(t)};var Ke=/%20/g,Qe=/\[\]$/,Je=/\r?\n/g,tn=/^(?:submit|button|image|reset|file)$/i,en=/^(?:input|select|textarea|keygen)/i;function nn(n,t,i,o){var e;if(M.isArray(t))M.each(t,function(t,e){i||Qe.test(n)?o(n,e):nn(n+"["+("object"==typeof e&&null!=e?t:"")+"]",e,i,o)});else if(i||"object"!==M.type(t))o(n,t);else for(e in t)nn(n+"["+e+"]",t[e],i,o)}M.param=function(t,e){var n,i=[],o=function(t,e){e=M.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=M.ajaxSettings&&M.ajaxSettings.traditional),M.isArray(t)||t.jquery&&!M.isPlainObject(t))M.each(t,function(){o(this.name,this.value)});else for(n in t)nn(n,t[n],e,o);return i.join("&").replace(Ke,"+")},M.fn.extend({serialize:function(){return M.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=M.prop(this,"elements");return t?M.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!M(this).is(":disabled")&&en.test(this.nodeName)&&!tn.test(t)&&(this.checked||!J.test(t))}).map(function(t,e){var n=M(this).val();return null==n?null:M.isArray(n)?M.map(n,function(t){return{name:e.name,value:t.replace(Je,"\r\n")}}):{name:e.name,value:n.replace(Je,"\r\n")}}).get()}}),M.ajaxSettings.xhr=void 0!==E.ActiveXObject?function(){return this.isLocal?ln():8<f.documentMode?sn():/^(get|post|head|put|delete|options)$/i.test(this.type)&&sn()||ln()}:sn;var on=0,rn={},an=M.ajaxSettings.xhr();function sn(){try{return new E.XMLHttpRequest}catch(t){}}function ln(){try{return new E.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}E.attachEvent&&E.attachEvent("onunload",function(){for(var t in rn)rn[t](void 0,!0)}),v.cors=!!an&&"withCredentials"in an,(an=v.ajax=!!an)&&M.ajaxTransport(function(l){var c;if(!l.crossDomain||v.cors)return{send:function(t,r){var e,a=l.xhr(),s=++on;if(a.open(l.type,l.url,l.async,l.username,l.password),l.xhrFields)for(e in l.xhrFields)a[e]=l.xhrFields[e];for(e in l.mimeType&&a.overrideMimeType&&a.overrideMimeType(l.mimeType),l.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest"),t)void 0!==t[e]&&a.setRequestHeader(e,t[e]+"");a.send(l.hasContent&&l.data||null),c=function(t,e){var n,i,o;if(c&&(e||4===a.readyState))if(delete rn[s],c=void 0,a.onreadystatechange=M.noop,e)4!==a.readyState&&a.abort();else{o={},n=a.status,"string"==typeof a.responseText&&(o.text=a.responseText);try{i=a.statusText}catch(t){i=""}n||!l.isLocal||l.crossDomain?1223===n&&(n=204):n=o.text?200:404}o&&r(n,i,o,a.getAllResponseHeaders())},l.async?4===a.readyState?E.setTimeout(c):a.onreadystatechange=rn[s]=c:c()},abort:function(){c&&c(void 0,!0)}}}),M.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return M.globalEval(t),t}}}),M.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),M.ajaxTransport("script",function(e){if(e.crossDomain){var i,o=f.head||M("head")[0]||f.documentElement;return{send:function(t,n){(i=f.createElement("script")).async=!0,e.scriptCharset&&(i.charset=e.scriptCharset),i.src=e.url,i.onload=i.onreadystatechange=function(t,e){(e||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),i=null,e||n(200,"success"))},o.insertBefore(i,o.firstChild)},abort:function(){i&&i.onload(void 0,!0)}}}});var cn=[],dn=/(=)\?(?=&|$)|\?\?/;M.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=cn.pop()||M.expando+"_"+Le++;return this[t]=!0,t}}),M.ajaxPrefilter("json jsonp",function(t,e,n){var i,o,r,a=!1!==t.jsonp&&(dn.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&dn.test(t.data)&&"data");return a||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=M.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(dn,"$1"+i):!1!==t.jsonp&&(t.url+=(Ie.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return r||M.error(i+" was not called"),r[0]},t.dataTypes[0]="json",o=E[i],E[i]=function(){r=arguments},n.always(function(){void 0===o?M(E).removeProp(i):E[i]=o,t[i]&&(t.jsonpCallback=e.jsonpCallback,cn.push(i)),r&&M.isFunction(o)&&o(r[0]),r=o=void 0}),"script"):void 0}),M.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||f;var i=x.exec(t),o=!n&&[];return i?[e.createElement(i[1])]:(i=ut([t],e,o),o&&o.length&&M(o).remove(),M.merge([],i.childNodes))};var un=M.fn.load;function hn(t){return M.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}M.fn.load=function(t,e,n){if("string"!=typeof t&&un)return un.apply(this,arguments);var i,o,r,a=this,s=t.indexOf(" ");return-1<s&&(i=M.trim(t.slice(s,t.length)),t=t.slice(0,s)),M.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(o="POST"),0<a.length&&M.ajax({url:t,type:o||"GET",dataType:"html",data:e}).done(function(t){r=arguments,a.html(i?M("<div>").append(M.parseHTML(t)).find(i):t)}).always(n&&function(t,e){a.each(function(){n.apply(this,r||[t.responseText,e,t])})}),this},M.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){M.fn[e]=function(t){return this.on(e,t)}}),M.expr.filters.animated=function(e){return M.grep(M.timers,function(t){return e===t.elem}).length},M.offset={setOffset:function(t,e,n){var i,o,r,a,s,l,c=M.css(t,"position"),d=M(t),u={};"static"===c&&(t.style.position="relative"),s=d.offset(),r=M.css(t,"top"),l=M.css(t,"left"),o=("absolute"===c||"fixed"===c)&&-1<M.inArray("auto",[r,l])?(a=(i=d.position()).top,i.left):(a=parseFloat(r)||0,parseFloat(l)||0),M.isFunction(e)&&(e=e.call(t,n,M.extend({},s))),null!=e.top&&(u.top=e.top-s.top+a),null!=e.left&&(u.left=e.left-s.left+o),"using"in e?e.using.call(t,u):d.css(u)}},M.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){M.offset.setOffset(this,e,t)});var t,n,i={top:0,left:0},o=this[0],r=o&&o.ownerDocument;return r?(t=r.documentElement,M.contains(t,o)?(void 0!==o.getBoundingClientRect&&(i=o.getBoundingClientRect()),n=hn(r),{top:i.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:i.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):i):void 0},position:function(){if(this[0]){var t,e,n={top:0,left:0},i=this[0];return"fixed"===M.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),M.nodeName(t[0],"html")||(n=t.offset()),n.top+=M.css(t[0],"borderTopWidth",!0),n.left+=M.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-M.css(i,"marginTop",!0),left:e.left-n.left-M.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&!M.nodeName(t,"html")&&"static"===M.css(t,"position");)t=t.offsetParent;return t||jt})}}),M.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,o){var r=/Y/.test(o);M.fn[e]=function(t){return Q(this,function(t,e,n){var i=hn(t);return void 0===n?i?o in i?i[o]:i.document.documentElement[e]:t[e]:void(i?i.scrollTo(r?M(i).scrollLeft():n,r?n:M(i).scrollTop()):t[e]=n)},e,t,arguments.length,null)}}),M.each(["top","left"],function(t,n){M.cssHooks[n]=Yt(v.pixelPosition,function(t,e){return e?(e=Gt(t,n),Bt.test(e)?M(t).position()[n]+"px":e):void 0})}),M.each({Height:"height",Width:"width"},function(r,a){M.each({padding:"inner"+r,content:a,"":"outer"+r},function(i,t){M.fn[t]=function(t,e){var n=arguments.length&&(i||"boolean"!=typeof t),o=i||(!0===t||!0===e?"margin":"border");return Q(this,function(t,e,n){var i;return M.isWindow(t)?t.document.documentElement["client"+r]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+r],i["scroll"+r],t.body["offset"+r],i["offset"+r],i["client"+r])):void 0===n?M.css(t,e,o):M.style(t,e,n,o)},a,n?t:void 0,n,null)}})}),M.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),M.fn.size=function(){return this.length},M.fn.andSelf=M.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return M});var pn=E.jQuery,fn=E.$;return M.noConflict=function(t){return E.$===M&&(E.$=fn),t&&E.jQuery===M&&(E.jQuery=pn),M},t||(E.jQuery=E.$=M),M}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");!function(t){"use strict";var e=jQuery.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||3<e[0])throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(),function(i){"use strict";i.fn.emulateTransitionEnd=function(t){var e=!1,n=this;i(this).one("bsTransitionEnd",function(){e=!0});return setTimeout(function(){e||i(n).trigger(i.support.transition.end)},t),this},i(function(){i.support.transition=function(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}(),i.support.transition&&(i.event.special.bsTransitionEnd={bindType:i.support.transition.end,delegateType:i.support.transition.end,handle:function(t){if(i(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(r){"use strict";var e='[data-dismiss="alert"]',a=function(t){r(t).on("click",e,this.close)};a.VERSION="3.3.7",a.TRANSITION_DURATION=150,a.prototype.close=function(t){function e(){o.detach().trigger("closed.bs.alert").remove()}var n=r(this),i=n.attr("data-target");i||(i=(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,""));var o=r("#"===i?[]:i);t&&t.preventDefault(),o.length||(o=n.closest(".alert")),o.trigger(t=r.Event("close.bs.alert")),t.isDefaultPrevented()||(o.removeClass("in"),r.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",e).emulateTransitionEnd(a.TRANSITION_DURATION):e())};var t=r.fn.alert;r.fn.alert=function(n){return this.each(function(){var t=r(this),e=t.data("bs.alert");e||t.data("bs.alert",e=new a(this)),"string"==typeof n&&e[n].call(t)})},r.fn.alert.Constructor=a,r.fn.alert.noConflict=function(){return r.fn.alert=t,this},r(document).on("click.bs.alert.data-api",e,a.prototype.close)}(jQuery),function(r){"use strict";function n(i){return this.each(function(){var t=r(this),e=t.data("bs.button"),n="object"==typeof i&&i;e||t.data("bs.button",e=new o(this,n)),"toggle"==i?e.toggle():i&&e.setState(i)})}var o=function(t,e){this.$element=r(t),this.options=r.extend({},o.DEFAULTS,e),this.isLoading=!1};o.VERSION="3.3.7",o.DEFAULTS={loadingText:"loading..."},o.prototype.setState=function(t){var e="disabled",n=this.$element,i=n.is("input")?"val":"html",o=n.data();t+="Text",null==o.resetText&&n.data("resetText",n[i]()),setTimeout(r.proxy(function(){n[i](null==o[t]?this.options[t]:o[t]),"loadingText"==t?(this.isLoading=!0,n.addClass(e).attr(e,e).prop(e,!0)):this.isLoading&&(this.isLoading=!1,n.removeClass(e).removeAttr(e).prop(e,!1))},this),0)},o.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var t=r.fn.button;r.fn.button=n,r.fn.button.Constructor=o,r.fn.button.noConflict=function(){return r.fn.button=t,this},r(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var e=r(t.target).closest(".btn");n.call(e,"toggle"),r(t.target).is('input[type="radio"], input[type="checkbox"]')||(t.preventDefault(),e.is("input,button")?e.trigger("focus"):e.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){r(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),function(u){"use strict";function a(o){return this.each(function(){var t=u(this),e=t.data("bs.carousel"),n=u.extend({},h.DEFAULTS,t.data(),"object"==typeof o&&o),i="string"==typeof o?o:n.slide;e||t.data("bs.carousel",e=new h(this,n)),"number"==typeof o?e.to(o):i?e[i]():n.interval&&e.pause().cycle()})}var h=function(t,e){this.$element=u(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=e,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",u.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",u.proxy(this.pause,this)).on("mouseleave.bs.carousel",u.proxy(this.cycle,this))};h.VERSION="3.3.7",h.TRANSITION_DURATION=600,h.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},h.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},h.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(u.proxy(this.next,this),this.options.interval)),this},h.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},h.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e);if(("prev"==t&&0===n||"next"==t&&n==this.$items.length-1)&&!this.options.wrap)return e;var i=(n+("prev"==t?-1:1))%this.$items.length;return this.$items.eq(i)},h.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(n<t?"next":"prev",this.$items.eq(t))},h.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&u.support.transition&&(this.$element.trigger(u.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},h.prototype.next=function(){if(!this.sliding)return this.slide("next")},h.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},h.prototype.slide=function(t,e){var n=this.$element.find(".item.active"),i=e||this.getItemForDirection(t,n),o=this.interval,r="next"==t?"left":"right",a=this;if(i.hasClass("active"))return this.sliding=!1;var s=i[0],l=u.Event("slide.bs.carousel",{relatedTarget:s,direction:r});if(this.$element.trigger(l),!l.isDefaultPrevented()){if(this.sliding=!0,o&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var c=u(this.$indicators.children()[this.getItemIndex(i)]);c&&c.addClass("active")}var d=u.Event("slid.bs.carousel",{relatedTarget:s,direction:r});return u.support.transition&&this.$element.hasClass("slide")?(i.addClass(t),i[0].offsetWidth,n.addClass(r),i.addClass(r),n.one("bsTransitionEnd",function(){i.removeClass([t,r].join(" ")).addClass("active"),n.removeClass(["active",r].join(" ")),a.sliding=!1,setTimeout(function(){a.$element.trigger(d)},0)}).emulateTransitionEnd(h.TRANSITION_DURATION)):(n.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger(d)),o&&this.cycle(),this}};var t=u.fn.carousel;u.fn.carousel=a,u.fn.carousel.Constructor=h,u.fn.carousel.noConflict=function(){return u.fn.carousel=t,this};var e=function(t){var e,n=u(this),i=u(n.attr("data-target")||(e=n.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""));if(i.hasClass("carousel")){var o=u.extend({},i.data(),n.data()),r=n.attr("data-slide-to");r&&(o.interval=!1),a.call(i,o),r&&i.data("bs.carousel").to(r),t.preventDefault()}};u(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),u(window).on("load",function(){u('[data-ride="carousel"]').each(function(){var t=u(this);a.call(t,t.data())})})}(jQuery),function(a){"use strict";function o(t){var e,n=t.attr("data-target")||(e=t.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"");return a(n)}function s(i){return this.each(function(){var t=a(this),e=t.data("bs.collapse"),n=a.extend({},l.DEFAULTS,t.data(),"object"==typeof i&&i);!e&&n.toggle&&/show|hide/.test(i)&&(n.toggle=!1),e||t.data("bs.collapse",e=new l(this,n)),"string"==typeof i&&e[i]()})}var l=function(t,e){this.$element=a(t),this.options=a.extend({},l.DEFAULTS,e),this.$trigger=a('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};l.VERSION="3.3.7",l.TRANSITION_DURATION=350,l.DEFAULTS={toggle:!0},l.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},l.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&((t=e.data("bs.collapse"))&&t.transitioning))){var n=a.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){e&&e.length&&(s.call(e,"hide"),t||e.data("bs.collapse",null));var i=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[i](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var o=function(){this.$element.removeClass("collapsing").addClass("collapse in")[i](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return o.call(this);var r=a.camelCase(["scroll",i].join("-"));this.$element.one("bsTransitionEnd",a.proxy(o,this)).emulateTransitionEnd(l.TRANSITION_DURATION)[i](this.$element[0][r])}}}},l.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=a.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var e=this.dimension();this.$element[e](this.$element[e]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return a.support.transition?void this.$element[e](0).one("bsTransitionEnd",a.proxy(n,this)).emulateTransitionEnd(l.TRANSITION_DURATION):n.call(this)}}},l.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},l.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(t,e){var n=a(e);this.addAriaAndCollapsedClass(o(n),n)},this)).end()},l.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var t=a.fn.collapse;a.fn.collapse=s,a.fn.collapse.Constructor=l,a.fn.collapse.noConflict=function(){return a.fn.collapse=t,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var e=a(this);e.attr("data-target")||t.preventDefault();var n=o(e),i=n.data("bs.collapse")?"toggle":e.data();s.call(n,i)})}(jQuery),function(a){"use strict";function s(t){var e=t.attr("data-target");e||(e=(e=t.attr("href"))&&/#[A-Za-z]/.test(e)&&e.replace(/.*(?=#[^\s]*$)/,""));var n=e&&a(e);return n&&n.length?n:t.parent()}function r(i){i&&3===i.which||(a(".dropdown-backdrop").remove(),a(l).each(function(){var t=a(this),e=s(t),n={relatedTarget:this};e.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&a.contains(e[0],i.target)||(e.trigger(i=a.Event("hide.bs.dropdown",n)),i.isDefaultPrevented()||(t.attr("aria-expanded","false"),e.removeClass("open").trigger(a.Event("hidden.bs.dropdown",n)))))}))}var l='[data-toggle="dropdown"]',i=function(t){a(t).on("click.bs.dropdown",this.toggle)};i.VERSION="3.3.7",i.prototype.toggle=function(t){var e=a(this);if(!e.is(".disabled, :disabled")){var n=s(e),i=n.hasClass("open");if(r(),!i){"ontouchstart"in document.documentElement&&!n.closest(".navbar-nav").length&&a(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(a(this)).on("click",r);var o={relatedTarget:this};if(n.trigger(t=a.Event("show.bs.dropdown",o)),t.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),n.toggleClass("open").trigger(a.Event("shown.bs.dropdown",o))}return!1}},i.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var e=a(this);if(t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled")){var n=s(e),i=n.hasClass("open");if(!i&&27!=t.which||i&&27==t.which)return 27==t.which&&n.find(l).trigger("focus"),e.trigger("click");var o=n.find(".dropdown-menu li:not(.disabled):visible a");if(o.length){var r=o.index(t.target);38==t.which&&0<r&&r--,40==t.which&&r<o.length-1&&r++,~r||(r=0),o.eq(r).trigger("focus")}}}};var t=a.fn.dropdown;a.fn.dropdown=function(n){return this.each(function(){var t=a(this),e=t.data("bs.dropdown");e||t.data("bs.dropdown",e=new i(this)),"string"==typeof n&&e[n].call(t)})},a.fn.dropdown.Constructor=i,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=t,this},a(document).on("click.bs.dropdown.data-api",r).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",l,i.prototype.toggle).on("keydown.bs.dropdown.data-api",l,i.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",i.prototype.keydown)}(jQuery),function(r){"use strict";function a(i,o){return this.each(function(){var t=r(this),e=t.data("bs.modal"),n=r.extend({},s.DEFAULTS,t.data(),"object"==typeof i&&i);e||t.data("bs.modal",e=new s(this,n)),"string"==typeof i?e[i](o):n.show&&e.show(o)})}var s=function(t,e){this.options=e,this.$body=r(document.body),this.$element=r(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,r.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};s.VERSION="3.3.7",s.TRANSITION_DURATION=300,s.BACKDROP_TRANSITION_DURATION=150,s.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},s.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},s.prototype.show=function(n){var i=this,t=r.Event("show.bs.modal",{relatedTarget:n});this.$element.trigger(t),this.isShown||t.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',r.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(t){r(t.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var t=r.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),t&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var e=r.Event("shown.bs.modal",{relatedTarget:n});t?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(s.TRANSITION_DURATION):i.$element.trigger("focus").trigger(e)}))},s.prototype.hide=function(t){t&&t.preventDefault(),t=r.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),r(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),r.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",r.proxy(this.hideModal,this)).emulateTransitionEnd(s.TRANSITION_DURATION):this.hideModal())},s.prototype.enforceFocus=function(){r(document).off("focusin.bs.modal").on("focusin.bs.modal",r.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},s.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",r.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},s.prototype.resize=function(){this.isShown?r(window).on("resize.bs.modal",r.proxy(this.handleUpdate,this)):r(window).off("resize.bs.modal")},s.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},s.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},s.prototype.backdrop=function(t){var e=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=r.support.transition&&n;if(this.$backdrop=r(document.createElement("div")).addClass("modal-backdrop "+n).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",r.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(s.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){e.removeBackdrop(),t&&t()};r.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(s.BACKDROP_TRANSITION_DURATION):o()}else t&&t()},s.prototype.handleUpdate=function(){this.adjustDialog()},s.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},s.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},s.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},s.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},s.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},s.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var t=r.fn.modal;r.fn.modal=a,r.fn.modal.Constructor=s,r.fn.modal.noConflict=function(){return r.fn.modal=t,this},r(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var e=r(this),n=e.attr("href"),i=r(e.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),o=i.data("bs.modal")?"toggle":r.extend({remote:!/#/.test(n)&&n},i.data(),e.data());e.is("a")&&t.preventDefault(),i.one("show.bs.modal",function(t){t.isDefaultPrevented()||i.one("hidden.bs.modal",function(){e.is(":visible")&&e.trigger("focus")})}),a.call(i,o,this)})}(jQuery),function(m){"use strict";var g=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};g.VERSION="3.3.7",g.TRANSITION_DURATION=150,g.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},g.prototype.init=function(t,e,n){if(this.enabled=!0,this.type=t,this.$element=m(e),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&m(m.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var i=this.options.trigger.split(" "),o=i.length;o--;){var r=i[o];if("click"==r)this.$element.on("click."+this.type,this.options.selector,m.proxy(this.toggle,this));else if("manual"!=r){var a="hover"==r?"mouseenter":"focusin",s="hover"==r?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,m.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,m.proxy(this.leave,this))}}this.options.selector?this._options=m.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},g.prototype.getDefaults=function(){return g.DEFAULTS},g.prototype.getOptions=function(t){return(t=m.extend({},this.getDefaults(),this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},g.prototype.getDelegateOptions=function(){var n={},i=this.getDefaults();return this._options&&m.each(this._options,function(t,e){i[t]!=e&&(n[t]=e)}),n},g.prototype.enter=function(t){var e=t instanceof this.constructor?t:m(t.currentTarget).data("bs."+this.type);return e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),m(t.currentTarget).data("bs."+this.type,e)),t instanceof m.Event&&(e.inState["focusin"==t.type?"focus":"hover"]=!0),e.tip().hasClass("in")||"in"==e.hoverState?void(e.hoverState="in"):(clearTimeout(e.timeout),e.hoverState="in",e.options.delay&&e.options.delay.show?void(e.timeout=setTimeout(function(){"in"==e.hoverState&&e.show()},e.options.delay.show)):e.show())},g.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},g.prototype.leave=function(t){var e=t instanceof this.constructor?t:m(t.currentTarget).data("bs."+this.type);if(e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),m(t.currentTarget).data("bs."+this.type,e)),t instanceof m.Event&&(e.inState["focusout"==t.type?"focus":"hover"]=!1),!e.isInStateTrue())return clearTimeout(e.timeout),e.hoverState="out",e.options.delay&&e.options.delay.hide?void(e.timeout=setTimeout(function(){"out"==e.hoverState&&e.hide()},e.options.delay.hide)):e.hide()},g.prototype.show=function(){var t=m.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var e=m.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!e)return;var n=this,i=this.tip(),o=this.getUID(this.type);this.setContent(),i.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&i.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,a=/\s?auto?\s?/i,s=a.test(r);s&&(r=r.replace(a,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(r).data("bs."+this.type,this),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var l=this.getPosition(),c=i[0].offsetWidth,d=i[0].offsetHeight;if(s){var u=r,h=this.getPosition(this.$viewport);r="bottom"==r&&l.bottom+d>h.bottom?"top":"top"==r&&l.top-d<h.top?"bottom":"right"==r&&l.right+c>h.width?"left":"left"==r&&l.left-c<h.left?"right":r,i.removeClass(u).addClass(r)}var p=this.getCalculatedOffset(r,l,c,d);this.applyPlacement(p,r);var f=function(){var t=n.hoverState;n.$element.trigger("shown.bs."+n.type),n.hoverState=null,"out"==t&&n.leave(n)};m.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",f).emulateTransitionEnd(g.TRANSITION_DURATION):f()}},g.prototype.applyPlacement=function(t,e){var n=this.tip(),i=n[0].offsetWidth,o=n[0].offsetHeight,r=parseInt(n.css("margin-top"),10),a=parseInt(n.css("margin-left"),10);isNaN(r)&&(r=0),isNaN(a)&&(a=0),t.top+=r,t.left+=a,m.offset.setOffset(n[0],m.extend({using:function(t){n.css({top:Math.round(t.top),left:Math.round(t.left)})}},t),0),n.addClass("in");var s=n[0].offsetWidth,l=n[0].offsetHeight;"top"==e&&l!=o&&(t.top=t.top+o-l);var c=this.getViewportAdjustedDelta(e,t,s,l);c.left?t.left+=c.left:t.top+=c.top;var d=/top|bottom/.test(e),u=d?2*c.left-i+s:2*c.top-o+l,h=d?"offsetWidth":"offsetHeight";n.offset(t),this.replaceArrow(u,n[0][h],d)},g.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},g.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},g.prototype.hide=function(t){function e(){"in"!=n.hoverState&&i.detach(),n.$element&&n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type),t&&t()}var n=this,i=m(this.$tip),o=m.Event("hide.bs."+this.type);if(this.$element.trigger(o),!o.isDefaultPrevented())return i.removeClass("in"),m.support.transition&&i.hasClass("fade")?i.one("bsTransitionEnd",e).emulateTransitionEnd(g.TRANSITION_DURATION):e(),this.hoverState=null,this},g.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},g.prototype.hasContent=function(){return this.getTitle()},g.prototype.getPosition=function(t){var e=(t=t||this.$element)[0],n="BODY"==e.tagName,i=e.getBoundingClientRect();null==i.width&&(i=m.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var o=window.SVGElement&&e instanceof window.SVGElement,r=n?{top:0,left:0}:o?null:t.offset(),a={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},s=n?{width:m(window).width(),height:m(window).height()}:null;return m.extend({},i,a,s,r)},g.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},g.prototype.getViewportAdjustedDelta=function(t,e,n,i){var o={top:0,left:0};if(!this.$viewport)return o;var r=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var s=e.top-r-a.scroll,l=e.top+r-a.scroll+i;s<a.top?o.top=a.top-s:l>a.top+a.height&&(o.top=a.top+a.height-l)}else{var c=e.left-r,d=e.left+r+n;c<a.left?o.left=a.left-c:d>a.right&&(o.left=a.left+a.width-d)}return o},g.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},g.prototype.getUID=function(t){for(;t+=~~(1e6*Math.random()),document.getElementById(t););return t},g.prototype.tip=function(){if(!this.$tip&&(this.$tip=m(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},g.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},g.prototype.enable=function(){this.enabled=!0},g.prototype.disable=function(){this.enabled=!1},g.prototype.toggleEnabled=function(){this.enabled=!this.enabled},g.prototype.toggle=function(t){var e=this;t&&((e=m(t.currentTarget).data("bs."+this.type))||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),m(t.currentTarget).data("bs."+this.type,e))),t?(e.inState.click=!e.inState.click,e.isInStateTrue()?e.enter(e):e.leave(e)):e.tip().hasClass("in")?e.leave(e):e.enter(e)},g.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null})};var t=m.fn.tooltip;m.fn.tooltip=function(i){return this.each(function(){var t=m(this),e=t.data("bs.tooltip"),n="object"==typeof i&&i;!e&&/destroy|hide/.test(i)||(e||t.data("bs.tooltip",e=new g(this,n)),"string"==typeof i&&e[i]())})},m.fn.tooltip.Constructor=g,m.fn.tooltip.noConflict=function(){return m.fn.tooltip=t,this}}(jQuery),function(o){"use strict";var r=function(t,e){this.init("popover",t,e)};if(!o.fn.tooltip)throw new Error("Popover requires tooltip.js");r.VERSION="3.3.7",r.DEFAULTS=o.extend({},o.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),((r.prototype=o.extend({},o.fn.tooltip.Constructor.prototype)).constructor=r).prototype.getDefaults=function(){return r.DEFAULTS},r.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},r.prototype.hasContent=function(){return this.getTitle()||this.getContent()},r.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},r.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var t=o.fn.popover;o.fn.popover=function(i){return this.each(function(){var t=o(this),e=t.data("bs.popover"),n="object"==typeof i&&i;!e&&/destroy|hide/.test(i)||(e||t.data("bs.popover",e=new r(this,n)),"string"==typeof i&&e[i]())})},o.fn.popover.Constructor=r,o.fn.popover.noConflict=function(){return o.fn.popover=t,this}}(jQuery),function(r){"use strict";function o(t,e){this.$body=r(document.body),this.$scrollElement=r(r(t).is(document.body)?window:t),this.options=r.extend({},o.DEFAULTS,e),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",r.proxy(this.process,this)),this.refresh(),this.process()}function e(i){return this.each(function(){var t=r(this),e=t.data("bs.scrollspy"),n="object"==typeof i&&i;e||t.data("bs.scrollspy",e=new o(this,n)),"string"==typeof i&&e[i]()})}o.VERSION="3.3.7",o.DEFAULTS={offset:10},o.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},o.prototype.refresh=function(){var t=this,i="offset",o=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),r.isWindow(this.$scrollElement[0])||(i="position",o=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=r(this),e=t.data("target")||t.attr("href"),n=/^#./.test(e)&&r(e);return n&&n.length&&n.is(":visible")&&[[n[i]().top+o,e]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},o.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),o=this.offsets,r=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),i<=e)return a!=(t=r[r.length-1])&&this.activate(t);if(a&&e<o[0])return this.activeTarget=null,this.clear();for(t=o.length;t--;)a!=r[t]&&e>=o[t]&&(void 0===o[t+1]||e<o[t+1])&&this.activate(r[t])},o.prototype.activate=function(t){this.activeTarget=t,this.clear();var e=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=r(e).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},o.prototype.clear=function(){r(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var t=r.fn.scrollspy;r.fn.scrollspy=e,r.fn.scrollspy.Constructor=o,r.fn.scrollspy.noConflict=function(){return r.fn.scrollspy=t,this},r(window).on("load.bs.scrollspy.data-api",function(){r('[data-spy="scroll"]').each(function(){var t=r(this);e.call(t,t.data())})})}(jQuery),function(s){"use strict";function e(n){return this.each(function(){var t=s(this),e=t.data("bs.tab");e||t.data("bs.tab",e=new a(this)),"string"==typeof n&&e[n]()})}var a=function(t){this.element=s(t)};a.VERSION="3.3.7",a.TRANSITION_DURATION=150,a.prototype.show=function(){var t=this.element,e=t.closest("ul:not(.dropdown-menu)"),n=t.data("target");if(n||(n=(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var i=e.find(".active:last a"),o=s.Event("hide.bs.tab",{relatedTarget:t[0]}),r=s.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(o),t.trigger(r),!r.isDefaultPrevented()&&!o.isDefaultPrevented()){var a=s(n);this.activate(t.closest("li"),e),this.activate(a,a.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},a.prototype.activate=function(t,e,n){function i(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),r?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),n&&n()}var o=e.find("> .active"),r=n&&s.support.transition&&(o.length&&o.hasClass("fade")||!!e.find("> .fade").length);o.length&&r?o.one("bsTransitionEnd",i).emulateTransitionEnd(a.TRANSITION_DURATION):i(),o.removeClass("in")};var t=s.fn.tab;s.fn.tab=e,s.fn.tab.Constructor=a,s.fn.tab.noConflict=function(){return s.fn.tab=t,this};var n=function(t){t.preventDefault(),e.call(s(this),"show")};s(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',n).on("click.bs.tab.data-api",'[data-toggle="pill"]',n)}(jQuery),function(l){"use strict";function n(i){return this.each(function(){var t=l(this),e=t.data("bs.affix"),n="object"==typeof i&&i;e||t.data("bs.affix",e=new c(this,n)),"string"==typeof i&&e[i]()})}var c=function(t,e){this.options=l.extend({},c.DEFAULTS,e),this.$target=l(this.options.target).on("scroll.bs.affix.data-api",l.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",l.proxy(this.checkPositionWithEventLoop,this)),this.$element=l(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.3.7",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(t,e,n,i){var o=this.$target.scrollTop(),r=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return o<n&&"top";if("bottom"==this.affixed)return null!=n?!(o+this.unpin<=r.top)&&"bottom":!(o+a<=t-i)&&"bottom";var s=null==this.affixed,l=s?o:r.top;return null!=n&&o<=n?"top":null!=i&&t-i<=l+(s?a:e)&&"bottom"},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},c.prototype.checkPositionWithEventLoop=function(){setTimeout(l.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),e=this.options.offset,n=e.top,i=e.bottom,o=Math.max(l(document).height(),l(document.body).height());"object"!=typeof e&&(i=n=e),"function"==typeof n&&(n=e.top(this.$element)),"function"==typeof i&&(i=e.bottom(this.$element));var r=this.getState(o,t,n,i);if(this.affixed!=r){null!=this.unpin&&this.$element.css("top","");var a="affix"+(r?"-"+r:""),s=l.Event(a+".bs.affix");if(this.$element.trigger(s),s.isDefaultPrevented())return;this.affixed=r,this.unpin="bottom"==r?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(a).trigger(a.replace("affix","affixed")+".bs.affix")}"bottom"==r&&this.$element.offset({top:o-t-i})}};var t=l.fn.affix;l.fn.affix=n,l.fn.affix.Constructor=c,l.fn.affix.noConflict=function(){return l.fn.affix=t,this},l(window).on("load",function(){l('[data-spy="affix"]').each(function(){var t=l(this),e=t.data();e.offset=e.offset||{},null!=e.offsetBottom&&(e.offset.bottom=e.offsetBottom),null!=e.offsetTop&&(e.offset.top=e.offsetTop),n.call(t,e)})})}(jQuery),function(v,y){"use strict";var b,_,x,w,E,M,T,C,S=y.$$minErr("$sanitize");y.module("ngSanitize",[]).provider("$sanitize",function(){function t(t,e){var n,i={},o=t.split(",");for(n=0;n<o.length;n++)i[e?E(o[n]):o[n]]=!0;return i}function o(t){for(var e={},n=0,i=t.length;n<i;n++){var o=t[n];e[o.name]=o.value}return e}function s(t){return t.replace(/&/g,"&amp;").replace(n,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+((t=t.charCodeAt(1))-56320)+65536)+";"}).replace(i,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function a(t){for(;t;){if(t.nodeType===v.Node.ELEMENT_NODE)for(var e=t.attributes,n=0,i=e.length;n<i;n++){var o=e[n],r=o.name.toLowerCase();"xmlns:ns1"!==r&&0!==r.lastIndexOf("ns1:",0)||(t.removeAttributeNode(o),n--,i--)}(e=t.firstChild)&&a(e),t=t.nextSibling}}var e=!1;this.$get=["$$sanitizeUri",function(n){return e&&_(f,h),function(t){var e=[];return T(t,C(e,function(t,e){return!/^unsafe:/.test(n(t,e))})),e.join("")}}],this.enableSvg=function(t){return w(t)?(e=t,this):e},b=y.bind,_=y.extend,x=y.forEach,w=y.isDefined,E=y.lowercase,M=y.noop,T=function(t,e){null==t?t="":"string"!=typeof t&&(t=""+t),r.innerHTML=t;var n=5;do{if(0===n)throw S("uinput");n--,v.document.documentMode&&a(r),t=r.innerHTML,r.innerHTML=t}while(t!==r.innerHTML);for(n=r.firstChild;n;){switch(n.nodeType){case 1:e.start(n.nodeName.toLowerCase(),o(n.attributes));break;case 3:e.chars(n.textContent)}var i;if(!(i=n.firstChild)&&(1===n.nodeType&&e.end(n.nodeName.toLowerCase()),!(i=n.nextSibling)))for(;null==i&&(n=n.parentNode)!==r;)i=n.nextSibling,1===n.nodeType&&e.end(n.nodeName.toLowerCase());n=i}for(;n=r.firstChild;)r.removeChild(n)},C=function(t,r){var e=!1,a=b(t,t.push);return{start:function(o,t){o=E(o),!e&&p[o]&&(e=o),e||!0!==f[o]||(a("<"),a(o),x(t,function(t,e){var n=E(e),i="img"===o&&"src"===n||"background"===n;!0!==g[n]||!0===m[n]&&!r(t,i)||(a(" "),a(e),a('="'),a(s(t)),a('"'))}),a(">"))},end:function(t){t=E(t),e||!0!==f[t]||!0===l[t]||(a("</"),a(t),a(">")),t==e&&(e=!1)},chars:function(t){e||a(s(t))}}};var r,n=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,i=/([^#-~ |!])/g,l=t("area,br,col,hr,img,wbr"),c=t("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),d=t("rp,rt"),u=_({},d,c),h=(c=_({},c,t("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),d=_({},d,t("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),t("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan")),p=t("script,style"),f=_({},l,c,d,u),m=t("background,cite,href,longdesc,src,xlink:href"),g=(u=t("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),d=t("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),_({},m,d,u));!function(t){if(!t.document||!t.document.implementation)throw S("noinert");var e=((t=t.document.implementation.createHTMLDocument("inert")).documentElement||t.getDocumentElement()).getElementsByTagName("body");1===e.length?r=e[0]:(e=t.createElement("html"),r=t.createElement("body"),e.appendChild(r),t.appendChild(e))}(v)}),y.module("ngSanitize").filter("linky",["$sanitize",function(d){var u=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,h=/^mailto:/i,p=y.$$minErr("linky"),f=y.isDefined,m=y.isFunction,g=y.isObject,v=y.isString;return function(t,o,e){function r(t){var e,n;t&&c.push((e=t,C(n=[],M).chars(e),n.join("")))}function n(t,e){var n,i=s(t);for(n in c.push("<a "),i)c.push(n+'="'+i[n]+'" ');!f(o)||"target"in i||c.push('target="',o,'" '),c.push('href="',t.replace(/"/g,"&quot;"),'">'),r(e),c.push("</a>")}if(null==t||""===t)return t;if(!v(t))throw p("notstring",t);for(var i,a,s=m(e)?e:g(e)?function(){return e}:function(){return{}},l=t,c=[];t=l.match(u);)i=t[0],t[2]||t[4]||(i=(t[3]?"http://":"mailto:")+i),a=t.index,r(l.substr(0,a)),n(i,t[0].replace(h,"")),l=l.substring(a+t[0].length);return r(l),d(c.join(""))}}])}(window,window.angular),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.tabindex","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.datepicker","ui.bootstrap.position","ui.bootstrap.datepickerPopup","ui.bootstrap.debounce","ui.bootstrap.multiMap","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.paging","ui.bootstrap.pager","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["uib/template/accordion/accordion-group.html","uib/template/accordion/accordion.html","uib/template/alert/alert.html","uib/template/carousel/carousel.html","uib/template/carousel/slide.html","uib/template/datepicker/datepicker.html","uib/template/datepicker/day.html","uib/template/datepicker/month.html","uib/template/datepicker/year.html","uib/template/datepickerPopup/popup.html","uib/template/modal/window.html","uib/template/pager/pager.html","uib/template/pagination/pagination.html","uib/template/tooltip/tooltip-html-popup.html","uib/template/tooltip/tooltip-popup.html","uib/template/tooltip/tooltip-template-popup.html","uib/template/popover/popover-html.html","uib/template/popover/popover-template.html","uib/template/popover/popover.html","uib/template/progressbar/bar.html","uib/template/progressbar/progress.html","uib/template/progressbar/progressbar.html","uib/template/rating/rating.html","uib/template/tabs/tab.html","uib/template/tabs/tabset.html","uib/template/timepicker/timepicker.html","uib/template/typeahead/typeahead-match.html","uib/template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$q","$parse","$injector",function(p,f,m,t){var g=t.has("$animateCss")?t.get("$animateCss"):null;return{link:function(e,n,t){var i=m(t.expanding),o=m(t.expanded),r=m(t.collapsing),a=m(t.collapsed),s=!1,l={},c={};function d(t){return s?{width:t.scrollWidth+"px"}:{height:t.scrollHeight+"px"}}function u(){n.removeClass("collapsing").addClass("collapse").css(l),o(e)}function h(){n.css(c),n.removeClass("collapsing").addClass("collapse"),a(e)}!function(){c=(s=!!("horizontal"in t))?(l={width:""},{width:"0"}):(l={height:""},{height:"0"});e.$eval(t.uibCollapse)||n.addClass("in").addClass("collapse").attr("aria-expanded",!0).attr("aria-hidden",!1).css(l)}(),e.$watch(t.uibCollapse,function(t){t?function(){if(!n.hasClass("collapse")&&!n.hasClass("in"))return h();f.resolve(r(e)).then(function(){n.css(d(n[0])).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),g?g(n,{removeClass:"in",to:c}).start().finally(h):p.removeClass(n,"in",{to:c}).then(h)},angular.noop)}():n.hasClass("collapse")&&n.hasClass("in")||f.resolve(i(e)).then(function(){n.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),g?g(n,{addClass:"in",easing:"ease",css:{overflow:"hidden"},to:d(n[0])}).start().finally(u):p.addClass(n,"in",{css:{overflow:"hidden"},to:d(n[0])}).then(u)},angular.noop)})}}}]),angular.module("ui.bootstrap.tabindex",[]).directive("uibTabindexToggle",function(){return{restrict:"A",link:function(t,e,n){n.$observe("disabled",function(t){n.$set("tabindex",t?-1:null)})}}}),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse","ui.bootstrap.tabindex"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(t,n,i){this.groups=[],this.closeOthers=function(e){(angular.isDefined(n.closeOthers)?t.$eval(n.closeOthers):i.closeOthers)&&angular.forEach(this.groups,function(t){t!==e&&(t.isOpen=!1)})},this.addGroup=function(e){var n=this;this.groups.push(e),e.$on("$destroy",function(t){n.removeGroup(e)})},this.removeGroup=function(t){var e=this.groups.indexOf(t);-1!==e&&this.groups.splice(e,1)}}]).directive("uibAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/accordion/accordion.html"}}}).directive("uibAccordionGroup",function(){return{require:"^uibAccordion",transclude:!0,restrict:"A",templateUrl:function(t,e){return e.templateUrl||"uib/template/accordion/accordion-group.html"},scope:{heading:"@",panelClass:"@?",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(t){this.heading=t}},link:function(e,n,t,i){n.addClass("panel"),i.addGroup(e),e.openClass=t.openClass||"panel-open",e.panelClass=t.panelClass||"panel-default",e.$watch("isOpen",function(t){n.toggleClass(e.openClass,!!t),t&&i.closeOthers(e)}),e.toggleOpen=function(t){e.isDisabled||t&&32!==t.which||(e.isOpen=!e.isOpen)};var o="accordiongroup-"+e.$id+"-"+Math.floor(1e4*Math.random());e.headingId=o+"-tab",e.panelId=o+"-panel"}}}).directive("uibAccordionHeading",function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(t,e,n,i,o){i.setHeading(o(t,angular.noop))}}}).directive("uibAccordionTransclude",function(){return{require:"^uibAccordionGroup",link:function(t,n,e,i){t.$watch(function(){return i[e.uibAccordionTransclude]},function(t){if(t){var e=angular.element(n[0].querySelector("uib-accordion-header,data-uib-accordion-header,x-uib-accordion-header,uib\\:accordion-header,[uib-accordion-header],[data-uib-accordion-header],[x-uib-accordion-header]"));e.html(""),e.append(t)}})}}}),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$element","$attrs","$interpolate","$timeout",function(t,e,n,i,o){t.closeable=!!n.close,e.addClass("alert"),n.$set("role","alert"),t.closeable&&e.addClass("alert-dismissible");var r=angular.isDefined(n.dismissOnTimeout)?i(n.dismissOnTimeout)(t.$parent):null;r&&o(function(){t.close()},parseInt(r,10))}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",restrict:"A",templateUrl:function(t,e){return e.templateUrl||"uib/template/alert/alert.html"},transclude:!0,scope:{close:"&"}}}),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(t){this.activeClass=t.activeClass||"active",this.toggleEvent=t.toggleEvent||"click"}]).directive("uibBtnRadio",["$parse",function(s){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(e,n,i,t){var o=t[0],r=t[1],a=s(i.uibUncheckable);n.find("input").css({display:"none"}),r.$render=function(){n.toggleClass(o.activeClass,angular.equals(r.$modelValue,e.$eval(i.uibBtnRadio)))},n.on(o.toggleEvent,function(){if(!i.disabled){var t=n.hasClass(o.activeClass);t&&!angular.isDefined(i.uncheckable)||e.$apply(function(){r.$setViewValue(t?null:e.$eval(i.uibBtnRadio)),r.$render()})}}),i.uibUncheckable&&e.$watch(a,function(t){i.$set("uncheckable",t?"":void 0)})}}}]).directive("uibBtnCheckbox",function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(n,t,e,i){var o=i[0],r=i[1];function a(){return s(e.btnCheckboxTrue,!0)}function s(t,e){return angular.isDefined(t)?n.$eval(t):e}t.find("input").css({display:"none"}),r.$render=function(){t.toggleClass(o.activeClass,angular.equals(r.$modelValue,a()))},t.on(o.toggleEvent,function(){e.disabled||n.$apply(function(){r.$setViewValue(t.hasClass(o.activeClass)?s(e.btnCheckboxFalse,!1):a()),r.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$timeout","$animate",function(o,r,e,t,a){var n,i,s=this,l=s.slides=o.slides=[],c="uib-slideDirection",d=o.active,u=!1;function h(t){for(var e=0;e<l.length;e++)l[e].slide.active=e===t}function p(t){for(var e=0;e<l.length;e++)if(l[e].slide===t)return e}function f(){n&&(e.cancel(n),n=null)}function m(){f();var t=+o.interval;!isNaN(t)&&0<t&&(n=e(g,t))}function g(){var t=+o.interval;i&&!isNaN(t)&&0<t&&l.length?o.next():o.pause()}r.addClass("carousel"),s.addSlide=function(t,e){l.push({slide:t,element:e}),l.sort(function(t,e){return+t.slide.index-+e.slide.index}),(t.index===o.active||1===l.length&&!angular.isNumber(o.active))&&(o.$currentTransition&&(o.$currentTransition=null),d=t.index,o.active=t.index,h(d),s.select(l[p(t)]),1===l.length&&o.play())},s.getCurrentIndex=function(){for(var t=0;t<l.length;t++)if(l[t].slide.index===d)return t},s.next=o.next=function(){var t=(s.getCurrentIndex()+1)%l.length;if(0!==t||!o.noWrap())return s.select(l[t],"next");o.pause()},s.prev=o.prev=function(){var t=s.getCurrentIndex()-1<0?l.length-1:s.getCurrentIndex()-1;if(!o.noWrap()||t!==l.length-1)return s.select(l[t],"prev");o.pause()},s.removeSlide=function(t){var e=p(t);l.splice(e,1),0<l.length&&d===e?e>=l.length?(d=l.length-1,h(o.active=d),s.select(l[l.length-1])):(d=e,h(o.active=d),s.select(l[e])):e<d&&(d--,o.active=d),0===l.length&&(d=null,o.active=null)},s.select=o.select=function(t,e){var n=p(t.slide);void 0===e&&(e=n>s.getCurrentIndex()?"next":"prev"),t.slide.index===d||o.$currentTransition||function(t,e,n){if(u)return;if(angular.extend(t,{direction:n}),angular.extend(l[d].slide||{},{direction:n}),a.enabled(r)&&!o.$currentTransition&&l[e].element&&1<s.slides.length){l[e].element.data(c,t.direction);var i=s.getCurrentIndex();angular.isNumber(i)&&l[i].element&&l[i].element.data(c,t.direction),o.$currentTransition=!0,a.on("addClass",l[e].element,function(t,e){"close"===e&&(o.$currentTransition=null,a.off("addClass",t))})}o.active=t.index,d=t.index,h(e),m()}(t.slide,n,e)},o.indexOfSlide=function(t){return+t.slide.index},o.isActive=function(t){return o.active===t.slide.index},o.isPrevDisabled=function(){return 0===o.active&&o.noWrap()},o.isNextDisabled=function(){return o.active===l.length-1&&o.noWrap()},o.pause=function(){o.noPause||(i=!1,f())},o.play=function(){i||(i=!0,m())},r.on("mouseenter",o.pause),r.on("mouseleave",o.play),o.$on("$destroy",function(){u=!0,f()}),o.$watch("noTransition",function(t){a.enabled(r,!t)}),o.$watch("interval",m),o.$watchCollection("slides",function(t){t.length||(o.$currentTransition=null)}),o.$watch("active",function(t){if(angular.isNumber(t)&&d!==t){for(var e=0;e<l.length;e++)if(l[e].slide.index===t){t=e;break}l[t]&&(h(t),s.select(l[t]),d=t)}})}]).directive("uibCarousel",function(){return{transclude:!0,controller:"UibCarouselController",controllerAs:"carousel",restrict:"A",templateUrl:function(t,e){return e.templateUrl||"uib/template/carousel/carousel.html"},scope:{active:"=",interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}).directive("uibSlide",["$animate",function(o){return{require:"^uibCarousel",restrict:"A",transclude:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/carousel/slide.html"},scope:{actual:"=?",index:"=?"},link:function(t,e,n,i){e.addClass("item"),i.addSlide(t,e),t.$on("$destroy",function(){i.removeSlide(t)}),t.$watch("active",function(t){o[t?"addClass":"removeClass"](e,"active")})}}}]).animation(".item",["$animateCss",function(a){var s="uib-slideDirection";function l(t,e,n){t.removeClass(e),n&&n()}return{beforeAddClass:function(t,e,n){if("active"===e){var i=t.data(s),o="next"===i?"left":"right",r=l.bind(this,t,o+" "+i,n);return t.addClass(i),a(t,{addClass:o}).start().done(r),function(){!0}}n()},beforeRemoveClass:function(t,e,n){if("active"===e){var i="next"===t.data(s)?"left":"right",o=l.bind(this,t,i,n);return a(t,{addClass:i}).start().done(o),function(){!0}}n()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","dateFilter","orderByFilter","filterFilter",function(m,g,n,v,e){var y,b,_=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;function i(t){return e(b,{key:t},!0)[0]}function r(t,e,n){return function(){return t.substr(e+1,n-e-1)}}function a(t,e){for(var n=t.substr(e),i=0;i<b.length;i++)if(new RegExp("^"+b[i].key).test(n)){var o=b[i];return{endIdx:e+o.key.length,parser:o.formatter}}return{endIdx:e+1,parser:function(){return n.charAt(0)}}}function s(t){return parseInt(t,10)}function o(t,e){t=t.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function l(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}function c(t,e,n){n=n?-1:1;var i=t.getTimezoneOffset();return l(t,n*(o(e,i)-i))}this.init=function(){y=g.id,this.parsers={},this.formatters={},b=[{key:"yyyy",regex:"\\d{4}",apply:function(t){this.year=+t},formatter:function(t){var e=new Date;return e.setFullYear(Math.abs(t.getFullYear())),n(e,"yyyy")}},{key:"yy",regex:"\\d{2}",apply:function(t){t=+t,this.year=t<69?t+2e3:t+1900},formatter:function(t){var e=new Date;return e.setFullYear(Math.abs(t.getFullYear())),n(e,"yy")}},{key:"y",regex:"\\d{1,4}",apply:function(t){this.year=+t},formatter:function(t){var e=new Date;return e.setFullYear(Math.abs(t.getFullYear())),n(e,"y")}},{key:"M!",regex:"0?[1-9]|1[0-2]",apply:function(t){this.month=t-1},formatter:function(t){var e=t.getMonth();return/^[0-9]$/.test(e)?n(t,"MM"):n(t,"M")}},{key:"MMMM",regex:g.DATETIME_FORMATS.MONTH.join("|"),apply:function(t){this.month=g.DATETIME_FORMATS.MONTH.indexOf(t)},formatter:function(t){return n(t,"MMMM")}},{key:"MMM",regex:g.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(t){this.month=g.DATETIME_FORMATS.SHORTMONTH.indexOf(t)},formatter:function(t){return n(t,"MMM")}},{key:"MM",regex:"0[1-9]|1[0-2]",apply:function(t){this.month=t-1},formatter:function(t){return n(t,"MM")}},{key:"M",regex:"[1-9]|1[0-2]",apply:function(t){this.month=t-1},formatter:function(t){return n(t,"M")}},{key:"d!",regex:"[0-2]?[0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t},formatter:function(t){var e=t.getDate();return/^[1-9]$/.test(e)?n(t,"dd"):n(t,"d")}},{key:"dd",regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t},formatter:function(t){return n(t,"dd")}},{key:"d",regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t},formatter:function(t){return n(t,"d")}},{key:"EEEE",regex:g.DATETIME_FORMATS.DAY.join("|"),formatter:function(t){return n(t,"EEEE")}},{key:"EEE",regex:g.DATETIME_FORMATS.SHORTDAY.join("|"),formatter:function(t){return n(t,"EEE")}},{key:"HH",regex:"(?:0|1)[0-9]|2[0-3]",apply:function(t){this.hours=+t},formatter:function(t){return n(t,"HH")}},{key:"hh",regex:"0[0-9]|1[0-2]",apply:function(t){this.hours=+t},formatter:function(t){return n(t,"hh")}},{key:"H",regex:"1?[0-9]|2[0-3]",apply:function(t){this.hours=+t},formatter:function(t){return n(t,"H")}},{key:"h",regex:"[0-9]|1[0-2]",apply:function(t){this.hours=+t},formatter:function(t){return n(t,"h")}},{key:"mm",regex:"[0-5][0-9]",apply:function(t){this.minutes=+t},formatter:function(t){return n(t,"mm")}},{key:"m",regex:"[0-9]|[1-5][0-9]",apply:function(t){this.minutes=+t},formatter:function(t){return n(t,"m")}},{key:"sss",regex:"[0-9][0-9][0-9]",apply:function(t){this.milliseconds=+t},formatter:function(t){return n(t,"sss")}},{key:"ss",regex:"[0-5][0-9]",apply:function(t){this.seconds=+t},formatter:function(t){return n(t,"ss")}},{key:"s",regex:"[0-9]|[1-5][0-9]",apply:function(t){this.seconds=+t},formatter:function(t){return n(t,"s")}},{key:"a",regex:g.DATETIME_FORMATS.AMPMS.join("|"),apply:function(t){12===this.hours&&(this.hours=0),"PM"===t&&(this.hours+=12)},formatter:function(t){return n(t,"a")}},{key:"Z",regex:"[+-]\\d{4}",apply:function(t){var e=t.match(/([+-])(\d{2})(\d{2})/),n=e[1],i=e[2],o=e[3];this.hours+=s(n+i),this.minutes+=s(n+o)},formatter:function(t){return n(t,"Z")}},{key:"ww",regex:"[0-4][0-9]|5[0-3]",formatter:function(t){return n(t,"ww")}},{key:"w",regex:"[0-9]|[1-4][0-9]|5[0-3]",formatter:function(t){return n(t,"w")}},{key:"GGGG",regex:g.DATETIME_FORMATS.ERANAMES.join("|").replace(/\s/g,"\\s"),formatter:function(t){return n(t,"GGGG")}},{key:"GGG",regex:g.DATETIME_FORMATS.ERAS.join("|"),formatter:function(t){return n(t,"GGG")}},{key:"GG",regex:g.DATETIME_FORMATS.ERAS.join("|"),formatter:function(t){return n(t,"GG")}},{key:"G",regex:g.DATETIME_FORMATS.ERAS.join("|"),formatter:function(t){return n(t,"G")}}],1<=angular.version.major&&4<angular.version.minor&&b.push({key:"LLLL",regex:g.DATETIME_FORMATS.STANDALONEMONTH.join("|"),apply:function(t){this.month=g.DATETIME_FORMATS.STANDALONEMONTH.indexOf(t)},formatter:function(t){return n(t,"LLLL")}})},this.init(),this.getParser=function(t){var e=i(t);return e&&e.apply||null},this.overrideParser=function(t,e){var n=i(t);n&&angular.isFunction(e)&&(this.parsers={},n.apply=e)}.bind(this),this.filter=function(n,t){return angular.isDate(n)&&!isNaN(n)&&t?(t=g.DATETIME_FORMATS[t]||t,g.id!==y&&this.init(),this.formatters[t]||(this.formatters[t]=function(t){for(var e,n,i=[],o=0;o<t.length;)if(angular.isNumber(n)){if("'"===t.charAt(o))(o+1>=t.length||"'"!==t.charAt(o+1))&&(i.push(r(t,n,o)),n=null);else if(o===t.length)for(;n<t.length;)e=a(t,n),i.push(e),n=e.endIdx;o++}else"'"!==t.charAt(o)?(e=a(t,o),i.push(e.parser),o=e.endIdx):(n=o,o++);return i}(t)),this.formatters[t].reduce(function(t,e){return t+e(n)},"")):""},this.parse=function(t,e,n){if(!angular.isString(t)||!e)return t;e=(e=g.DATETIME_FORMATS[e]||e).replace(_,"\\$&"),g.id!==y&&this.init(),this.parsers[e]||(this.parsers[e]=function(o){var r=[],a=o.split(""),t=o.indexOf("'");if(-1<t){var e=!1;o=o.split("");for(var n=t;n<o.length;n++)e?("'"===o[n]&&(n+1<o.length&&"'"===o[n+1]?(o[n+1]="$",a[n+1]=""):(a[n]="",e=!1)),o[n]="$"):"'"===o[n]&&(o[n]="$",e=!(a[n]=""));o=o.join("")}return angular.forEach(b,function(t){var e=o.indexOf(t.key);if(-1<e){o=o.split(""),a[e]="("+t.regex+")",o[e]="$";for(var n=e+1,i=e+t.key.length;n<i;n++)a[n]="",o[n]="$";o=o.join(""),r.push({index:e,key:t.key,apply:t.apply,matcher:t.regex})}}),{regex:new RegExp("^"+a.join("")+"$"),map:v(r,"index")}}(e));var i=this.parsers[e],o=i.regex,r=i.map,a=t.match(o),s=!1;if(a&&a.length){var l,c;l=angular.isDate(n)&&!isNaN(n.getTime())?{year:n.getFullYear(),month:n.getMonth(),date:n.getDate(),hours:n.getHours(),minutes:n.getMinutes(),seconds:n.getSeconds(),milliseconds:n.getMilliseconds()}:(n&&m.warn("dateparser:","baseDate is not a valid date"),{year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var d=1,u=a.length;d<u;d++){var h=r[d-1];"Z"===h.matcher&&(s=!0),h.apply&&h.apply.call(l,a[d])}var p=s?Date.prototype.setUTCFullYear:Date.prototype.setFullYear,f=s?Date.prototype.setUTCHours:Date.prototype.setHours;return function(t,e,n){if(n<1)return!1;if(1===e&&28<n)return 29===n&&(t%4==0&&t%100!=0||t%400==0);return 3!==e&&5!==e&&8!==e&&10!==e||n<31}(l.year,l.month,l.date)&&(!angular.isDate(n)||isNaN(n.getTime())||s?(c=new Date(0),p.call(c,l.year,l.month,l.date),f.call(c,l.hours||0,l.minutes||0,l.seconds||0,l.milliseconds||0)):(c=new Date(n),p.call(c,l.year,l.month,l.date),f.call(c,l.hours,l.minutes,l.seconds,l.milliseconds))),c}},this.toTimezone=function(t,e){return t&&e?c(t,e):t},this.fromTimezone=function(t,e){return t&&e?c(t,e,!0):t},this.timezoneToOffset=o,this.addDateMinutes=l,this.convertTimezoneToLocal=c}]),angular.module("ui.bootstrap.isClass",[]).directive("uibIsClass",["$animate",function(d){var a=/^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/,u=/^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;return{restrict:"A",compile:function(t,e){var o=[],s=[],l={},n=e.uibIsClass.match(a),c=n[2],i=n[1].split(",");return function(n,t,e){o.push(n),s.push({scope:n,element:t}),i.forEach(function(t,e){!function(t,e){var n=t.match(u),o=e.$eval(n[1]),i=n[2],r=l[t];if(!r){var a=function(n){var i=null;s.some(function(t){var e=t.scope.$eval(c);if(e===n)return i=t,!0}),r.lastActivated!==i&&(r.lastActivated&&d.removeClass(r.lastActivated.element,o),i&&d.addClass(i.element,o),r.lastActivated=i)};l[t]=r={lastActivated:null,scope:e,watchFn:a,compareWithExp:i,watcher:e.$watch(i,a)}}r.watchFn(e.$eval(i))}(t,n)}),n.$on("$destroy",r)};function r(t){var e=t.targetScope,n=o.indexOf(e);if(o.splice(n,1),s.splice(n,1),o.length){var i=o[0];angular.forEach(l,function(t){t.scope===e&&(t.watcher=i.$watch(t.compareWithExp,t.watchFn),t.scope=i)})}else l={}}}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.isClass"]).value("$datepickerSuppressError",!1).value("$datepickerLiteralWarning",!0).constant("uibDatepickerConfig",{datepickerMode:"day",formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",maxDate:null,maxMode:"year",minDate:null,minMode:"day",monthColumns:3,ngModelOptions:{},shortcutPropagation:!1,showWeeks:!0,yearColumns:5,yearRows:4}).controller("UibDatepickerController",["$scope","$element","$attrs","$parse","$interpolate","$locale","$log","dateFilter","uibDatepickerConfig","$datepickerLiteralWarning","$datepickerSuppressError","uibDateParser",function(a,t,e,n,i,o,r,s,l,c,d,u){var h=this,p={$setViewValue:angular.noop},f={},m=[];t.addClass("uib-datepicker"),e.$set("role","application"),a.datepickerOptions||(a.datepickerOptions={}),this.modes=["day","month","year"],["customClass","dateDisabled","datepickerMode","formatDay","formatDayHeader","formatDayTitle","formatMonth","formatMonthTitle","formatYear","maxDate","maxMode","minDate","minMode","monthColumns","showWeeks","shortcutPropagation","startingDay","yearColumns","yearRows"].forEach(function(e){switch(e){case"customClass":case"dateDisabled":a[e]=a.datepickerOptions[e]||angular.noop;break;case"datepickerMode":a.datepickerMode=angular.isDefined(a.datepickerOptions.datepickerMode)?a.datepickerOptions.datepickerMode:l.datepickerMode;break;case"formatDay":case"formatDayHeader":case"formatDayTitle":case"formatMonth":case"formatMonthTitle":case"formatYear":h[e]=angular.isDefined(a.datepickerOptions[e])?i(a.datepickerOptions[e])(a.$parent):l[e];break;case"monthColumns":case"showWeeks":case"shortcutPropagation":case"yearColumns":case"yearRows":h[e]=angular.isDefined(a.datepickerOptions[e])?a.datepickerOptions[e]:l[e];break;case"startingDay":angular.isDefined(a.datepickerOptions.startingDay)?h.startingDay=a.datepickerOptions.startingDay:angular.isNumber(l.startingDay)?h.startingDay=l.startingDay:h.startingDay=(o.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7;break;case"maxDate":case"minDate":a.$watch("datepickerOptions."+e,function(t){t?angular.isDate(t)?h[e]=u.fromTimezone(new Date(t),f.getOption("timezone")):(c&&r.warn("Literal date support has been deprecated, please switch to date object usage"),h[e]=new Date(s(t,"medium"))):h[e]=l[e]?u.fromTimezone(new Date(l[e]),f.getOption("timezone")):null,h.refreshView()});break;case"maxMode":case"minMode":a.datepickerOptions[e]?a.$watch(function(){return a.datepickerOptions[e]},function(t){h[e]=a[e]=angular.isDefined(t)?t:a.datepickerOptions[e],("minMode"===e&&h.modes.indexOf(a.datepickerOptions.datepickerMode)<h.modes.indexOf(h[e])||"maxMode"===e&&h.modes.indexOf(a.datepickerOptions.datepickerMode)>h.modes.indexOf(h[e]))&&(a.datepickerMode=h[e],a.datepickerOptions.datepickerMode=h[e])}):h[e]=a[e]=l[e]||null}}),a.uniqueId="datepicker-"+a.$id+"-"+Math.floor(1e4*Math.random()),a.disabled=angular.isDefined(e.disabled)||!1,angular.isDefined(e.ngDisabled)&&m.push(a.$parent.$watch(e.ngDisabled,function(t){a.disabled=t,h.refreshView()})),a.isActive=function(t){return 0===h.compare(t.date,h.activeDate)&&(a.activeDateId=t.uid,!0)},this.init=function(t){f=function(t){var e;if(angular.version.minor<6)(e=t.$options||a.datepickerOptions.ngModelOptions||l.ngModelOptions||{}).getOption=function(t){return e[t]};else{var n=t.$options.getOption("timezone")||(a.datepickerOptions.ngModelOptions?a.datepickerOptions.ngModelOptions.timezone:null)||(l.ngModelOptions?l.ngModelOptions.timezone:null);e=t.$options.createChild(l.ngModelOptions).createChild(a.datepickerOptions.ngModelOptions).createChild(t.$options).createChild({timezone:n})}return e}(p=t),a.datepickerOptions.initDate?(h.activeDate=u.fromTimezone(a.datepickerOptions.initDate,f.getOption("timezone"))||new Date,a.$watch("datepickerOptions.initDate",function(t){t&&(p.$isEmpty(p.$modelValue)||p.$invalid)&&(h.activeDate=u.fromTimezone(t,f.getOption("timezone")),h.refreshView())})):h.activeDate=new Date;var e=p.$modelValue?new Date(p.$modelValue):new Date;this.activeDate=isNaN(e)?u.fromTimezone(new Date,f.getOption("timezone")):u.fromTimezone(e,f.getOption("timezone")),p.$render=function(){h.render()}},this.render=function(){if(p.$viewValue){var t=new Date(p.$viewValue);!isNaN(t)?this.activeDate=u.fromTimezone(t,f.getOption("timezone")):d||r.error('Datepicker directive: "ng-model" value must be a Date object')}this.refreshView()},this.refreshView=function(){if(this.element){a.selectedDt=null,this._refreshView(),a.activeDt&&(a.activeDateId=a.activeDt.uid);var t=p.$viewValue?new Date(p.$viewValue):null;t=u.fromTimezone(t,f.getOption("timezone")),p.$setValidity("dateDisabled",!t||this.element&&!this.isDisabled(t))}},this.createDateObject=function(t,e){var n=p.$viewValue?new Date(p.$viewValue):null;n=u.fromTimezone(n,f.getOption("timezone"));var i=new Date;i=u.fromTimezone(i,f.getOption("timezone"));var o=this.compare(t,i),r={date:t,label:u.filter(t,e),selected:n&&0===this.compare(t,n),disabled:this.isDisabled(t),past:o<0,current:0===o,future:0<o,customClass:this.customClass(t)||null};return n&&0===this.compare(t,n)&&(a.selectedDt=r),h.activeDate&&0===this.compare(r.date,h.activeDate)&&(a.activeDt=r),r},this.isDisabled=function(t){return a.disabled||this.minDate&&this.compare(t,this.minDate)<0||this.maxDate&&0<this.compare(t,this.maxDate)||a.dateDisabled&&a.dateDisabled({date:t,mode:a.datepickerMode})},this.customClass=function(t){return a.customClass({date:t,mode:a.datepickerMode})},this.split=function(t,e){for(var n=[];0<t.length;)n.push(t.splice(0,e));return n},a.select=function(t){if(a.datepickerMode===h.minMode){var e=p.$viewValue?u.fromTimezone(new Date(p.$viewValue),f.getOption("timezone")):new Date(0,0,0,0,0,0,0);e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e=u.toTimezone(e,f.getOption("timezone")),p.$setViewValue(e),p.$render()}else h.activeDate=t,g(h.modes[h.modes.indexOf(a.datepickerMode)-1]),a.$emit("uib:datepicker.mode");a.$broadcast("uib:datepicker.focus")},a.move=function(t){var e=h.activeDate.getFullYear()+t*(h.step.years||0),n=h.activeDate.getMonth()+t*(h.step.months||0);h.activeDate.setFullYear(e,n,1),h.refreshView()},a.toggleMode=function(t){t=t||1,a.datepickerMode===h.maxMode&&1===t||a.datepickerMode===h.minMode&&-1===t||(g(h.modes[h.modes.indexOf(a.datepickerMode)+t]),a.$emit("uib:datepicker.mode"))},a.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};function g(t){a.datepickerMode=t,a.datepickerOptions.datepickerMode=t}a.$on("uib:datepicker.focus",function(){h.element[0].focus()}),a.keydown=function(t){var e=a.keys[t.which];if(e&&!t.shiftKey&&!t.altKey&&!a.disabled)if(t.preventDefault(),h.shortcutPropagation||t.stopPropagation(),"enter"===e||"space"===e){if(h.isDisabled(h.activeDate))return;a.select(h.activeDate)}else!t.ctrlKey||"up"!==e&&"down"!==e?(h.handleKeyDown(e,t),h.refreshView()):a.toggleMode("up"===e?1:-1)},t.on("keydown",function(t){a.$apply(function(){a.keydown(t)})}),a.$on("$destroy",function(){for(;m.length;)m.shift()()})}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(h,t,p){var n=[31,28,31,30,31,30,31,31,30,31,30,31];function o(t,e){return 1!==e||t%4!=0||t%100==0&&t%400!=0?n[e]:29}function f(t){var e=new Date(t);e.setDate(e.getDate()+4-(e.getDay()||7));var n=e.getTime();return e.setMonth(0),e.setDate(1),Math.floor(Math.round((n-e)/864e5)/7)+1}this.step={months:1},this.element=t,this.init=function(t){angular.extend(t,this),h.showWeeks=t.showWeeks,t.refreshView()},this.getDates=function(t,e){for(var n,i=new Array(e),o=new Date(t),r=0;r<e;)n=new Date(o),i[r++]=n,o.setDate(o.getDate()+1);return i},this._refreshView=function(){var t=this.activeDate.getFullYear(),e=this.activeDate.getMonth(),n=new Date(this.activeDate);n.setFullYear(t,e,1);var i=this.startingDay-n.getDay(),o=0<i?7-i:-i,r=new Date(n);0<o&&r.setDate(1-o);for(var a=this.getDates(r,42),s=0;s<42;s++)a[s]=angular.extend(this.createDateObject(a[s],this.formatDay),{secondary:a[s].getMonth()!==e,uid:h.uniqueId+"-"+s});h.labels=new Array(7);for(var l=0;l<7;l++)h.labels[l]={abbr:p(a[l].date,this.formatDayHeader),full:p(a[l].date,"EEEE")};if(h.title=p(this.activeDate,this.formatDayTitle),h.rows=this.split(a,7),h.showWeeks){h.weekNumbers=[];for(var c=(11-this.startingDay)%7,d=h.rows.length,u=0;u<d;u++)h.weekNumbers.push(f(h.rows[u][c].date))}},this.compare=function(t,e){var n=new Date(t.getFullYear(),t.getMonth(),t.getDate()),i=new Date(e.getFullYear(),e.getMonth(),e.getDate());return n.setFullYear(t.getFullYear()),i.setFullYear(e.getFullYear()),n-i},this.handleKeyDown=function(t,e){var n=this.activeDate.getDate();if("left"===t)n-=1;else if("up"===t)n-=7;else if("right"===t)n+=1;else if("down"===t)n+=7;else if("pageup"===t||"pagedown"===t){var i=this.activeDate.getMonth()+("pageup"===t?-1:1);this.activeDate.setMonth(i,1),n=Math.min(o(this.activeDate.getFullYear(),this.activeDate.getMonth()),n)}else"home"===t?n=1:"end"===t&&(n=o(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(n)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(o,t,r){this.step={years:1},this.element=t,this.init=function(t){angular.extend(t,this),t.refreshView()},this._refreshView=function(){for(var t,e=new Array(12),n=this.activeDate.getFullYear(),i=0;i<12;i++)(t=new Date(this.activeDate)).setFullYear(n,i,1),e[i]=angular.extend(this.createDateObject(t,this.formatMonth),{uid:o.uniqueId+"-"+i});o.title=r(this.activeDate,this.formatMonthTitle),o.rows=this.split(e,this.monthColumns),o.yearHeaderColspan=3<this.monthColumns?this.monthColumns-2:1},this.compare=function(t,e){var n=new Date(t.getFullYear(),t.getMonth()),i=new Date(e.getFullYear(),e.getMonth());return n.setFullYear(t.getFullYear()),i.setFullYear(e.getFullYear()),n-i},this.handleKeyDown=function(t,e){var n=this.activeDate.getMonth();if("left"===t)n-=1;else if("up"===t)n-=this.monthColumns;else if("right"===t)n+=1;else if("down"===t)n+=this.monthColumns;else if("pageup"===t||"pagedown"===t){var i=this.activeDate.getFullYear()+("pageup"===t?-1:1);this.activeDate.setFullYear(i)}else"home"===t?n=0:"end"===t&&(n=11);this.activeDate.setMonth(n)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(o,t,e){var r,a;function s(t){return parseInt((t-1)/a,10)*a+1}this.element=t,this.yearpickerInit=function(){r=this.yearColumns,a=this.yearRows*r,this.step={years:a}},this._refreshView=function(){for(var t,e=new Array(a),n=0,i=s(this.activeDate.getFullYear());n<a;n++)(t=new Date(this.activeDate)).setFullYear(i+n,0,1),e[n]=angular.extend(this.createDateObject(t,this.formatYear),{uid:o.uniqueId+"-"+n});o.title=[e[0].label,e[a-1].label].join(" - "),o.rows=this.split(e,r),o.columns=r},this.compare=function(t,e){return t.getFullYear()-e.getFullYear()},this.handleKeyDown=function(t,e){var n=this.activeDate.getFullYear();"left"===t?n-=1:"up"===t?n-=r:"right"===t?n+=1:"down"===t?n+=r:"pageup"===t||"pagedown"===t?n+=("pageup"===t?-1:1)*a:"home"===t?n=s(this.activeDate.getFullYear()):"end"===t&&(n=s(this.activeDate.getFullYear())+a-1),this.activeDate.setFullYear(n)}}]).directive("uibDatepicker",function(){return{templateUrl:function(t,e){return e.templateUrl||"uib/template/datepicker/datepicker.html"},scope:{datepickerOptions:"=?"},require:["uibDatepicker","^ngModel"],restrict:"A",controller:"UibDatepickerController",controllerAs:"datepicker",link:function(t,e,n,i){var o=i[0],r=i[1];o.init(r)}}}).directive("uibDaypicker",function(){return{templateUrl:function(t,e){return e.templateUrl||"uib/template/datepicker/day.html"},require:["^uibDatepicker","uibDaypicker"],restrict:"A",controller:"UibDaypickerController",link:function(t,e,n,i){var o=i[0];i[1].init(o)}}}).directive("uibMonthpicker",function(){return{templateUrl:function(t,e){return e.templateUrl||"uib/template/datepicker/month.html"},require:["^uibDatepicker","uibMonthpicker"],restrict:"A",controller:"UibMonthpickerController",link:function(t,e,n,i){var o=i[0];i[1].init(o)}}}).directive("uibYearpicker",function(){return{templateUrl:function(t,e){return e.templateUrl||"uib/template/datepicker/year.html"},require:["^uibDatepicker","uibYearpicker"],restrict:"A",controller:"UibYearpickerController",link:function(t,e,n,i){var o=i[0];angular.extend(o,i[1]),o.yearpickerInit(),o.refreshView()}}}),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(c,f){var i,o,d={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},m={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/},a=/(HTML|BODY)/;return{getRawNode:function(t){return t.nodeName?t:t[0]||t},parseStyle:function(t){return t=parseFloat(t),isFinite(t)?t:0},offsetParent:function(t){var e,n=(t=this.getRawNode(t)).offsetParent||c[0].documentElement;for(;n&&n!==c[0].documentElement&&(e=n,"static"===(f.getComputedStyle(e).position||"static"));)n=n.offsetParent;return n||c[0].documentElement},scrollbarWidth:function(t){if(t){if(angular.isUndefined(o)){var e=c.find("body");e.addClass("uib-position-body-scrollbar-measure"),o=f.innerWidth-e[0].clientWidth,o=isFinite(o)?o:0,e.removeClass("uib-position-body-scrollbar-measure")}return o}if(angular.isUndefined(i)){var n=angular.element('<div class="uib-position-scrollbar-measure"></div>');c.find("body").append(n),i=n[0].offsetWidth-n[0].clientWidth,i=isFinite(i)?i:0,n.remove()}return i},scrollbarPadding:function(t){t=this.getRawNode(t);var e=f.getComputedStyle(t),n=this.parseStyle(e.paddingRight),i=this.parseStyle(e.paddingBottom),o=this.scrollParent(t,!1,!0),r=this.scrollbarWidth(a.test(o.tagName));return{scrollbarWidth:r,widthOverflow:o.scrollWidth>o.clientWidth,right:n+r,originalRight:n,heightOverflow:o.scrollHeight>o.clientHeight,bottom:i+r,originalBottom:i}},isScrollable:function(t,e){t=this.getRawNode(t);var n=e?d.hidden:d.normal,i=f.getComputedStyle(t);return n.test(i.overflow+i.overflowY+i.overflowX)},scrollParent:function(t,e,n){t=this.getRawNode(t);var i=e?d.hidden:d.normal,o=c[0].documentElement,r=f.getComputedStyle(t);if(n&&i.test(r.overflow+r.overflowY+r.overflowX))return t;var a="absolute"===r.position,s=t.parentElement||o;if(s===o||"fixed"===r.position)return o;for(;s.parentElement&&s!==o;){var l=f.getComputedStyle(s);if(a&&"static"!==l.position&&(a=!1),!a&&i.test(l.overflow+l.overflowY+l.overflowX))break;s=s.parentElement}return s},position:function(t,e){t=this.getRawNode(t);var n=this.offset(t);if(e){var i=f.getComputedStyle(t);n.top-=this.parseStyle(i.marginTop),n.left-=this.parseStyle(i.marginLeft)}var o=this.offsetParent(t),r={top:0,left:0};return o!==c[0].documentElement&&((r=this.offset(o)).top+=o.clientTop-o.scrollTop,r.left+=o.clientLeft-o.scrollLeft),{width:Math.round(angular.isNumber(n.width)?n.width:t.offsetWidth),height:Math.round(angular.isNumber(n.height)?n.height:t.offsetHeight),top:Math.round(n.top-r.top),left:Math.round(n.left-r.left)}},offset:function(t){var e=(t=this.getRawNode(t)).getBoundingClientRect();return{width:Math.round(angular.isNumber(e.width)?e.width:t.offsetWidth),height:Math.round(angular.isNumber(e.height)?e.height:t.offsetHeight),top:Math.round(e.top+(f.pageYOffset||c[0].documentElement.scrollTop)),left:Math.round(e.left+(f.pageXOffset||c[0].documentElement.scrollLeft))}},viewportOffset:function(t,e,n){n=!1!==n;var i=(t=this.getRawNode(t)).getBoundingClientRect(),o={top:0,left:0,bottom:0,right:0},r=e?c[0].documentElement:this.scrollParent(t),a=r.getBoundingClientRect();if(o.top=a.top+r.clientTop,o.left=a.left+r.clientLeft,r===c[0].documentElement&&(o.top+=f.pageYOffset,o.left+=f.pageXOffset),o.bottom=o.top+r.clientHeight,o.right=o.left+r.clientWidth,n){var s=f.getComputedStyle(r);o.top+=this.parseStyle(s.paddingTop),o.bottom-=this.parseStyle(s.paddingBottom),o.left+=this.parseStyle(s.paddingLeft),o.right-=this.parseStyle(s.paddingRight)}return{top:Math.round(i.top-o.top),bottom:Math.round(o.bottom-i.bottom),left:Math.round(i.left-o.left),right:Math.round(o.right-i.right)}},parsePlacement:function(t){var e=m.auto.test(t);return e&&(t=t.replace(m.auto,"")),(t=t.split("-"))[0]=t[0]||"top",m.primary.test(t[0])||(t[0]="top"),t[1]=t[1]||"center",m.secondary.test(t[1])||(t[1]="center"),t[2]=!!e,t},positionElements:function(t,e,n,i){t=this.getRawNode(t),e=this.getRawNode(e);var o=angular.isDefined(e.offsetWidth)?e.offsetWidth:e.prop("offsetWidth"),r=angular.isDefined(e.offsetHeight)?e.offsetHeight:e.prop("offsetHeight");n=this.parsePlacement(n);var a=i?this.offset(t):this.position(t),s={top:0,left:0,placement:""};if(n[2]){var l=this.viewportOffset(t,i),c=f.getComputedStyle(e),d=o+Math.round(Math.abs(this.parseStyle(c.marginLeft)+this.parseStyle(c.marginRight))),u=r+Math.round(Math.abs(this.parseStyle(c.marginTop)+this.parseStyle(c.marginBottom)));if(n[0]="top"===n[0]&&u>l.top&&u<=l.bottom?"bottom":"bottom"===n[0]&&u>l.bottom&&u<=l.top?"top":"left"===n[0]&&d>l.left&&d<=l.right?"right":"right"===n[0]&&d>l.right&&d<=l.left?"left":n[0],n[1]="top"===n[1]&&u-a.height>l.bottom&&u-a.height<=l.top?"bottom":"bottom"===n[1]&&u-a.height>l.top&&u-a.height<=l.bottom?"top":"left"===n[1]&&d-a.width>l.right&&d-a.width<=l.left?"right":"right"===n[1]&&d-a.width>l.left&&d-a.width<=l.right?"left":n[1],"center"===n[1])if(m.vertical.test(n[0])){var h=a.width/2-o/2;l.left+h<0&&d-a.width<=l.right?n[1]="left":l.right+h<0&&d-a.width<=l.left&&(n[1]="right")}else{var p=a.height/2-u/2;l.top+p<0&&u-a.height<=l.bottom?n[1]="top":l.bottom+p<0&&u-a.height<=l.top&&(n[1]="bottom")}}switch(n[0]){case"top":s.top=a.top-r;break;case"bottom":s.top=a.top+a.height;break;case"left":s.left=a.left-o;break;case"right":s.left=a.left+a.width}switch(n[1]){case"top":s.top=a.top;break;case"bottom":s.top=a.top+a.height-r;break;case"left":s.left=a.left;break;case"right":s.left=a.left+a.width-o;break;case"center":m.vertical.test(n[0])?s.left=a.left+a.width/2-o/2:s.top=a.top+a.height/2-r/2}return s.top=Math.round(s.top),s.left=Math.round(s.left),s.placement="center"===n[1]?n[0]:n[0]+"-"+n[1],s},adjustTop:function(t,e,n,i){if(-1!==t.indexOf("top")&&n!==i)return{top:e.top-i+"px"}},positionArrow:function(t,e){var n=(t=this.getRawNode(t)).querySelector(".tooltip-inner, .popover-inner");if(n){var i=angular.element(n).hasClass("tooltip-inner"),o=i?t.querySelector(".tooltip-arrow"):t.querySelector(".arrow");if(o){var r={top:"",bottom:"",left:"",right:""};if("center"!==(e=this.parsePlacement(e))[1]){var a="border-"+e[0]+"-width",s=f.getComputedStyle(o)[a],l="border-";m.vertical.test(e[0])?l+=e[0]+"-"+e[1]:l+=e[1]+"-"+e[0],l+="-radius";var c=f.getComputedStyle(i?n:t)[l];switch(e[0]){case"top":r.bottom=i?"0":"-"+s;break;case"bottom":r.top=i?"0":"-"+s;break;case"left":r.right=i?"0":"-"+s;break;case"right":r.left=i?"0":"-"+s}r[e[1]]=c,angular.element(o).css(r)}else angular.element(o).css(r)}}}}}]),angular.module("ui.bootstrap.datepickerPopup",["ui.bootstrap.datepicker","ui.bootstrap.position"]).value("$datepickerPopupLiteralWarning",!0).constant("uibDatepickerPopupConfig",{altInputFormats:[],appendToBody:!1,clearText:"Clear",closeOnDateSelection:!0,closeText:"Done",currentText:"Today",datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"uib/template/datepickerPopup/popup.html",datepickerTemplateUrl:"uib/template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},onOpenFocus:!0,showButtonBar:!0,placement:"auto bottom-left"}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$log","$parse","$window","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout","uibDatepickerConfig","$datepickerPopupLiteralWarning",function(o,r,i,e,n,t,a,s,l,c,d,u,h,p,f,m){var g,v,y,b,_,x,w,E,M,T,C,S,A,k=!1,D=[];function O(t){var e=u.parse(t,g,o.date);if(isNaN(e))for(var n=0;n<A.length;n++)if(e=u.parse(t,A[n],o.date),!isNaN(e))return e;return e}function P(t){if(angular.isNumber(t)&&(t=new Date(t)),!t)return null;if(angular.isDate(t)&&!isNaN(t))return t;if(angular.isString(t)){var e=O(t);if(!isNaN(e))return u.toTimezone(e,C.getOption("timezone"))}return C.getOption("allowInvalid")?t:void 0}function N(t,e){var n=t||e;return!i.ngRequired&&!n||(angular.isNumber(n)&&(n=new Date(n)),!n||(!(!angular.isDate(n)||isNaN(n))||!!angular.isString(n)&&!isNaN(O(n))))}function L(t){if(o.isOpen||!o.disabled){var e=S[0],n=r[0].contains(t.target),i=void 0!==e.contains&&e.contains(t.target);!o.isOpen||n||i||o.$apply(function(){o.isOpen=!1})}}function I(t){27===t.which&&o.isOpen?(t.preventDefault(),t.stopPropagation(),o.$apply(function(){o.isOpen=!1}),r[0].focus()):40!==t.which||o.isOpen||(t.preventDefault(),t.stopPropagation(),o.$apply(function(){o.isOpen=!0}))}function R(){if(o.isOpen){var t=angular.element(S[0].querySelector(".uib-datepicker-popup")),e=i.popupPlacement?i.popupPlacement:h.placement,n=c.positionElements(r,t,e,y);t.css({top:n.top+"px",left:n.left+"px"}),t.hasClass("uib-position-measure")&&t.removeClass("uib-position-measure")}}this.init=function(t){if(C=function(t){var e;angular.version.minor<6?(e=angular.isObject(t.$options)?t.$options:{timezone:null}).getOption=function(t){return e[t]}:e=t.$options;return e}(T=t),v=angular.isDefined(i.closeOnDateSelection)?o.$parent.$eval(i.closeOnDateSelection):h.closeOnDateSelection,y=angular.isDefined(i.datepickerAppendToBody)?o.$parent.$eval(i.datepickerAppendToBody):h.appendToBody,b=angular.isDefined(i.onOpenFocus)?o.$parent.$eval(i.onOpenFocus):h.onOpenFocus,_=angular.isDefined(i.datepickerPopupTemplateUrl)?i.datepickerPopupTemplateUrl:h.datepickerPopupTemplateUrl,x=angular.isDefined(i.datepickerTemplateUrl)?i.datepickerTemplateUrl:h.datepickerTemplateUrl,A=angular.isDefined(i.altInputFormats)?o.$parent.$eval(i.altInputFormats):h.altInputFormats,o.showButtonBar=angular.isDefined(i.showButtonBar)?o.$parent.$eval(i.showButtonBar):h.showButtonBar,h.html5Types[i.type]?(g=h.html5Types[i.type],k=!0):(g=i.uibDatepickerPopup||h.datepickerPopup,i.$observe("uibDatepickerPopup",function(t,e){var n=t||h.datepickerPopup;if(n!==g&&(g=n,T.$modelValue=null,!g))throw new Error("uibDatepickerPopup must have a date format specified.")})),!g)throw new Error("uibDatepickerPopup must have a date format specified.");if(k&&i.uibDatepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");(w=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>")).attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":_}),(E=angular.element(w.children()[0])).attr("template-url",x),o.datepickerOptions||(o.datepickerOptions={}),k&&"month"===i.type&&(o.datepickerOptions.datepickerMode="month",o.datepickerOptions.minMode="month"),E.attr("datepicker-options","datepickerOptions"),k?T.$formatters.push(function(t){return o.date=u.fromTimezone(t,C.getOption("timezone")),t}):(T.$$parserName="date",T.$validators.date=N,T.$parsers.unshift(P),T.$formatters.push(function(t){return T.$isEmpty(t)?o.date=t:(angular.isNumber(t)&&(t=new Date(t)),o.date=u.fromTimezone(t,C.getOption("timezone")),u.filter(o.date,g))})),T.$viewChangeListeners.push(function(){o.date=O(T.$viewValue)}),r.on("keydown",I),S=e(w)(o),w.remove(),y?s.find("body").append(S):r.after(S),o.$on("$destroy",function(){for(!0===o.isOpen&&(l.$$phase||o.$apply(function(){o.isOpen=!1})),S.remove(),r.off("keydown",I),s.off("click",L),M&&M.off("scroll",R),angular.element(a).off("resize",R);D.length;)D.shift()()})},o.getText=function(t){return o[t+"Text"]||h[t+"Text"]},o.isDisabled=function(t){"today"===t&&(t=u.fromTimezone(new Date,C.getOption("timezone")));var e={};return angular.forEach(["minDate","maxDate"],function(t){o.datepickerOptions[t]?angular.isDate(o.datepickerOptions[t])?e[t]=new Date(o.datepickerOptions[t]):(m&&n.warn("Literal date support has been deprecated, please switch to date object usage"),e[t]=new Date(d(o.datepickerOptions[t],"medium"))):e[t]=null}),o.datepickerOptions&&e.minDate&&o.compare(t,e.minDate)<0||e.maxDate&&0<o.compare(t,e.maxDate)},o.compare=function(t,e){return new Date(t.getFullYear(),t.getMonth(),t.getDate())-new Date(e.getFullYear(),e.getMonth(),e.getDate())},o.dateSelection=function(t){o.date=t;var e=o.date?u.filter(o.date,g):null;r.val(e),T.$setViewValue(e),v&&(o.isOpen=!1,r[0].focus())},o.keydown=function(t){27===t.which&&(t.stopPropagation(),o.isOpen=!1,r[0].focus())},o.select=function(t,e){if(e.stopPropagation(),"today"===t){var n=new Date;angular.isDate(o.date)?(t=new Date(o.date)).setFullYear(n.getFullYear(),n.getMonth(),n.getDate()):(t=u.fromTimezone(n,C.getOption("timezone"))).setHours(0,0,0,0)}o.dateSelection(t)},o.close=function(t){t.stopPropagation(),o.isOpen=!1,r[0].focus()},o.disabled=angular.isDefined(i.disabled)||!1,i.ngDisabled&&D.push(o.$parent.$watch(t(i.ngDisabled),function(t){o.disabled=t})),o.$watch("isOpen",function(t){t?o.disabled?o.isOpen=!1:p(function(){R(),b&&o.$broadcast("uib:datepicker.focus"),s.on("click",L);var t=i.popupPlacement?i.popupPlacement:h.placement;y||c.parsePlacement(t)[2]?(M=M||angular.element(c.scrollParent(r)))&&M.on("scroll",R):M=null,angular.element(a).on("resize",R)},0,!1):(s.off("click",L),M&&M.off("scroll",R),angular.element(a).off("resize",R))}),o.$on("uib:datepicker.mode",function(){p(R,0,!1)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{datepickerOptions:"=?",isOpen:"=?",currentText:"@",clearText:"@",closeText:"@"},link:function(t,e,n,i){var o=i[0];i[1].init(o)}}}).directive("uibDatepickerPopupWrap",function(){return{restrict:"A",transclude:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/datepickerPopup/popup.html"}}}),angular.module("ui.bootstrap.debounce",[]).factory("$$debounce",["$timeout",function(r){return function(n,i){var o;return function(){var t=this,e=Array.prototype.slice.call(arguments);o&&r.cancel(o),o=r(function(){n.apply(t,e)},i)}}}]),angular.module("ui.bootstrap.multiMap",[]).factory("$$multiMap",function(){return{createNew:function(){var o={};return{entries:function(){return Object.keys(o).map(function(t){return{key:t,value:o[t]}})},get:function(t){return o[t]},hasKey:function(t){return!!o[t]},keys:function(){return Object.keys(o)},put:function(t,e){o[t]||(o[t]=[]),o[t].push(e)},remove:function(t,e){var n=o[t];if(n){var i=n.indexOf(e);-1!==i&&n.splice(i,1),n.length||delete o[t]}}}}}}),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.multiMap","ui.bootstrap.position"]).constant("uibDropdownConfig",{appendToOpenClass:"uib-dropdown-open",openClass:"open"}).service("uibDropdownService",["$document","$rootScope","$$multiMap",function(r,i,t){var a=null,s=t.createNew();this.isOnlyOpen=function(n,t){var e=s.get(t);if(e&&e.reduce(function(t,e){return e.scope===n?e:t},{}))return 1===e.length;return!1},this.open=function(t,e,n){if(a||r.on("click",l),a&&a!==t&&(a.isOpen=!1),a=t,n){var i=s.get(n);if(i)-1===i.map(function(t){return t.scope}).indexOf(t)&&s.put(n,{scope:t});else s.put(n,{scope:t})}},this.close=function(n,t,e){if(a===n&&(r.off("click",l),r.off("keydown",this.keybindFilter),a=null),e){var i=s.get(e);if(i){var o=i.reduce(function(t,e){return e.scope===n?e:t},{});o&&s.remove(e,o)}}};var l=function(t){if(a&&a.isOpen&&!(t&&"disabled"===a.getAutoClose()||t&&3===t.which)){var e=a.getToggleElement();if(!(t&&e&&e[0].contains(t.target))){var n=a.getDropdownElement();t&&"outsideClick"===a.getAutoClose()&&n&&n[0].contains(t.target)||(a.focusToggleElement(),a.isOpen=!1,i.$$phase||a.$apply())}}};this.keybindFilter=function(t){if(a){var e=a.getDropdownElement(),n=a.getToggleElement(),i=e&&e[0].contains(t.target),o=n&&n[0].contains(t.target);27===t.which?(t.stopPropagation(),a.focusToggleElement(),l()):a.isKeynavEnabled()&&-1!==[38,40].indexOf(t.which)&&a.isOpen&&(i||o)&&(t.preventDefault(),t.stopPropagation(),a.focusDropdownEntry(t.which))}}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(g,v,y,b,t,_,x,w,E,M,T){var C,e,S=this,A=g.$new(),k=t.appendToOpenClass,D=t.openClass,O=angular.noop,P=y.onToggle?b(y.onToggle):angular.noop,n=!1,N=E.find("body");function L(){v.append(S.dropdownMenu)}v.addClass("dropdown"),this.init=function(){y.isOpen&&(e=b(y.isOpen),O=e.assign,g.$watch(e,function(t){A.isOpen=!!t})),n=angular.isDefined(y.keyboardNav)},this.toggle=function(t){return A.isOpen=arguments.length?!!t:!A.isOpen,angular.isFunction(O)&&O(A,A.isOpen),A.isOpen},this.isOpen=function(){return A.isOpen},A.getToggleElement=function(){return S.toggleElement},A.getAutoClose=function(){return y.autoClose||"always"},A.getElement=function(){return v},A.isKeynavEnabled=function(){return n},A.focusDropdownEntry=function(t){var e=S.dropdownMenu?angular.element(S.dropdownMenu).find("a"):v.find("ul").eq(0).find("a");switch(t){case 40:angular.isNumber(S.selectedOption)?S.selectedOption=S.selectedOption===e.length-1?S.selectedOption:S.selectedOption+1:S.selectedOption=0;break;case 38:angular.isNumber(S.selectedOption)?S.selectedOption=0===S.selectedOption?0:S.selectedOption-1:S.selectedOption=e.length-1}e[S.selectedOption].focus()},A.getDropdownElement=function(){return S.dropdownMenu},A.focusToggleElement=function(){S.toggleElement&&S.toggleElement[0].focus()},A.$watch("isOpen",function(t,e){var n=null,i=!1;if(angular.isDefined(y.dropdownAppendTo)){var o=b(y.dropdownAppendTo)(A);o&&(n=angular.element(o))}angular.isDefined(y.dropdownAppendToBody)&&(!1!==b(y.dropdownAppendToBody)(A)&&(i=!0));if(i&&!n&&(n=N),n&&S.dropdownMenu&&(t?(n.append(S.dropdownMenu),v.on("$destroy",L)):(v.off("$destroy",L),L())),n&&S.dropdownMenu){var r,a,s,l=w.positionElements(v,S.dropdownMenu,"bottom-left",!0),c=0;if(r={top:l.top+"px",display:t?"block":"none"},a=S.dropdownMenu.hasClass("dropdown-menu-right"),r.right=a?(r.left="auto",(s=w.scrollbarPadding(n)).heightOverflow&&s.scrollbarWidth&&(c=s.scrollbarWidth),window.innerWidth-c-(l.left+v.prop("offsetWidth"))+"px"):(r.left=l.left+"px","auto"),!i){var d=w.offset(n);r.top=l.top-d.top+"px",a?r.right=window.innerWidth-(l.left-d.left+v.prop("offsetWidth"))+"px":r.left=l.left-d.left+"px"}S.dropdownMenu.css(r)}var u=n||v,h=n?k:D,p=u.hasClass(h),f=_.isOnlyOpen(g,n);p===!t&&x[n?f?"removeClass":"addClass":t?"addClass":"removeClass"](u,h).then(function(){angular.isDefined(t)&&t!==e&&P(g,{open:!!t})});if(t)S.dropdownMenuTemplateUrl?T(S.dropdownMenuTemplateUrl).then(function(t){C=A.$new(),M(t.trim())(C,function(t){var e=t;S.dropdownMenu.replaceWith(e),S.dropdownMenu=e,E.on("keydown",_.keybindFilter)})}):E.on("keydown",_.keybindFilter),A.focusToggleElement(),_.open(A,v,n);else{if(_.close(A,v,n),S.dropdownMenuTemplateUrl){C&&C.$destroy();var m=angular.element('<ul class="dropdown-menu"></ul>');S.dropdownMenu.replaceWith(m),S.dropdownMenu=m}S.selectedOption=null}angular.isFunction(O)&&O(g,t)})}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(t,e,n,i){i.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"A",require:"?^uibDropdown",link:function(t,e,n,i){if(i&&!angular.isDefined(n.dropdownNested)){e.addClass("dropdown-menu");var o=n.templateUrl;o&&(i.dropdownMenuTemplateUrl=o),i.dropdownMenu||(i.dropdownMenu=e)}}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(e,n,i,o){if(o){n.addClass("dropdown-toggle"),o.toggleElement=n;var t=function(t){t.preventDefault(),n.hasClass("disabled")||i.disabled||e.$apply(function(){o.toggle()})};n.on("click",t),n.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(o.isOpen,function(t){n.attr("aria-expanded",!!t)}),e.$on("$destroy",function(){n.off("click",t)})}}}}),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var i=[];return{add:function(t,e){i.push({key:t,value:e})},get:function(t){for(var e=0;e<i.length;e++)if(t===i[e].key)return i[e]},keys:function(){for(var t=[],e=0;e<i.length;e++)t.push(i[e].key);return t},top:function(){return i[i.length-1]},remove:function(t){for(var e=-1,n=0;n<i.length;n++)if(t===i[n].key){e=n;break}return i.splice(e,1)[0]},removeTop:function(){return i.pop()},length:function(){return i.length}}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.multiMap","ui.bootstrap.stackedMap","ui.bootstrap.position"]).provider("$uibResolve",function(){var t=this;this.resolver=null,this.setResolver=function(t){this.resolver=t},this.$get=["$injector","$q",function(r,a){var s=t.resolver?r.get(t.resolver):null;return{resolve:function(t,e,n,i){if(s)return s.resolve(t,e,n,i);var o=[];return angular.forEach(t,function(t){angular.isFunction(t)||angular.isArray(t)?o.push(a.resolve(r.invoke(t))):angular.isString(t)?o.push(a.resolve(r.get(t))):o.push(a.resolve(t))}),a.all(o).then(function(n){var i={},o=0;return angular.forEach(t,function(t,e){i[e]=n[o++]}),i})}}}]}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(a,t,e){return{restrict:"A",compile:function(t,e){return t.addClass(e.backdropClass),n}};function n(i,o,r){r.modalInClass&&(a.addClass(o,r.modalInClass),i.$on(e.NOW_CLOSING_EVENT,function(t,e){var n=e();i.modalOptions.animation?a.removeClass(o,r.modalInClass).then(n):n()}))}}]).directive("uibModalWindow",["$uibModalStack","$q","$animateCss","$document",function(n,r,a,s){return{scope:{index:"@"},restrict:"A",transclude:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/modal/window.html"},link:function(e,i,o){i.addClass(o.windowTopClass||""),e.size=o.size,e.close=function(t){var e=n.getTop();e&&e.value.backdrop&&"static"!==e.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),n.dismiss(e.key,"backdrop click"))},i.on("click",e.close),e.$isRendered=!0;var t=r.defer();e.$$postDigest(function(){t.resolve()}),t.promise.then(function(){var t=null;o.modalInClass&&(t=a(i,{addClass:o.modalInClass}).start(),e.$on(n.NOW_CLOSING_EVENT,function(t,e){var n=e();a(i,{removeClass:o.modalInClass}).start().then(n)})),r.when(t).then(function(){var t=n.getTop();if(t&&n.modalRendered(t.key),!s[0].activeElement||!i[0].contains(s[0].activeElement)){var e=i[0].querySelector("[autofocus]");e?e.focus():i[0].focus()}})})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(t,e){e.modalAnimation&&t.addClass(e.uibModalAnimationClass)}}}).directive("uibModalTransclude",["$animate",function(r){return{link:function(t,e,n,i,o){o(t.$parent,function(t){e.empty(),r.enter(t,e)})}}}]).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap","$uibPosition",function(l,t,c,d,u,a,e,n,h){var p,f,m,g="modal-open",v=n.createNew(),y=e.createNew(),s={NOW_CLOSING_EVENT:"modal.stack.now-closing"},b=0,_=null,x="data-bootstrap-modal-aria-hidden-count",w=/[A-Z]/g;function E(){for(var t=-1,e=v.keys(),n=0;n<e.length;n++)v.get(e[n]).value.backdrop&&(t=n);return-1<t&&t<b&&(t=b),t}function i(n,t){var i=v.get(n).value,o=i.appendTo;v.remove(n),(_=v.top())&&(b=parseInt(_.value.modalDomEl.attr("index"),10)),r(i.modalDomEl,i.modalScope,function(){var t=i.openedClass||g;y.remove(t,n);var e=y.hasKey(t);o.toggleClass(t,e),!e&&m&&m.heightOverflow&&m.scrollbarWidth&&(m.originalRight?o.css({paddingRight:m.originalRight+"px"}):o.css({paddingRight:""}),m=null),M(!0)},i.closedDeferred),function(){if(p&&-1===E()){r(p,f,function(){null}),f=p=void 0}}(),t&&t.focus?t.focus():o.focus&&o.focus()}function M(t){var e;0<v.length()&&(e=v.top().value).modalDomEl.toggleClass(e.windowTopClass||"",t)}function r(e,n,i,o){var t,r=null;return n.$broadcast(s.NOW_CLOSING_EVENT,function(){return t||(t=a.defer(),r=t.promise),function(){t.resolve()}}),a.when(r).then(function t(){if(t.done)return;t.done=!0;l.leave(e).then(function(){i&&i(),e.remove(),o&&o.resolve()});n.$destroy()})}function o(t){if(t.isDefaultPrevented())return t;var e=v.top();if(e)switch(t.which){case 27:e.value.keyboard&&(t.preventDefault(),u.$apply(function(){s.dismiss(e.key,"escape key press")}));break;case 9:var n=s.loadFocusElementList(e),i=!1;t.shiftKey?(s.isFocusInFirstItem(t,n)||s.isModalFocused(t,e))&&(i=s.focusLastFocusableElement(n)):s.isFocusInLastItem(t,n)&&(i=s.focusFirstFocusableElement(n)),i&&(t.preventDefault(),t.stopPropagation())}}function T(t,e,n){return!t.value.modalScope.$broadcast("modal.closing",e,n).defaultPrevented}function C(){Array.prototype.forEach.call(document.querySelectorAll("["+x+"]"),function(t){var e=parseInt(t.getAttribute(x),10)-1;t.setAttribute(x,e),e||(t.removeAttribute(x),t.removeAttribute("aria-hidden"))})}return u.$watch(E,function(t){f&&(f.index=t)}),c.on("keydown",o),u.$on("$destroy",function(){c.off("keydown",o)}),s.open=function(t,e){var n=c[0].activeElement,i=e.openedClass||g;M(!1),_=v.top(),v.add(t,{deferred:e.deferred,renderDeferred:e.renderDeferred,closedDeferred:e.closedDeferred,modalScope:e.scope,backdrop:e.backdrop,keyboard:e.keyboard,openedClass:e.openedClass,windowTopClass:e.windowTopClass,animation:e.animation,appendTo:e.appendTo}),y.put(i,t);var o,r=e.appendTo,a=E();0<=a&&!p&&((f=u.$new(!0)).modalOptions=e,f.index=a,(p=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>')).attr({class:"modal-backdrop","ng-style":"{'z-index': 1040 + (index && 1 || 0) + index*10}","uib-modal-animation-class":"fade","modal-in-class":"in"}),e.backdropClass&&p.addClass(e.backdropClass),e.animation&&p.attr("modal-animation","true"),d(p)(f),l.enter(p,r),h.isScrollable(r)&&(m=h.scrollbarPadding(r)).heightOverflow&&m.scrollbarWidth&&r.css({paddingRight:m.right+"px"})),e.component?(o=document.createElement(e.component.name.replace(w,function(t,e){return(e?"-":"")+t.toLowerCase()})),(o=angular.element(o)).attr({resolve:"$resolve","modal-instance":"$uibModalInstance",close:"$close($value)",dismiss:"$dismiss($value)"})):o=e.content,b=_?parseInt(_.value.modalDomEl.attr("index"),10)+1:0;var s=angular.element('<div uib-modal-window="modal-window"></div>');s.attr({class:"modal","template-url":e.windowTemplateUrl,"window-top-class":e.windowTopClass,role:"dialog","aria-labelledby":e.ariaLabelledBy,"aria-describedby":e.ariaDescribedBy,size:e.size,index:b,animate:"animate","ng-style":"{'z-index': 1050 + $$topModalIndex*10, display: 'block'}",tabindex:-1,"uib-modal-animation-class":"fade","modal-in-class":"in"}).append(o),e.windowClass&&s.addClass(e.windowClass),e.animation&&s.attr("modal-animation","true"),r.addClass(i),e.scope&&(e.scope.$$topModalIndex=b),l.enter(d(s)(e.scope),r),v.top().value.modalDomEl=s,v.top().value.modalOpener=n,function t(e){if(!e||"BODY"===e[0].tagName)return;(n=e,i=n.parent()?n.parent().children():[],Array.prototype.filter.call(i,function(t){return t!==n[0]})).forEach(function(t){var e="true"===t.getAttribute("aria-hidden"),n=parseInt(t.getAttribute(x),10);n||(n=e?1:0),t.setAttribute(x,n+1),t.setAttribute("aria-hidden","true")});var n,i;return t(e.parent())}(s)},s.close=function(t,e){var n=v.get(t);return C(),n&&T(n,e,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(e),i(t,n.value.modalOpener),!0):!n},s.dismiss=function(t,e){var n=v.get(t);return C(),n&&T(n,e,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(e),i(t,n.value.modalOpener),!0):!n},s.dismissAll=function(t){for(var e=this.getTop();e&&this.dismiss(e.key,t);)e=this.getTop()},s.getTop=function(){return v.top()},s.modalRendered=function(t){var e=v.get(t);e&&e.value.renderDeferred.resolve()},s.focusFirstFocusableElement=function(t){return 0<t.length&&(t[0].focus(),!0)},s.focusLastFocusableElement=function(t){return 0<t.length&&(t[t.length-1].focus(),!0)},s.isModalFocused=function(t,e){if(t&&e){var n=e.value.modalDomEl;if(n&&n.length)return(t.target||t.srcElement)===n[0]}return!1},s.isFocusInFirstItem=function(t,e){return 0<e.length&&(t.target||t.srcElement)===e[0]},s.isFocusInLastItem=function(t,e){return 0<e.length&&(t.target||t.srcElement)===e[e.length-1]},s.loadFocusElementList=function(t){if(t){var e=t.value.modalDomEl;if(e&&e.length){var n=e[0].querySelectorAll("a[href], area[href], input:not([disabled]):not([tabindex='-1']), button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']), textarea:not([disabled]):not([tabindex='-1']), iframe, object, embed, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]");return n?Array.prototype.filter.call(n,function(t){return!!((e=t).offsetWidth||e.offsetHeight||e.getClientRects().length);var e}):n}}},s}]).provider("$uibModal",function(){var y={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(m,o,r,a,g,s,v){var t={};var l=null;return t.getPromiseChain=function(){return l},t.open=function(c){var t,e,n,d=o.defer(),u=o.defer(),h=o.defer(),p=o.defer(),f={result:d.promise,opened:u.promise,closed:h.promise,rendered:p.promise,close:function(t){return v.close(f,t)},dismiss:function(t){return v.dismiss(f,t)}};if((c=angular.extend({},y.options,c)).resolve=c.resolve||{},c.appendTo=c.appendTo||r.find("body").eq(0),!c.appendTo.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");if(!c.component&&!c.template&&!c.templateUrl)throw new Error("One of component or template or templateUrl options is required.");function i(){return t}return t=c.component?o.when(s.resolve(c.resolve,{},null,null)):o.all([(e=c,e.template?o.when(e.template):a(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl)),s.resolve(c.resolve,{},null,null)]),n=l=o.all([l]).then(i,i).then(function(r){var t=c.scope||m,a=t.$new();a.$close=f.close,a.$dismiss=f.dismiss,a.$on("$destroy",function(){a.$$uibDestructionScheduled||a.$dismiss("$uibUnscheduledDestruction")});var e,n,i={scope:a,deferred:d,renderDeferred:p,closedDeferred:h,animation:c.animation,backdrop:c.backdrop,keyboard:c.keyboard,backdropClass:c.backdropClass,windowTopClass:c.windowTopClass,windowClass:c.windowClass,windowTemplateUrl:c.windowTemplateUrl,ariaLabelledBy:c.ariaLabelledBy,ariaDescribedBy:c.ariaDescribedBy,size:c.size,openedClass:c.openedClass,appendTo:c.appendTo},o={},s={};function l(n,t,e,i){n.$scope=a,n.$scope.$resolve={},e?n.$scope.$uibModalInstance=f:n.$uibModalInstance=f;var o=t?r[1]:r;angular.forEach(o,function(t,e){i&&(n[e]=t),n.$scope.$resolve[e]=t})}c.component?(l(o,!1,!0,!1),o.name=c.component,i.component=o):c.controller&&(l(s,!0,!1,!0),n=g(c.controller,s,!0,c.controllerAs),c.controllerAs&&c.bindToController&&((e=n.instance).$close=a.$close,e.$dismiss=a.$dismiss,angular.extend(e,{$resolve:s.$scope.$resolve},t)),e=n(),angular.isFunction(e.$onInit)&&e.$onInit()),c.component||(i.content=r[0]),v.open(f,i),u.resolve(!0)},function(t){u.reject(t),d.reject(t)}).finally(function(){l===n&&(l=null)}),f},t}]};return y}),angular.module("ui.bootstrap.paging",[]).factory("uibPaging",["$parse",function(t){return{create:function(n,i,o){n.setNumPages=o.numPages?t(o.numPages).assign:angular.noop,n.ngModelCtrl={$setViewValue:angular.noop},n._watchers=[],n.init=function(t,e){n.ngModelCtrl=t,n.config=e,t.$render=function(){n.render()},o.itemsPerPage?n._watchers.push(i.$parent.$watch(o.itemsPerPage,function(t){n.itemsPerPage=parseInt(t,10),i.totalPages=n.calculateTotalPages(),n.updatePage()})):n.itemsPerPage=e.itemsPerPage,i.$watch("totalItems",function(t,e){(angular.isDefined(t)||t!==e)&&(i.totalPages=n.calculateTotalPages(),n.updatePage())})},n.calculateTotalPages=function(){var t=n.itemsPerPage<1?1:Math.ceil(i.totalItems/n.itemsPerPage);return Math.max(t||0,1)},n.render=function(){i.page=parseInt(n.ngModelCtrl.$viewValue,10)||1},i.selectPage=function(t,e){e&&e.preventDefault(),(!i.ngDisabled||!e)&&i.page!==t&&0<t&&t<=i.totalPages&&(e&&e.target&&e.target.blur(),n.ngModelCtrl.$setViewValue(t),n.ngModelCtrl.$render())},i.getText=function(t){return i[t+"Text"]||n.config[t+"Text"]},i.noPrevious=function(){return 1===i.page},i.noNext=function(){return i.page===i.totalPages},n.updatePage=function(){n.setNumPages(i.$parent,i.totalPages),i.page>i.totalPages?i.selectPage(i.totalPages):n.ngModelCtrl.$render()},i.$on("$destroy",function(){for(;n._watchers.length;)n._watchers.shift()()})}}}]),angular.module("ui.bootstrap.pager",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPagerController",["$scope","$attrs","uibPaging","uibPagerConfig",function(t,e,n,i){t.align=angular.isDefined(e.align)?t.$parent.$eval(e.align):i.align,n.create(this,t,e)}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:" Previous",nextText:"Next ",align:!0}).directive("uibPager",["uibPagerConfig",function(a){return{scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],restrict:"A",controller:"UibPagerController",controllerAs:"pager",templateUrl:function(t,e){return e.templateUrl||"uib/template/pager/pager.html"},link:function(t,e,n,i){e.addClass("pager");var o=i[0],r=i[1];r&&o.init(r,a)}}}]),angular.module("ui.bootstrap.pagination",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPaginationController",["$scope","$attrs","$parse","uibPaging","uibPaginationConfig",function(e,n,t,i,o){var r=this,f=angular.isDefined(n.maxSize)?e.$parent.$eval(n.maxSize):o.maxSize,m=angular.isDefined(n.rotate)?e.$parent.$eval(n.rotate):o.rotate,g=angular.isDefined(n.forceEllipses)?e.$parent.$eval(n.forceEllipses):o.forceEllipses,v=angular.isDefined(n.boundaryLinkNumbers)?e.$parent.$eval(n.boundaryLinkNumbers):o.boundaryLinkNumbers,y=angular.isDefined(n.pageLabel)?function(t){return e.$parent.$eval(n.pageLabel,{$page:t})}:angular.identity;function b(t,e,n){return{number:t,text:e,active:n}}e.boundaryLinks=angular.isDefined(n.boundaryLinks)?e.$parent.$eval(n.boundaryLinks):o.boundaryLinks,e.directionLinks=angular.isDefined(n.directionLinks)?e.$parent.$eval(n.directionLinks):o.directionLinks,n.$set("role","menu"),i.create(this,e,n),n.maxSize&&r._watchers.push(e.$parent.$watch(t(n.maxSize),function(t){f=parseInt(t,10),r.render()}));var a=this.render;this.render=function(){a(),0<e.page&&e.page<=e.totalPages&&(e.pages=function(t,e){var n=[],i=1,o=e,r=angular.isDefined(f)&&f<e;r&&(m?e<(o=(i=Math.max(t-Math.floor(f/2),1))+f-1)&&(i=(o=e)-f+1):(i=(Math.ceil(t/f)-1)*f+1,o=Math.min(i+f-1,e)));for(var a=i;a<=o;a++){var s=b(a,y(a),a===t);n.push(s)}if(r&&0<f&&(!m||g||v)){if(1<i){if(!v||3<i){var l=b(i-1,"...",!1);n.unshift(l)}if(v){if(3===i){var c=b(2,"2",!1);n.unshift(c)}var d=b(1,"1",!1);n.unshift(d)}}if(o<e){if(!v||o<e-2){var u=b(o+1,"...",!1);n.push(u)}if(v){if(o===e-2){var h=b(e-1,e-1,!1);n.push(h)}var p=b(e,e,!1);n.push(p)}}}return n}(e.page,e.totalPages))}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,boundaryLinkNumbers:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0,forceEllipses:!1}).directive("uibPagination",["$parse","uibPaginationConfig",function(t,a){return{scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],restrict:"A",controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(t,e){return e.templateUrl||"uib/template/pagination/pagination.html"},link:function(t,e,n,i){e.addClass("pagination");var o=i[0],r=i[1];r&&o.init(r,a)}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){var s={placement:"top",placementClassPrefix:"",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},l={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur",none:""},c={};this.options=function(t){angular.extend(c,t)},this.setTriggers=function(t){angular.extend(l,t)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(t,r,V,G,W,a,e,Y,n){var q=n.createNew();function i(t){if(27===t.which){var e=q.top();e&&(e.value.close(),e=null)}}return G.on("keyup",i),e.$on("$destroy",function(){G.off("keyup",i)}),function(H,B,i,U){function j(t){var e=(t||U.trigger||i).split(" "),n=e.map(function(t){return l[t]||t});return{show:e,hide:n}}U=angular.extend({},s,c,U);var t=H.replace(/[A-Z]/g,function(t,e){return(e?"-":"")+t.toLowerCase()}),e=a.startSymbol(),n=a.endSymbol(),o="<div "+t+'-popup uib-title="'+e+"title"+n+'" '+(U.useContentExp?'content-exp="contentExp()" ':'content="'+e+"content"+n+'" ')+'origin-scope="origScope" class="uib-position-measure '+B+'" tooltip-animation-class="fade"uib-tooltip-classes ng-class="{ in: isOpen }" ></div>';return{compile:function(t,e){var z=r(o);return function(i,r,o,t){var a,e,n,s,l,c,d,u,h=!!angular.isDefined(U.appendToBody)&&U.appendToBody,p=j(void 0),f=angular.isDefined(o[B+"Enable"]),m=i.$new(!0),g=!1,v=!!angular.isDefined(o[B+"IsOpen"])&&Y(o[B+"IsOpen"]),y=!!U.useContentExp&&Y(o[H]),b=[],_=function(){a&&a.html()&&(c||(c=V(function(){var t=W.positionElements(r,a,m.placement,h),n=angular.isDefined(a.offsetHeight)?a.offsetHeight:a.prop("offsetHeight"),i=h?W.offset(r):W.position(r);a.css({top:t.top+"px",left:t.left+"px"});var o=t.placement.split("-");a.hasClass(o[0])||(a.removeClass(u.split("-")[0]),a.addClass(o[0])),a.hasClass(U.placementClassPrefix+t.placement)||(a.removeClass(U.placementClassPrefix+u),a.addClass(U.placementClassPrefix+t.placement)),d=V(function(){var t=angular.isDefined(a.offsetHeight)?a.offsetHeight:a.prop("offsetHeight"),e=W.adjustTop(o,i,n,t);e&&a.css(e),d=null},0,!1),a.hasClass("uib-position-measure")?(W.positionArrow(a,t.placement),a.removeClass("uib-position-measure")):u!==t.placement&&W.positionArrow(a,t.placement),u=t.placement,c=null},0,!1)))};function x(){m.isOpen?E():w()}function w(){f&&!i.$eval(o[B+"Enable"])||(S(),function(){m.title=o[B+"Title"],m.content=y?y(i):o[H];m.popupClass=o[B+"Class"],m.placement=angular.isDefined(o[B+"Placement"])?o[B+"Placement"]:U.placement;var t=W.parsePlacement(m.placement);u=t[1]?t[0]+"-"+t[1]:t[0];var e=parseInt(o[B+"PopupDelay"],10),n=parseInt(o[B+"PopupCloseDelay"],10);m.popupDelay=isNaN(e)?U.popupDelay:e,m.popupCloseDelay=isNaN(n)?U.popupCloseDelay:n}(),m.popupDelay?s||(s=V(M,m.popupDelay,!1)):M())}function E(){T(),m.popupCloseDelay?l||(l=V(C,m.popupCloseDelay,!1)):C()}function M(){if(T(),S(),!m.content)return angular.noop;!function(){if(a)return;e=m.$new(),a=z(e,function(t){h?G.find("body").append(t):r.after(t)}),q.add(m,{close:C}),function(){b.length=0,y?(b.push(i.$watch(y,function(t){!(m.content=t)&&m.isOpen&&C()})),b.push(e.$watch(function(){g||(g=!0,e.$$postDigest(function(){g=!1,m&&m.isOpen&&_()}))}))):b.push(o.$observe(H,function(t){!(m.content=t)&&m.isOpen?C():_()}));b.push(o.$observe(B+"Title",function(t){m.title=t,m.isOpen&&_()})),b.push(o.$observe(B+"Placement",function(t){m.placement=t||U.placement,m.isOpen&&_()}))}()}(),m.$evalAsync(function(){k(m.isOpen=!0),_()})}function T(){s&&(V.cancel(s),s=null),c&&(V.cancel(c),c=null)}function C(){m&&m.$evalAsync(function(){m&&(k(m.isOpen=!1),m.animation?n||(n=V(A,150,!1)):A())})}function S(){l&&(V.cancel(l),l=null),n&&(V.cancel(n),n=null)}function A(){T(),S(),b.length&&(angular.forEach(b,function(t){t()}),b.length=0),a&&(a.remove(),a=null,d&&V.cancel(d)),q.remove(m),e&&(e.$destroy(),e=null)}function k(t){v&&angular.isFunction(v.assign)&&v.assign(i,t)}function D(t){m&&m.isOpen&&a&&(r[0].contains(t.target)||a[0].contains(t.target)||E())}function O(t){27===t.which&&E()}m.origScope=i,m.isOpen=!1,m.contentExp=function(){return m.content},o.$observe("disabled",function(t){t&&T(),t&&m.isOpen&&C()}),v&&i.$watch(v,function(t){m&&!t===m.isOpen&&x()});var P,N,L,I=function(){p.show.forEach(function(t){"outsideClick"===t?r.off("click",x):(r.off(t,w),r.off(t,x)),r.off("keypress",O)}),p.hide.forEach(function(t){"outsideClick"===t?G.off("click",D):r.off(t,E)})};P=[],N=[],L=i.$eval(o[B+"Trigger"]),I(),"none"!==(p=angular.isObject(L)?(Object.keys(L).forEach(function(t){P.push(t),N.push(L[t])}),{show:P,hide:N}):j(L)).show&&p.show.forEach(function(t,e){"outsideClick"===t?(r.on("click",x),G.on("click",D)):t===p.hide[e]?r.on(t,x):t&&(r.on(t,w),r.on(p.hide[e],E)),r.on("keypress",O)});var R,$=i.$eval(o[B+"Animation"]);m.animation=angular.isDefined($)?!!$:U.animation;var F=B+"AppendToBody";R=F in o&&void 0===o[F]||i.$eval(o[F]),h=angular.isDefined(R)?R:h,i.$on("$destroy",function(){I(),A(),m=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(u,i,h,p){return{link:function(t,r,e){var a,n,s,l=t.$eval(e.tooltipTemplateTranscludeScope),c=0,d=function(){n&&(n.remove(),n=null),a&&(a.$destroy(),a=null),s&&(u.leave(s).then(function(){n=null}),n=s,s=null)};t.$watch(i.parseAsResourceUrl(e.uibTooltipTemplateTransclude),function(i){var o=++c;i?(p(i,!0).then(function(t){if(o===c){var e=l.$new(),n=h(t)(e,function(t){d(),u.enter(t,r)});s=n,(a=e).$emit("$includeContentLoaded",i)}},function(){o===c&&(d(),t.$emit("$includeContentError",i))}),t.$emit("$includeContentRequested",i)):d()}),t.$on("$destroy",d)}}}]).directive("uibTooltipClasses",["$uibPosition",function(o){return{restrict:"A",link:function(t,e,n){if(t.placement){var i=o.parsePlacement(t.placement);e.addClass(i[0])}t.popupClass&&e.addClass(t.popupClass),t.animation&&e.addClass(n.tooltipAnimationClass)}}}]).directive("uibTooltipPopup",function(){return{restrict:"A",scope:{content:"@"},templateUrl:"uib/template/tooltip/tooltip-popup.html"}}).directive("uibTooltip",["$uibTooltip",function(t){return t("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{restrict:"A",scope:{contentExp:"&",originScope:"&"},templateUrl:"uib/template/tooltip/tooltip-template-popup.html"}}).directive("uibTooltipTemplate",["$uibTooltip",function(t){return t("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&"},templateUrl:"uib/template/tooltip/tooltip-html-popup.html"}}).directive("uibTooltipHtml",["$uibTooltip",function(t){return t("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{restrict:"A",scope:{uibTitle:"@",contentExp:"&",originScope:"&"},templateUrl:"uib/template/popover/popover-template.html"}}).directive("uibPopoverTemplate",["$uibTooltip",function(t){return t("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&",uibTitle:"@"},templateUrl:"uib/template/popover/popover-html.html"}}).directive("uibPopoverHtml",["$uibTooltip",function(t){return t("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{restrict:"A",scope:{uibTitle:"@",content:"@"},templateUrl:"uib/template/popover/popover.html"}}).directive("uibPopover",["$uibTooltip",function(t){return t("uibPopover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(t,e,n){var i=this,o=angular.isDefined(e.animate)?t.$parent.$eval(e.animate):n.animate;function r(){return angular.isDefined(t.maxParam)?t.maxParam:n.max}this.bars=[],t.max=r(),this.addBar=function(e,t,n){o||t.css({transition:"none"}),this.bars.push(e),e.max=r(),e.title=n&&angular.isDefined(n.title)?n.title:"progressbar",e.$watch("value",function(t){e.recalculatePercentage()}),e.recalculatePercentage=function(){var t=i.bars.reduce(function(t,e){return e.percent=+(100*e.value/e.max).toFixed(2),t+e.percent},0);100<t&&(e.percent-=t-100)},e.$on("$destroy",function(){t=null,i.removeBar(e)})},this.removeBar=function(t){this.bars.splice(this.bars.indexOf(t),1),this.bars.forEach(function(t){t.recalculatePercentage()})},t.$watch("maxParam",function(t){i.bars.forEach(function(t){t.max=r(),t.recalculatePercentage()})})}]).directive("uibProgress",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{maxParam:"=?max"},templateUrl:"uib/template/progressbar/progress.html"}}).directive("uibBar",function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"uib/template/progressbar/bar.html",link:function(t,e,n,i){i.addBar(t,e,n)}}}).directive("uibProgressbar",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",maxParam:"=?max",type:"@"},templateUrl:"uib/template/progressbar/progressbar.html",link:function(t,e,n,i){i.addBar(t,angular.element(e.children()[0]),{title:n.title})}}}),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,enableReset:!0,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(i,o,r){var a={$setViewValue:angular.noop},n=this;this.init=function(t){(a=t).$render=this.render,a.$formatters.push(function(t){return angular.isNumber(t)&&t<<0!==t&&(t=Math.round(t)),t}),this.stateOn=angular.isDefined(o.stateOn)?i.$parent.$eval(o.stateOn):r.stateOn,this.stateOff=angular.isDefined(o.stateOff)?i.$parent.$eval(o.stateOff):r.stateOff,this.enableReset=angular.isDefined(o.enableReset)?i.$parent.$eval(o.enableReset):r.enableReset;var e=angular.isDefined(o.titles)?i.$parent.$eval(o.titles):r.titles;this.titles=angular.isArray(e)&&0<e.length?e:r.titles;var n=angular.isDefined(o.ratingStates)?i.$parent.$eval(o.ratingStates):new Array(angular.isDefined(o.max)?i.$parent.$eval(o.max):r.max);i.range=this.buildTemplateObjects(n)},this.buildTemplateObjects=function(t){for(var e=0,n=t.length;e<n;e++)t[e]=angular.extend({index:e},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(e)},t[e]);return t},this.getTitle=function(t){return t>=this.titles.length?t+1:this.titles[t]},i.rate=function(t){if(!i.readonly&&0<=t&&t<=i.range.length){var e=n.enableReset&&a.$viewValue===t?0:t;a.$setViewValue(e),a.$render()}},i.enter=function(t){i.readonly||(i.value=t),i.onHover({value:t})},i.reset=function(){i.value=a.$viewValue,i.onLeave()},i.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),i.rate(i.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){i.value=a.$viewValue,i.title=n.getTitle(i.value-1)}}]).directive("uibRating",function(){return{require:["uibRating","ngModel"],restrict:"A",scope:{readonly:"=?readOnly",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"uib/template/rating/rating.html",link:function(t,e,n,i){var o=i[0],r=i[1];o.init(r)}}}),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(t){var r,a,s=this;function l(t){for(var e=0;e<s.tabs.length;e++)if(s.tabs[e].index===t)return e}s.tabs=[],s.select=function(t,e){if(!a){var n=l(r),i=s.tabs[n];if(i){if(i.tab.onDeselect({$event:e,$selectedIndex:t}),e&&e.isDefaultPrevented())return;i.tab.active=!1}var o=s.tabs[t];o?(o.tab.onSelect({$event:e}),o.tab.active=!0,s.active=o.index,r=o.index):!o&&angular.isDefined(r)&&(s.active=null,r=null)}},s.addTab=function(t){if(s.tabs.push({tab:t,index:t.index}),s.tabs.sort(function(t,e){return t.index>e.index?1:t.index<e.index?-1:0}),t.index===s.active||!angular.isDefined(s.active)&&1===s.tabs.length){var e=l(t.index);s.select(e)}},s.removeTab=function(t){for(var e,n=0;n<s.tabs.length;n++)if(s.tabs[n].tab===t){e=n;break}if(s.tabs[e].index===s.active){var i=e===s.tabs.length-1?e-1:e+1%s.tabs.length;s.select(i)}s.tabs.splice(e,1)},t.$watch("tabset.active",function(t){angular.isDefined(t)&&t!==r&&s.select(l(t))}),t.$on("$destroy",function(){a=!0})}]).directive("uibTabset",function(){return{transclude:!0,replace:!0,scope:{},bindToController:{active:"=?",type:"@"},controller:"UibTabsetController",controllerAs:"tabset",templateUrl:function(t,e){return e.templateUrl||"uib/template/tabs/tabset.html"},link:function(t,e,n){t.vertical=!!angular.isDefined(n.vertical)&&t.$parent.$eval(n.vertical),t.justified=!!angular.isDefined(n.justified)&&t.$parent.$eval(n.justified)}}}).directive("uibTab",["$parse",function(r){return{require:"^uibTabset",replace:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/tabs/tab.html"},transclude:!0,scope:{heading:"@",index:"=?",classes:"@?",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},controllerAs:"tab",link:function(i,t,e,o,n){i.disabled=!1,e.disable&&i.$parent.$watch(r(e.disable),function(t){i.disabled=!!t}),angular.isUndefined(e.index)&&(o.tabs&&o.tabs.length?i.index=Math.max.apply(null,o.tabs.map(function(t){return t.index}))+1:i.index=0),angular.isUndefined(e.classes)&&(i.classes=""),i.select=function(t){if(!i.disabled){for(var e,n=0;n<o.tabs.length;n++)if(o.tabs[n].tab===i){e=n;break}o.select(e,t)}},o.addTab(i),i.$on("$destroy",function(){o.removeTab(i)}),i.$transcludeFn=n}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:"^uibTab",link:function(t,e){t.$watch("headingElement",function(t){t&&(e.html(""),e.append(t))})}}}).directive("uibTabContentTransclude",function(){return{restrict:"A",require:"^uibTabset",link:function(t,n,e){var i=t.$eval(e.uibTabContentTransclude).tab;i.$transcludeFn(i.$parent,function(t){angular.forEach(t,function(t){var e;(e=t).tagName&&(e.hasAttribute("uib-tab-heading")||e.hasAttribute("data-uib-tab-heading")||e.hasAttribute("x-uib-tab-heading")||"uib-tab-heading"===e.tagName.toLowerCase()||"data-uib-tab-heading"===e.tagName.toLowerCase()||"x-uib-tab-heading"===e.tagName.toLowerCase()||"uib:tab-heading"===e.tagName.toLowerCase())?i.headingElement=t:n.append(t)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,secondStep:1,showMeridian:!0,showSeconds:!1,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0,templateUrl:"uib/template/timepicker/timepicker.html"}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(r,t,a,e,n,i,s){var l,c,d,o=new Date,u=[],h={$setViewValue:angular.noop},p=angular.isDefined(a.meridians)?r.$parent.$eval(a.meridians):s.meridians||i.DATETIME_FORMATS.AMPMS,f=!angular.isDefined(a.padHours)||r.$parent.$eval(a.padHours);r.tabindex=angular.isDefined(a.tabindex)?a.tabindex:0,t.removeAttr("tabindex"),this.init=function(t,e){(h=t).$render=this.render,h.$formatters.unshift(function(t){return t?new Date(t):null});var n=e.eq(0),i=e.eq(1),o=e.eq(2);l=n.controller("ngModel"),c=i.controller("ngModel"),d=o.controller("ngModel"),(angular.isDefined(a.mousewheel)?r.$parent.$eval(a.mousewheel):s.mousewheel)&&this.setupMousewheelEvents(n,i,o),(angular.isDefined(a.arrowkeys)?r.$parent.$eval(a.arrowkeys):s.arrowkeys)&&this.setupArrowkeyEvents(n,i,o),r.readonlyInput=angular.isDefined(a.readonlyInput)?r.$parent.$eval(a.readonlyInput):s.readonlyInput,this.setupInputEvents(n,i,o)};var m=s.hourStep;a.hourStep&&u.push(r.$parent.$watch(e(a.hourStep),function(t){m=+t}));var g,v,y=s.minuteStep;a.minuteStep&&u.push(r.$parent.$watch(e(a.minuteStep),function(t){y=+t})),u.push(r.$parent.$watch(e(a.min),function(t){var e=new Date(t);g=isNaN(e)?void 0:e})),u.push(r.$parent.$watch(e(a.max),function(t){var e=new Date(t);v=isNaN(e)?void 0:e}));var b=!1;a.ngDisabled&&u.push(r.$parent.$watch(e(a.ngDisabled),function(t){b=t})),r.noIncrementHours=function(){var t=A(o,60*m);return b||v<t||t<o&&t<g},r.noDecrementHours=function(){var t=A(o,60*-m);return b||t<g||o<t&&v<t},r.noIncrementMinutes=function(){var t=A(o,y);return b||v<t||t<o&&t<g},r.noDecrementMinutes=function(){var t=A(o,-y);return b||t<g||o<t&&v<t},r.noIncrementSeconds=function(){var t=k(o,_);return b||v<t||t<o&&t<g},r.noDecrementSeconds=function(){var t=k(o,-_);return b||t<g||o<t&&v<t},r.noToggleMeridian=function(){return o.getHours()<12?b||A(o,720)>v:b||A(o,-720)<g};var _=s.secondStep;function x(){var t=+r.hours;if((r.showMeridian?0<t&&t<13:0<=t&&t<24)&&""!==r.hours)return r.showMeridian&&(12===t&&(t=0),r.meridian===p[1]&&(t+=12)),t}function w(){var t=+r.minutes;if(0<=t&&t<60&&""!==r.minutes)return t}function E(t,e){return null===t?"":angular.isDefined(t)&&t.toString().length<2&&!e?"0"+t:t.toString()}function M(t){T(),h.$setViewValue(new Date(o)),C(t)}function T(){l&&l.$setValidity("hours",!0),c&&c.$setValidity("minutes",!0),d&&d.$setValidity("seconds",!0),h.$setValidity("time",!0),r.invalidHours=!1,r.invalidMinutes=!1,r.invalidSeconds=!1}function C(t){if(h.$modelValue){var e=o.getHours(),n=o.getMinutes(),i=o.getSeconds();r.showMeridian&&(e=0===e||12===e?12:e%12),r.hours="h"===t?e:E(e,!f),"m"!==t&&(r.minutes=E(n)),r.meridian=o.getHours()<12?p[0]:p[1],"s"!==t&&(r.seconds=E(i)),r.meridian=o.getHours()<12?p[0]:p[1]}else r.hours=null,r.minutes=null,r.seconds=null,r.meridian=p[0]}function S(t){o=k(o,t),M()}function A(t,e){return k(t,60*e)}function k(t,e){var n=new Date(t.getTime()+1e3*e),i=new Date(t);return i.setHours(n.getHours(),n.getMinutes(),n.getSeconds()),i}function D(){return(null===r.hours||""===r.hours)&&(null===r.minutes||""===r.minutes)&&(!r.showSeconds||r.showSeconds&&(null===r.seconds||""===r.seconds))}a.secondStep&&u.push(r.$parent.$watch(e(a.secondStep),function(t){_=+t})),r.showSeconds=s.showSeconds,a.showSeconds&&u.push(r.$parent.$watch(e(a.showSeconds),function(t){r.showSeconds=!!t})),r.showMeridian=s.showMeridian,a.showMeridian&&u.push(r.$parent.$watch(e(a.showMeridian),function(t){if(r.showMeridian=!!t,h.$error.time){var e=x(),n=w();angular.isDefined(e)&&angular.isDefined(n)&&(o.setHours(e),M())}else C()})),this.setupMousewheelEvents=function(t,e,n){var i=function(t){t.originalEvent&&(t=t.originalEvent);var e=t.wheelDelta?t.wheelDelta:-t.deltaY;return t.detail||0<e};t.on("mousewheel wheel",function(t){b||r.$apply(i(t)?r.incrementHours():r.decrementHours()),t.preventDefault()}),e.on("mousewheel wheel",function(t){b||r.$apply(i(t)?r.incrementMinutes():r.decrementMinutes()),t.preventDefault()}),n.on("mousewheel wheel",function(t){b||r.$apply(i(t)?r.incrementSeconds():r.decrementSeconds()),t.preventDefault()})},this.setupArrowkeyEvents=function(t,e,n){t.on("keydown",function(t){b||(38===t.which?(t.preventDefault(),r.incrementHours(),r.$apply()):40===t.which&&(t.preventDefault(),r.decrementHours(),r.$apply()))}),e.on("keydown",function(t){b||(38===t.which?(t.preventDefault(),r.incrementMinutes(),r.$apply()):40===t.which&&(t.preventDefault(),r.decrementMinutes(),r.$apply()))}),n.on("keydown",function(t){b||(38===t.which?(t.preventDefault(),r.incrementSeconds(),r.$apply()):40===t.which&&(t.preventDefault(),r.decrementSeconds(),r.$apply()))})},this.setupInputEvents=function(t,e,n){if(r.readonlyInput)return r.updateHours=angular.noop,r.updateMinutes=angular.noop,void(r.updateSeconds=angular.noop);var i=function(t,e,n){h.$setViewValue(null),h.$setValidity("time",!1),angular.isDefined(t)&&(r.invalidHours=t,l&&l.$setValidity("hours",!1)),angular.isDefined(e)&&(r.invalidMinutes=e,c&&c.$setValidity("minutes",!1)),angular.isDefined(n)&&(r.invalidSeconds=n,d&&d.$setValidity("seconds",!1))};r.updateHours=function(){var t=x(),e=w();h.$setDirty(),angular.isDefined(t)&&angular.isDefined(e)?(o.setHours(t),o.setMinutes(e),o<g||v<o?i(!0):M("h")):i(!0)},t.on("blur",function(t){h.$setTouched(),D()?T():null===r.hours||""===r.hours?i(!0):!r.invalidHours&&r.hours<10&&r.$apply(function(){r.hours=E(r.hours,!f)})}),r.updateMinutes=function(){var t=w(),e=x();h.$setDirty(),angular.isDefined(t)&&angular.isDefined(e)?(o.setHours(e),o.setMinutes(t),o<g||v<o?i(void 0,!0):M("m")):i(void 0,!0)},e.on("blur",function(t){h.$setTouched(),D()?T():null===r.minutes?i(void 0,!0):!r.invalidMinutes&&r.minutes<10&&r.$apply(function(){r.minutes=E(r.minutes)})}),r.updateSeconds=function(){var t,e=0<=(t=+r.seconds)&&t<60?t:void 0;h.$setDirty(),angular.isDefined(e)?(o.setSeconds(e),M("s")):i(void 0,void 0,!0)},n.on("blur",function(t){D()?T():!r.invalidSeconds&&r.seconds<10&&r.$apply(function(){r.seconds=E(r.seconds)})})},this.render=function(){var t=h.$viewValue;isNaN(t)?(h.$setValidity("time",!1),n.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(o=t),o<g||v<o?(h.$setValidity("time",!1),r.invalidHours=!0,r.invalidMinutes=!0):T(),C())},r.showSpinners=angular.isDefined(a.showSpinners)?r.$parent.$eval(a.showSpinners):s.showSpinners,r.incrementHours=function(){r.noIncrementHours()||S(60*m*60)},r.decrementHours=function(){r.noDecrementHours()||S(60*-m*60)},r.incrementMinutes=function(){r.noIncrementMinutes()||S(60*y)},r.decrementMinutes=function(){r.noDecrementMinutes()||S(60*-y)},r.incrementSeconds=function(){r.noIncrementSeconds()||S(_)},r.decrementSeconds=function(){r.noDecrementSeconds()||S(-_)},r.toggleMeridian=function(){var t=w(),e=x();r.noToggleMeridian()||(angular.isDefined(t)&&angular.isDefined(e)?S(720*(o.getHours()<12?60:-60)):r.meridian=r.meridian===p[0]?p[1]:p[0])},r.blur=function(){h.$setTouched()},r.$on("$destroy",function(){for(;u.length;)u.shift()()})}]).directive("uibTimepicker",["uibTimepickerConfig",function(n){return{require:["uibTimepicker","?^ngModel"],restrict:"A",controller:"UibTimepickerController",controllerAs:"timepicker",scope:{},templateUrl:function(t,e){return e.templateUrl||n.templateUrl},link:function(t,e,n,i){var o=i[0],r=i[1];r&&o.init(r,e.find("input"))}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.debounce","ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(n){var i=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(t){var e=t.match(i);if(!e)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+t+'".');return{itemName:e[3],source:n(e[4]),viewMapper:n(e[2]||e[1]),modelMapper:n(e[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$$debounce","$uibPosition","uibTypeaheadParser",function(c,d,s,t,e,n,l,i,o,r,u,a,h){var p,f,m=[9,13,27,38,40],g=c.$eval(s.typeaheadMinLength);g||0===g||(g=1),c.$watch(s.typeaheadMinLength,function(t){g=t||0===t?t:1});var v=c.$eval(s.typeaheadWaitMs)||0,y=!1!==c.$eval(s.typeaheadEditable);c.$watch(s.typeaheadEditable,function(t){y=!1!==t});var b,_,x=e(s.typeaheadLoading).assign||angular.noop,w=s.typeaheadShouldSelect?e(s.typeaheadShouldSelect):function(t,e){var n=e.$event;return 13===n.which||9===n.which},E=e(s.typeaheadOnSelect),M=!!angular.isDefined(s.typeaheadSelectOnBlur)&&c.$eval(s.typeaheadSelectOnBlur),T=e(s.typeaheadNoResults).assign||angular.noop,C=s.typeaheadInputFormatter?e(s.typeaheadInputFormatter):void 0,S=!!s.typeaheadAppendToBody&&c.$eval(s.typeaheadAppendToBody),A=s.typeaheadAppendTo?c.$eval(s.typeaheadAppendTo):null,k=!1!==c.$eval(s.typeaheadFocusFirst),D=!!s.typeaheadSelectOnExact&&c.$eval(s.typeaheadSelectOnExact),O=e(s.typeaheadIsOpen).assign||angular.noop,P=c.$eval(s.typeaheadShowHint)||!1,N=e(s.ngModel),L=e(s.ngModel+"($$$p)"),I=h.parse(s.uibTypeahead),R=c.$new(),$=c.$on("$destroy",function(){R.$destroy()});R.$on("$destroy",$);var F,z,H="typeahead-"+R.$id+"-"+Math.floor(1e4*Math.random());d.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":H}),P&&((F=angular.element("<div></div>")).css("position","relative"),d.after(F),(z=d.clone()).attr("placeholder",""),z.attr("tabindex","-1"),z.val(""),z.css({position:"absolute",top:"0px",left:"0px","border-color":"transparent","box-shadow":"none",opacity:1,background:"none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)",color:"#999"}),d.css({position:"relative","vertical-align":"top","background-color":"transparent"}),z.attr("id")&&z.removeAttr("id"),F.append(z),z.after(d));var B=angular.element("<div uib-typeahead-popup></div>");B.attr({id:H,matches:"matches",active:"activeIdx",select:"select(activeIdx, evt)","move-in-progress":"moveInProgress",query:"query",position:"position","assign-is-open":"assignIsOpen(isOpen)",debounce:"debounceUpdate"}),angular.isDefined(s.typeaheadTemplateUrl)&&B.attr("template-url",s.typeaheadTemplateUrl),angular.isDefined(s.typeaheadPopupTemplateUrl)&&B.attr("popup-template-url",s.typeaheadPopupTemplateUrl);var U=function(){R.matches=[],R.activeIdx=-1,d.attr("aria-expanded",!1),P&&z.val("")},j=function(t){return H+"-option-"+t};R.$watch("activeIdx",function(t){t<0?d.removeAttr("aria-activedescendant"):d.attr("aria-activedescendant",j(t))});var V=function(a,s){var l={$viewValue:a};x(c,!0),T(c,!1),n.when(I.source(c,l)).then(function(t){var e,n,i=a===p.$viewValue;if(i&&b)if(t&&0<t.length){R.activeIdx=k?0:-1,T(c,!1);for(var o=R.matches.length=0;o<t.length;o++)l[I.itemName]=t[o],R.matches.push({id:j(o),label:I.viewMapper(R,l),model:t[o]});if(R.query=a,q(),d.attr("aria-expanded",!0),D&&1===R.matches.length&&(e=a,n=0,R.matches.length>n&&e&&e.toUpperCase()===R.matches[n].label.toUpperCase())&&(angular.isNumber(R.debounceUpdate)||angular.isObject(R.debounceUpdate)?u(function(){R.select(0,s)},angular.isNumber(R.debounceUpdate)?R.debounceUpdate:R.debounceUpdate.default):R.select(0,s)),P){var r=R.matches[0].label;angular.isString(a)&&0<a.length&&r.slice(0,a.length).toUpperCase()===a.toUpperCase()?z.val(a+r.slice(a.length)):z.val("")}}else U(),T(c,!0);i&&x(c,!1)},function(){U(),x(c,!1),T(c,!0)})};S&&(angular.element(o).on("resize",Y),i.find("body").on("scroll",Y));var G,W=u(function(){R.matches.length&&q(),R.moveInProgress=!1},200);function Y(){R.moveInProgress||(R.moveInProgress=!0,R.$digest()),W()}function q(){R.position=S?a.offset(d):a.position(d),R.position.top+=d.prop("offsetHeight")}R.moveInProgress=!1,R.query=void 0;var X=function(){G&&l.cancel(G)};U(),R.assignIsOpen=function(t){O(c,t)},R.select=function(t,e){var n,i,o,r,a={};_=!0,a[I.itemName]=i=R.matches[t].model,n=I.modelMapper(c,a),o=c,r=n,angular.isFunction(N(c))&&f.getOption("getterSetter")?L(o,{$$$p:r}):N.assign(o,r),p.$setValidity("editable",!0),p.$setValidity("parse",!0),E(c,{$item:i,$model:n,$label:I.viewMapper(c,a),$event:e}),U(),!1!==R.$eval(s.typeaheadFocusOnSelect)&&l(function(){d[0].focus()},0,!1)},d.on("keydown",function(t){if(0!==R.matches.length&&-1!==m.indexOf(t.which)){var e,n=w(c,{$event:t});if(-1===R.activeIdx&&n||9===t.which&&t.shiftKey)return U(),void R.$digest();switch(t.preventDefault(),t.which){case 27:t.stopPropagation(),U(),c.$digest();break;case 38:R.activeIdx=(0<R.activeIdx?R.activeIdx:R.matches.length)-1,R.$digest(),(e=B[0].querySelectorAll(".uib-typeahead-match")[R.activeIdx]).parentNode.scrollTop=e.offsetTop;break;case 40:R.activeIdx=(R.activeIdx+1)%R.matches.length,R.$digest(),(e=B[0].querySelectorAll(".uib-typeahead-match")[R.activeIdx]).parentNode.scrollTop=e.offsetTop;break;default:n&&R.$apply(function(){angular.isNumber(R.debounceUpdate)||angular.isObject(R.debounceUpdate)?u(function(){R.select(R.activeIdx,t)},angular.isNumber(R.debounceUpdate)?R.debounceUpdate:R.debounceUpdate.default):R.select(R.activeIdx,t)})}}}),d.on("focus",function(t){b=!0,0!==g||p.$viewValue||l(function(){V(p.$viewValue,t)},0)}),d.on("blur",function(t){M&&R.matches.length&&-1!==R.activeIdx&&!_&&(_=!0,R.$apply(function(){angular.isObject(R.debounceUpdate)&&angular.isNumber(R.debounceUpdate.blur)?u(function(){R.select(R.activeIdx,t)},R.debounceUpdate.blur):R.select(R.activeIdx,t)})),!y&&p.$error.editable&&(p.$setViewValue(),R.$apply(function(){p.$setValidity("editable",!0),p.$setValidity("parse",!0)}),d.val("")),_=b=!1});var Z=function(t){d[0]!==t.target&&3!==t.which&&0!==R.matches.length&&(U(),r.$$phase||c.$digest())};i.on("click",Z),c.$on("$destroy",function(){i.off("click",Z),(S||A)&&K.remove(),S&&(angular.element(o).off("resize",Y),i.find("body").off("scroll",Y)),B.remove(),P&&F.remove()});var K=t(B)(R);S?i.find("body").append(K):A?angular.element(A).eq(0).append(K):d.after(K),this.init=function(t){f=function(t){var e;angular.version.minor<6?(e=t.$options||{}).getOption=function(t){return e[t]}:e=t.$options;return e}(p=t),R.debounceUpdate=e(f.getOption("debounce"))(c),p.$parsers.unshift(function(t){var e;return b=!0,0===g||t&&t.length>=g?0<v?(X(),e=t,G=l(function(){V(e)},v)):V(t):(x(c,!1),X(),U()),y?t:t?void p.$setValidity("editable",!1):(p.$setValidity("editable",!0),null)}),p.$formatters.push(function(t){var e,n={};return y||p.$setValidity("editable",!0),C?(n.$model=t,C(c,n)):(n[I.itemName]=t,e=I.viewMapper(c,n),n[I.itemName]=void 0,e!==I.viewMapper(c,n)?e:t)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","uibTypeahead"],link:function(t,e,n,i){i[1].init(i[0])}}}).directive("uibTypeaheadPopup",["$$debounce",function(o){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&",assignIsOpen:"&",debounce:"&"},replace:!0,templateUrl:function(t,e){return e.popupTemplateUrl||"uib/template/typeahead/typeahead-popup.html"},link:function(i,t,e){i.templateUrl=e.templateUrl,i.isOpen=function(){var t=0<i.matches.length;return i.assignIsOpen({isOpen:t}),t},i.isActive=function(t){return i.active===t},i.selectActive=function(t){i.active=t},i.selectMatch=function(t,e){var n=i.debounce();angular.isNumber(n)||angular.isObject(n)?o(function(){i.select({activeIdx:t,evt:e})},angular.isNumber(n)?n:n.default):i.select({activeIdx:t,evt:e})}}}}]).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(o,r,a){return{scope:{index:"=",match:"=",query:"="},link:function(n,i,t){var e=a(t.templateUrl)(n.$parent)||"uib/template/typeahead/typeahead-match.html";o(e).then(function(t){var e=angular.element(t.trim());i.replaceWith(e),r(e)(n)})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(n,t,i){var o;return o=t.has("$sanitize"),function(t,e){return!o&&/<.*>/g.test(t)&&i.warn("Unsafe use of typeahead please use ngSanitize"),t=e?(""+t).replace(new RegExp(e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"gi"),"<strong>$&</strong>"):t,o||(t=n.trustAsHtml(t)),t}}]),angular.module("uib/template/accordion/accordion-group.html",[]).run(["$templateCache",function(t){t.put("uib/template/accordion/accordion-group.html",'<div role="tab" id="{{::headingId}}" aria-selected="{{isOpen}}" class="panel-heading" ng-keypress="toggleOpen($event)">\n  <h4 class="panel-title">\n    <a role="button" data-toggle="collapse" href aria-expanded="{{isOpen}}" aria-controls="{{::panelId}}" tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading" ng-disabled="isDisabled" uib-tabindex-toggle><span uib-accordion-header ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n  </h4>\n</div>\n<div id="{{::panelId}}" aria-labelledby="{{::headingId}}" aria-hidden="{{!isOpen}}" role="tabpanel" class="panel-collapse collapse" uib-collapse="!isOpen">\n  <div class="panel-body" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/accordion/accordion.html",[]).run(["$templateCache",function(t){t.put("uib/template/accordion/accordion.html",'<div role="tablist" class="panel-group" ng-transclude></div>')}]),angular.module("uib/template/alert/alert.html",[]).run(["$templateCache",function(t){t.put("uib/template/alert/alert.html",'<button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n  <span aria-hidden="true">&times;</span>\n  <span class="sr-only">Close</span>\n</button>\n<div ng-transclude></div>\n')}]),angular.module("uib/template/carousel/carousel.html",[]).run(["$templateCache",function(t){t.put("uib/template/carousel/carousel.html",'<div class="carousel-inner" ng-transclude></div>\n<a role="button" href class="left carousel-control" ng-click="prev()" ng-class="{ disabled: isPrevDisabled() }" ng-show="slides.length > 1">\n  <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>\n  <span class="sr-only">previous</span>\n</a>\n<a role="button" href class="right carousel-control" ng-click="next()" ng-class="{ disabled: isNextDisabled() }" ng-show="slides.length > 1">\n  <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>\n  <span class="sr-only">next</span>\n</a>\n<ol class="carousel-indicators" ng-show="slides.length > 1">\n  <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n    <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n  </li>\n</ol>\n')}]),angular.module("uib/template/carousel/slide.html",[]).run(["$templateCache",function(t){t.put("uib/template/carousel/slide.html",'<div class="text-center" ng-transclude></div>\n')}]),angular.module("uib/template/datepicker/datepicker.html",[]).run(["$templateCache",function(t){t.put("uib/template/datepicker/datepicker.html",'<div ng-switch="datepickerMode">\n  <div uib-daypicker ng-switch-when="day" tabindex="0" class="uib-daypicker"></div>\n  <div uib-monthpicker ng-switch-when="month" tabindex="0" class="uib-monthpicker"></div>\n  <div uib-yearpicker ng-switch-when="year" tabindex="0" class="uib-yearpicker"></div>\n</div>\n')}]),angular.module("uib/template/datepicker/day.html",[]).run(["$templateCache",function(t){t.put("uib/template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-weeks" ng-repeat="row in rows track by $index" role="row">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row" class="uib-day text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default btn-sm"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/month.html",[]).run(["$templateCache",function(t){t.put("uib/template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::yearHeaderColspan}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-months" ng-repeat="row in rows track by $index" role="row">\n      <td ng-repeat="dt in row" class="uib-month text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/popup.html",[]).run(["$templateCache",function(t){t.put("uib/template/datepicker/popup.html",'<div>\n  <ul class="uib-datepicker-popup dropdown-menu uib-position-measure" dropdown-nested ng-if="isOpen" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n    <li ng-transclude></li>\n    <li ng-if="showButtonBar" class="uib-button-bar">\n      <span class="btn-group pull-left">\n        <button type="button" class="btn btn-sm btn-info uib-datepicker-current" ng-click="select(\'today\', $event)" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n        <button type="button" class="btn btn-sm btn-danger uib-clear" ng-click="select(null, $event)">{{ getText(\'clear\') }}</button>\n      </span>\n      <button type="button" class="btn btn-sm btn-success pull-right uib-close" ng-click="close($event)">{{ getText(\'close\') }}</button>\n    </li>\n  </ul>\n</div>\n')}]),angular.module("uib/template/datepicker/year.html",[]).run(["$templateCache",function(t){t.put("uib/template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::columns - 2}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-years" ng-repeat="row in rows track by $index" role="row">\n      <td ng-repeat="dt in row" class="uib-year text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepickerPopup/popup.html",[]).run(["$templateCache",function(t){t.put("uib/template/datepickerPopup/popup.html",'<ul role="presentation" class="uib-datepicker-popup dropdown-menu uib-position-measure" dropdown-nested ng-if="isOpen" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n  <li ng-transclude></li>\n  <li ng-if="showButtonBar" class="uib-button-bar">\n    <span class="btn-group pull-left">\n      <button type="button" class="btn btn-sm btn-info uib-datepicker-current" ng-click="select(\'today\', $event)" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n      <button type="button" class="btn btn-sm btn-danger uib-clear" ng-click="select(null, $event)">{{ getText(\'clear\') }}</button>\n    </span>\n    <button type="button" class="btn btn-sm btn-success pull-right uib-close" ng-click="close($event)">{{ getText(\'close\') }}</button>\n  </li>\n</ul>\n')}]),angular.module("uib/template/modal/backdrop.html",[]).run(["$templateCache",function(t){t.put("uib/template/modal/backdrop.html",'<div class="modal-backdrop"\n     uib-modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("uib/template/modal/window.html",[]).run(["$templateCache",function(t){t.put("uib/template/modal/window.html","<div class=\"modal-dialog {{size ? 'modal-' + size : ''}}\"><div class=\"modal-content\" uib-modal-transclude></div></div>\n")}]),angular.module("uib/template/pager/pager.html",[]).run(["$templateCache",function(t){t.put("uib/template/pager/pager.html",'<li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n<li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n')}]),angular.module("uib/template/pagination/pagination.html",[]).run(["$templateCache",function(t){t.put("uib/template/pagination/pagination.html",'<li role="menuitem" ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'first\')}}</a></li>\n<li role="menuitem" ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n<li role="menuitem" ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)" ng-disabled="ngDisabled&&!page.active" uib-tabindex-toggle>{{page.text}}</a></li>\n<li role="menuitem" ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n<li role="menuitem" ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'last\')}}</a></li>\n')}]),angular.module("uib/template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(t){t.put("uib/template/tooltip/tooltip-html-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(t){t.put("uib/template/tooltip/tooltip-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind="content"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(t){t.put("uib/template/tooltip/tooltip-template-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner"\n  uib-tooltip-template-transclude="contentExp()"\n  tooltip-template-transclude-scope="originScope()"></div>\n')}]),angular.module("uib/template/popover/popover-html.html",[]).run(["$templateCache",function(t){t.put("uib/template/popover/popover-html.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover-template.html",[]).run(["$templateCache",function(t){t.put("uib/template/popover/popover-template.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content"\n      uib-tooltip-template-transclude="contentExp()"\n      tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover.html",[]).run(["$templateCache",function(t){t.put("uib/template/popover/popover.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind="content"></div>\n</div>\n')}]),angular.module("uib/template/progressbar/bar.html",[]).run(["$templateCache",function(t){t.put("uib/template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n')}]),angular.module("uib/template/progressbar/progress.html",[]).run(["$templateCache",function(t){t.put("uib/template/progressbar/progress.html",'<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>')}]),angular.module("uib/template/progressbar/progressbar.html",[]).run(["$templateCache",function(t){t.put("uib/template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/rating/rating.html",[]).run(["$templateCache",function(t){t.put("uib/template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}" aria-valuetext="{{title}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}"></i>\n</span>\n')}]),angular.module("uib/template/tabs/tab.html",[]).run(["$templateCache",function(t){t.put("uib/template/tabs/tab.html",'<li ng-class="[{active: active, disabled: disabled}, classes]" class="uib-tab nav-item">\n  <a href ng-click="select($event)" class="nav-link" uib-tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("uib/template/tabs/tabset.html",[]).run(["$templateCache",function(t){t.put("uib/template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{tabset.type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane"\n         ng-repeat="tab in tabset.tabs"\n         ng-class="{active: tabset.active === tab.index}"\n         uib-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("uib/template/timepicker/timepicker.html",[]).run(["$templateCache",function(t){t.put("uib/template/timepicker/timepicker.html",'<table class="uib-timepicker">\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-increment hours"><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-increment minutes"><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-increment seconds"><a ng-click="incrementSeconds()" ng-class="{disabled: noIncrementSeconds()}" class="btn btn-link" ng-disabled="noIncrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group uib-time hours" ng-class="{\'has-error\': invalidHours}">\n        <input type="text" placeholder="HH" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementHours()" ng-blur="blur()">\n      </td>\n      <td class="uib-separator">:</td>\n      <td class="form-group uib-time minutes" ng-class="{\'has-error\': invalidMinutes}">\n        <input type="text" placeholder="MM" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementMinutes()" ng-blur="blur()">\n      </td>\n      <td ng-show="showSeconds" class="uib-separator">:</td>\n      <td class="form-group uib-time seconds" ng-class="{\'has-error\': invalidSeconds}" ng-show="showSeconds">\n        <input type="text" placeholder="SS" ng-model="seconds" ng-change="updateSeconds()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementSeconds()" ng-blur="blur()">\n      </td>\n      <td ng-show="showMeridian" class="uib-time am-pm"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-decrement hours"><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-decrement minutes"><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-decrement seconds"><a ng-click="decrementSeconds()" ng-class="{disabled: noDecrementSeconds()}" class="btn btn-link" ng-disabled="noDecrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(t){t.put("uib/template/typeahead/typeahead-match.html",'<a href\n   tabindex="-1"\n   ng-bind-html="match.label | uibTypeaheadHighlight:query"\n   ng-attr-title="{{match.label}}"></a>\n')}]),angular.module("uib/template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(t){t.put("uib/template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li class="uib-typeahead-match" ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index, $event)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),angular.module("ui.bootstrap.carousel").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibCarouselCss&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),angular.$$uibCarouselCss=!0}),angular.module("ui.bootstrap.datepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-left,.uib-right{width:100%}</style>'),angular.$$uibDatepickerCss=!0}),angular.module("ui.bootstrap.position").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibPositionCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>'),angular.$$uibPositionCss=!0}),angular.module("ui.bootstrap.datepickerPopup").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerpopupCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker-popup.dropdown-menu{display:block;float:none;margin:0;}.uib-button-bar{padding:10px 9px 2px;}</style>'),angular.$$uibDatepickerpopupCss=!0}),angular.module("ui.bootstrap.tooltip").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTooltipCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow,[uib-popover-html-popup].popover.top-left > .arrow,[uib-popover-html-popup].popover.top-right > .arrow,[uib-popover-html-popup].popover.bottom-left > .arrow,[uib-popover-html-popup].popover.bottom-right > .arrow,[uib-popover-html-popup].popover.left-top > .arrow,[uib-popover-html-popup].popover.left-bottom > .arrow,[uib-popover-html-popup].popover.right-top > .arrow,[uib-popover-html-popup].popover.right-bottom > .arrow,[uib-popover-template-popup].popover.top-left > .arrow,[uib-popover-template-popup].popover.top-right > .arrow,[uib-popover-template-popup].popover.bottom-left > .arrow,[uib-popover-template-popup].popover.bottom-right > .arrow,[uib-popover-template-popup].popover.left-top > .arrow,[uib-popover-template-popup].popover.left-bottom > .arrow,[uib-popover-template-popup].popover.right-top > .arrow,[uib-popover-template-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-html-popup].popover,[uib-popover-template-popup].popover{display:block !important;}</style>'),angular.$$uibTooltipCss=!0}),angular.module("ui.bootstrap.timepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTimepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-time input{width:50px;}</style>'),angular.$$uibTimepickerCss=!0}),angular.module("ui.bootstrap.typeahead").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTypeaheadCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-typeahead-popup].dropdown-menu{display:block;}</style>'),angular.$$uibTypeaheadCss=!0}),function(){"use strict";function w(t){return angular.isUndefined(t)||null===t}var E={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,COMMAND:91,MAP:{91:"COMMAND",8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSEBREAK",20:"CAPSLOCK",27:"ESC",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",43:"+",44:"PRINTSCREEN",45:"INSERT",46:"DELETE",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NUMLOCK",145:"SCROLLLOCK",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},isControl:function(t){switch(t.which){case E.COMMAND:case E.SHIFT:case E.CTRL:case E.ALT:return!0}return!!(t.metaKey||t.ctrlKey||t.altKey)},isFunctionKey:function(t){return 112<=(t=t.which?t.which:t)&&t<=123},isVerticalMovement:function(t){return~[E.UP,E.DOWN].indexOf(t)},isHorizontalMovement:function(t){return~[E.LEFT,E.RIGHT,E.BACKSPACE,E.DELETE].indexOf(t)},toSeparator:function(t){var e={ENTER:"\n",TAB:"\t",SPACE:" "}[t];return e||(E[t]?void 0:t)}};void 0===angular.element.prototype.querySelectorAll&&(angular.element.prototype.querySelectorAll=function(t){return angular.element(this[0].querySelectorAll(t))}),void 0===angular.element.prototype.closest&&(angular.element.prototype.closest=function(t){for(var e=this[0],n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;e;){if(n.bind(e)(t))return e;e=e.parentElement}return!1});var t=0,e=angular.module("ui.select",[]).constant("uiSelectConfig",{theme:"bootstrap",searchEnabled:!0,sortable:!1,placeholder:"",refreshDelay:1e3,closeOnSelect:!0,skipFocusser:!1,dropdownPosition:"auto",removeSelected:!0,resetSearchInput:!0,generateId:function(){return t++},appendToBody:!1,spinnerEnabled:!1,spinnerClass:"glyphicon glyphicon-refresh ui-select-spin",backspaceReset:!0}).service("uiSelectMinErr",function(){var e=angular.$$minErr("ui.select");return function(){var t=e.apply(this,arguments).message.replace(new RegExp("\nhttp://errors.angularjs.org/.*"),"");return new Error(t)}}).directive("uisTranscludeAppend",function(){return{link:function(t,e,n,i,o){o(t,function(t){e.append(t)})}}}).filter("highlight",function(){return function(t,e){return e&&t?(""+t).replace(new RegExp((""+e).replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"gi"),'<span class="ui-select-highlight">$&</span>'):t}}).factory("uisOffset",["$document","$window",function(n,i){return function(t){var e=t[0].getBoundingClientRect();return{width:e.width||t.prop("offsetWidth"),height:e.height||t.prop("offsetHeight"),top:e.top+(i.pageYOffset||n[0].documentElement.scrollTop),left:e.left+(i.pageXOffset||n[0].documentElement.scrollLeft)}}}]);e.directive("uiSelectChoices",["uiSelectConfig","uisRepeatParser","uiSelectMinErr","$compile","$window",function(l,c,d,t,u){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){return t.addClass("ui-select-choices"),(t.parent().attr("theme")||l.theme)+"/choices.tpl.html"},compile:function(r,t){if(!t.repeat)throw d("repeat","Expected 'repeat' expression.");var a=t.groupBy,s=t.groupFilter;if(a){var e=r.querySelectorAll(".ui-select-choices-group");if(1!==e.length)throw d("rows","Expected 1 .ui-select-choices-group but got '{0}'.",e.length);e.attr("ng-repeat",c.getGroupNgRepeatExpression())}var n=c.parse(t.repeat),i=r.querySelectorAll(".ui-select-choices-row");if(1!==i.length)throw d("rows","Expected 1 .ui-select-choices-row but got '{0}'.",i.length);i.attr("ng-repeat",n.repeatExpression(a)).attr("ng-if","$select.open");var o=r.querySelectorAll(".ui-select-choices-row-inner");if(1!==o.length)throw d("rows","Expected 1 .ui-select-choices-row-inner but got '{0}'.",o.length);return o.attr("uis-transclude-append",""),(u.document.addEventListener?i:o).attr("ng-click","$select.select("+n.itemName+",$select.skipFocusser,$event)"),function(e,n,i,o){o.parseRepeatAttr(i.repeat,a,s),o.disableChoiceExpression=i.uiDisableChoice,o.onHighlightCallback=i.onHighlight,o.minimumInputLength=parseInt(i.minimumInputLength)||0,o.dropdownPosition=i.position?i.position.toLowerCase():l.dropdownPosition,e.$watch("$select.search",function(t){t&&!o.open&&o.multiple&&o.activate(!1,!0),o.activeIndex=o.tagging.isActivated?-1:0,!i.minimumInputLength||o.search.length>=i.minimumInputLength?o.refresh(i.refresh):o.items=[]}),i.$observe("refreshDelay",function(){var t=e.$eval(i.refreshDelay);o.refreshDelay=void 0!==t?t:l.refreshDelay}),e.$watch("$select.open",function(t){t?(r.attr("role","listbox"),o.refresh(i.refresh)):n.removeAttr("role")})}}}}]),e.controller("uiSelectCtrl",["$scope","$element","$timeout","$filter","$$uisDebounce","uisRepeatParser","uiSelectMinErr","uiSelectConfig","$parse","$injector","$window",function(a,s,l,t,e,r,c,n,d,i,o){function u(){m.resetSearchInput&&(m.search=g,m.selected&&m.items.length&&!m.multiple&&(m.activeIndex=function(t,e,n){if(t.findIndex)return t.findIndex(e,n);for(var i,o=Object(t),r=o.length>>>0,a=0;a<r;a++)if(i=o[a],e.call(n,i,a,o))return a;return-1}(m.items,function(t){return angular.equals(this,t)},m.selected)))}function h(t){return-1<y.indexOf(t)}function p(){var t=s.querySelectorAll(".ui-select-choices-content"),e=t.querySelectorAll(".ui-select-choices-row");if(e.length<1)throw c("choices","Expected multiple .ui-select-choices-row but got '{0}'.",e.length);if(!(m.activeIndex<0)){var n=e[m.activeIndex],i=n.offsetTop+n.clientHeight-t[0].scrollTop,o=t[0].offsetHeight;o<i?t[0].scrollTop+=i-o:i<n.clientHeight&&(m.isGrouped&&0===m.activeIndex?t[0].scrollTop=0:t[0].scrollTop-=n.clientHeight-i)}}var f,m=this,g="";if(m.placeholder=n.placeholder,m.searchEnabled=n.searchEnabled,m.sortable=n.sortable,m.refreshDelay=n.refreshDelay,m.paste=n.paste,m.resetSearchInput=n.resetSearchInput,m.refreshing=!1,m.spinnerEnabled=n.spinnerEnabled,m.spinnerClass=n.spinnerClass,m.removeSelected=n.removeSelected,m.closeOnSelect=!0,m.skipFocusser=!1,m.search=g,m.activeIndex=0,m.items=[],m.open=!1,m.focus=!1,m.disabled=!1,m.selected=void 0,m.dropdownPosition="auto",m.focusser=void 0,m.multiple=void 0,m.disableChoiceExpression=void 0,m.tagging={isActivated:!1,fct:void 0},m.taggingTokens={isActivated:!1,tokens:void 0},m.lockChoiceExpression=void 0,m.clickTriggeredSelect=!1,m.$filter=t,m.$element=s,m.$animate=function(){try{return i.get("$animate")}catch(t){return null}}(),m.searchInput=s.querySelectorAll("input.ui-select-search"),1!==m.searchInput.length)throw c("searchInput","Expected 1 input.ui-select-search but got '{0}'.",m.searchInput.length);m.isEmpty=function(){return w(m.selected)||""===m.selected||m.multiple&&0===m.selected.length},m.activate=function(n,t){if(m.disabled||m.open)m.open&&!m.searchEnabled&&m.close();else{t||u(),a.$broadcast("uis:activate"),m.open=!0,m.activeIndex=m.activeIndex>=m.items.length?0:m.activeIndex,-1===m.activeIndex&&!1!==m.taggingLabel&&(m.activeIndex=0);var i=s.querySelectorAll(".ui-select-choices-content"),o=s.querySelectorAll(".ui-select-search");if(m.$animate&&m.$animate.on&&m.$animate.enabled(i[0])){var r=function(t,e){"start"===e&&0===m.items.length?(m.$animate.off("removeClass",o[0],r),l(function(){m.focusSearchInput(n)})):"close"===e&&(m.$animate.off("enter",i[0],r),l(function(){m.focusSearchInput(n)}))};0<m.items.length?m.$animate.on("enter",i[0],r):m.$animate.on("removeClass",o[0],r)}else l(function(){m.focusSearchInput(n),!m.tagging.isActivated&&1<m.items.length&&p()})}},m.focusSearchInput=function(t){m.search=t||m.search,m.searchInput[0].focus()},m.findGroupByName=function(e){return m.groups&&m.groups.filter(function(t){return t.name===e})[0]},m.parseRepeatAttr=function(t,n,o){m.setItemsFn=n?function(t){var i=a.$eval(n);if(m.groups=[],angular.forEach(t,function(t){var e=angular.isFunction(i)?i(t):t[i],n=m.findGroupByName(e);n?n.items.push(t):m.groups.push({name:e,items:[t]})}),o){var e=a.$eval(o);angular.isFunction(e)?m.groups=e(m.groups):angular.isArray(e)&&(m.groups=function(t,e){var n,i,o=[];for(n=0;n<e.length;n++)for(i=0;i<t.length;i++)t[i].name==[e[n]]&&o.push(t[i]);return o}(m.groups,e))}m.items=[],m.groups.forEach(function(t){m.items=m.items.concat(t.items)})}:function(t){m.items=t||[]},m.parserResult=r.parse(t),m.isGrouped=!!n,m.itemProperty=m.parserResult.itemName;var e=m.parserResult.source,i=function(){var n=e(a);a.$uisSource=Object.keys(n).map(function(t){var e={};return e[m.parserResult.keyName]=t,e.value=n[t],e})};m.parserResult.keyName&&(i(),m.parserResult.source=d("$uisSource"+m.parserResult.filters),a.$watch(e,function(t,e){t!==e&&i()},!0)),m.refreshItems=function(t){t=t||m.parserResult.source(a);var n=m.selected;if(m.isEmpty()||angular.isArray(n)&&!n.length||!m.multiple||!m.removeSelected)m.setItemsFn(t);else if(null!=t){var e=t.filter(function(e){return angular.isArray(n)?n.every(function(t){return!angular.equals(e,t)}):!angular.equals(e,n)});m.setItemsFn(e)}"auto"!==m.dropdownPosition&&"up"!==m.dropdownPosition||a.calculateDropdownPos(),a.$broadcast("uis:refresh")},a.$watchCollection(m.parserResult.source,function(t){if(null==t)m.items=[];else{if(!angular.isArray(t))throw c("items","Expected an array but got '{0}'.",t);m.refreshItems(t),angular.isDefined(m.ngModel.$modelValue)&&(m.ngModel.$modelValue=null)}})},m.refresh=function(e){void 0!==e&&(f&&l.cancel(f),f=l(function(){if(a.$select.search.length>=a.$select.minimumInputLength){var t=a.$eval(e);t&&angular.isFunction(t.then)&&!m.refreshing&&(m.refreshing=!0,t.finally(function(){m.refreshing=!1}))}},m.refreshDelay))},m.isActive=function(t){if(!m.open)return!1;var e=m.items.indexOf(t[m.itemProperty]),n=e==m.activeIndex;return!(!n||e<0)&&(n&&!angular.isUndefined(m.onHighlightCallback)&&t.$eval(m.onHighlightCallback),n)};var v=function(e){return m.selected&&angular.isArray(m.selected)&&0<m.selected.filter(function(t){return angular.equals(t,e)}).length},y=[];m.isDisabled=function(t){if(m.open){var e=t[m.itemProperty],n=!1;if(0<=m.items.indexOf(e)&&(angular.isDefined(m.disableChoiceExpression)||m.multiple)){if(e.isTag)return!1;m.multiple&&(n=v(e)),!n&&angular.isDefined(m.disableChoiceExpression)&&(n=!!t.$eval(m.disableChoiceExpression)),i=e,o=n,r=y.indexOf(i),o&&-1===r&&y.push(i),!o&&-1<r&&y.splice(r,1)}return n}var i,o,r},m.select=function(t,e,n){if(w(t)||!h(t)){if(!m.items&&!m.search&&!m.tagging.isActivated)return;if(!t||!h(t)){if(m.clickTriggeredSelect=!1,n&&("click"===n.type||"touchend"===n.type)&&t&&(m.clickTriggeredSelect=!0),m.tagging.isActivated&&!1===m.clickTriggeredSelect){if(!1===m.taggingLabel)if(m.activeIndex<0){if(void 0===t&&(t=void 0!==m.tagging.fct?m.tagging.fct(m.search):m.search),!t||angular.equals(m.items[0],t))return}else t=m.items[m.activeIndex];else if(0===m.activeIndex){if(void 0===t)return;if(void 0!==m.tagging.fct&&"string"==typeof t){if(!(t=m.tagging.fct(t)))return}else"string"==typeof t&&(t=t.replace(m.taggingLabel,"").trim())}if(v(t))return void m.close(e)}u(),a.$broadcast("uis:select",t),m.closeOnSelect&&m.close(e)}}},m.close=function(t){m.open&&(m.ngModel&&m.ngModel.$setTouched&&m.ngModel.$setTouched(),m.open=!1,u(),a.$broadcast("uis:close",t))},m.setFocus=function(){m.focus||m.focusInput[0].focus()},m.clear=function(t){m.select(null),t.stopPropagation(),l(function(){m.focusser[0].focus()},0,!1)},m.toggle=function(t){m.open?(m.close(),t.preventDefault(),t.stopPropagation()):m.activate()},m.isLocked=function(){return!1},a.$watch(function(){return angular.isDefined(m.lockChoiceExpression)&&""!==m.lockChoiceExpression},function(t){if(t){var l=[];m.isLocked=function(t,e){var n,i,o,r,a=!1,s=m.selected[e];return s&&(t?(a=!!t.$eval(m.lockChoiceExpression),i=s,o=a,r=l.indexOf(i),o&&-1===r&&l.push(i),!o&&-1<r&&l.splice(r,1)):(n=s,a=-1<l.indexOf(n))),a}}});var b=null,_=!1;m.sizeSearchInput=function(){var n=m.searchInput[0],t=m.$element[0],e=function(){return t.clientWidth*!!n.offsetParent},i=function(t){if(0===t)return!1;var e=t-n.offsetLeft;return e<50&&(e=t),m.searchInput.css("width",e+"px"),!0};m.searchInput.css("width","10px"),l(function(){null!==b||i(e())||(b=a.$watch(function(){_||(_=!0,a.$$postDigest(function(){_=!1,i(e())&&(b(),b=null)}))},angular.noop))})},m.searchInput.on("keydown",function(n){var i=n.which;~[E.ENTER,E.ESC].indexOf(i)&&(n.preventDefault(),n.stopPropagation()),a.$apply(function(){var t=!1;if((0<m.items.length||m.tagging.isActivated)&&(function(t){var e=!0;switch(t){case E.DOWN:if(!m.open&&m.multiple)m.activate(!1,!0);else if(m.activeIndex<m.items.length-1)for(var n=++m.activeIndex;h(m.items[n])&&n<m.items.length;)m.activeIndex=++n;break;case E.UP:var i=0===m.search.length&&m.tagging.isActivated?-1:0;if(!m.open&&m.multiple)m.activate(!1,!0);else if(m.activeIndex>i)for(var o=--m.activeIndex;h(m.items[o])&&i<o;)m.activeIndex=--o;break;case E.TAB:m.multiple&&!m.open||m.select(m.items[m.activeIndex],!0);break;case E.ENTER:m.open&&(m.tagging.isActivated||0<=m.activeIndex)?m.select(m.items[m.activeIndex],m.skipFocusser):m.activate(!1,!0);break;case E.ESC:m.close();break;default:e=!1}return e}(i)||m.searchEnabled||(n.preventDefault(),n.stopPropagation()),m.taggingTokens.isActivated)){for(var e=0;e<m.taggingTokens.tokens.length;e++)m.taggingTokens.tokens[e]===E.MAP[n.keyCode]&&0<m.search.length&&(t=!0);t&&l(function(){m.searchInput.triggerHandler("tagged");var t=m.search.replace(E.MAP[n.keyCode],"").trim();m.tagging.fct&&(t=m.tagging.fct(t)),t&&m.select(t,!0)})}}),E.isVerticalMovement(i)&&0<m.items.length&&p(),i!==E.ENTER&&i!==E.ESC||(n.preventDefault(),n.stopPropagation())}),m.searchInput.on("paste",function(t){var e;if(e=window.clipboardData&&window.clipboardData.getData?window.clipboardData.getData("Text"):(t.originalEvent||t).clipboardData.getData("text/plain"),(e=m.search+e)&&0<e.length)if(m.taggingTokens.isActivated){for(var n=[],i=0;i<m.taggingTokens.tokens.length;i++){var o=E.toSeparator(m.taggingTokens.tokens[i])||m.taggingTokens.tokens[i];if(-1<e.indexOf(o)){n=e.split(o);break}}0===n.length&&(n=[e]);var r=m.search;angular.forEach(n,function(t){var e=m.tagging.fct?m.tagging.fct(t):t;e&&m.select(e,!0)}),m.search=r||g,t.preventDefault(),t.stopPropagation()}else m.paste&&(m.paste(e),m.search=g,t.preventDefault(),t.stopPropagation())}),m.searchInput.on("tagged",function(){l(function(){u()})});var x=e(function(){m.sizeSearchInput()},50);angular.element(o).bind("resize",x),a.$on("$destroy",function(){m.searchInput.off("keyup keydown tagged blur paste"),angular.element(o).off("resize",x)}),a.$watch("$select.activeIndex",function(t){t&&s.find("input").attr("aria-activedescendant","ui-select-choices-row-"+m.generatedId+"-"+t)}),a.$watch("$select.open",function(t){t||s.find("input").removeAttr("aria-activedescendant")})}]),e.directive("uiSelect",["$document","uiSelectConfig","uiSelectMinErr","uisOffset","$compile","$parse","$timeout",function(v,y,b,_,t,x,w){return{restrict:"EA",templateUrl:function(t,e){return(e.theme||y.theme)+(angular.isDefined(e.multiple)?"/select-multiple.tpl.html":"/select.tpl.html")},replace:!0,transclude:!0,require:["uiSelect","^ngModel"],scope:!0,controller:"uiSelectCtrl",controllerAs:"$select",compile:function(t,e){var n=/{(.*)}\s*{(.*)}/.exec(e.ngClass);if(n){var i="{"+n[1]+", "+n[2]+"}";e.ngClass=i,t.attr("ng-class",i)}return angular.isDefined(e.multiple)?t.append("<ui-select-multiple/>").removeAttr("multiple"):t.append("<ui-select-single/>"),e.inputId&&(t.querySelectorAll("input.ui-select-search")[0].id=e.inputId),function(i,r,e,t,n){function o(t){if(s.open){if(!(window.jQuery?window.jQuery.contains(r[0],t.target):r[0].contains(t.target))&&!s.clickTriggeredSelect){var e;if(s.skipFocusser)e=!0;else{var n=angular.element(t.target).controller("uiSelect");(e=n&&n!==s)||(e=~["input","button","textarea","select"].indexOf(t.target.tagName.toLowerCase()))}s.close(e),i.$digest()}s.clickTriggeredSelect=!1}}function a(){null!==d&&(d.replaceWith(r),d=null,r[0].style.position="",r[0].style.left="",r[0].style.top="",r[0].style.width=u,s.setFocus())}var s=t[0],l=t[1];s.generatedId=y.generateId(),s.baseTitle=e.title||"Select box",s.focusserTitle=s.baseTitle+" focus",s.focusserId="focusser-"+s.generatedId,s.closeOnSelect=angular.isDefined(e.closeOnSelect)?x(e.closeOnSelect)():y.closeOnSelect,i.$watch("skipFocusser",function(){var t=i.$eval(e.skipFocusser);s.skipFocusser=void 0!==t?t:y.skipFocusser}),s.onSelectCallback=x(e.onSelect),s.onRemoveCallback=x(e.onRemove),s.ngModel=l,s.choiceGrouped=function(t){return s.isGrouped&&t&&t.name},e.tabindex&&e.$observe("tabindex",function(t){s.focusInput.attr("tabindex",t),r.removeAttr("tabindex")}),i.$watch(function(){return i.$eval(e.searchEnabled)},function(t){s.searchEnabled=void 0!==t?t:y.searchEnabled}),i.$watch("sortable",function(){var t=i.$eval(e.sortable);s.sortable=void 0!==t?t:y.sortable}),e.$observe("backspaceReset",function(){var t=i.$eval(e.backspaceReset);s.backspaceReset=void 0===t||t}),e.$observe("limit",function(){s.limit=angular.isDefined(e.limit)?parseInt(e.limit,10):void 0}),i.$watch("removeSelected",function(){var t=i.$eval(e.removeSelected);s.removeSelected=void 0!==t?t:y.removeSelected}),e.$observe("disabled",function(){s.disabled=void 0!==e.disabled&&e.disabled}),e.$observe("resetSearchInput",function(){var t=i.$eval(e.resetSearchInput);s.resetSearchInput=void 0===t||t}),e.$observe("paste",function(){s.paste=i.$eval(e.paste)}),e.$observe("tagging",function(){if(void 0!==e.tagging){var t=i.$eval(e.tagging);s.tagging={isActivated:!0,fct:!0!==t?t:void 0}}else s.tagging={isActivated:!1,fct:void 0}}),e.$observe("taggingLabel",function(){void 0!==e.tagging&&("false"===e.taggingLabel?s.taggingLabel=!1:s.taggingLabel=void 0!==e.taggingLabel?e.taggingLabel:"(new)")}),e.$observe("taggingTokens",function(){if(void 0!==e.tagging){var t=void 0!==e.taggingTokens?e.taggingTokens.split("|"):[",","ENTER"];s.taggingTokens={isActivated:!0,tokens:t}}}),e.$observe("spinnerEnabled",function(){var t=i.$eval(e.spinnerEnabled);s.spinnerEnabled=void 0!==t?t:y.spinnerEnabled}),e.$observe("spinnerClass",function(){var t=e.spinnerClass;s.spinnerClass=void 0!==t?e.spinnerClass:y.spinnerClass}),angular.isDefined(e.autofocus)&&w(function(){s.setFocus()}),angular.isDefined(e.focusOn)&&i.$on(e.focusOn,function(){w(function(){s.setFocus()})}),v.on("click",o),i.$on("$destroy",function(){v.off("click",o)}),n(i,function(t){var e=angular.element("<div>").append(t),n=e.querySelectorAll(".ui-select-match");if(n.removeAttr("ui-select-match"),n.removeAttr("data-ui-select-match"),1!==n.length)throw b("transcluded","Expected 1 .ui-select-match but got '{0}'.",n.length);r.querySelectorAll(".ui-select-match").replaceWith(n);var i=e.querySelectorAll(".ui-select-choices");if(i.removeAttr("ui-select-choices"),i.removeAttr("data-ui-select-choices"),1!==i.length)throw b("transcluded","Expected 1 .ui-select-choices but got '{0}'.",i.length);r.querySelectorAll(".ui-select-choices").replaceWith(i);var o=e.querySelectorAll(".ui-select-no-choice");o.removeAttr("ui-select-no-choice"),o.removeAttr("data-ui-select-no-choice"),1==o.length&&r.querySelectorAll(".ui-select-no-choice").replaceWith(o)});var c=i.$eval(e.appendToBody);(void 0!==c?c:y.appendToBody)&&(i.$watch("$select.open",function(t){var e;t?(e=_(r),(d=angular.element('<div class="ui-select-placeholder"></div>'))[0].style.width=e.width+"px",d[0].style.height=e.height+"px",r.after(d),u=r[0].style.width,v.find("body").append(r),r[0].style.position="absolute",r[0].style.left=e.left+"px",r[0].style.top=e.top+"px",r[0].style.width=e.width+"px"):a()}),i.$on("$destroy",function(){a()}));var d=null,u="",h=null,p="direction-up";i.$watch("$select.open",function(){"auto"!==s.dropdownPosition&&"up"!==s.dropdownPosition||i.calculateDropdownPos()});var f=function(t,e){t=t||_(r),e=e||_(h),h[0].style.position="absolute",h[0].style.top=-1*e.height+"px",r.addClass(p)},m=function(){w(function(){if("up"===s.dropdownPosition)f();else{r.removeClass(p);var t=_(r),e=_(h),n=v[0].documentElement.scrollTop||v[0].body.scrollTop;t.top+t.height+e.height>n+v[0].documentElement.clientHeight?f(t,e):(i=t,o=e,r.removeClass(p),i=i||_(r),o=o||_(h),h[0].style.position="",h[0].style.top="")}var i,o;h[0].style.opacity=1})},g=!1;i.calculateDropdownPos=function(){if(s.open){if(0===(h=angular.element(r).querySelectorAll(".ui-select-dropdown")).length)return;if(""!==s.search||g||(h[0].style.opacity=0,g=!0),!_(h).height&&s.$animate&&s.$animate.on&&s.$animate.enabled(h)){var n=!0;s.$animate.on("enter",h,function(t,e){"close"===e&&n&&(m(),n=!1)})}else m()}else{if(null===h||0===h.length)return;h[0].style.opacity=0,h[0].style.position="",h[0].style.top="",r.removeClass(p)}}}}}}]),e.directive("uiSelectMatch",["uiSelectConfig",function(r){function n(t,e){return t[0].hasAttribute(e)?t.attr(e):t[0].hasAttribute("data-"+e)?t.attr("data-"+e):t[0].hasAttribute("x-"+e)?t.attr("x-"+e):void 0}return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){t.addClass("ui-select-match");var e=t.parent();return(n(e,"theme")||r.theme)+(angular.isDefined(n(e,"multiple"))?"/match-multiple.tpl.html":"/match.tpl.html")},link:function(t,e,n,i){function o(t){i.allowClear=!!angular.isDefined(t)&&(""===t||"true"===t.toLowerCase())}i.lockChoiceExpression=n.uiLockChoice,n.$observe("placeholder",function(t){i.placeholder=void 0!==t?t:r.placeholder}),n.$observe("allowClear",o),o(n.allowClear),i.multiple&&i.sizeSearchInput()}}}]),e.directive("uiSelectMultiple",["uiSelectMinErr","$timeout",function(r,a){return{restrict:"EA",require:["^uiSelect","^ngModel"],controller:["$scope","$timeout",function(i,o){var t,r=this,a=i.$select;angular.isUndefined(a.selected)&&(a.selected=[]),i.$evalAsync(function(){t=i.ngModel}),r.activeMatchIndex=-1,r.updateModel=function(){t.$setViewValue(Date.now()),r.refreshComponent()},r.refreshComponent=function(){a.refreshItems&&a.refreshItems(),a.sizeSearchInput&&a.sizeSearchInput()},r.removeChoice=function(t){if(a.isLocked(null,t))return!1;var e=a.selected[t],n={};return n[a.parserResult.itemName]=e,a.selected.splice(t,1),r.activeMatchIndex=-1,a.sizeSearchInput(),o(function(){a.onRemoveCallback(i,{$item:e,$model:a.parserResult.modelMapper(i,n)})}),r.updateModel(),!0},r.getPlaceholder=function(){if(!a.selected||!a.selected.length)return a.placeholder}}],controllerAs:"$selectMultiple",link:function(l,t,e,n){function i(t){var e,n=(e=u.searchInput[0],angular.isNumber(e.selectionStart)?e.selectionStart:e.value.length),i=u.selected.length-1,o=h.activeMatchIndex,r=h.activeMatchIndex+1,a=h.activeMatchIndex-1,s=o;return!(0<n||u.search.length&&t==E.RIGHT||(u.close(),s=function(){switch(t){case E.LEFT:return~h.activeMatchIndex?a:i;case E.RIGHT:return~h.activeMatchIndex&&o!==i?r:(u.activate(),!1);case E.BACKSPACE:return~h.activeMatchIndex?h.removeChoice(o)?a:o:i;case E.DELETE:return!!~h.activeMatchIndex&&(h.removeChoice(h.activeMatchIndex),o)}}(),u.selected.length&&!1!==s?h.activeMatchIndex=Math.min(i,Math.max(0,s)):h.activeMatchIndex=-1,0))}function c(t){return void 0!==t&&void 0!==u.search&&0<t.filter(function(t){return void 0!==u.search.toUpperCase()&&void 0!==t&&t.toUpperCase()===u.search.toUpperCase()}).length}function d(t,e){var n=-1;if(angular.isArray(t))for(var i=angular.copy(t),o=0;o<i.length;o++)if(void 0===u.tagging.fct)i[o]+" "+u.taggingLabel===e&&(n=o);else{var r=i[o];angular.isObject(r)&&(r.isTag=!0),angular.equals(r,e)&&(n=o)}return n}var u=n[0],o=l.ngModel=n[1],h=l.$selectMultiple;u.multiple=!0,u.focusInput=u.searchInput,o.$isEmpty=function(t){return!t||0===t.length},o.$parsers.unshift(function(){for(var t,e={},n=[],i=u.selected.length-1;0<=i;i--)(e={})[u.parserResult.itemName]=u.selected[i],t=u.parserResult.modelMapper(l,e),n.unshift(t);return n}),o.$formatters.unshift(function(t){var r,e=u.parserResult&&u.parserResult.source(l,{$select:{search:""}}),a={};if(!e)return t;var s=[],n=function(t,e){if(t&&t.length){for(var n=t.length-1;0<=n;n--){if(a[u.parserResult.itemName]=t[n],r=u.parserResult.modelMapper(l,a),u.parserResult.trackByExp){var i=/(\w*)\./.exec(u.parserResult.trackByExp),o=/\.([^\s]+)/.exec(u.parserResult.trackByExp);if(i&&0<i.length&&i[1]==u.parserResult.itemName&&o&&0<o.length&&r[o[1]]==e[o[1]])return s.unshift(t[n]),!0}if(angular.equals(r,e))return s.unshift(t[n]),!0}return!1}};if(!t)return s;for(var i=t.length-1;0<=i;i--)n(u.selected,t[i])||n(e,t[i])||s.unshift(t[i]);return s}),l.$watchCollection(function(){return o.$modelValue},function(t,e){e!=t&&(angular.isDefined(o.$modelValue)&&(o.$modelValue=null),h.refreshComponent())}),o.$render=function(){if(!angular.isArray(o.$viewValue)){if(!w(o.$viewValue))throw r("multiarr","Expected model value to be array but got '{0}'",o.$viewValue);o.$viewValue=[]}u.selected=o.$viewValue,h.refreshComponent(),l.$evalAsync()},l.$on("uis:select",function(t,e){if(!(u.selected.length>=u.limit)){u.selected.push(e);var n={};n[u.parserResult.itemName]=e,a(function(){u.onSelectCallback(l,{$item:e,$model:u.parserResult.modelMapper(l,n)})}),h.updateModel()}}),l.$on("uis:activate",function(){h.activeMatchIndex=-1}),l.$watch("$select.disabled",function(t,e){e&&!t&&u.sizeSearchInput()}),u.searchInput.on("keydown",function(e){var n=e.which;l.$apply(function(){var t=!1;E.isHorizontalMovement(n)&&(t=i(n)),t&&n!=E.TAB&&(e.preventDefault(),e.stopPropagation())})}),u.searchInput.on("keyup",function(t){if(E.isVerticalMovement(t.which)||l.$evalAsync(function(){u.activeIndex=!1===u.taggingLabel?-1:0}),u.tagging.isActivated&&0<u.search.length){if(t.which===E.TAB||E.isControl(t)||E.isFunctionKey(t)||t.which===E.ESC||E.isVerticalMovement(t.which))return;if(u.activeIndex=!1===u.taggingLabel?-1:0,!1===u.taggingLabel)return;var e,n,i,o=angular.copy(u.items),r=angular.copy(u.items),a=!1,s=-1;if(void 0!==u.tagging.fct){if(0<(n=u.$filter("filter")(o,{isTag:!0})).length&&(i=n[0]),0<o.length&&i&&(a=!0,o=o.slice(1,o.length),r=r.slice(1,r.length)),e=u.tagging.fct(u.search),r.some(function(t){return angular.equals(t,e)})||u.selected.some(function(t){return angular.equals(t,e)}))return void l.$evalAsync(function(){u.activeIndex=0,u.items=o});e&&(e.isTag=!0)}else{if(0<(n=u.$filter("filter")(o,function(t){return t.match(u.taggingLabel)})).length&&(i=n[0]),void 0!==o[0]&&0<o.length&&i&&(a=!0,o=o.slice(1,o.length),r=r.slice(1,r.length)),e=u.search+" "+u.taggingLabel,-1<d(u.selected,u.search))return;if(c(r.concat(u.selected)))return void(a&&(o=r,l.$evalAsync(function(){u.activeIndex=0,u.items=o})));if(c(r))return void(a&&(u.items=r.slice(1,r.length)))}a&&(s=d(u.selected,e)),o=-1<s?o.slice(s+1,o.length-1):(o=[],e&&o.push(e),o.concat(r)),l.$evalAsync(function(){if(u.activeIndex=0,u.items=o,u.isGrouped){var t=e?o.slice(1):o;u.setItemsFn(t),e&&(u.items.unshift(e),u.groups.unshift({name:"",items:[e],tagging:!0}))}})}}),u.searchInput.on("blur",function(){a(function(){h.activeMatchIndex=-1})})}}}]),e.directive("uiSelectNoChoice",["uiSelectConfig",function(e){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){return t.addClass("ui-select-no-choice"),(t.parent().attr("theme")||e.theme)+"/no-choice.tpl.html"}}}]),e.directive("uiSelectSingle",["$timeout","$compile",function(s,l){return{restrict:"EA",require:["^uiSelect","^ngModel"],link:function(r,t,e,n){var a=n[0],i=n[1];i.$parsers.unshift(function(t){if(w(t))return t;var e={};return e[a.parserResult.itemName]=t,a.parserResult.modelMapper(r,e)}),i.$formatters.unshift(function(e){if(w(e))return e;var t=a.parserResult&&a.parserResult.source(r,{$select:{search:""}}),n={};if(t){var i=function(t){return n[a.parserResult.itemName]=t,a.parserResult.modelMapper(r,n)===e};if(a.selected&&i(a.selected))return a.selected;for(var o=t.length-1;0<=o;o--)if(i(t[o]))return t[o]}return e}),r.$watch("$select.selected",function(t){i.$viewValue!==t&&i.$setViewValue(t)}),i.$render=function(){a.selected=i.$viewValue},r.$on("uis:select",function(t,e){a.selected=e;var n={};n[a.parserResult.itemName]=e,s(function(){a.onSelectCallback(r,{$item:e,$model:w(e)?e:a.parserResult.modelMapper(r,n)})})}),r.$on("uis:close",function(t,e){s(function(){a.focusser.prop("disabled",!1),e||a.focusser[0].focus()},0,!1)}),r.$on("uis:activate",function(){o.prop("disabled",!0)});var o=angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button' />");l(o)(r),a.focusser=o,a.focusInput=o,t.parent().append(o),o.bind("focus",function(){r.$evalAsync(function(){a.focus=!0})}),o.bind("blur",function(){r.$evalAsync(function(){a.focus=!1})}),o.bind("keydown",function(t){return t.which===E.BACKSPACE&&!1!==a.backspaceReset?(t.preventDefault(),t.stopPropagation(),a.select(void 0),void r.$apply()):void(t.which===E.TAB||E.isControl(t)||E.isFunctionKey(t)||t.which===E.ESC||(t.which!=E.DOWN&&t.which!=E.UP&&t.which!=E.ENTER&&t.which!=E.SPACE||(t.preventDefault(),t.stopPropagation(),a.activate()),r.$digest()))}),o.bind("keyup input",function(t){t.which===E.TAB||E.isControl(t)||E.isFunctionKey(t)||t.which===E.ESC||t.which==E.ENTER||t.which===E.BACKSPACE||(a.activate(o.val()),o.val(""),r.$digest())})}}}]),e.directive("uiSelectSort",["$timeout","uiSelectConfig","uiSelectMinErr",function(g,t,v){return{require:["^^uiSelect","^ngModel"],link:function(o,r,a,t){if(null===o[a.uiSelectSort])throw v("sort","Expected a list to sort");var n=t[0],s=t[1],e=angular.extend({axis:"horizontal"},o.$eval(a.uiSelectSortOptions)).axis,i="dragging",l="dropping",c="dropping-before",d="dropping-after";o.$watch(function(){return n.sortable},function(t){t?r.attr("draggable",!0):r.removeAttr("draggable")}),r.on("dragstart",function(t){r.addClass(i),(t.dataTransfer||t.originalEvent.dataTransfer).setData("text",o.$index.toString())}),r.on("dragend",function(){h(i)});var u,h=function(e){angular.forEach(n.$element.querySelectorAll("."+e),function(t){angular.element(t).removeClass(e)})},p=function(t){t.preventDefault(),("vertical"===e?t.offsetY||t.layerY||(t.originalEvent?t.originalEvent.offsetY:0):t.offsetX||t.layerX||(t.originalEvent?t.originalEvent.offsetX:0))<this["vertical"===e?"offsetHeight":"offsetWidth"]/2?(h(d),r.addClass(c)):(h(c),r.addClass(d))},f=function(t){t.preventDefault();var e=parseInt((t.dataTransfer||t.originalEvent.dataTransfer).getData("text"),10);g.cancel(u),u=g(function(){m(e)},20)},m=function(t){var e,n=o.$eval(a.uiSelectSort),i=n[t];e=r.hasClass(c)?t<o.$index?o.$index-1:o.$index:t<o.$index?o.$index:o.$index+1,function(t,e){this.splice(e,0,this.splice(t,1)[0])}.apply(n,[t,e]),s.$setViewValue(Date.now()),o.$apply(function(){o.$emit("uiSelectSort:change",{array:n,item:i,from:t,to:e})}),h(l),h(c),h(d),r.off("drop",f)};r.on("dragenter",function(){r.hasClass(i)||(r.addClass(l),r.on("dragover",p),r.on("drop",f))}),r.on("dragleave",function(t){t.target==r&&(h(l),h(c),h(d),r.off("dragover",p),r.off("drop",f))})}}}]),e.factory("$$uisDebounce",["$timeout",function(r){return function(n,i){var o;return function(){var t=this,e=Array.prototype.slice.call(arguments);o&&r.cancel(o),o=r(function(){n.apply(t,e)},i)}}}]),e.directive("uisOpenClose",["$parse","$timeout",function(o,r){return{restrict:"A",require:"uiSelect",link:function(n,t,e,i){i.onOpenCloseCallback=o(e.uisOpenClose),n.$watch("$select.open",function(t,e){t!==e&&r(function(){i.onOpenCloseCallback(n,{isOpen:t})})})}}}]),e.service("uisRepeatParser",["uiSelectMinErr","$parse",function(r,a){this.parse=function(t){var e;if(!(e=t.match(/^\s*(?:([\s\S]+?)\s+as\s+)?(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(\s*[\s\S]+?)?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/)))throw r("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",t);var n=e[5],i="";if(e[3]){n=e[5].replace(/(^\()|(\)$)/g,"");var o=e[5].match(/^\s*(?:[\s\S]+?)(?:[^\|]|\|\|)+([\s\S]*)\s*$/);o&&o[1].trim()&&(i=o[1],n=n.replace(i,""))}return{itemName:e[4]||e[2],keyName:e[3],source:a(n),filters:i,trackByExp:e[6],modelMapper:a(e[1]||e[4]||e[2]),repeatExpression:function(t){var e=this.itemName+" in "+(t?"$group.items":"$select.items");return this.trackByExp&&(e+=" track by "+this.trackByExp),e}}},this.getGroupNgRepeatExpression=function(){return"$group in $select.groups track by $group.name"}}])}(),angular.module("ui.select").run(["$templateCache",function(t){t.put("bootstrap/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu" ng-show="$select.open && $select.items.length > 0"><li class="ui-select-choices-group" id="ui-select-choices-{{ $select.generatedId }}"><div class="divider" ng-show="$select.isGrouped && $index > 0"></div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header" ng-bind="$group.name"></div><div ng-attr-id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}" role="option"><span class="ui-select-choices-row-inner"></span></div></li></ul>'),t.put("bootstrap/match-multiple.tpl.html",'<span class="ui-select-match"><span ng-repeat="$item in $select.selected track by $index"><span class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&nbsp;&times;</span> <span uis-transclude-append=""></span></span></span></span>'),t.put("bootstrap/match.tpl.html",'<div class="ui-select-match" ng-hide="$select.open && $select.searchEnabled" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="{{ $select.baseTitle }} activate" ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left" ng-class="{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""></span> <i class="caret pull-right" ng-click="$select.toggle($event)"></i> <a ng-show="$select.allowClear && !$select.isEmpty() && ($select.disabled !== true)" aria-label="{{ $select.baseTitle }} clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right"><i class="glyphicon glyphicon-remove" aria-hidden="true"></i></a></span></div>'),t.put("bootstrap/no-choice.tpl.html",'<ul class="ui-select-no-choice dropdown-menu" ng-show="$select.items.length == 0"><li ng-transclude=""></li></ul>'),t.put("bootstrap/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"></div><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-click="$select.activate()" ng-model="$select.search" role="combobox" aria-expanded="{{$select.open}}" aria-label="{{$select.baseTitle}}" ng-class="{\'spinner\': $select.refreshing}" ondrop="return false;"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>'),t.put("bootstrap/select.tpl.html",'<div class="ui-select-container ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"></div><span ng-show="$select.open && $select.refreshing && $select.spinnerEnabled" class="ui-select-refreshing {{$select.spinnerClass}}"></span> <input type="search" autocomplete="off" tabindex="-1" aria-expanded="true" aria-label="{{ $select.baseTitle }}" aria-owns="ui-select-choices-{{ $select.generatedId }}" class="form-control ui-select-search" ng-class="{ \'ui-select-search-hidden\' : !$select.searchEnabled }" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.open"><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>'),t.put("select2/choices.tpl.html",'<ul tabindex="-1" class="ui-select-choices ui-select-choices-content select2-results"><li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }"><div ng-show="$select.choiceGrouped($group)" class="ui-select-choices-group-label select2-result-label" ng-bind="$group.name"></div><ul id="ui-select-choices-{{ $select.generatedId }}" ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }"><li role="option" ng-attr-id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}"><div class="select2-result-label ui-select-choices-row-inner"></div></li></ul></li></ul>'),t.put("select2/match-multiple.tpl.html",'<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected track by $index" ng-class="{\'select2-search-choice-focus\':$selectMultiple.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span uis-transclude-append=""></span> <a href="javascript:;" class="ui-select-match-close select2-search-choice-close" ng-click="$selectMultiple.removeChoice($index)" tabindex="-1"></a></li></span>'),t.put("select2/match.tpl.html",'<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.toggle($event)" aria-label="{{ $select.baseTitle }} select"><span ng-show="$select.isEmpty()" class="select2-chosen">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""></span> <abbr ng-if="$select.allowClear && !$select.isEmpty()" class="select2-search-choice-close" ng-click="$select.clear($event)"></abbr> <span class="select2-arrow ui-select-toggle"><b></b></span></a>'),t.put("select2/no-choice.tpl.html",'<div class="ui-select-no-choice dropdown" ng-show="$select.items.length == 0"><div class="dropdown-content"><div data-selectable="" ng-transclude=""></div></div></div>'),t.put("select2/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices"><span class="ui-select-match"></span><li class="select2-search-field"><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="select2-input ui-select-search" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search" ng-click="$select.activate()" style="width: 34px;" ondrop="return false;"></li></ul><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open || $select.items.length === 0}"><div class="ui-select-choices"></div></div></div>'),t.put("select2/select.tpl.html",'<div class="ui-select-container select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled, \'select2-container-active\': $select.focus, \'select2-allowclear\': $select.allowClear && !$select.isEmpty()}"><div class="ui-select-match"></div><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="search-container" ng-class="{\'ui-select-search-hidden\':!$select.searchEnabled, \'select2-search\':$select.searchEnabled}"><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" ng-class="{\'select2-active\': $select.refreshing}" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" class="ui-select-search select2-input" ng-model="$select.search"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div></div>'),t.put("selectize/choices.tpl.html",'<div ng-show="$select.open" class="ui-select-choices ui-select-dropdown selectize-dropdown" ng-class="{\'single\': !$select.multiple, \'multi\': $select.multiple}"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header" ng-bind="$group.name"></div><div role="option" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""></div></div></div></div></div>'),t.put("selectize/match-multiple.tpl.html",'<div class="ui-select-match" data-value="" ng-repeat="$item in $select.selected track by $index" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'active\':$selectMultiple.activeMatchIndex === $index}" ui-select-sort="$select.selected"><span class="ui-select-match-item" ng-class="{\'select-locked\':$select.isLocked(this, $index)}"><span uis-transclude-append=""></span> <span class="remove ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&times;</span></span></div>'),t.put("selectize/match.tpl.html",'<div ng-hide="$select.searchEnabled && ($select.open || $select.isEmpty())" class="ui-select-match"><span ng-show="!$select.searchEnabled && ($select.isEmpty() || $select.open)" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty() || $select.open" ng-transclude=""></span></div>'),t.put("selectize/no-choice.tpl.html",'<div class="ui-select-no-choice selectize-dropdown" ng-show="$select.items.length == 0"><div class="selectize-dropdown-content"><div data-selectable="" ng-transclude=""></div></div></div>'),t.put("selectize/select-multiple.tpl.html",'<div class="ui-select-container selectize-control multi plugin-remove_button" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.open && !$select.searchEnabled ? $select.toggle($event) : $select.activate()"><div class="ui-select-match"></div><input type="search" autocomplete="off" tabindex="-1" class="ui-select-search" ng-class="{\'ui-select-search-hidden\':!$select.searchEnabled}" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-model="$select.search" ng-disabled="$select.disabled" aria-expanded="{{$select.open}}" aria-label="{{ $select.baseTitle }}" ondrop="return false;"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>'),t.put("selectize/select.tpl.html",'<div class="ui-select-container selectize-control single" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.open && !$select.searchEnabled ? $select.toggle($event) : $select.activate()"><div class="ui-select-match"></div><input type="search" autocomplete="off" tabindex="-1" class="ui-select-search ui-select-toggle" ng-class="{\'ui-select-search-hidden\':!$select.searchEnabled}" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="!$select.isEmpty() && !$select.open" ng-disabled="$select.disabled" aria-label="{{ $select.baseTitle }}"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>')}]),function(t,e){"use strict";"function"==typeof define&&define.amd?define(["angular"],e):"object"==typeof exports?module.exports=e(require("angular")):e(t.angular)}(this,function(P){"use strict";return P.module("gridster",[]).constant("gridsterConfig",{columns:6,pushing:!0,floating:!0,swapping:!1,width:"auto",colWidth:"auto",rowHeight:"match",margins:[10,10],outerMargin:!0,sparse:!1,isMobile:!1,mobileBreakPoint:600,mobileModeEnabled:!0,minColumns:1,minRows:1,maxRows:100,defaultSizeX:2,defaultSizeY:1,minSizeX:1,maxSizeX:null,minSizeY:1,maxSizeY:null,saveGridItemCalculatedHeightInMobile:!1,resizable:{enabled:!0,handles:["s","e","n","w","se","ne","sw","nw"]},draggable:{enabled:!0,scrollSensitivity:20,scrollSpeed:15}}).controller("GridsterCtrl",["gridsterConfig","$timeout",function(t,e){var n=this;P.extend(this,t),this.resizable=P.extend({},t.resizable||{}),this.draggable=P.extend({},t.draggable||{});var i=!1;this.layoutChanged=function(){i||(i=!0,e(function(){i=!1,n.loaded&&n.floatItemsUp(),n.updateHeight(n.movingItem?n.movingItem.sizeY:0)},30))},this.grid=[],this.allItems=[],this.destroy=function(){this.grid&&(this.grid=[]),this.$element=null,this.allItems&&(this.allItems.length=0,this.allItems=null)},this.setOptions=function(t){if(t)if((t=P.extend({},t)).draggable&&(P.extend(this.draggable,t.draggable),delete t.draggable),t.resizable&&(P.extend(this.resizable,t.resizable),delete t.resizable),P.extend(this,t),this.margins&&2===this.margins.length)for(var e=0,n=this.margins.length;e<n;++e)this.margins[e]=parseInt(this.margins[e],10),isNaN(this.margins[e])&&(this.margins[e]=0);else this.margins=[0,0]},this.canItemOccupy=function(t,e,n){return-1<e&&-1<n&&t.sizeX+n<=this.columns&&t.sizeY+e<=this.maxRows},this.autoSetItemPosition=function(t){for(var e=0;e<this.maxRows;++e)for(var n=0;n<this.columns;++n){if(0===this.getItems(e,n,t.sizeX,t.sizeY,t).length&&this.canItemOccupy(t,e,n))return void this.putItem(t,e,n)}throw new Error("Unable to place item!")},this.getItems=function(t,e,n,i,o){var r,a=[];if(n&&i||(n=i=1),!o||o instanceof Array||(o=[o]),!1===this.sparse)for(var s=0;s<i;++s)for(var l=0;l<n;++l)!(r=this.getItem(t+s,e+l,o))||o&&-1!==o.indexOf(r)||-1!==a.indexOf(r)||a.push(r);else for(var c=t+i-1,d=e+n-1,u=0;u<this.allItems.length;++u)!(r=this.allItems[u])||o&&-1!==o.indexOf(r)||-1!==a.indexOf(r)||!this.intersect(r,e,d,t,c)||a.push(r);return a},this.getBoundingBox=function(t){if(0===t.length)return null;if(1===t.length)return{row:t[0].row,col:t[0].col,sizeY:t[0].sizeY,sizeX:t[0].sizeX};for(var e=0,n=0,i=9999,o=9999,r=0,a=t.length;r<a;++r){var s=t[r];i=Math.min(s.row,i),o=Math.min(s.col,o),e=Math.max(s.row+s.sizeY,e),n=Math.max(s.col+s.sizeX,n)}return{row:i,col:o,sizeY:e-i,sizeX:n-o}},this.intersect=function(t,e,n,i,o){return e<=t.col+t.sizeX-1&&n>=t.col&&i<=t.row+t.sizeY-1&&o>=t.row},this.removeItem=function(t){for(var e,n=0,i=this.grid.length;n<i;++n){var o=this.grid[n];if(o&&-1!==(e=o.indexOf(t))){o[e]=null;break}}this.sparse&&-1!==(e=this.allItems.indexOf(t))&&this.allItems.splice(e,1),this.layoutChanged()},this.getItem=function(t,e,n){!n||n instanceof Array||(n=[n]);for(var i=1;-1<t;){for(var o=1,r=e;-1<r;){var a=this.grid[t];if(a){var s=a[r];if(s&&(!n||-1===n.indexOf(s))&&s.sizeX>=o&&s.sizeY>=i)return s}++o,--r}--t,++i}return null},this.putItems=function(t){for(var e=0,n=t.length;e<n;++e)this.putItem(t[e])},this.putItem=function(t,e,n,i){if(null!=e||(e=t.row,n=t.col,null!=e)){if(this.canItemOccupy(t,e,n)||(n=Math.min(this.columns-t.sizeX,Math.max(0,n)),e=Math.min(this.maxRows-t.sizeY,Math.max(0,e))),null!==t.oldRow&&void 0!==t.oldRow){var o=t.oldRow===e&&t.oldColumn===n,r=this.grid[e]&&this.grid[e][n]===t;if(o&&r)return t.row=e,void(t.col=n);var a=this.grid[t.oldRow];a&&a[t.oldColumn]===t&&delete a[t.oldColumn]}t.oldRow=t.row=e,t.oldColumn=t.col=n,this.moveOverlappingItems(t,i),this.grid[e]||(this.grid[e]=[]),this.grid[e][n]=t,this.sparse&&-1===this.allItems.indexOf(t)&&this.allItems.push(t),this.movingItem===t&&this.floatItemUp(t),this.layoutChanged()}else this.autoSetItemPosition(t)},this.swapItems=function(t,e){this.grid[t.row][t.col]=e;var n=(this.grid[e.row][e.col]=t).row,i=t.col;t.row=e.row,t.col=e.col,e.row=n,e.col=i},this.moveOverlappingItems=function(t,e){e?-1===e.indexOf(t)&&(e=e.slice(0)).push(t):e=[t];var n=this.getItems(t.row,t.col,t.sizeX,t.sizeY,e);this.moveItemsDown(n,t.row+t.sizeY,e)},this.moveItemsDown=function(t,e,n){if(t&&0!==t.length){t.sort(function(t,e){return t.row-e.row}),n=n?n.slice(0):[];var i,o,r,a={};for(o=0,r=t.length;o<r;++o){var s=a[(i=t[o]).col];(void 0===s||i.row<s)&&(a[i.col]=i.row)}for(o=0,r=t.length;o<r;++o){var l=e-a[(i=t[o]).col];this.moveItemDown(i,i.row+l,n),n.push(i)}}},this.moveItemDown=function(t,e,n){if(!(t.row>=e)){for(;t.row<e;)++t.row,this.moveOverlappingItems(t,n);this.putItem(t,t.row,t.col,n)}},this.floatItemsUp=function(){if(!1!==this.floating)for(var t=0,e=this.grid.length;t<e;++t){var n=this.grid[t];if(n)for(var i=0,o=n.length;i<o;++i){var r=n[i];r&&this.floatItemUp(r)}}},this.floatItemUp=function(t){if(!1!==this.floating){for(var e=t.col,n=t.sizeY,i=t.sizeX,o=null,r=null,a=t.row-1;-1<a;){if(0!==this.getItems(a,e,i,n,t).length)break;o=a,r=e,--a}null!==o&&this.putItem(t,o,r)}},this.updateHeight=function(t){var e=this.minRows;t=t||0;for(var n=this.grid.length;0<=n;--n){var i=this.grid[n];if(i)for(var o=0,r=i.length;o<r;++o)i[o]&&(e=Math.max(e,n+t+i[o].sizeY))}this.gridHeight=0<this.maxRows-e?Math.min(this.maxRows,e):Math.max(this.maxRows,e)},this.pixelsToRows=function(t,e){return this.outerMargin||(t+=this.margins[0]/2),!0===e?Math.ceil(t/this.curRowHeight):!1===e?Math.floor(t/this.curRowHeight):Math.round(t/this.curRowHeight)},this.pixelsToColumns=function(t,e){return this.outerMargin||(t+=this.margins[1]/2),!0===e?Math.ceil(t/this.curColWidth):!1===e?Math.floor(t/this.curColWidth):Math.round(t/this.curColWidth)}}]).directive("gridsterPreview",function(){return{replace:!0,scope:!0,require:"^gridster",template:'<div ng-style="previewStyle()" class="gridster-item gridster-preview-holder"></div>',link:function(t,e,n,i){t.previewStyle=function(){return i.movingItem?{display:"block",height:i.movingItem.sizeY*i.curRowHeight-i.margins[0]+"px",width:i.movingItem.sizeX*i.curColWidth-i.margins[1]+"px",top:i.movingItem.row*i.curRowHeight+(i.outerMargin?i.margins[0]:0)+"px",left:i.movingItem.col*i.curColWidth+(i.outerMargin?i.margins[1]:0)+"px"}:{display:"none"}}}}}).directive("gridster",["$timeout","$window","$rootScope","gridsterDebounce",function(h,p,f,m){return{scope:!0,restrict:"EAC",controller:"GridsterCtrl",controllerAs:"gridster",compile:function(t){return t.prepend('<div ng-if="gridster.movingItem" gridster-preview></div>'),function(t,s,e,l){l.loaded=!1,l.$element=s,t.gridster=l,s.addClass("gridster");var c=function(t){return"hidden"!==t.style.visibility&&"none"!==t.style.display};function d(){s.css("height",l.gridHeight*l.curRowHeight+(l.outerMargin?l.margins[0]:-l.margins[0])+"px")}function n(t){if(l.setOptions(t),c(s[0])){"auto"===l.width?l.curWidth=s[0].offsetWidth||parseInt(s.css("width"),10):l.curWidth=l.width,"auto"===l.colWidth?l.curColWidth=(l.curWidth+(l.outerMargin?-l.margins[1]:l.margins[1]))/l.columns:l.curColWidth=l.colWidth,l.curRowHeight=l.rowHeight,"string"==typeof l.rowHeight&&("match"===l.rowHeight?l.curRowHeight=Math.round(l.curColWidth):-1!==l.rowHeight.indexOf("*")?l.curRowHeight=Math.round(l.curColWidth*l.rowHeight.replace("*","").replace(" ","")):-1!==l.rowHeight.indexOf("/")&&(l.curRowHeight=Math.round(l.curColWidth/l.rowHeight.replace("/","").replace(" ","")))),l.isMobile=l.mobileModeEnabled&&l.curWidth<=l.mobileBreakPoint;for(var e=0,n=l.grid.length;e<n;++e){var i=l.grid[e];if(i)for(var o=0,r=i.length;o<r;++o)if(i[o]){var a=i[o];a.setElementPosition(),a.setElementSizeY(),a.setElementSizeX()}}d()}}t.$watch(function(){return l.gridHeight},d),t.$watch(function(){return l.movingItem},function(){l.updateHeight(l.movingItem?l.movingItem.sizeY:0)});var i=e.gridster;i?t.$parent.$watch(i,function(t){n(t)},!0):n({}),t.$watch(function(){return l.loaded},function(){l.loaded?(s.addClass("gridster-loaded"),f.$broadcast("gridster-loaded",l)):s.removeClass("gridster-loaded")}),t.$watch(function(){return l.isMobile},function(){l.isMobile?s.addClass("gridster-mobile").removeClass("gridster-desktop"):s.removeClass("gridster-mobile").addClass("gridster-desktop"),f.$broadcast("gridster-mobile-changed",l)}),t.$watch(function(){return l.draggable},function(){f.$broadcast("gridster-draggable-changed",l)},!0),t.$watch(function(){return l.resizable},function(){f.$broadcast("gridster-resizable-changed",l)},!0);var o=s[0].offsetWidth||parseInt(s.css("width"),10),r=function(){var t=s[0].offsetWidth||parseInt(s.css("width"),10);t&&t!==o&&!l.movingItem&&(o=t,l.loaded&&s.removeClass("gridster-loaded"),n(),l.loaded&&s.addClass("gridster-loaded"),f.$broadcast("gridster-resized",[t,s[0].offsetHeight],l))},a=m(function(){r(),h(function(){t.$apply()})},100);t.$watch(function(){return c(s[0])},a),"function"==typeof window.addResizeListener?window.addResizeListener(s[0],a):t.$watch(function(){return s[0].offsetWidth||parseInt(s.css("width"),10)},r);var u=P.element(p);u.on("resize",a),t.$on("$destroy",function(){l.destroy(),u.off("resize",a),"function"==typeof window.removeResizeListener&&window.removeResizeListener(s[0],a)}),h(function(){t.$watch("gridster.floating",function(){l.floatItemsUp()}),l.loaded=!0},100)}}}}]).controller("GridsterItemCtrl",function(){this.$element=null,this.gridster=null,this.row=null,this.col=null,this.sizeX=null,this.sizeY=null,this.minSizeX=0,this.minSizeY=0,this.maxSizeX=null,this.maxSizeY=null,this.init=function(t,e){this.$element=t,this.gridster=e,this.sizeX=e.defaultSizeX,this.sizeY=e.defaultSizeY},this.destroy=function(){this.gridster=null,this.$element=null},this.toJSON=function(){return{row:this.row,col:this.col,sizeY:this.sizeY,sizeX:this.sizeX}},this.isMoving=function(){return this.gridster.movingItem===this},this.setPosition=function(t,e){this.gridster.putItem(this,t,e),this.isMoving()||this.setElementPosition()},this.setSize=function(t,e,n){var i="size"+(t=t.toUpperCase()),o="Size"+t;if(""!==e){e=parseInt(e,10),(isNaN(e)||0===e)&&(e=this.gridster["default"+o]);var r="X"===t?this.gridster.columns:this.gridster.maxRows;this["max"+o]&&(r=Math.min(this["max"+o],r)),this.gridster["max"+o]&&(r=Math.min(this.gridster["max"+o],r)),"X"===t&&this.cols?r-=this.cols:"Y"===t&&this.rows&&(r-=this.rows);var a=0;this["min"+o]&&(a=Math.max(this["min"+o],a)),this.gridster["min"+o]&&(a=Math.max(this.gridster["min"+o],a)),e=Math.max(Math.min(e,r),a);var s=this[i]!==e||this["old"+o]&&this["old"+o]!==e;return this["old"+o]=this[i]=e,this.isMoving()||this["setElement"+o](),!n&&s&&(this.gridster.moveOverlappingItems(this),this.gridster.layoutChanged()),s}},this.setSizeY=function(t,e){return this.setSize("Y",t,e)},this.setSizeX=function(t,e){return this.setSize("X",t,e)},this.setElementPosition=function(){this.gridster.isMobile?this.$element.css({marginLeft:this.gridster.margins[0]+"px",marginRight:this.gridster.margins[0]+"px",marginTop:this.gridster.margins[1]+"px",marginBottom:this.gridster.margins[1]+"px",top:"",left:""}):this.$element.css({margin:0,top:this.row*this.gridster.curRowHeight+(this.gridster.outerMargin?this.gridster.margins[0]:0)+"px",left:this.col*this.gridster.curColWidth+(this.gridster.outerMargin?this.gridster.margins[1]:0)+"px"})},this.setElementSizeY=function(){this.gridster.isMobile&&!this.gridster.saveGridItemCalculatedHeightInMobile?this.$element.css("height",""):this.$element.css("height",this.sizeY*this.gridster.curRowHeight-this.gridster.margins[0]+"px")},this.setElementSizeX=function(){this.gridster.isMobile?this.$element.css("width",""):this.$element.css("width",this.sizeX*this.gridster.curColWidth-this.gridster.margins[1]+"px")},this.getElementSizeX=function(){return this.sizeX*this.gridster.curColWidth-this.gridster.margins[1]},this.getElementSizeY=function(){return this.sizeY*this.gridster.curRowHeight-this.gridster.margins[0]}}).factory("GridsterTouch",[function(){return function(u,h,p,f){var t,e,m={},g=function(t){if(Object.keys)return Object.keys(t).length;var e,n=0;for(e in t)++n;return n},v=function(t){for(var e=0,n=0,i=navigator.userAgent.match(/\bMSIE\b/),o=t;null!=o;o=o.offsetParent)i&&(!document.documentMode||document.documentMode<8)&&"relative"===o.currentStyle.position&&o.offsetParent&&"relative"===o.offsetParent.currentStyle.position&&o.offsetLeft===o.offsetParent.offsetLeft||(e+=o.offsetLeft),n+=o.offsetTop;return{x:e,y:n}},y=v(u),b=!1,_=function(t){if("mousemove"!==t.type||0!==g(m)){for(var e=!0,n=t.changedTouches?t.changedTouches:[t],i=0;i<n.length;++i){var o=n[i],r=void 0!==o.identifier?o.identifier:void 0!==o.pointerId?o.pointerId:1;if(void 0===o.pageX)if(o.pageX=o.offsetX+y.x,o.pageY=o.offsetY+y.y,o.srcElement.offsetParent===u&&document.documentMode&&8===document.documentMode&&"mousedown"===o.type)o.pageX+=o.srcElement.offsetLeft,o.pageY+=o.srcElement.offsetTop;else if(o.srcElement!==u&&!document.documentMode||document.documentMode<8){for(var a=-2,s=-2,l=o.srcElement;null!==l;l=l.parentNode)a+=l.scrollLeft?l.scrollLeft:0,s+=l.scrollTop?l.scrollTop:0;o.pageX=o.clientX+a,o.pageY=o.clientY+s}var c=o.pageX,d=o.pageY;t.type.match(/(start|down)$/i)?(y=v(u),m[r]&&(f&&f({target:t.target,which:t.which,pointerId:r,pageX:c,pageY:d}),delete m[r]),h&&e&&(e=h({target:t.target,which:t.which,pointerId:r,pageX:c,pageY:d})),m[r]={x:c,y:d},u.msSetPointerCapture&&e?u.msSetPointerCapture(r):"mousedown"===t.type&&1===g(m)&&(b?u.setCapture(!0):(document.addEventListener("mousemove",_,!1),document.addEventListener("mouseup",_,!1)))):t.type.match(/move$/i)?!m[r]||m[r].x===c&&m[r].y===d||(p&&e&&(e=p({target:t.target,which:t.which,pointerId:r,pageX:c,pageY:d})),m[r].x=c,m[r].y=d):m[r]&&t.type.match(/(up|end|cancel)$/i)&&(f&&e&&(e=f({target:t.target,which:t.which,pointerId:r,pageX:c,pageY:d})),delete m[r],u.msReleasePointerCapture?u.msReleasePointerCapture(r):"mouseup"===t.type&&0===g(m)&&(b?u.releaseCapture():(document.removeEventListener("mousemove",_,!1),document.removeEventListener("mouseup",_,!1))))}e&&(t.preventDefault&&t.preventDefault(),t.preventManipulation&&t.preventManipulation(),t.preventMouseEvent&&t.preventMouseEvent())}};return this.enable=function(){window.navigator.msPointerEnabled?(u.addEventListener("MSPointerDown",_,!1),u.addEventListener("MSPointerMove",_,!1),u.addEventListener("MSPointerUp",_,!1),u.addEventListener("MSPointerCancel",_,!1),void 0!==u.style.msContentZooming&&(t=u.style.msContentZooming,u.style.msContentZooming="none"),void 0!==u.style.msTouchAction&&(e=u.style.msTouchAction,u.style.msTouchAction="none")):u.addEventListener?(u.addEventListener("touchstart",_,!1),u.addEventListener("touchmove",_,!1),u.addEventListener("touchend",_,!1),u.addEventListener("touchcancel",_,!1),u.addEventListener("mousedown",_,!1),u.setCapture&&!window.navigator.userAgent.match(/\bGecko\b/)&&(b=!0,u.addEventListener("mousemove",_,!1),u.addEventListener("mouseup",_,!1))):u.attachEvent&&u.setCapture&&(b=!0,u.attachEvent("onmousedown",function(){return _(window.event),window.event.returnValue=!1}),u.attachEvent("onmousemove",function(){return _(window.event),window.event.returnValue=!1}),u.attachEvent("onmouseup",function(){return _(window.event),window.event.returnValue=!1}))},this.disable=function(){window.navigator.msPointerEnabled?(u.removeEventListener("MSPointerDown",_,!1),u.removeEventListener("MSPointerMove",_,!1),u.removeEventListener("MSPointerUp",_,!1),u.removeEventListener("MSPointerCancel",_,!1),t&&(u.style.msContentZooming=t),e&&(u.style.msTouchAction=e)):u.removeEventListener?(u.removeEventListener("touchstart",_,!1),u.removeEventListener("touchmove",_,!1),u.removeEventListener("touchend",_,!1),u.removeEventListener("touchcancel",_,!1),u.removeEventListener("mousedown",_,!1),u.setCapture&&!window.navigator.userAgent.match(/\bGecko\b/)&&(b=!0,u.removeEventListener("mousemove",_,!1),u.removeEventListener("mouseup",_,!1))):u.detachEvent&&u.setCapture&&(b=!0,u.detachEvent("onmousedown"),u.detachEvent("onmousemove"),u.detachEvent("onmouseup"))},this}}]).factory("GridsterDraggable",["$document","$window","GridsterTouch",function(r,O,a){return function(E,M,T,C,S){var A,k,u,h,s=0,l=0,p=0,f=0,c=0,d=0,D=r[0],m=["select","option","input","textarea","button"];function t(t){if(-1!==m.indexOf(t.target.nodeName.toLowerCase()))return!1;var e,n=P.element(t.target);if(n.hasClass("gridster-item-resizable-handler"))return!1;if(n.attr("onclick")||n.attr("ng-click"))return!1;if(n.closest&&n.closest(".gridster-no-drag").length)return!1;if(T.draggable&&T.draggable.handle){var i=P.element(E[0].querySelectorAll(T.draggable.handle)),o=!1;t:for(var r=0,a=i.length;r<a;++r){var s=i[r];if(s===t.target){o=!0;break}for(var l=t.target,c=0;c<20;++c){var d=l.parentNode;if(d===E[0]||!d)break;if(d===s){o=!0;break t}l=d}}if(!o)return!1}switch(t.which){case 1:break;case 2:case 3:return}return p=t.pageX,f=t.pageY,A=parseInt(E.css("left"),10),k=parseInt(E.css("top"),10),u=E[0].offsetWidth,h=E[0].offsetHeight,C.col,C.row,e=t,E.addClass("gridster-item-moving"),T.movingItem=C,T.updateHeight(C.sizeY),M.$apply(function(){T.draggable&&T.draggable.start&&T.draggable.start(e,E,S,C)}),!0}function e(t){if(!E.hasClass("gridster-item-moving")||E.hasClass("gridster-item-resizing"))return!1;var e=T.curWidth-1,n=T.curRowHeight*T.maxRows-1;s=t.pageX,l=t.pageY;var i=s-p+c,o=l-f+d;c=d=0,p=s,f=l;var r=i,a=o;return A+r<0?c=r-(i=0-A):e<A+u+r&&(c=r-(i=e-A-u)),k+a<0?d=a-(o=0-k):n<k+h+a&&(d=a-(o=n-k-h)),A+=i,k+=o,E.css({top:k+"px",left:A+"px"}),function(t){var e=C.row,n=C.col,i=T.draggable&&T.draggable.drag,o=T.draggable.scrollSensitivity,r=T.draggable.scrollSpeed,a=Math.min(T.pixelsToRows(k),T.maxRows-1),s=Math.min(T.pixelsToColumns(A),T.columns-1),l=T.getItems(a,s,C.sizeX,C.sizeY,C),c=0!==l.length;if(!0===T.swapping&&c){var d=T.getBoundingBox(l),u=d.sizeX===C.sizeX&&d.sizeY===C.sizeY,h=d.row===e,p=d.col===n,f=d.row===a&&d.col===s,m=h||p;if(u&&1===l.length){if(f)T.swapItems(C,l[0]);else if(m)return}else if(d.sizeX<=C.sizeX&&d.sizeY<=C.sizeY&&m)for(var g=C.row<=a?C.row:a+C.sizeY,v=C.col<=s?C.col:s+C.sizeX,y=g-d.row,b=v-d.col,_=0,x=l.length;_<x;++_){var w=l[_];0===T.getItems(w.row+y,w.col+b,w.sizeX,w.sizeY,C).length&&T.putItem(w,w.row+y,w.col+b)}}!1===T.pushing&&c||(C.row=a,C.col=s),t.pageY-D.body.scrollTop<o?D.body.scrollTop=D.body.scrollTop-r:O.innerHeight-(t.pageY-D.body.scrollTop)<o&&(D.body.scrollTop=D.body.scrollTop+r),t.pageX-D.body.scrollLeft<o?D.body.scrollLeft=D.body.scrollLeft-r:O.innerWidth-(t.pageX-D.body.scrollLeft)<o&&(D.body.scrollLeft=D.body.scrollLeft+r),(i||e!==C.row||n!==C.col)&&M.$apply(function(){i&&T.draggable.drag(t,E,S,C)})}(t),!0}function n(t){return!(!E.hasClass("gridster-item-moving")||E.hasClass("gridster-item-resizing")||(c=d=0,function(t){E.removeClass("gridster-item-moving");var e=Math.min(T.pixelsToRows(k),T.maxRows-1),n=Math.min(T.pixelsToColumns(A),T.columns-1);!1===T.pushing&&0!==T.getItems(e,n,C.sizeX,C.sizeY,C).length||(C.row=e,C.col=n),T.movingItem=null,C.setPosition(C.row,C.col),M.$apply(function(){T.draggable&&T.draggable.stop&&T.draggable.stop(t,E,S,C)})}(t),0))}var i=null,o=null;this.enable=function(){!0!==i&&(i=!0,o?o.enable():(o=new a(E[0],t,e,n)).enable())},this.disable=function(){!1!==i&&(i=!1,o&&o.disable())},this.toggle=function(t){t?this.enable():this.disable()},this.destroy=function(){this.disable()}}}]).factory("GridsterResizable",["GridsterTouch",function(T){return function(_,x,w,E,M){function t(u){var h,p,f,m,n,a=u,s=0,l=0,c=0,d=0,g=0,v=0,y=function(){return(E.minSizeY?E.minSizeY:1)*w.curRowHeight-w.margins[0]},b=function(){return(E.minSizeX?E.minSizeX:1)*w.curColWidth-w.margins[1]};function t(t){switch(t.which){case 1:break;case 2:case 3:return}var e;return(n=w.draggable.enabled)&&(w.draggable.enabled=!1,x.$broadcast("gridster-draggable-changed",w)),c=t.pageX,d=t.pageY,h=parseInt(_.css("left"),10),p=parseInt(_.css("top"),10),f=_[0].offsetWidth,m=_[0].offsetHeight,E.sizeX,E.sizeY,e=t,_.addClass("gridster-item-moving"),_.addClass("gridster-item-resizing"),(w.movingItem=E).setElementSizeX(),E.setElementSizeY(),E.setElementPosition(),w.updateHeight(1),x.$apply(function(){w.resizable&&w.resizable.start&&w.resizable.start(e,_,M,E)}),!0}function e(t){var e=w.curWidth-1;s=t.pageX,l=t.pageY;var n=s-c+g,i=l-d+v;g=v=0,c=s,d=l;var o=i,r=n;return 0<=a.indexOf("n")&&(m-o<y()?(i=m-y(),v=o-i):p+o<0&&(v=o-(i=0-p)),p+=i,m-=i),0<=a.indexOf("s")&&(m+o<y()?(i=y()-m,v=o-i):9999<p+m+o&&(v=o-(i=9999-p-m)),m+=i),0<=a.indexOf("w")&&(f-r<b()?(n=f-b(),g=r-n):h+r<0&&(g=r-(n=0-h)),h+=n,f-=n),0<=a.indexOf("e")&&(f+r<b()?(n=b()-f,g=r-n):e<h+f+r&&(g=r-(n=e-h-f)),f+=n),_.css({top:p+"px",left:h+"px",width:f+"px",height:m+"px"}),function(t){var e=E.row,n=E.col,i=E.sizeX,o=E.sizeY,r=w.resizable&&w.resizable.resize,a=E.col;-1!==["w","nw","sw"].indexOf(u)&&(a=w.pixelsToColumns(h,!1));var s=E.row;-1!==["n","ne","nw"].indexOf(u)&&(s=w.pixelsToRows(p,!1));var l=E.sizeX;-1===["n","s"].indexOf(u)&&(l=w.pixelsToColumns(f,!0));var c=E.sizeY;-1===["e","w"].indexOf(u)&&(c=w.pixelsToRows(m,!0)),!(-1<s&&-1<a&&l+a<=w.columns&&c+s<=w.maxRows)||!1===w.pushing&&0!==w.getItems(s,a,l,c,E).length||(E.row=s,E.col=a,E.sizeX=l,E.sizeY=c);var d=E.row!==e||E.col!==n||E.sizeX!==i||E.sizeY!==o;(r||d)&&x.$apply(function(){r&&w.resizable.resize(t,_,M,E)})}(t),!0}function i(t){var e;return w.draggable.enabled!==n&&(w.draggable.enabled=n,x.$broadcast("gridster-draggable-changed",w)),g=v=0,e=t,_.removeClass("gridster-item-moving"),_.removeClass("gridster-item-resizing"),w.movingItem=null,E.setPosition(E.row,E.col),E.setSizeY(E.sizeY),E.setSizeX(E.sizeX),x.$apply(function(){w.resizable&&w.resizable.stop&&w.resizable.stop(e,_,M,E)}),!0}var o,r=null;this.enable=function(){r||(r=P.element('<div class="gridster-item-resizable-handler handle-'+a+'"></div>'),_.append(r)),(o=new T(r[0],t,e,i)).enable()},this.disable=function(){r&&(r.remove(),r=null),o.disable(),o=void 0},this.destroy=function(){this.disable()}}var n=[],e=w.resizable.handles;"string"==typeof e&&(e=w.resizable.handles.split(","));for(var i=!1,o=0,r=e.length;o<r;o++)n.push(new t(e[o]));this.enable=function(){if(!i){for(var t=0,e=n.length;t<e;t++)n[t].enable();i=!0}},this.disable=function(){if(i){for(var t=0,e=n.length;t<e;t++)n[t].disable();i=!1}},this.toggle=function(t){t?this.enable():this.disable()},this.destroy=function(){for(var t=0,e=n.length;t<e;t++)n[t].destroy()}}}]).factory("gridsterDebounce",function(){return function(i,o,r){var a;return function(){var t=this,e=arguments,n=r&&!a;clearTimeout(a),a=setTimeout(function(){a=null,r||i.apply(t,e)},o),n&&i.apply(t,e)}}}).directive("gridsterItem",["$parse","GridsterDraggable","GridsterResizable","gridsterDebounce",function(x,w,E,M){return{scope:!0,restrict:"EA",controller:"GridsterItemCtrl",controllerAs:"gridsterItem",require:["^gridster","gridsterItem"],link:function(i,t,e,n){var o,r=e.gridsterItem,a=n[0],s=n[1];if(i.gridster=a,r){var l=x(r);!(o=l(i)||{})&&l.assign&&(o={row:s.row,col:s.col,sizeX:s.sizeX,sizeY:s.sizeY,minSizeX:0,minSizeY:0,maxSizeX:null,maxSizeY:null},l.assign(i,o))}else o=e;s.init(t,a),t.addClass("gridster-item");for(var c=["minSizeX","maxSizeX","minSizeY","maxSizeY","sizeX","sizeY","row","col"],d={},u=[],h=function(t){var e;if("string"==typeof o[t])e=o[t];else if("string"==typeof o[t.toLowerCase()])e=o[t.toLowerCase()];else{if(!r)return;e=r+"."+t}u.push('"'+t+'":'+e),d[t]=x(e);var n=d[t](i);"number"==typeof n&&(s[t]=n)},p=0,f=c.length;p<f;++p)h(c[p]);var m="{"+u.join(",")+"}";i.$watchCollection(m,function(t,e){for(var n in t){var i=t[n];e[n]!==i&&(i=parseInt(i,10),isNaN(i)||(s[n]=i))}}),i.$watch(function(){return s.row+","+s.col},function(){s.setPosition(s.row,s.col),d.row&&d.row.assign&&d.row.assign(i,s.row),d.col&&d.col.assign&&d.col.assign(i,s.col)}),i.$watch(function(){return s.sizeY+","+s.sizeX+","+s.minSizeX+","+s.maxSizeX+","+s.minSizeY+","+s.maxSizeY},function(){var t=s.setSizeX(s.sizeX,!0);t&&d.sizeX&&d.sizeX.assign&&d.sizeX.assign(i,s.sizeX);var e=s.setSizeY(s.sizeY,!0);e&&d.sizeY&&d.sizeY.assign&&d.sizeY.assign(i,s.sizeY),(t||e)&&(s.gridster.moveOverlappingItems(s),a.layoutChanged(),i.$broadcast("gridster-item-resized",s))});var g=new w(t,i,a,s,o),v=new E(t,i,a,s,o),y=function(){v.toggle(!a.isMobile&&a.resizable&&a.resizable.enabled)};y();var b=function(){g.toggle(!a.isMobile&&a.draggable&&a.draggable.enabled)};b(),i.$on("gridster-draggable-changed",b),i.$on("gridster-resizable-changed",y),i.$on("gridster-resized",y),i.$on("gridster-mobile-changed",function(){y(),b()});var _=M(function(){i.$apply(function(){i.$broadcast("gridster-item-transition-end",s)})},50);return t.on(function(){var t=document.createElement("div"),e={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(var n in e)if(void 0!==t.style[n])return e[n]}(),_),i.$broadcast("gridster-item-initialized",s),i.$on("$destroy",function(){try{v.destroy(),g.destroy()}catch(t){}try{a.removeItem(s)}catch(t){}try{s.destroy()}catch(t){}})}}}]).directive("gridsterNoDrag",function(){return{restrict:"A",link:function(t,e){e.addClass("gridster-no-drag")}}})}),angular.module("cgPrompt",["ui.bootstrap"]),angular.module("cgPrompt").factory("prompt",["$uibModal","$q",function(o,r){return function(e){var t={title:"",message:"",input:!1,label:"",value:"",values:!1,buttons:[{label:"Cancel",cancel:!0},{label:"OK",primary:!0}]};for(var n in void 0===e&&(e={}),t)void 0===e[n]&&(e[n]=t[n]);var i=r.defer();return o.open({templateUrl:"angular-prompt.html",controller:"cgPromptCtrl",backdrop:"static",resolve:{options:function(){return e}}}).result.then(function(t){e.input?i.resolve(t.input):i.resolve(t.button)},function(){i.reject()}),i.promise}}]),angular.module("cgPrompt").controller("cgPromptCtrl",["$scope","options","$timeout",function(n,e,t){n.input={name:e.value},n.options=e,n.form={},n.buttonClicked=function(t){t.cancel?n.$dismiss():e.input&&n.form.cgPromptForm.$invalid?n.changed=!0:n.$close({button:t,input:n.input.name})},n.submit=function(){var e;angular.forEach(n.options.buttons,function(t){t.primary&&(e=t)}),e&&n.buttonClicked(e)},t(function(){var t=document.querySelector("#cgPromptInput");t&&(t.select&&t.select(),t.focus&&t.focus())},100)}]),angular.module("cgPrompt").run(["$templateCache",function(t){"use strict";t.put("angular-prompt.html",'<div>\n    <div class="modal-header">\n        <button type="button" class="close pull-right" ng-click="$dismiss()" aria-hidden="true"></button>\n        <h4 class="modal-title">{{options.title}}</h4>\n    </div>\n    <div class="modal-body">\n\n        <p ng-if="options.message">\n            {{options.message}}\n        </p>\n\n        <form id="cgPromptForm" name="form.cgPromptForm" ng-if="options.input" ng-submit="submit()">\n            <div class="form-group" ng-class="{\'has-error\':form.cgPromptForm.$invalid && changed}">\n                <label for="cgPromptInput">{{options.label}}</label>\n                <input id="cgPromptInput" type="text" class="form-control"  placeholder="{{options.label}}" ng-model="input.name" ng-change="changed=true" ng-if="!options.values || options.values.length === 0"/ autofocus="autofocus" required>\n                <div class="input-group" ng-if="options.values">\n                    <input id="cgPromptInput" type="text" class="form-control" placeholder="{{options.label}}" ng-model="input.name" ng-change="changed=true" autofocus="autofocus" required/>\n\n                    <div class="input-group-btn" dropdown>\n                        <button type="button" class="btn btn-default dropdown-toggle" dropdown-toggle data-toggle="dropdown"><span class="caret"></span></button>\n                        <ul class="dropdown-menu pull-right">\n                            <li ng-repeat="value in options.values"><a href="" ng-click="input.name = value">{{value}}</a></li>\n                        </ul>\n                    </div>\n                </div>\n            </div>\n         </form>\n\n    </div>\n    <div class="modal-footer">\n        <button ng-repeat="button in options.buttons track by button.label" class="btn btn-default {{button.class}}" ng-class="{\'btn-primary\':button.primary}" ng-click="buttonClicked(button)">{{button.label}}</button>\n    </div>\n</div>')}]),function(c,t){"use strict";function d(t,e,n){if(!t)throw i("areq",e||"?",n||"required");return t}function _(t,e){return t||e?t?e?(Et(t)&&(t=t.join(" ")),Et(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function ot(t,n,i){var o="";return t=Et(t)?t:t&&Y(t)&&t.length?t.split(/\s+/):[],wt(t,function(t,e){t&&0<t.length&&(o+=0<e?" ":"",o+=i?n+t:t+n)}),o}function B(t){if(!t[0])return t;for(var e=0;e<t.length;e++){var n=t[e];if(1===n.nodeType)return n}}function U(l){return function(t,e){var n,i,o,r,a,s;e.addClass&&(n=l,i=t,o=e.addClass,wt(i,function(t){n.addClass(t,o)}),e.addClass=null),e.removeClass&&(r=l,a=t,s=e.removeClass,wt(a,function(t){r.removeClass(t,s)}),e.removeClass=null)}}function rt(t){if(!(t=t||{}).$$prepared){var e=t.domOperation||Mt;t.domOperation=function(){t.$$domOperationFired=!0,e(),e=Mt},t.$$prepared=!0}return t}function at(t,e){st(t,e),lt(t,e)}function st(t,e){e.from&&(t.css(e.from),e.from=null)}function lt(t,e){e.to&&(t.css(e.to),e.to=null)}function j(t,e,n){var i=e.options||{};n=n.options||{};var o=(i.addClass||"")+" "+(n.addClass||""),r=(i.removeClass||"")+" "+(n.removeClass||"");return t=function(o,t,e){function n(t){Y(t)&&(t=t.split(" "));var e={};return wt(t,function(t){t.length&&(e[t]=!0)}),e}var i={};o=n(o),t=n(t),wt(t,function(t,e){i[e]=1}),e=n(e),wt(e,function(t,e){i[e]=1===i[e]?null:-1});var r={addClass:"",removeClass:""};return wt(i,function(t,e){var n,i;1===t?(n="addClass",i=!o[e]||o[e+"-remove"]):-1===t&&(n="removeClass",i=o[e]||o[e+"-add"]),i&&(r[n].length&&(r[n]+=" "),r[n]+=e)}),r}(t.attr("class"),o,r),n.preparationClasses&&(i.preparationClasses=V(n.preparationClasses,i.preparationClasses),delete n.preparationClasses),o=i.domOperation!==Mt?i.domOperation:null,u(i,n),o&&(i.domOperation=o),i.addClass=t.addClass?t.addClass:null,i.removeClass=t.removeClass?t.removeClass:null,e.addClass=i.addClass,e.removeClass=i.removeClass,i}function ct(t){return t instanceof X?t[0]:t}function dt(t,e){var n=e?"-"+e+"s":"";return ht(t,[St,n]),[St,n]}function ut(t,e){var n=e?"paused":"",i=bt+"PlayState";return ht(t,[i,n]),[i,n]}function ht(t,e){t.style[e[0]]=e[1]}function V(t,e){return t?e?t+" "+e:t:e}function pt(t,e,n){var a=Object.create(null),s=t.getComputedStyle(e)||{};return wt(n,function(t,e){var n,i,o=s[t];if(o){var r=o.charAt(0);("-"===r||"+"===r||0<=r)&&(i=0,n=(n=o).split(/\s*,\s*/),wt(n,function(t){"s"===t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),t=parseFloat(t)||0,i=i?Math.max(t,i):t}),o=i),0===o&&(o=null),a[e]=o}}),a}function ft(t){return 0===t||null!=t}function mt(t,e){var n=vt,i=t+"s";return e?n+="Duration":i+=" linear all",[n,i]}function e(){var n=Object.create(null);return{flush:function(){n=Object.create(null)},count:function(t){return(t=n[t])?t.total:0},get:function(t){return(t=n[t])&&t.value},put:function(t,e){n[t]?n[t].total++:n[t]={total:1,value:e}}}}function gt(e,n,t){wt(t,function(t){e[t]=G(e[t])?e[t]:n.style.getPropertyValue(t)})}var vt,yt,bt,_t;yt=void 0===c.ontransitionend&&void 0!==c.onwebkittransitionend?(vt="WebkitTransition","webkitTransitionEnd transitionend"):(vt="transition","transitionend"),_t=void 0===c.onanimationend&&void 0!==c.onwebkitanimationend?(bt="WebkitAnimation","webkitAnimationEnd animationend"):(bt="animation","animationend");var xt,u,wt,Et,G,h,x,W,Y,q,X,Mt,Tt=bt+"Delay",Ct=bt+"Duration",St=vt+"Delay",n=vt+"Duration",i=t.$$minErr("ng"),r={transitionDuration:n,transitionDelay:St,transitionProperty:vt+"Property",animationDuration:Ct,animationDelay:Tt,animationIterationCount:bt+"IterationCount"},At={transitionDuration:n,transitionDelay:St,animationDuration:Ct,animationDelay:Tt};t.module("ngAnimate",[],function(){Mt=t.noop,xt=t.copy,u=t.extend,X=t.element,wt=t.forEach,Et=t.isArray,Y=t.isString,W=t.isObject,q=t.isUndefined,G=t.isDefined,x=t.isFunction,h=t.isElement}).directive("ngAnimateSwap",["$animate","$rootScope",function(s,t){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(e,n,t,i,o){var r,a;e.$watchCollection(t.ngAnimateSwap||t.for,function(t){r&&s.leave(r),a&&(a.$destroy(),a=null),(t||0===t)&&(a=e.$new(),o(a,function(t){r=t,s.enter(t,null,n)}))})}}}]).directive("ngAnimateChildren",["$interpolate",function(r){return{link:function(t,e,n){function i(t){e.data("$$ngAnimateChildren","on"===t||"true"===t)}var o=n.ngAnimateChildren;Y(o)&&0===o.length?e.data("$$ngAnimateChildren",!0):(i(r(o)(t)),n.$observe("ngAnimateChildren",i))}}}]).factory("$$rAFScheduler",["$$rAF",function(n){function t(t){o=o.concat(t),i()}function i(){if(o.length){for(var t=o.shift(),e=0;e<t.length;e++)t[e]();r||n(function(){r||i()})}}var o,r;return o=t.queue=[],t.waitUntilQuiet=function(t){r&&r(),r=n(function(){r=null,t(),i()})},t}]).provider("$$animateQueue",["$animateProvider",function(l){function o(t,e){if(t&&e){var n=function(t){if(!t)return null;t=t.split(" ");var e=Object.create(null);return wt(t,function(t){e[t]=!0}),e}(e);return t.split(" ").some(function(t){return n[t]})}}function z(t,e,n,i){return r[t].some(function(t){return t(e,n,i)})}function H(t,e){var n=0<(t.addClass||"").length,i=0<(t.removeClass||"").length;return e?n&&i:n||i}var r=this.rules={skip:[],cancel:[],join:[]};r.join.push(function(t,e,n){return!e.structural&&H(e)}),r.skip.push(function(t,e,n){return!e.structural&&!H(e)}),r.skip.push(function(t,e,n){return"leave"===n.event&&e.structural}),r.skip.push(function(t,e,n){return n.structural&&2===n.state&&!e.structural}),r.cancel.push(function(t,e,n){return n.structural&&e.structural}),r.cancel.push(function(t,e,n){return 2===n.state&&e.structural}),r.cancel.push(function(t,e,n){if(n.structural)return!1;t=e.addClass,e=e.removeClass;var i=n.addClass;return n=n.removeClass,!(q(t)&&q(e)||q(i)&&q(n))&&(o(t,n)||o(e,i))}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow","$$isDocumentHidden",function(x,w,E,M,t,T,C,e,n,i,S){function o(t,e,n){var i=B(e);return t.filter(function(t){return!(t.node===i&&(!n||t.callback===n))})}function r(c,i,t){function o(t,a,s,l){n(function(){var t,e,n,i,o,r=(t=d,e=a,n=ct(c),i=ct(t),o=[],(t=L[e])&&wt(t,function(t){$.call(t.node,n)?o.push(t.callback):"leave"===e&&$.call(t.node,i)&&o.push(t.callback)}),o);r.length?x(function(){wt(r,function(t){t(c,s,l)}),"close"!==s||c[0].parentNode||F.off(c)}):"close"!==s||c[0].parentNode||F.off(c)}),t.progress(a,s,l)}function r(t){var e=c,n=s;n.preparationClasses&&(e.removeClass(n.preparationClasses),n.preparationClasses=null),n.activeClasses&&(e.removeClass(n.activeClasses),n.activeClasses=null),R(c,s),at(c,s),s.domOperation(),l.complete(!t)}var a,d,s=xt(t);(c=function(t){if(t instanceof X)switch(t.length){case 0:return t;case 1:if(1===t[0].nodeType)return t;break;default:return X(B(t))}if(1===t.nodeType)return X(t)}(c))&&(a=ct(c),d=c.parent());s=rt(s);var e,l=new C,n=(e=!1,function(t){e?t():w.$$postDigest(function(){e=!0,t()})});if(Et(s.addClass)&&(s.addClass=s.addClass.join(" ")),s.addClass&&!Y(s.addClass)&&(s.addClass=null),Et(s.removeClass)&&(s.removeClass=s.removeClass.join(" ")),s.removeClass&&!Y(s.removeClass)&&(s.removeClass=null),s.from&&!W(s.from)&&(s.from=null),s.to&&!W(s.to)&&(s.to=null),!a)return r(),l;if(t=[a.getAttribute("class"),s.addClass,s.removeClass].join(" "),!I(t))return r(),l;var u,h,p,f,m,g=0<=["enter","move","leave"].indexOf(i),v=S(),y=!N||v||P.get(a),b=!!(t=!y&&O.get(a)||{}).state;if(y||b&&1===t.state||(y=!function(t,e,n){n=X(M[0].body);var i,o=k(t,n)||"HTML"===t[0].nodeName,r=k(t,E),a=!1,s=P.get(ct(t));for((t=X.data(t[0],"$ngAnimatePin"))&&(e=t),e=ct(e);e&&(r||(r=k(e,E)),1===e.nodeType);){if(t=O.get(e)||{},!a){var l=P.get(e);if(!0===l&&!1!==s){s=!0;break}!1===l&&(s=!1),a=t.structural}if((q(i)||!0===i)&&(t=X.data(e,"$$ngAnimateChildren"),G(t)&&(i=t)),a&&!1===i)break;if(o||(o=k(e,n)),o&&r)break;e=r||!(t=X.data(e,"$ngAnimatePin"))?e.parentNode:ct(t)}return(!a||i)&&!0!==s&&r&&o}(c,d,i)),y)return v&&o(l,i,"start"),r(),v&&o(l,i,"close"),l;if(g&&(u=ct(u=c).querySelectorAll("[data-ng-animate]"),wt(u,function(t){var e=parseInt(t.getAttribute("data-ng-animate"),10),n=O.get(t);if(n)switch(e){case 2:n.runner.end();case 1:O.remove(t)}})),v={structural:g,element:c,event:i,addClass:s.addClass,removeClass:s.removeClass,close:r,options:s,runner:l},b){if(z("skip",c,v,t))return 2===t.state?(r(),l):(j(c,t,v),t.runner);if(z("cancel",c,v,t))if(2===t.state)t.runner.end();else{if(!t.structural)return j(c,t,v),t.runner;t.close()}else if(z("join",c,v,t)){if(2!==t.state)return h=c,f=s,m="",(p=g?i:null)&&(m=ot(p,"ng-",!0)),f.addClass&&(m=V(m,ot(f.addClass,"-add"))),f.removeClass&&(m=V(m,ot(f.removeClass,"-remove"))),m.length&&(f.preparationClasses=m,h.addClass(m)),i=v.event=t.event,s=j(c,t,v),t.runner;j(c,v,{})}}else j(c,v,{});if((b=v.structural)||(b="animate"===v.event&&0<Object.keys(v.options.to||{}).length||H(v)),!b)return r(),A(c),l;var _=(t.counter||0)+1;return v.counter=_,D(c,1,v),w.$$postDigest(function(){var t=!(e=O.get(a)),e=e||{},n=0<(c.parent()||[]).length&&("animate"===e.event||e.structural||H(e));t||e.counter!==_||!n?(t&&(R(c,s),at(c,s)),(t||g&&e.event!==i)&&(s.domOperation(),l.end()),n||A(c)):(i=!e.structural&&H(e,!0)?"setClass":e.event,D(c,2),e=T(c,i,e.options),l.setHost(e),o(l,i,"start",{}),e.done(function(t){r(!t),(t=O.get(a))&&t.counter===_&&A(ct(c)),o(l,i,"close",{})}))}),l}function A(t){(t=ct(t)).removeAttribute("data-ng-animate"),O.remove(t)}function k(t,e){return ct(t)===ct(e)}function D(t,e,n){(n=n||{}).state=e,(t=ct(t)).setAttribute("data-ng-animate",e),n=(e=O.get(t))?u(e,n):n,O.put(t,n)}var O=new t,P=new t,N=null,a=w.$watch(function(){return 0===e.totalPendingRequests},function(t){t&&(a(),w.$$postDigest(function(){w.$$postDigest(function(){null===N&&(N=!0)})}))}),L=Object.create(null),s=l.classNameFilter(),I=s?function(t){return s.test(t)}:function(){return!0},R=U(n),$=c.Node.prototype.contains||function(t){return this===t||!!(16&this.compareDocumentPosition(t))},F={on:function(t,e,n){var i=B(e);L[t]=L[t]||[],L[t].push({node:i,callback:n}),X(e).on("$destroy",function(){O.get(i)||F.off(t,e,n)})},off:function(t,e,n){if(1!==arguments.length||Y(t)){var i=L[t];i&&(L[t]=1===arguments.length?null:o(i,e,n))}else for(i in e=t,L)L[i]=o(L[i],e)},pin:function(t,e){d(h(t),"element","not an element"),d(h(e),"parentElement","not an element"),t.data("$ngAnimatePin",e)},push:function(t,e,n,i){return(n=n||{}).domOperation=i,r(t,e,n)},enabled:function(t,e){var n=arguments.length;if(0===n)e=!!N;else if(h(t)){var i=ct(t);1===n?e=!P.get(i):P.put(i,!e)}else e=N=!!t;return e}};return F}]}]).provider("$$animation",["$animateProvider",function(t){var b=this.drivers=[];this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$HashMap","$$rAFScheduler",function(u,h,p,f,m,g){var v=[],y=U(u);return function(e,n,i){function o(l){var c=[],r={};wt(l,function(t,n){var e=ct(t.element),i=0<=["enter","move"].indexOf(t.event);if((e=t.structural?function(t){t=t.hasAttribute("ng-animate-ref")?[t]:t.querySelectorAll("[ng-animate-ref]");var n=[];return wt(t,function(t){var e=t.getAttribute("ng-animate-ref");e&&e.length&&n.push(t)}),n}(e):[]).length){var o=i?"to":"from";wt(e,function(t){var e=t.getAttribute("ng-animate-ref");r[e]=r[e]||{},r[e][o]={animationID:n,element:X(t)}})}else c.push(t)});var d={},u={};return wt(r,function(t,e){var n=t.from,i=t.to;if(n&&i){var o=l[n.animationID],r=l[i.animationID],a=n.animationID.toString();if(!u[a]){var s=u[a]={structural:!0,beforeStart:function(){o.beforeStart(),r.beforeStart()},close:function(){o.close(),r.close()},classes:function(t,e){t=t.split(" "),e=e.split(" ");for(var n=[],i=0;i<t.length;i++){var o=t[i];if("ng-"!==o.substring(0,3))for(var r=0;r<e.length;r++)if(o===e[r]){n.push(o);break}}return n.join(" ")}(o.classes,r.classes),from:o,to:r,anchors:[]};s.classes.length?c.push(s):(c.push(o),c.push(r))}u[a].anchors.push({out:n.element,in:i.element})}else i=(n=n?n.animationID:i.animationID).toString(),d[i]||(d[i]=!0,c.push(l[n]))}),c}function r(){var t=e.data("$$animationRunner");!t||"leave"===n&&i.$$domOperationFired||t.end()}function t(t){e.off("$destroy",r),e.removeData("$$animationRunner"),y(e,i),at(e,i),i.domOperation(),d&&u.removeClass(e,d),e.removeClass("ng-animate"),s.complete(!t)}i=rt(i);var a=0<=["enter","move","leave"].indexOf(n),s=new f({end:function(){t()},cancel:function(){t(!0)}});if(!b.length)return t(),s;e.data("$$animationRunner",s);var l,c=_(e.attr("class"),_(i.addClass,i.removeClass)),d=i.tempClasses;return d&&(c+=" "+d,i.tempClasses=null),a&&(l="ng-"+n+"-prepare",u.addClass(e,l)),v.push({element:e,classes:c,event:n,structural:a,options:i,beforeStart:function(){e.addClass("ng-animate"),d&&u.addClass(e,d),l&&(u.removeClass(e,l),l=null)},close:t}),e.on("$destroy",r),1<v.length||h.$$postDigest(function(){var e=[];wt(v,function(t){t.element.data("$$animationRunner")?e.push(t):t.close()}),v.length=0;var t=o(e),n=[];wt(t,function(i){n.push({domNode:ct(i.from?i.from.element:i.element),fn:function(){i.beforeStart();var t,e=i.close;if((i.anchors?i.from.element||i.to.element:i.element).data("$$animationRunner")){var n=function(t){for(var e=b.length-1;0<=e;e--){var n=p.get(b[e])(t);if(n)return n}}(i);n&&(t=n.start)}t?((t=t()).done(function(t){e(!t)}),function(t,e){function n(t){(t=t.data("$$animationRunner"))&&t.setHost(e)}t.from&&t.to?(n(t.from.element),n(t.to.element)):n(t.element)}(i,t)):e()}})}),g(function(t){function o(t){if(t.processed)return t;t.processed=!0;var e,n=t.domNode,i=n.parentNode;for(a.put(n,t);i;){if(e=a.get(i)){e.processed||(e=o(e));break}i=i.parentNode}return(e||r).children.push(t),t}var e,r={children:[]},a=new m;for(e=0;e<t.length;e++){var n=t[e];a.put(n.domNode,t[e]={domNode:n.domNode,fn:n.fn,children:[]})}for(e=0;e<t.length;e++)o(t[e]);return function(t){var e,n=[],i=[];for(e=0;e<t.children.length;e++)i.push(t.children[e]);t=i.length;var o=0,r=[];for(e=0;e<i.length;e++){var a=i[e];t<=0&&(t=o,o=0,n.push(r),r=[]),r.push(a.fn),a.children.forEach(function(t){o++,i.push(t)}),t--}return r.length&&n.push(r),n}(r)}(n))}),s}}]}]).provider("$animateCss",["$animateProvider",function(t){var nt=e(),it=e();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(W,Y,q,X,n,Z,e,K){function Q(t,e){var n=t.parentNode;return(n.$$ngAnimateParentKey||(n.$$ngAnimateParentKey=++i))+"-"+t.getAttribute("class")+"-"+e}function J(t){o.push(t),e.waitUntilQuiet(function(){nt.flush(),it.flush();for(var t=n(),e=0;e<o.length;e++)o[e](t);o.length=0})}function tt(t,e,n){return(e=nt.get(n))||"infinite"===(e=pt(W,t,r)).animationIterationCount&&(e.animationIterationCount=1),nt.put(n,e),n=(t=e).animationDelay,e=t.transitionDelay,t.maxDelay=n&&e?Math.max(n,e):n||e,t.maxDuration=Math.max(t.animationDuration*t.animationIterationCount,t.transitionDuration),t}var et=U(Y),i=0,o=[];return function(a,t){function e(){s()}function n(){s(!0)}function s(t){if(!(p||m&&f)){f=!(p=!0),d.$$skipPreparationClasses||Y.removeClass(a,F),Y.removeClass(a,H),ut(h,!1),dt(h,!1),wt(M,function(t){h.style[t[0]]=""}),et(a,d),at(a,d),Object.keys(u).length&&wt(u,function(t,e){t?h.style.setProperty(e,t):h.style.removeProperty(e)}),d.onDone&&d.onDone(),S&&S.length&&a.off(S.join(" "),c);var e=a.data("$$animateCss");e&&(X.cancel(e[0].timer),a.removeData("$$animateCss")),r&&r.complete(!t)}}function l(t){G.blockTransition&&dt(h,t),G.blockKeyframeAnimation&&ut(h,!!t)}function i(){return r=new q({end:e,cancel:n}),J(Mt),s(),{$$willAnimate:!1,start:function(){return r},end:e}}function c(t){t.stopPropagation();var e=t.originalEvent||t;t=e.$manualTimeStamp||Date.now(),e=parseFloat(e.elapsedTime.toFixed(3)),Math.max(t-x,0)>=y&&b<=e&&(m=!0,s())}function o(){function t(){if(!p){if(l(!1),wt(M,function(t){h.style[t[0]]=t[1]}),et(a,d),Y.addClass(a,H),G.recalculateTimingStyles){if(z=h.getAttribute("class")+" "+F,O=Q(h,z),U=tt(h,z,O),j=U.maxDelay,v=Math.max(j,0),0===(b=U.maxDuration))return void s();G.hasTransitions=0<U.transitionDuration,G.hasAnimations=0<U.animationDuration}if(G.applyAnimationDelay&&(j="boolean"!=typeof d.delay&&ft(d.delay)?parseFloat(d.delay):j,v=Math.max(j,0),U.animationDelay=j,V=[Tt,j+"s"],M.push(V),h.style[V[0]]=V[1]),y=1e3*v,_=1e3*b,d.easing){var t,e=d.easing;G.hasTransitions&&(t=vt+"TimingFunction",M.push([t,e]),h.style[t]=e),G.hasAnimations&&(t=bt+"TimingFunction",M.push([t,e]),h.style[t]=e)}U.transitionDuration&&S.push(yt),U.animationDuration&&S.push(_t),x=Date.now();var n=y+1.5*_;t=x+n;var i=!0;if((e=a.data("$$animateCss")||[]).length){var o=e[0];(i=t>o.expectedEndTime)?X.cancel(o.timer):e.push(s)}i&&(n=X(r,n,!1),e[0]={timer:n,expectedEndTime:t},e.push(s),a.data("$$animateCss",e)),S.length&&a.on(S.join(" "),c),d.to&&(d.cleanupStyles&&gt(u,h,Object.keys(d.to)),lt(a,d))}}function r(){var t=a.data("$$animateCss");if(t){for(var e=1;e<t.length;e++)t[e]();a.removeData("$$animateCss")}}if(!p)if(h.parentNode){var e=function(t){if(m)f&&t&&(f=!1,s());else if(f=!t,U.animationDuration)if(t=ut(h,f),f)M.push(t);else{var e=M,n=e.indexOf(t);0<=t&&e.splice(n,1)}},n=0<B&&(U.transitionDuration&&0===P.transitionDuration||U.animationDuration&&0===P.animationDuration)&&Math.max(P.animationDelay,P.transitionDelay);n?X(t,Math.floor(n*B*1e3),!1):t(),g.resume=function(){e(!0)},g.pause=function(){e(!1)}}else s()}var d=t||{};d.$$prepared||(d=rt(xt(d)));var u={},h=ct(a);if(!h||!h.parentNode||!K.enabled())return i();var p,f,m,r,g,v,y,b,_,x,w,E,M=[],T=a.attr("class"),C=(E={},(w=d)&&(w.to||w.from)&&(E.to=w.to,E.from=w.from),E),S=[];if(0===d.duration||!Z.animations&&!Z.transitions)return i();var A=d.event&&Et(d.event)?d.event.join(" "):d.event,k="",D="";A&&d.structural?k=ot(A,"ng-",!0):A&&(k=A),d.addClass&&(D+=ot(d.addClass,"-add")),d.removeClass&&(D.length&&(D+=" "),D+=ot(d.removeClass,"-remove")),d.applyClassesEarly&&D.length&&et(a,d);var O,P,N,L,I,R,$,F=[k,D].join(" ").trim(),z=T+" "+F,H=ot(F,"-active");T=C.to&&0<Object.keys(C.to).length;if(!(0<(d.keyframeStyle||"").length||T||F))return i();P=0<d.stagger?{transitionDelay:C=parseFloat(d.stagger),animationDelay:C,transitionDuration:0,animationDuration:0}:(O=Q(h,z),N=h,L=F,I=O,R=At,0<nt.count(I)&&(($=it.get(I))||(L=ot(L,"-stagger"),Y.addClass(N,L),($=pt(W,N,R)).animationDuration=Math.max($.animationDuration,0),$.transitionDuration=Math.max($.transitionDuration,0),Y.removeClass(N,L),it.put(I,$))),$||{}),d.$$skipPreparationClasses||Y.addClass(a,F),d.transitionStyle&&(C=[vt,d.transitionStyle],ht(h,C),M.push(C)),0<=d.duration&&(C=0<h.style[vt].length,C=mt(d.duration,C),ht(h,C),M.push(C)),d.keyframeStyle&&(C=[bt,d.keyframeStyle],ht(h,C),M.push(C));var B=P?0<=d.staggerIndex?d.staggerIndex:nt.count(O):0;(A=0===B)&&!d.skipBlocking&&dt(h,9999);var U=tt(h,z,O),j=U.maxDelay;v=Math.max(j,0),b=U.maxDuration;var V,G={};if(G.hasTransitions=0<U.transitionDuration,G.hasAnimations=0<U.animationDuration,G.hasTransitionAll=G.hasTransitions&&"all"===U.transitionProperty,G.applyTransitionDuration=T&&(G.hasTransitions&&!G.hasTransitionAll||G.hasAnimations&&!G.hasTransitions),G.applyAnimationDuration=d.duration&&G.hasAnimations,G.applyTransitionDelay=ft(d.delay)&&(G.applyTransitionDuration||G.hasTransitions),G.applyAnimationDelay=ft(d.delay)&&G.hasAnimations,G.recalculateTimingStyles=0<D.length,(G.applyTransitionDuration||G.applyAnimationDuration)&&(b=d.duration?parseFloat(d.duration):b,G.applyTransitionDuration&&(G.hasTransitions=!0,U.transitionDuration=b,C=0<h.style[vt+"Property"].length,M.push(mt(b,C))),G.applyAnimationDuration&&(G.hasAnimations=!0,U.animationDuration=b,M.push([Ct,b+"s"]))),0===b&&!G.recalculateTimingStyles)return i();null!=d.delay&&("boolean"!=typeof d.delay&&(V=parseFloat(d.delay),v=Math.max(V,0)),G.applyTransitionDelay&&M.push([St,V+"s"]),G.applyAnimationDelay&&M.push([Tt,V+"s"]));return null==d.duration&&0<U.transitionDuration&&(G.recalculateTimingStyles=G.recalculateTimingStyles||A),y=1e3*v,_=1e3*b,d.skipBlocking||(G.blockTransition=0<U.transitionDuration,G.blockKeyframeAnimation=0<U.animationDuration&&0<P.animationDelay&&0===P.animationDuration),d.from&&(d.cleanupStyles&&gt(u,h,Object.keys(d.from)),st(a,d)),G.blockTransition||G.blockKeyframeAnimation?l(b):d.skipBlocking||dt(h,!1),{$$willAnimate:!0,end:e,start:function(){if(!p)return r=new q(g={end:e,cancel:n,resume:null,pause:null}),J(o),r}}}}]}]).provider("$$animateCssDriver",["$$animationProvider",function(t){t.drivers.push("$$animateCssDriver"),this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(u,t,h,e,n,i,o){function p(t){return t.replace(/\bng-\S+\b/g,"")}function f(t,e){return Y(t)&&(t=t.split(" ")),Y(e)&&(e=e.split(" ")),t.filter(function(t){return-1===e.indexOf(t)}).join(" ")}function r(t,e,n,i){var o=s(t),r=s(e),a=[];if(wt(i,function(t){(t=function(t,e,n){function i(t){var n={},i=ct(t).getBoundingClientRect();return wt(["width","height","top","left"],function(t){var e=i[t];switch(t){case"top":e+=m.scrollTop;break;case"left":e+=m.scrollLeft}n[t]=Math.floor(e)+"px"}),n}function o(){var t=f(e=p(n.attr("class")||""),c),e=f(c,e);return(t=u(l,{to:i(n),addClass:"ng-anchor-in "+t,removeClass:"ng-anchor-out "+e,delay:!0})).$$willAnimate?t:null}function r(){l.remove(),e.removeClass("ng-animate-shim"),n.removeClass("ng-animate-shim")}var a,s,l=X(ct(e).cloneNode(!0)),c=p(l.attr("class")||"");if(e.addClass("ng-animate-shim"),n.addClass("ng-animate-shim"),l.addClass("ng-anchor"),g.append(l),!(t=(s=u(l,{addClass:"ng-anchor-out",delay:!0,from:i(e)})).$$willAnimate?s:null)&&!(a=o()))return r();var d=t||a;return{start:function(){function t(){n&&n.end()}var e,n=d.start();return n.done(function(){if(n=null,!a&&(a=o()))return(n=a.start()).done(function(){n=null,r(),e.complete()}),n;r(),e.complete()}),e=new h({end:t,cancel:t})}}}(n,t.out,t.in))&&a.push(t)}),o||r||0!==a.length)return{start:function(){function t(){wt(e,function(t){t.end()})}var e=[];o&&e.push(o.start()),r&&e.push(r.start()),wt(a,function(t){e.push(t.start())});var n=new h({end:t,cancel:t});return h.all(e,function(t){n.complete(t)}),n}}}function s(t){var e=t.element,n=t.options||{};return t.structural&&(n.event=t.event,n.structural=!0,n.applyClassesEarly=!0,"leave"===t.event&&(n.onDone=n.domOperation)),n.preparationClasses&&(n.event=V(n.event,n.preparationClasses)),(t=u(e,n)).$$willAnimate?t:null}if(!n.animations&&!n.transitions)return Mt;var m=o[0].body;t=ct(e);var g=X(t.parentNode&&11===t.parentNode.nodeType||m.contains(t)?t:m);return function(t){return t.from&&t.to?r(t.from,t.to,t.classes,t.anchors):s(t)}}]}]).provider("$$animateJs",["$animateProvider",function(b){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(g,v,t){var y=U(t);return function(i,t,e,o){function r(){o.domOperation(),y(i,o)}function l(a,s,l,t,e){var n=[];return wt(t,function(t){var r=t[e];r&&n.push(function(){var e,n,i=!1,o=function(t){i||(i=!0,(n||Mt)(t),e.complete(!t))};return e=new v({end:function(){o()},cancel:function(){o(!0)}}),n=function(t,e,n,i,o){switch(n){case"animate":e=[e,i.from,i.to,o];break;case"setClass":e=[e,p,f,o];break;case"addClass":e=[e,p,o];break;case"removeClass":e=[e,f,o];break;default:e=[e,o]}if(e.push(i),t=t.apply(t,e))if(x(t.start)&&(t=t.start()),t instanceof v)t.done(o);else if(x(t))return t;return Mt}(r,a,s,l,function(t){o(!1===t)}),e})}),n}function n(t,e,n,i,o){var r,a,s=l(t,e,n,i,o);0===s.length&&("beforeSetClass"===o?(r=l(t,"removeClass",n,i,"beforeRemoveClass"),a=l(t,"addClass",n,i,"beforeAddClass")):"setClass"===o&&(r=l(t,"removeClass",n,i,"removeClass"),a=l(t,"addClass",n,i,"addClass")),r&&(s=s.concat(r)),a&&(s=s.concat(a)));if(0!==s.length)return function(t){var n=[];return s.length&&wt(s,function(t){n.push(t())}),n.length?v.all(n,t):t(),function(e){wt(n,function(t){e?t.cancel():t.end()})}}}var a=!1;3===arguments.length&&W(e)&&(o=e,e=null),o=rt(o),e||(e=i.attr("class")||"",o.addClass&&(e+=" "+o.addClass),o.removeClass&&(e+=" "+o.removeClass));var s,c,d,u,h,p=o.addClass,f=o.removeClass,m=function(t){t=Et(t)?t:t.split(" ");for(var e=[],n={},i=0;i<t.length;i++){var o=t[i],r=b.$$registeredAnimations[o];r&&!n[o]&&(e.push(g.get(r)),n[o]=!0)}return e}(e);m.length&&(d="leave"===t?(u="leave","afterLeave"):(u="before"+t.charAt(0).toUpperCase()+t.substr(1),t),"enter"!==t&&"move"!==t&&(s=n(i,t,o,m,u)),c=n(i,t,o,m,d));if(s||c)return{$$willAnimate:!0,end:function(){return h?h.end():(a=!0,r(),at(i,o),(h=new v).complete(!0)),h},start:function(){function t(t){a=!0,r(),at(i,o),h.complete(t)}if(h)return h;h=new v;var e,n=[];return s&&n.push(function(t){e=s(t)}),n.length?n.push(function(t){r(),t(!0)}):r(),c&&n.push(function(t){e=c(t)}),h.setHost({end:function(){a||((e||Mt)(void 0),t(void 0))},cancel:function(){a||((e||Mt)(!0),t(!0))}}),v.chain(n,t),h}}}}]}]).provider("$$animateJsDriver",["$$animationProvider",function(t){t.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(e,r){function n(t){return e(t.element,t.event,t.classes,t.options)}return function(t){if(!t.from||!t.to)return n(t);var i=n(t.from),o=n(t.to);return i||o?{start:function(){function t(){return function(){wt(e,function(t){t.end()})}}var e=[];i&&e.push(i.start()),o&&e.push(o.start()),r.all(e,function(t){n.complete(t)});var n=new r({end:t(),cancel:t()});return n}}:void 0}}]}])}(window,window.angular),function(t,e){"use strict";var r="BUTTON A INPUT TEXTAREA SELECT DETAILS SUMMARY".split(" "),c=function(t,e){if(-1!==e.indexOf(t[0].nodeName))return!0};e.module("ngAria",["ng"]).provider("$aria",function(){function t(o,r,a,s){return function(t,e,n){var i=n.$normalize(r);!l[i]||c(e,a)||n[i]||t.$watch(n[o],function(t){t=s?!t:!!t,e.attr(r,t)})}}var l={ariaHidden:!0,ariaChecked:!0,ariaReadonly:!0,ariaDisabled:!0,ariaRequired:!0,ariaInvalid:!0,ariaValue:!0,tabindex:!0,bindKeydown:!0,bindRoleForClick:!0};this.config=function(t){l=e.extend(l,t)},this.$get=function(){return{config:function(t){return l[t]},$$watchExpr:t}}}).directive("ngShow",["$aria",function(t){return t.$$watchExpr("ngShow","aria-hidden",[],!0)}]).directive("ngHide",["$aria",function(t){return t.$$watchExpr("ngHide","aria-hidden",[],!1)}]).directive("ngValue",["$aria",function(t){return t.$$watchExpr("ngValue","aria-checked",r,!1)}]).directive("ngChecked",["$aria",function(t){return t.$$watchExpr("ngChecked","aria-checked",r,!1)}]).directive("ngReadonly",["$aria",function(t){return t.$$watchExpr("ngReadonly","aria-readonly",r,!1)}]).directive("ngRequired",["$aria",function(t){return t.$$watchExpr("ngRequired","aria-required",r,!1)}]).directive("ngModel",["$aria",function(d){function u(t,e,n,i){return d.config(e)&&!n.attr(t)&&(i||!c(n,r))}function h(t,e){return!e.attr("role")&&e.attr("type")===t&&!c(e,r)}return{restrict:"A",require:"ngModel",priority:200,compile:function(t,e){var n,i,o,c=(i=(n=e).type,o=n.role,"checkbox"===(i||o)||"menuitemcheckbox"===o?"checkbox":"radio"===(i||o)||"menuitemradio"===o?"radio":"range"===i||"progressbar"===o||"slider"===o?"range":"");return{post:function(t,e,n,i){function o(){return i.$modelValue}var r=u("tabindex","tabindex",e,!1);switch(c){case"radio":case"checkbox":h(c,e)&&e.attr("role",c),u("aria-checked","ariaChecked",e,!1)&&t.$watch(o,"radio"===c?function(t){e.attr("aria-checked",n.value==i.$viewValue)}:function(){e.attr("aria-checked",!i.$isEmpty(i.$viewValue))}),r&&e.attr("tabindex",0);break;case"range":if(h(c,e)&&e.attr("role","slider"),d.config("ariaValue")){var a=!e.attr("aria-valuemin")&&(n.hasOwnProperty("min")||n.hasOwnProperty("ngMin")),s=!e.attr("aria-valuemax")&&(n.hasOwnProperty("max")||n.hasOwnProperty("ngMax")),l=!e.attr("aria-valuenow");a&&n.$observe("min",function(t){e.attr("aria-valuemin",t)}),s&&n.$observe("max",function(t){e.attr("aria-valuemax",t)}),l&&t.$watch(o,function(t){e.attr("aria-valuenow",t)})}r&&e.attr("tabindex",0)}!n.hasOwnProperty("ngRequired")&&i.$validators.required&&u("aria-required","ariaRequired",e,!1)&&n.$observe("required",function(){e.attr("aria-required",!!n.required)}),u("aria-invalid","ariaInvalid",e,!0)&&t.$watch(function(){return i.$invalid},function(t){e.attr("aria-invalid",!!t)})}}}}}]).directive("ngDisabled",["$aria",function(t){return t.$$watchExpr("ngDisabled","aria-disabled",r,!1)}]).directive("ngMessages",function(){return{restrict:"A",require:"?ngMessages",link:function(t,e,n,i){e.attr("aria-live")||e.attr("aria-live","assertive")}}}).directive("ngClick",["$aria","$parse",function(o,n){return{restrict:"A",compile:function(t,e){var i=n(e.ngClick,null,!0);return function(n,t,e){c(t,r)||(o.config("bindRoleForClick")&&!t.attr("role")&&t.attr("role","button"),o.config("tabindex")&&!t.attr("tabindex")&&t.attr("tabindex",0),!o.config("bindKeydown")||e.ngKeydown||e.ngKeypress||e.ngKeyup)||t.on("keydown",function(t){var e=t.which||t.keyCode;32!==e&&13!==e||n.$apply(function(){i(n,{$event:t})})})}}}}]).directive("ngDblclick",["$aria",function(i){return function(t,e,n){!i.config("tabindex")||e.attr("tabindex")||c(e,r)||e.attr("tabindex",0)}}])}(window,window.angular),function(t,e){"use strict";function n(){return["$animate",function(u){return{restrict:"AE",transclude:"element",priority:1,terminal:!0,require:"^^ngMessages",link:function(t,i,e,o,n){var r,a,s,l=i[0],c=e.ngMessage||e.when,d=function(t){r=t?h(t)?t:t.split(/[\s,]+/):null,o.reRender()};(e=e.ngMessageExp||e.whenExp)?(d(t.$eval(e)),t.$watchCollection(e,d)):d(c),o.register(l,s={test:function(t){var e=r;return t=e?h(e)?0<=e.indexOf(t):e.hasOwnProperty(t):void 0},attach:function(){a||n(function(t,e){u.enter(t,null,i);var n=(a=t).$$attachId=o.getAttachId();a.on("$destroy",function(){a&&a.$$attachId===n&&(o.deregister(l),s.detach()),e.$destroy()})})},detach:function(){if(a){var t=a;a=null,u.leave(t)}}})}}}]}var y,h,s,l;e.module("ngMessages",[],function(){y=e.forEach,h=e.isArray,s=e.isString,l=e.element}).directive("ngMessages",["$animate",function(m){function g(t,e){return s(e)&&0===e.length||v(t.$eval(e))}function v(t){return s(t)?t.length:!!t}return{require:"ngMessages",restrict:"AE",controller:["$element","$scope","$attrs",function(c,d,u){function r(t,e){for(var n=e,i=[];n&&n!==t;){var o=n.$$ngMessageNode;if(o&&o.length)return s[o];n.childNodes.length&&-1===i.indexOf(n)?(i.push(n),n=n.childNodes[n.childNodes.length-1]):n.previousSibling?n=n.previousSibling:(n=n.parentNode,i.push(n))}}var h=this,a=0,t=0;this.getAttachId=function(){return t++};var p,f,s=this.messages={};this.render=function(t){p=!1,f=t=t||{};for(var e=g(d,u.ngMessagesMultiple)||g(d,u.multiple),n=[],i={},o=h.head,r=!1,a=0;null!=o;){a++;var s=o.message,l=!1;r||y(t,function(t,e){!l&&v(t)&&s.test(e)&&!i[e]&&(l=i[e]=!0,s.attach())}),l?r=!e:n.push(s),o=o.next}y(n,function(t){t.detach()}),n.length!==a?m.setClass(c,"ng-active","ng-inactive"):m.setClass(c,"ng-inactive","ng-active")},d.$watchCollection(u.ngMessages||u.for,h.render),c.on("$destroy",function(){y(s,function(t){t.message.detach()})}),this.reRender=function(){p||(p=!0,d.$evalAsync(function(){p&&f&&h.render(f)}))},this.register=function(t,e){var n=a.toString();s[n]={message:e};var i=c[0],o=s[n];h.head?(i=r(i,t))?(o.next=i.next,i.next=o):(o.next=h.head,h.head=o):h.head=o,t.$$ngMessageNode=n,a++,h.reRender()},this.deregister=function(t){var e=t.$$ngMessageNode;delete t.$$ngMessageNode;var n=s[e];(t=r(c[0],t))?t.next=n.next:h.head=n.next,delete s[e],h.reRender()}}]}}]).directive("ngMessagesInclude",["$templateRequest","$document","$compile",function(o,i,r){function a(t,e){var n=r.$$createComment?r.$$createComment("ngMessagesInclude",e):i[0].createComment(" ngMessagesInclude: "+e+" ");n=l(n);t.after(n),t.remove()}return{restrict:"AE",require:"^^ngMessages",link:function(e,n,t){var i=t.ngMessagesInclude||t.src;o(i).then(function(t){e.$$destroyed||(s(t)&&!t.trim()?a(n,i):r(t)(e,function(t){n.after(t),a(n,i)}))})}}}]).directive("ngMessage",n()).directive("ngMessageExp",n())}(window,window.angular),function(H,st,lt){"use strict";st.module("ngMaterial",["ng","ngAnimate","ngAria","material.core","material.core.gestures","material.core.interaction","material.core.layout","material.core.meta","material.core.theming.palette","material.core.theming","material.core.animate","material.components.autocomplete","material.components.backdrop","material.components.bottomSheet","material.components.button","material.components.card","material.components.chips","material.components.checkbox","material.components.colors","material.components.content","material.components.datepicker","material.components.dialog","material.components.divider","material.components.fabActions","material.components.fabShared","material.components.fabSpeedDial","material.components.fabToolbar","material.components.icon","material.components.gridList","material.components.input","material.components.list","material.components.menu","material.components.menuBar","material.components.navBar","material.components.panel","material.components.progressCircular","material.components.progressLinear","material.components.radioButton","material.components.select","material.components.showHide","material.components.sidenav","material.components.slider","material.components.sticky","material.components.subheader","material.components.swipe","material.components.switch","material.components.tabs","material.components.toast","material.components.toolbar","material.components.tooltip","material.components.truncate","material.components.virtualRepeat","material.components.whiteframe"]),function(){function t(t,e){if(e.has("$swipe")){t.warn("You are using the ngTouch module. \nAngularJS Material already has mobile click, tap, and swipe support... \nngTouch is not supported with AngularJS Material!")}}function e(t,e){t.decorator("$$rAF",["$delegate",n]),t.decorator("$q",["$delegate",i]),e.theme("default").primaryPalette("indigo").accentPalette("pink").warnPalette("deep-orange").backgroundPalette("grey")}function n(r){return r.throttle=function(t){var e,n,i,o;return function(){e=arguments,o=this,i=t,n||(n=!0,r(function(){i.apply(o,Array.prototype.slice.call(e)),n=!1}))}},r}function i(t){return t.resolve||(t.resolve=t.when),t}t.$inject=["$log","$injector"],e.$inject=["$provide","$mdThemingProvider"],n.$inject=["$delegate"],i.$inject=["$delegate"],st.module("material.core",["ngAnimate","material.core.animate","material.core.layout","material.core.interaction","material.core.gestures","material.core.theming"]).config(e).run(t)}(),function(){function t(r){return{restrict:"A",link:{pre:function(t,e,n){function i(t){st.isUndefined(t)&&(t=!0),e.toggleClass("md-autofocus",!!t)}var o=n.mdAutoFocus||n.mdAutofocus||n.mdSidenavFocus;i(r(o)(t)),o&&t.$watch(o,i)}}}}t.$inject=["$parse"],st.module("material.core").directive("mdAutofocus",t).directive("mdAutoFocus",t).directive("mdSidenavFocus",t)}(),st.module("material.core").factory("$mdColorUtil",function(){return{rgbaToHex:function(t){return((t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===t.length?"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2):"").toUpperCase()},hexToRgba:function(t){var e="#"===t[0]?t.substr(1):t,n=e.length/3,i=e.substr(0,n),o=e.substr(n,n),r=e.substr(2*n);return 1===n&&(i+=i,o+=o,r+=r),"rgba("+parseInt(i,16)+","+parseInt(o,16)+","+parseInt(r,16)+",0.1)"},rgbToRgba:function(t){return t.replace(")",", 0.1)").replace("(","a(")},rgbaToRgb:function(t){return t?t.replace("rgba","rgb").replace(/,[^\),]+\)/,")"):"rgb(0,0,0)"}}}),st.module("material.core").factory("$mdConstant",function(){function t(t){var e=(r+"-"+t).replace(a,function(t,e,n,i){return i?n.toUpperCase():n}),n=e.charAt(0).toLowerCase()+e.substring(1);return i(o,t)?t:i(o,e)?e:i(o,n)?n:t}function i(t,e){return st.isDefined(t.style[e])}var o=document.createElement("div"),r=function(t){var e,n,i=/^(Moz|webkit|ms)(?=[A-Z])/;for(e in t.style)if(n=i.exec(e))return n[0]}(o),e=/webkit/i.test(r),a=/([:\-_]+(.))/g,n={isInputKey:function(t){return 31<=t.keyCode&&t.keyCode<=90},isNumPadKey:function(t){return 3===t.location&&97<=t.keyCode&&t.keyCode<=105},isMetaKey:function(t){return 91<=t.keyCode&&t.keyCode<=93},isFnLockKey:function(t){return 112<=t.keyCode&&t.keyCode<=145},isNavigationKey:function(t){var e=n.KEY_CODE;return-1!=[e.SPACE,e.ENTER,e.UP_ARROW,e.DOWN_ARROW].indexOf(t.keyCode)},hasModifierKey:function(t){return t.ctrlKey||t.metaKey||t.altKey},ELEMENT_MAX_PIXELS:1533917,BEFORE_NG_ARIA:210,KEY_CODE:{COMMA:188,SEMICOLON:186,ENTER:13,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,TAB:9,BACKSPACE:8,DELETE:46},CSS:{TRANSITIONEND:"transitionend"+(e?" webkitTransitionEnd":""),ANIMATIONEND:"animationend"+(e?" webkitAnimationEnd":""),TRANSFORM:t("transform"),TRANSFORM_ORIGIN:t("transformOrigin"),TRANSITION:t("transition"),TRANSITION_DURATION:t("transitionDuration"),ANIMATION_PLAY_STATE:t("animationPlayState"),ANIMATION_DURATION:t("animationDuration"),ANIMATION_NAME:t("animationName"),ANIMATION_TIMING:t("animationTimingFunction"),ANIMATION_DIRECTION:t("animationDirection")},MEDIA:{xs:"(max-width: 599px)","gt-xs":"(min-width: 600px)",sm:"(min-width: 600px) and (max-width: 959px)","gt-sm":"(min-width: 960px)",md:"(min-width: 960px) and (max-width: 1279px)","gt-md":"(min-width: 1280px)",lg:"(min-width: 1280px) and (max-width: 1919px)","gt-lg":"(min-width: 1920px)",xl:"(min-width: 1920px)",landscape:"(orientation: landscape)",portrait:"(orientation: portrait)",print:"print"},MEDIA_PRIORITY:["xl","gt-lg","lg","gt-md","md","gt-sm","sm","gt-xs","xs","landscape","portrait","print"]};return n}),function(){function e(t,s){function l(t){return p.length&&-1<t&&t<p.length}function c(t){return p.indexOf(t)}function e(t){return t&&-1<c(t)}function d(){return p.length?p[0]:null}function u(){return p.length?p[p.length-1]:null}function n(t,e,n,i){n=n||h;for(var o=c(e);;){if(!l(o))return null;var r=o+(t?-1:1),a=null;if(l(r)?a=p[r]:s&&(r=c(a=t?u():d())),null===a||r===i)return null;if(n(a))return a;st.isUndefined(i)&&(i=r),o=r}}var h=function(){return!0};t&&!st.isArray(t)&&(t=Array.prototype.slice.call(t)),s=!!s;var p=t||[];return{items:function(){return[].concat(p)},count:function(){return p.length},inRange:l,contains:e,indexOf:c,itemAt:function(t){return l(t)?p[t]:null},findBy:function(e,n){return p.filter(function(t){return t[e]===n})},add:function(t,e){return t?(st.isNumber(e)||(e=p.length),p.splice(e,0,t),c(t)):-1},remove:function(t){e(t)&&p.splice(c(t),1)},first:d,last:u,next:st.bind(null,n,!1),previous:st.bind(null,n,!0),hasPrevious:function(t){return!!t&&l(c(t)-1)},hasNext:function(t){return!!t&&l(c(t)+1)}}}st.module("material.core").config(["$provide",function(t){t.decorator("$mdUtil",["$delegate",function(t){return t.iterator=e,t}])}])}(),function(){function t(a,e,s){function t(t){var e,n=d[t];st.isUndefined(n)&&(n=d[t]=(e=t,a.MEDIA[e]||("("!==e.charAt(0)?"("+e+")":e)));var i,o,r=h[n];return st.isUndefined(r)&&((o=u[i=n])||(o=u[i]=s.matchMedia(i)),o.addListener(l),r=h[o.media]=!!o.matches),r}function l(t){e.$evalAsync(function(){h[t.media]=!!t.matches})}function c(t,e){return n[e]||(n[e]=t.$normalize(e))}var d={},u={},h={},n={};return t.getResponsiveAttribute=function(t,e){for(var n=0;n<a.MEDIA_PRIORITY.length;n++){var i=a.MEDIA_PRIORITY[n];if(u[d[i]].matches){var o=c(t,e+"-"+i);if(t[o])return t[o]}}return t[c(t,e)]},t.getQuery=function(t){return u[t]},t.watchResponsiveAttributes=function(t,i,o){var r=[];return t.forEach(function(t){var e=c(i,t);for(var n in st.isDefined(i[e])&&r.push(i.$observe(e,st.bind(void 0,o,null))),a.MEDIA)e=c(i,t+"-"+n),st.isDefined(i[e])&&r.push(i.$observe(e,st.bind(void 0,o,n)))}),function(){r.forEach(function(t){t()})}},t}t.$inject=["$mdConstant","$rootScope","$window"],st.module("material.core").factory("$mdMedia",t)}(),function(){function e(t,e){function o(n){return(n=st.isArray(n)?n:[n]).forEach(function(e){i.forEach(function(t){n.push(t+"-"+e)})}),n}function n(t){return o(t=st.isArray(t)?t:[t]).map(function(t){return"["+t+"]"}).join(",")}function r(t){if((t=t[0]||t).nodeType)return t}var i=["data","x"];return t?e?n(t):o(t):{buildList:o,buildSelector:n,hasAttribute:function(t,e){if(!(t=r(t)))return!1;for(var n=o(e),i=0;i<n.length;i++)if(t.hasAttribute(n[i]))return!0;return!1},removeAttribute:function(e,t){(e=r(e))&&o(t).forEach(function(t){e.removeAttribute(t)})}}}st.module("material.core").config(["$provide",function(t){t.decorator("$mdUtil",["$delegate",function(t){return t.prefixer=e,t}])}])}(),function(){function t(p,s,n,a,t,e,r,i,l,d){function c(t){return t?-1<String(t).indexOf("px")||-1<String(t).indexOf("%")?t:t+"px":"0"}function u(t){return t[0]||t}var o=e.startSymbol(),h=e.endSymbol(),f="{{"===o&&"}}"===h,m=function(t,e,n){var i=!1;if(t&&t.length){var o=l.getComputedStyle(t[0]);i=st.isDefined(o[e])&&(!n||o[e]==n)}return i},g={dom:{},now:H.performance&&H.performance.now?st.bind(H.performance,H.performance.now):Date.now||function(){return(new Date).getTime()},getModelOption:function(t,e){if(t.$options){var n=t.$options;return n.getOption?n.getOption(e):n[e]}},bidi:function(t,e,n,i){var o=!("rtl"==p[0].dir||"rtl"==p[0].body.dir);if(0==arguments.length)return o?"ltr":"rtl";var r=st.element(t);o&&st.isDefined(n)?r.css(e,c(n)):!o&&st.isDefined(i)&&r.css(e,c(i))},bidiProperty:function(t,e,n,i){var o=!("rtl"==p[0].dir||"rtl"==p[0].body.dir),r=st.element(t);o&&st.isDefined(e)?(r.css(e,c(i)),r.css(n,"")):!o&&st.isDefined(n)&&(r.css(n,c(i)),r.css(e,""))},clientRect:function(t,e,n){var i=u(t);e=u(e||i.offsetParent||document.body);var o=i.getBoundingClientRect(),r=n?e.getBoundingClientRect():{left:0,top:0,width:0,height:0};return{left:o.left-r.left,top:o.top-r.top,width:o.width,height:o.height}},offsetRect:function(t,e){return g.clientRect(t,e,!0)},nodesToArray:function(t){t=t||[];for(var e=[],n=0;n<t.length;++n)e.push(t.item(n));return e},getViewportTop:function(){return H.scrollY||H.pageYOffset||0},findFocusTarget:function(t,e){function n(t,e){var n,i=t[0].querySelectorAll(e);return i&&i.length&&i.length&&st.forEach(i,function(t){(t=st.element(t)).hasClass("md-autofocus")&&(n=t)}),n}var i,o=this.prefixer("md-autofocus",!0);return(i=n(t,e||o))||e==o||((i=n(t,this.prefixer("md-auto-focus",!0)))||(i=n(t,o))),i},disableScrollAround:function(t,e,i){if(i=i||{},g.disableScrollAround._count=Math.max(0,g.disableScrollAround._count||0),g.disableScrollAround._count++,g.disableScrollAround._restoreScroll)return g.disableScrollAround._restoreScroll;var n,o,r,a,s,l,c,d=p[0].body,u=(n=p[0].documentElement,o=n.style.cssText||"",r=d.style.cssText||"",a=g.getViewportTop(),s=d.clientWidth,l=d.scrollHeight>d.clientHeight+1,c=0<n.scrollTop?n:d,l&&st.element(d).css({position:"fixed",width:"100%",top:-a+"px"}),d.clientWidth<s&&(d.style.overflow="hidden"),l&&(n.style.overflowY="scroll"),function(){d.style.cssText=r,n.style.cssText=o,c.scrollTop=a}),h=function(t){function e(t){t.preventDefault()}var n;return t=st.element(t||d),i.disableScrollMask?n=t:(n=st.element('<div class="md-scroll-mask">  <div class="md-scroll-mask-bar"></div></div>'),t.append(n)),n.on("wheel",e),n.on("touchmove",e),function(){n.off("wheel"),n.off("touchmove"),!i.disableScrollMask&&n[0].parentNode&&n[0].parentNode.removeChild(n[0])}}(e);return g.disableScrollAround._restoreScroll=function(){--g.disableScrollAround._count<=0&&(u(),h(),delete g.disableScrollAround._restoreScroll)}},enableScrolling:function(){var t=this.disableScrollAround._restoreScroll;t&&t()},floatingScrollbars:function(){if(this.floatingScrollbars.cached===lt){var t=st.element("<div><div></div></div>").css({width:"100%","z-index":-1,position:"absolute",height:"35px","overflow-y":"scroll"});t.children().css("height","60px"),p[0].body.appendChild(t[0]),this.floatingScrollbars.cached=t[0].offsetWidth==t[0].childNodes[0].offsetWidth,t.remove()}return this.floatingScrollbars.cached},forceFocus:function(t){var n=t[0]||t;document.addEventListener("click",function t(e){e.target===n&&e.$focus&&(n.focus(),e.stopImmediatePropagation(),e.preventDefault(),n.removeEventListener("click",t))},!0);var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!1,!0,H,{},0,0,0,0,!1,!1,!1,!1,0,null),e.$material=!0,e.$focus=!0,n.dispatchEvent(e)},createBackdrop:function(t,e){return n(g.supplant('<md-backdrop class="{0}">',[e]))(t)},supplant:function(t,r,e){return e=e||/\{([^\{\}]*)\}/g,t.replace(e,function(e,t){var n=t.split("."),i=r;try{for(var o in n)n.hasOwnProperty(o)&&(i=i[n[o]])}catch(t){i=e}return"string"==typeof i||"number"==typeof i?i:e})},fakeNgModel:function(){return{$fake:!0,$setTouched:st.noop,$setViewValue:function(t){this.$viewValue=t,this.$render(t),this.$viewChangeListeners.forEach(function(t){t()})},$isEmpty:function(t){return 0===(""+t).length},$parsers:[],$formatters:[],$viewChangeListeners:[],$render:st.noop}},debounce:function(n,i,o,r){var a;return function(){var t=o,e=Array.prototype.slice.call(arguments);s.cancel(a),a=s(function(){a=lt,n.apply(t,e)},i||10,r)}},throttle:function(n,i){var o;return function(){var t=arguments,e=g.now();(!o||i<e-o)&&(n.apply(this,t),o=e)}},time:function(t){var e=g.now();return t(),g.now()-e},valueOnUse:function(t,e,n){var i=null,o=Array.prototype.slice.call(arguments),r=3<o.length?o.slice(3):[];Object.defineProperty(t,e,{get:function(){return null===i&&(i=n.apply(t,r)),i}})},nextUid:function(){return""+v++},disconnectScope:function(t){if(t&&t.$root!==t&&!t.$$destroyed){var e=t.$parent;t.$$disconnected=!0,e.$$childHead===t&&(e.$$childHead=t.$$nextSibling),e.$$childTail===t&&(e.$$childTail=t.$$prevSibling),t.$$prevSibling&&(t.$$prevSibling.$$nextSibling=t.$$nextSibling),t.$$nextSibling&&(t.$$nextSibling.$$prevSibling=t.$$prevSibling),t.$$nextSibling=t.$$prevSibling=null}},reconnectScope:function(t){if(t&&t.$root!==t&&t.$$disconnected){var e=t,n=e.$parent;e.$$disconnected=!1,e.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=e,n.$$childTail=e):n.$$childHead=n.$$childTail=e}},getClosest:function(t,e,n){if(st.isString(e)){var i=e.toUpperCase();e=function(t){return t.nodeName.toUpperCase()===i}}if(t instanceof st.element&&(t=t[0]),n&&(t=t.parentNode),!t)return null;do{if(e(t))return t}while(t=t.parentNode);return null},elementContains:function(e,n){return(H.Node&&H.Node.prototype&&Node.prototype.contains?st.bind(e,e.contains):st.bind(e,function(t){return e===n||!!(16&this.compareDocumentPosition(t))}))(n)},extractElementByName:function(t,i,e,n){function s(t){return function(t){if(t)for(var e=0,n=t.length;e<n;e++)if(t[e].nodeName.toLowerCase()===i)return t[e];return null}(t)||(e?function(t){var e;if(t)for(var n=0,i=t.length;n<i;n++){var o=t[n];if(!e)for(var r=0,a=o.childNodes.length;r<a;r++)e=e||s([o.childNodes[r]])}return e}(t):null)}var o=s(t);return!o&&n&&r.warn(g.supplant("Unable to find node '{0}' in element '{1}'.",[i,t[0].outerHTML])),st.element(o||t)},initOptionalProperties:function(i,o,r){r=r||{},st.forEach(i.$$isolateBindings,function(t,e){if(t.optional&&st.isUndefined(i[e])){var n=st.isDefined(o[t.attrName]);i[e]=st.isDefined(r[e])?r[e]:n}})},nextTick:function(t,e,n){var i=g.nextTick,o=i.timeout,r=i.queue||[];return r.push({scope:n,callback:t}),null==e&&(e=!0),i.digest=i.digest||e,i.queue=r,o||(i.timeout=s(function(){var t=i.queue,e=i.digest;i.queue=[],i.timeout=null,i.digest=!1,t.forEach(function(t){t.scope&&t.scope.$$destroyed||t.callback()}),e&&a.$digest()},0,!1))},processTemplate:function(t){return f?t:t&&st.isString(t)?t.replace(/\{\{/g,o).replace(/}}/g,h):t},getParentWithPointerEvents:function(t){for(var e=t.parent();m(e,"pointer-events","none");)e=e.parent();return e},getNearestContentElement:function(t){for(var e=t.parent()[0];e&&e!==i[0]&&e!==document.body&&"MD-CONTENT"!==e.nodeName.toUpperCase();)e=e.parentNode;return e},checkStickySupport:function(){var t,e=st.element("<div>");p[0].body.appendChild(e[0]);for(var n=["sticky","-webkit-sticky"],i=0;i<n.length;++i)if(e.css({position:n[i],top:0,"z-index":2}),e.css("position")==n[i]){t=n[i];break}return e.remove(),t},parseAttributeBoolean:function(t,e){return""===t||!!t&&(!1===e||"false"!==t&&"0"!==t)},hasComputedStyle:m,isParentFormSubmitted:function(t){var e=g.getClosest(t,"form"),n=e?st.element(e).controller("form"):null;return!!n&&n.$submitted},animateScrollTo:function(i,o,r){var a=i.scrollTop,s=o-a,l=a<o,c=g.now();d(function t(){var e,n=(e=r||1e3,function(t,e,n,i){if(i<t)return e+n;var o=(t/=i)*t;return e+n*(o*t*-2+3*o)}(g.now()-c,a,s,e));i.scrollTop=n,(l?n<o:o<n)&&d(t)})},uniq:function(t){if(t)return t.filter(function(t,e,n){return n.indexOf(t)===e})}};return g.dom.animator=t(g),g}t.$inject=["$document","$timeout","$compile","$rootScope","$$mdAnimate","$interpolate","$log","$rootElement","$window","$$rAF"];var v=0;st.module("material.core").factory("$mdUtil",t),st.element.prototype.focus=st.element.prototype.focus||function(){return this.length&&this[0].focus(),this},st.element.prototype.blur=st.element.prototype.blur||function(){return this.length&&this[0].blur(),this}}(),function(){function r(i,o,l,r){function a(t,e,n){var i=st.element(t)[0]||t;!i||i.hasAttribute(e)&&0!==i.getAttribute(e).length||function(t,e){var n=t.hasChildNodes(),i=!1;if(n)for(var o=t.childNodes,r=0;r<o.length;r++){var a=o[r];1===a.nodeType&&a.hasAttribute(e)&&(void 0,"none"===((s=a).currentStyle?s.currentStyle:l.getComputedStyle(s)).display||(i=!0))}var s;return i}(i,e)||((n=st.isString(n)?n.trim():"").length?t.attr(e,n):u&&o.warn('ARIA: Attribute "',e,'", required for accessibility, is missing on node:',i))}function s(t,e,n){i(function(){a(t,e,n())})}function c(e){function t(t){for(;t.parentNode&&(t=t.parentNode)!==e;)if(t.getAttribute&&"true"===t.getAttribute("aria-hidden"))return!0}e=e[0]||e;for(var n,i=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null,!1),o="";n=i.nextNode();)t(n)||(o+=n.textContent);return o.trim()||""}function d(t){var e=st.element(t)[0]||t;return!!e.hasAttribute&&(e.hasAttribute("aria-label")||e.hasAttribute("aria-labelledby")||e.hasAttribute("aria-describedby"))}var u=this.showWarnings;return{expect:a,expectAsync:s,expectWithText:function(t,e){var n=c(t)||"";-1<n.indexOf(r.startSymbol())?s(t,e,function(){return c(t)}):a(t,e,n)},expectWithoutText:function(t,e){var n=c(t);-1<n.indexOf(r.startSymbol())||n||a(t,e,n)},getText:c,hasAriaLabel:d,parentHasAriaLabel:function t(e,n){n=n||1;var i=st.element(e)[0]||e;return!!i.parentNode&&(!!function(t){if(!d(t))return!1;if(t.hasAttribute("role"))switch(t.getAttribute("role").toLowerCase()){case"command":case"definition":case"directory":case"grid":case"list":case"listitem":case"log":case"marquee":case"menu":case"menubar":case"note":case"presentation":case"separator":case"scrollbar":case"status":case"tablist":return!1}switch(t.tagName.toLowerCase()){case"abbr":case"acronym":case"address":case"applet":case"audio":case"b":case"bdi":case"bdo":case"big":case"blockquote":case"br":case"canvas":case"caption":case"center":case"cite":case"code":case"col":case"data":case"dd":case"del":case"dfn":case"dir":case"div":case"dl":case"em":case"embed":case"fieldset":case"figcaption":case"font":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":case"hgroup":case"html":case"i":case"ins":case"isindex":case"kbd":case"keygen":case"label":case"legend":case"li":case"map":case"mark":case"menu":case"object":case"ol":case"output":case"pre":case"presentation":case"q":case"rt":case"ruby":case"samp":case"small":case"source":case"span":case"status":case"strike":case"strong":case"sub":case"sup":case"svg":case"tbody":case"td":case"th":case"thead":case"time":case"tr":case"track":case"tt":case"ul":case"var":return!1}return!0}(i.parentNode)||!!--n&&t(i.parentNode,n))}}}r.$inject=["$$rAF","$log","$window","$interpolate"],st.module("material.core").provider("$mdAria",function(){var o={showWarnings:!0};return{disableWarnings:function(){o.showWarnings=!1},$get:["$$rAF","$log","$window","$interpolate",function(t,e,n,i){return r.apply(o,arguments)}]}})}(),function(){function t(t){function r(){return!e||("function"==typeof t.preAssignBindingsEnabled?t.preAssignBindingsEnabled():1===st.version.major&&st.version.minor<6)}function a(t,e,n,i,o){this.$q=t,this.$templateRequest=e,this.$injector=n,this.$compile=i,this.$controller=o}var e=!1;this.respectPreAssignBindingsEnabled=function(t){return st.isDefined(t)?(e=t,this):e},this.$get=["$q","$templateRequest","$injector","$compile","$controller",function(t,e,n,i,o){return new a(t,e,n,i,o)}],a.prototype.compile=function(t){return t.contentElement?this._prepareContentElement(t):this._compileTemplate(t)},a.prototype._prepareContentElement=function(t){var e=this._fetchContentElement(t);return this.$q.resolve({element:e.element,cleanup:e.restore,locals:{},link:function(){return e.element}})},a.prototype._compileTemplate=function(i){var o=this,t=i.templateUrl,e=i.template||"",n=st.extend({},i.resolve),r=st.extend({},i.locals),a=i.transformTemplate||st.identity;return st.forEach(n,function(t,e){st.isString(t)?n[e]=o.$injector.get(t):n[e]=o.$injector.invoke(t)}),st.extend(n,r),n.$$ngTemplate=t?this.$templateRequest(t):this.$q.when(e),this.$q.all(n).then(function(t){var e=a(t.$$ngTemplate,i),n=i.element||st.element("<div>").html(e.trim()).contents();return o._compileElement(t,n,i)})},a.prototype._compileElement=function(i,o,r){var a=this,s=this.$compile(o),l={element:o,cleanup:o.remove.bind(o),locals:i,link:function(t){if(i.$scope=t,r.controller){var e=st.extend({},i,{$element:o}),n=a._createController(r,e,i);o.data("$ngControllerController",n),o.children().data("$ngControllerController",n),l.controller=n}return s(t)}};return l},a.prototype._createController=function(t,e,n){var i=this.$controller(t.controller,e,!0,t.controllerAs);r()&&t.bindToController&&st.extend(i.instance,n);var o=i();return!r()&&t.bindToController&&st.extend(i.instance,n),st.isFunction(o.$onInit)&&o.$onInit(),o},a.prototype._fetchContentElement=function(t){function e(t){var e=t.parentNode,n=t.nextElementSibling;return function(){n?e.insertBefore(t,n):e.appendChild(t)}}var n=t.contentElement,i=null;return i=st.isString(n)?e(n=document.querySelector(n)):(n=n[0]||n,document.contains(n)?e(n):function(){n.parentNode&&n.parentNode.removeChild(n)}),{element:st.element(n),restore:i}}}st.module("material.core").provider("$mdCompiler",t),t.$inject=["$compileProvider"]}(),function(){function t(){}function i(i,t,n){function e(n){return function(t,e){e.distance<this.state.options.maxDistance&&this.dispatchEvent(t,n,e)}}var o=navigator.userAgent||navigator.vendor||H.opera,r=o.match(/ipad|iphone|ipod/i),a=o.match(/android/i),s=function(){for(var t=document.createElement("div"),e=["","webkit","Moz","MS","ms","o"],n=0;n<e.length;n++){var i=e[n],o=i?i+"TouchAction":"touchAction";if(st.isDefined(t.style[o]))return o}}(),l=void 0!==H.jQuery&&st.element===H.jQuery,c={handler:function(t,e){var n=new i(t);return st.extend(n,e),p[t]=n,c},register:function(t,e,n){var i=p[e.replace(/^\$md./,"")];if(!i)throw new Error("Failed to register element with handler "+e+". Available handlers: "+Object.keys(p).join(", "));return i.registerElement(t,n)},isHijackingClicks:(r||a)&&!l&&!f};return c.isHijackingClicks&&(c.handler("click",{options:{maxDistance:m},onEnd:e("click")}),c.handler("focus",{options:{maxDistance:m},onEnd:function(t,e){e.distance<this.state.options.maxDistance&&h(t.target)&&(this.dispatchEvent(t,"focus",e),t.target.focus())}}),c.handler("mouseup",{options:{maxDistance:m},onEnd:e("mouseup")}),c.handler("mousedown",{onStart:function(t){this.dispatchEvent(t,"mousedown")}})),c.handler("press",{onStart:function(t,e){this.dispatchEvent(t,"$md.pressdown")},onEnd:function(t,e){this.dispatchEvent(t,"$md.pressup")}}).handler("hold",{options:{maxDistance:6,delay:500},onCancel:function(){n.cancel(this.state.timeout)},onStart:function(t,e){return this.state.registeredParent?(this.state.pos={x:e.x,y:e.y},void(this.state.timeout=n(st.bind(this,function(){this.dispatchEvent(t,"$md.hold"),this.cancel()}),this.state.options.delay,!1))):this.cancel()},onMove:function(t,e){s||"touchmove"!==t.type||t.preventDefault();var n=this.state.pos.x-e.x,i=this.state.pos.y-e.y;Math.sqrt(n*n+i*i)>this.options.maxDistance&&this.cancel()},onEnd:function(){this.onCancel()}}).handler("drag",{options:{minDistance:6,horizontal:!0,cancelMultiplier:1.5},onSetup:function(t,e){s&&(this.oldTouchAction=t[0].style[s],t[0].style[s]=e.horizontal?"pan-y":"pan-x")},onCleanup:function(t){this.oldTouchAction&&(t[0].style[s]=this.oldTouchAction)},onStart:function(t){this.state.registeredParent||this.cancel()},onMove:function(t,e){var n,i;s||"touchmove"!==t.type||t.preventDefault(),this.state.dragPointer?this.dispatchDragMove(t):(i=this.state.options.horizontal?(n=Math.abs(e.distanceX)>this.state.options.minDistance,Math.abs(e.distanceY)>this.state.options.minDistance*this.state.options.cancelMultiplier):(n=Math.abs(e.distanceY)>this.state.options.minDistance,Math.abs(e.distanceX)>this.state.options.minDistance*this.state.options.cancelMultiplier),n?(this.state.dragPointer=d(t),u(t,this.state.dragPointer),this.dispatchEvent(t,"$md.dragstart",this.state.dragPointer)):i&&this.cancel())},dispatchDragMove:t.throttle(function(t){this.state.isRunning&&(u(t,this.state.dragPointer),this.dispatchEvent(t,"$md.drag",this.state.dragPointer))}),onEnd:function(t,e){this.state.dragPointer&&(u(t,this.state.dragPointer),this.dispatchEvent(t,"$md.dragend",this.state.dragPointer))}}).handler("swipe",{options:{minVelocity:.65,minDistance:10},onEnd:function(t,e){var n;Math.abs(e.velocityX)>this.state.options.minVelocity&&Math.abs(e.distanceX)>this.state.options.minDistance?(n="left"==e.directionX?"$md.swipeleft":"$md.swiperight",this.dispatchEvent(t,n)):Math.abs(e.velocityY)>this.state.options.minVelocity&&Math.abs(e.distanceY)>this.state.options.minDistance&&(n="up"==e.directionY?"$md.swipeup":"$md.swipedown",this.dispatchEvent(t,n))}})}function e(t){this.name=t,this.state={}}function n(t,o){function e(t){!t.clientX&&!t.clientY||t.$material||t.isIonicTap||a(t)||"mousedown"===t.type&&(h(t.target)||h(document.activeElement))||(t.preventDefault(),t.stopPropagation())}function n(t,e){var n;for(var i in p)(n=p[i])instanceof o&&("start"===t&&n.cancel(),n[t](e,l))}document.contains||(document.contains=function(t){return document.body.contains(t)}),!v&&t.isHijackingClicks&&(document.addEventListener("click",function(t){var e=0===t.clientX&&0===t.clientY,n=t.target&&"submit"===t.target.type;e||t.$material||t.isIonicTap||a(t)||n?(g=null,"label"==t.target.tagName.toLowerCase()&&(g={x:t.x,y:t.y})):(t.preventDefault(),t.stopPropagation(),g=null)},!0),document.addEventListener("mouseup",e,!0),document.addEventListener("mousedown",e,!0),document.addEventListener("focus",e,!0),v=!0);st.element(document).on("mousedown touchstart pointerdown",function(t){if(!l){var e=+Date.now();c&&!r(t,c)&&e-c.endTime<1500||(l=d(t),n("start",t))}}).on("mousemove touchmove pointermove",function(t){l&&r(t,l)&&(u(t,l),n("move",t))}).on("mouseup mouseleave touchend touchcancel pointerup pointercancel",function(t){l&&r(t,l)&&(u(t,l),l.endTime=+Date.now(),"pointercancel"!==t.type&&n("end",t),c=l,l=null)}).on("$$mdGestureReset",function(){c=l=null})}function d(t){var e=s(t),n={startTime:+Date.now(),target:t.target,type:t.type.charAt(0)};return n.startX=n.x=e.pageX,n.startY=n.y=e.pageY,n}function r(t,e){return t&&e&&t.type.charAt(0)===e.type}function a(t){return g&&g.x==t.x&&g.y==t.y}function u(t,e){var n=s(t),i=e.x=n.pageX,o=e.y=n.pageY;e.distanceX=i-e.startX,e.distanceY=o-e.startY,e.distance=Math.sqrt(e.distanceX*e.distanceX+e.distanceY*e.distanceY),e.directionX=0<e.distanceX?"right":e.distanceX<0?"left":"",e.directionY=0<e.distanceY?"down":e.distanceY<0?"up":"",e.duration=+Date.now()-e.startTime,e.velocityX=e.distanceX/e.duration,e.velocityY=e.distanceY/e.duration}function s(t){return(t=t.originalEvent||t).touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0]||t}function h(t){return!!t&&"-1"!=t.getAttribute("tabindex")&&!t.hasAttribute("disabled")&&(t.hasAttribute("tabindex")||t.hasAttribute("href")||t.isContentEditable||-1!=["INPUT","SELECT","BUTTON","TEXTAREA","VIDEO","AUDIO"].indexOf(t.nodeName))}i.$inject=["$$MdGestureHandler","$$rAF","$timeout"];var l,c,p={},f=!(n.$inject=["$mdGesture","$$MdGestureHandler"]),m=6,g=null,v=!1;st.module("material.core.gestures",[]).provider("$mdGesture",t).factory("$$MdGestureHandler",function(){var t=void 0!==H.jQuery&&st.element===H.jQuery;return e.prototype={options:{},dispatchEvent:t?function(t,e,n){n=n||l;var i=new st.element.Event(e);i.$material=!0,i.pointer=n,i.srcEvent=t,st.extend(i,{clientX:n.x,clientY:n.y,screenX:n.x,screenY:n.y,pageX:n.x,pageY:n.y,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,metaKey:t.metaKey}),st.element(n.target).trigger(i)}:function(t,e,n){var i;n=n||l,"click"===e||"mouseup"==e||"mousedown"==e?(i=document.createEvent("MouseEvents")).initMouseEvent(e,!0,!0,H,t.detail,n.x,n.y,n.x,n.y,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget||null):(i=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,{}),i.$material=!0,i.pointer=n,i.srcEvent=t,n.target.dispatchEvent(i)},onSetup:st.noop,onCleanup:st.noop,onStart:st.noop,onMove:st.noop,onEnd:st.noop,onCancel:st.noop,start:function(t,e){if(!this.state.isRunning){var n=this.getNearestParent(t.target),i=n&&n.$mdGesture[this.name]||{};this.state={isRunning:!0,options:st.extend({},this.options,i),registeredParent:n},this.onStart(t,e)}},move:function(t,e){this.state.isRunning&&this.onMove(t,e)},end:function(t,e){this.state.isRunning&&(this.onEnd(t,e),this.state.isRunning=!1)},cancel:function(t,e){this.onCancel(t,e),this.state={}},getNearestParent:function(t){for(var e=t;e;){if((e.$mdGesture||{})[this.name])return e;e=e.parentNode}return null},registerElement:function(t,e){function n(){delete t[0].$mdGesture[i.name],t.off("$destroy",n),i.onCleanup(t,e||{})}var i=this;return t[0].$mdGesture=t[0].$mdGesture||{},t[0].$mdGesture[this.name]=e||{},t.on("$destroy",n),i.onSetup(t,e||{}),n}},e}).run(n),t.prototype={skipClickHijack:function(){return f=!0},setMaxClickDistance:function(t){m=parseInt(t)},$get:["$$MdGestureHandler","$$rAF","$timeout",function(t,e,n){return new i(t,e,n)}]}}(),function(){function t(t,e){this.$timeout=t,this.$mdUtil=e,this.bodyElement=st.element(document.body),this.isBuffering=!1,this.bufferTimeout=null,this.lastInteractionType=null,this.lastInteractionTime=null,this.inputEventMap={keydown:"keyboard",mousedown:"mouse",mouseenter:"mouse",touchstart:"touch",pointerdown:"pointer",MSPointerDown:"pointer"},this.iePointerMap={2:"touch",3:"touch",4:"mouse"},this.initializeEvents()}t.$inject=["$timeout","$mdUtil"],st.module("material.core.interaction",[]).service("$mdInteraction",t),t.prototype.initializeEvents=function(){var t="MSPointerEvent"in H?"MSPointerDown":"PointerEvent"in H?"pointerdown":null;this.bodyElement.on("keydown mousedown",this.onInputEvent.bind(this)),"ontouchstart"in document.documentElement&&this.bodyElement.on("touchstart",this.onBufferInputEvent.bind(this)),t&&this.bodyElement.on(t,this.onInputEvent.bind(this))},t.prototype.onInputEvent=function(t){if(!this.isBuffering){var e=this.inputEventMap[t.type];"pointer"===e&&(e=this.iePointerMap[t.pointerType]||t.pointerType),this.lastInteractionType=e,this.lastInteractionTime=this.$mdUtil.now()}},t.prototype.onBufferInputEvent=function(t){this.$timeout.cancel(this.bufferTimeout),this.onInputEvent(t),this.isBuffering=!0,this.bufferTimeout=this.$timeout(function(){this.isBuffering=!1}.bind(this),650,!1)},t.prototype.getLastInteractionType=function(){return this.lastInteractionType},t.prototype.isUserInvoked=function(t){var e=st.isNumber(t)?t:15;return this.lastInteractionTime>=this.$mdUtil.now()-e}}(),st.module("material.core").provider("$$interimElement",function(){function t(o){function t(t,i){function a(t,e){var n={};return n[o]=l,i.invoke(t||function(){return e},{},n)}var s,e,n=t(),l={hide:n.hide,cancel:n.cancel,show:function(t){return(t=t||{})._options&&(t=t._options),n.show(st.extend({},e,t))},destroy:function(t){return n.destroy(t)}};return s=c.methods||[],e=a(c.optionsFactory,{}),st.forEach(r,function(t,e){l[e]=t}),st.forEach(c.presets,function(e,n){function i(t){this._options=st.extend({},o,t)}var o=a(e.optionsFactory,{}),t=(e.methods||[]).concat(s);if(st.extend(o,{$type:n}),st.forEach(t,function(e){i.prototype[e]=function(t){return this._options[e]=t,this}}),e.argOption){var r="show"+n.charAt(0).toUpperCase()+n.slice(1);l[r]=function(t){var e=l[n](t);return l.show(e)}}l[n]=function(t){return arguments.length&&e.argOption&&!st.isObject(t)&&!st.isArray(t)?(new i)[e.argOption](t):new i(t)}}),l}t.$inject=["$$interimElement","$injector"];var n=["onHide","onShow","onRemove"],r={},c={presets:{}},i={setDefaults:function(t){return c.optionsFactory=t.options,c.methods=(t.methods||[]).concat(n),i},addPreset:function(t,e){if((e=e||{}).methods=e.methods||[],e.options=e.options||function(){return{}},/^cancel|hide|show$/.test(t))throw new Error("Preset '"+t+"' in "+o+" is reserved!");if(-1<e.methods.indexOf("_options"))throw new Error("Method '_options' in "+o+" is reserved!");return c.presets[t]={methods:e.methods.concat(n),optionsFactory:e.options,argOption:e.argOption},i},addMethod:function(t,e){return r[t]=e,i},$get:t};return i.addPreset("build",{methods:["controller","controllerAs","resolve","multiple","template","templateUrl","themable","transformTemplate","parent","contentElement"]}),i}function e(u,h,e,p,f,i,n,m,g,l,c){return function(){function t(e){return function(){var t=arguments;return s.length?e.apply(d,t):r.length?r[0].finally(function(){return e.apply(d,t)}):h.when("No interim elements currently showing up.")}}function o(a){function r(i,o){var r=o.onRemoving||st.noop;return h(function(t,e){try{var n=h.when(o.onRemove(o.scope,i,o)||!0);r(i,n),o.$destroy?(t(i),!o.preserveScope&&o.scope&&n.then(function(){o.scope.$destroy()})):n.then(function(){!o.preserveScope&&o.scope&&o.scope.$destroy(),t(i)},e)}catch(t){e(t.message)}})}var s,l,t,c=h.when(!0);return(t=(t=a)||{}).template&&(t.template=n.processTemplate(t.template)),a=st.extend({preserveScope:!1,cancelAutoHide:st.noop,scope:t.scope||e.$new(t.isolateScope),onShow:function(t,e,n){return i.enter(e,n.parent)},onRemove:function(t,e){return e&&i.leave(e)||h.when()}},t),s={options:a,deferred:h.defer(),show:function(){return h(function(e,n){function i(t){s.deferred.reject(t),n(t)}var o;a.onCompiling&&a.onCompiling(a),(o=a,(o.skipCompile?null:m.compile(o))||h(function(t){t({locals:{},link:function(){return o.element}})})).then(function(t){l=function(t,e){st.extend(t.locals,e);var n,i,o,r,a=t.link(e.scope);return e.element=a,e.parent=(n=a,r=(i=e).parent,((r=st.isFunction(r)?r(i.scope,n,i):st.isString(r)?st.element(u[0].querySelector(r)):st.element(r))||{}).length?r:(f[0]&&f[0].querySelector&&(o=f[0].querySelector(":not(svg) > body")),o||(o=f[0]),"#comment"==o.nodeName&&(o=u[0].body),st.element(o))),e.themable&&g(a),a}(t,a),a.cleanupElement=t.cleanup,c=function(i,o,t){var e=o.onShowing||st.noop,r=o.onComplete||st.noop;try{e(o.scope,i,o,t)}catch(t){return h.reject(t)}return h(function(n,e){try{h.when(o.onShow(o.scope,i,o,t)).then(function(){var t,e;r(o.scope,i,o),e=st.noop,a.hideDelay&&(t=p(d.hide,a.hideDelay),e=function(){p.cancel(t)}),a.cancelAutoHide=function(){e(),a.cancelAutoHide=lt},n(i)},e)}catch(t){e(t.message)}})}(l,a,t.controller).then(e,i)}).catch(i)})},remove:function(t,e,n){function i(t){s.deferred.resolve(t)}function o(t){s.deferred.reject(t)}return l?((a=st.extend(a||{},n||{})).cancelAutoHide&&a.cancelAutoHide(),a.element.triggerHandler("$mdInterimElementRemove"),!0===a.$destroy?r(a.element,a).then(function(){e&&o(t)||i(t)}):(h.when(c).finally(function(){r(a.element,a).then(function(){e?o(t):i(t)},o)}),s.deferred.promise)):h.when(!1)}}}var d,r=[],a=[],s=[];return d={show:function(t){var e=new o((t=t||{})||{}),n=t.multiple?h.resolve():h.all(r);t.multiple||(n=n.then(function(){var t=a.concat(s.map(d.cancel));return h.all(t)}));var i=n.then(function(){return e.show().catch(function(t){return t}).finally(function(){r.splice(r.indexOf(i),1),s.push(e)})});return r.push(i),e.deferred.promise.catch(function(t){return t instanceof Error&&c(t),t}),e.deferred.promise},hide:t(function(n,i){function t(t){var e=t.remove(n,!1,i||{}).catch(function(t){return t}).finally(function(){a.splice(a.indexOf(e),1)});return s.splice(s.indexOf(t),1),a.push(e),t.deferred.promise}return(i=i||{}).closeAll?h.all(s.slice().reverse().map(t)):i.closeTo!==lt?h.all(s.slice(i.closeTo).map(t)):t(s[s.length-1])}),cancel:t(function(t,e){var n=s.pop();if(!n)return h.when(t);var i=n.remove(t,!0,e||{}).catch(function(t){return t}).finally(function(){a.splice(a.indexOf(i),1)});return a.push(i),n.deferred.promise.catch(st.noop)}),destroy:function(t){var e=t?null:s.shift(),n=st.element(t).length&&st.element(t)[0].parentNode;if(n){var i=s.filter(function(t){return t.options.element[0]===n});i.length&&(e=i[0],s.splice(s.indexOf(e),1))}return e?e.remove(!1,!1,{$destroy:!0}):h.when(!1)},$injector_:l}}}return e.$inject=["$document","$q","$rootScope","$timeout","$rootElement","$animate","$mdUtil","$mdCompiler","$mdTheming","$injector","$exceptionHandler"],t.$get=e,t}),function(){function s(){var t=!!document.querySelector("[md-layouts-disabled]");C.enabled=!t}function l(){return C.enabled=!1,{restrict:"A",priority:"900"}}function c(i){function o(t,e){e.addClass(i)}return["$mdUtil","$interpolate","$log",function(t,e,n){return v=t,y=e,b=n,{restrict:"A",compile:function(t,e){var n;return C.enabled&&(h(i,m(i,e,""),p(0,i,e)),o(0,t),n=o),n||st.noop}}}]}function d(e){var n=e.split("-");return["$log",function(t){return t.warn(e+"has been deprecated. Please use a `"+n[0]+"-gt-<xxx>` variant."),st.noop}]}function u(t,e,n,i){var o,r=n[0].nodeName.toLowerCase();switch(t.replace(_,"")){case"flex":"md-button"!=r&&"fieldset"!=r||(o="<"+r+" "+t+"></"+r+">",i.warn(v.supplant("Markup '{0}' may not work as expected in IE Browsers. Consult '{1}' for details.",[o,"https://github.com/philipwalton/flexbugs#9-some-html-elements-cant-be-flex-containers"])))}}function h(t,e,n){var i,o,r;if(!f(e)){switch(t.replace(_,"")){case"layout":g(e,E)||(e=E[0]);break;case"flex":g(e,w)||isNaN(e)&&(e="");break;case"flex-offset":case"flex-order":e&&!isNaN(+e)||(e="0");break;case"layout-align":var a=(r={main:"start",cross:"stretch"},0!==(i=(i=e)||"").indexOf("-")&&0!==i.indexOf(" ")||(i="none"+i),(o=i.toLowerCase().trim().replace(x,"-").split("-")).length&&"space"===o[0]&&(o=[o[0]+"-"+o[1],o[2]]),0<o.length&&(r.main=o[0]||r.main),1<o.length&&(r.cross=o[1]||r.cross),M.indexOf(r.main)<0&&(r.main="start"),T.indexOf(r.cross)<0&&(r.cross="stretch"),r);e=v.supplant("{main}-{cross}",a);break;case"layout-padding":case"layout-margin":case"layout-fill":case"layout-wrap":case"layout-nowrap":case"layout-nowrap":e=""}null!=e&&(n||st.noop)(e)}return e?e.trim():""}function p(t,e,n){return function(t){f(t)||(n[n.$normalize(e)]=t)}}function f(t){return-1<(t||"").indexOf(y.startSymbol())}function m(t,e,n){var i=e.$normalize(t);return e[i]?e[i].trim().replace(x,"-"):n||null}function g(e,t,n){e=n&&e?e.replace(x,n):e;var i=!1;return e&&t.forEach(function(t){t=n?t.replace(x,n):t,i=i||t===e}),i}var v,y,b,_=/(-gt)?-(sm|md|lg|print)/g,x=/\s+/g,w=["grow","initial","auto","none","noshrink","nogrow"],E=["row","column"],M=["","start","center","end","stretch","space-around","space-between"],T=["","start","center","end","stretch"],C={enabled:!0,breakpoints:[]};!function(i){function o(t){return t.replace(e,"").replace(n,function(t,e,n,i){return i?n.toUpperCase():n})}var r,e=/^((?:x|data)[\:\-_])/i,n=/([\:\-\_]+(.))/g,t=["layout","flex","flex-order","flex-offset","layout-align"],a=["show","hide","layout-padding","layout-margin"];st.forEach(["","xs","gt-xs","sm","gt-sm","md","gt-md","lg","gt-lg","xl","print"],function(n){st.forEach(t,function(t){var e=n?t+"-"+n:t;i.directive(o(e),function(l){function i(t,e,n){var i,o,r,a=(i=e,o=l,function(t){var e=h(o,t||"");st.isDefined(e)&&(r&&i.removeClass(r),r=e?o+"-"+e.trim().replace(x,"-"):o,i.addClass(r))}),s=n.$observe(n.$normalize(l),a);a(m(l,n,"")),t.$on("$destroy",function(){s()})}return["$mdUtil","$interpolate","$log",function(t,e,n){return v=t,y=e,b=n,{restrict:"A",compile:function(t,e){var n;return C.enabled&&(u(l,0,t,b),h(l,m(l,e,""),p(0,l,e)),n=i),n||st.noop}}}]}(e))}),st.forEach(a,function(t){var e=n?t+"-"+n:t;i.directive(o(e),c(e))})}),i.provider("$$mdLayout",function(){return{$get:st.noop,validateAttributeValue:h,validateAttributeUsage:u,disableLayouts:function(t){C.enabled=!0!==t}}}).directive("mdLayoutCss",l).directive("ngCloak",(r="ng-cloak",["$timeout",function(n){return{restrict:"A",priority:-10,compile:function(t){return C.enabled?(t.addClass(r),function(t,e){n(function(){e.removeClass(r)},10,!1)}):st.noop}}}])).directive("layoutWrap",c("layout-wrap")).directive("layoutNowrap",c("layout-nowrap")).directive("layoutNoWrap",c("layout-no-wrap")).directive("layoutFill",c("layout-fill")).directive("layoutLtMd",d("layout-lt-md")).directive("layoutLtLg",d("layout-lt-lg")).directive("flexLtMd",d("flex-lt-md")).directive("flexLtLg",d("flex-lt-lg")).directive("layoutAlignLtMd",d("layout-align-lt-md")).directive("layoutAlignLtLg",d("layout-align-lt-lg")).directive("flexOrderLtMd",d("flex-order-lt-md")).directive("flexOrderLtLg",d("flex-order-lt-lg")).directive("offsetLtMd",d("flex-offset-lt-md")).directive("offsetLtLg",d("flex-offset-lt-lg")).directive("hideLtMd",d("hide-lt-md")).directive("hideLtLg",d("hide-lt-lg")).directive("showLtMd",d("show-lt-md")).directive("showLtLg",d("show-lt-lg")).config(s)}(st.module("material.core.layout",["ng"]))}(),function(){function t(t){this._$timeout=t,this._liveElement=this._createLiveElement(),this._announceTimeout=100}t.$inject=["$timeout"],st.module("material.core").service("$mdLiveAnnouncer",t),t.prototype.announce=function(t,e){e||(e="polite");var n=this;n._liveElement.textContent="",n._liveElement.setAttribute("aria-live",e),n._$timeout(function(){n._liveElement.textContent=t},n._announceTimeout,!1)},t.prototype._createLiveElement=function(){var t=document.createElement("div");return t.classList.add("md-visually-hidden"),t.setAttribute("role","status"),t.setAttribute("aria-atomic","true"),t.setAttribute("aria-live","polite"),document.body.appendChild(t),t}}(),st.module("material.core.meta",[]).provider("$$mdMeta",function(){function i(t){if(r[t])return!0;var e=document.getElementsByName(t)[0];return!!e&&(r[t]=st.element(e),!0)}var o=st.element(document.head),r={},t={setMeta:function(t,e){if(i(t),r[t])r[t].attr("content",e);else{var n=st.element('<meta name="'+t+'" content="'+e+'"/>');o.append(n),r[t]=n}return function(){r[t].attr("content",""),r[t].remove(),delete r[t]}},getMeta:function(t){if(!i(t))throw Error("$$mdMeta: could not find a meta tag with the name '"+t+"'");return r[t].attr("content")}};return st.extend({},t,{$get:function(){return t}})}),function(){function t(n,i){function o(t){return t&&""!==t}var r,a=[],s={};return r={notFoundError:function(t,e){n.error((e||"")+"No instance found for handle",t)},getInstances:function(){return a},get:function(t){if(!o(t))return null;var e,n,i;for(e=0,n=a.length;e<n;e++)if((i=a[e]).$$mdHandle===t)return i;return null},register:function(e,t){return t?(e.$$mdHandle=t,a.push(e),(n=s[t])&&(n.forEach(function(t){t.resolve(e)}),delete s[t]),function(){var t=a.indexOf(e);-1!==t&&a.splice(t,1)}):st.noop;var n},when:function(t){if(o(t)){var e=i.defer(),n=r.get(t);return n?e.resolve(n):(s[t]===lt&&(s[t]=[]),s[t].push(e)),e.promise}return i.reject("Invalid `md-component-id` value.")}}}t.$inject=["$log","$q"],st.module("material.core").factory("$mdComponentRegistry",t)}(),function(){function t(o){return{attach:function(t,e,n){return n=st.extend((i=e).hasClass("md-icon-button")?{isMenuItem:i.hasClass("md-menu-item"),fitRipple:!0,center:!0}:{isMenuItem:i.hasClass("md-menu-item"),dimBackground:!0},n),o.attach(t,e,n);var i}}}t.$inject=["$mdInkRipple"],st.module("material.core").factory("$mdButtonInkRipple",t)}(),function(){function t(i){return{attach:function(t,e,n){return i.attach(t,e,st.extend({center:!0,dimBackground:!1,fitRipple:!0},n))}}}t.$inject=["$mdInkRipple"],st.module("material.core").factory("$mdCheckboxInkRipple",t)}(),function(){function t(i){return{attach:function(t,e,n){return i.attach(t,e,st.extend({center:!1,dimBackground:!0,outline:!1,rippleSize:"full"},n))}}}t.$inject=["$mdInkRipple"],st.module("material.core").factory("$mdListInkRipple",t)}(),function(){function t(i,o){return{controller:st.noop,link:function(t,e,n){n.hasOwnProperty("mdInkRippleCheckbox")?o.attach(t,e):i.attach(t,e)}}}function r(t,e,n,i,o,r,a){this.$window=i,this.$timeout=o,this.$mdUtil=r,this.$mdColorUtil=a,this.$scope=t,this.$element=e,this.options=n,this.mousedown=!1,this.ripples=[],this.timeout=null,this.lastRipple=null,r.valueOnUse(this,"container",this.createContainer),this.$element.addClass("md-ink-ripple"),(e.controller("mdInkRipple")||{}).createRipple=st.bind(this,this.createRipple),(e.controller("mdInkRipple")||{}).setColor=st.bind(this,this.color),this.bindEvents()}function e(t,e){(t.mousedown||t.lastRipple)&&(t.mousedown=!1,t.$mdUtil.nextTick(st.bind(t,e),!1))}function n(){return{controller:st.noop}}r.$inject=["$scope","$element","rippleOptions","$window","$timeout","$mdUtil","$mdColorUtil"],t.$inject=["$mdButtonInkRipple","$mdCheckboxInkRipple"],st.module("material.core").provider("$mdInkRipple",function(){var o=!1;return{disableInkRipple:function(){o=!0},$get:["$injector",function(i){return{attach:function(t,e,n){return o||e.controller("mdNoInk")?st.noop:i.instantiate(r,{$scope:t,$element:e,rippleOptions:n})}}}]}}).directive("mdInkRipple",t).directive("mdNoInk",n).directive("mdNoBar",n).directive("mdNoStretch",n);r.prototype.color=function(t){var e,n,i=this;return st.isDefined(t)&&(i._color=i._parseColor(t)),i._color||i._parseColor(i.inkRipple())||i._parseColor((e=i.options&&i.options.colorElement?i.options.colorElement:[],(n=e.length?e[0]:i.$element[0])?i.$window.getComputedStyle(n).color:"rgb(0,0,0)"))},r.prototype.calculateColor=function(){return this.color()},r.prototype._parseColor=function(t,e){e=e||1;var n=this.$mdColorUtil;if(t)return 0===t.indexOf("rgba")?t.replace(/\d?\.?\d*\s*\)\s*$/,(.1*e).toString()+")"):0===t.indexOf("rgb")?n.rgbToRgba(t):0===t.indexOf("#")?n.hexToRgba(t):void 0},r.prototype.bindEvents=function(){this.$element.on("mousedown",st.bind(this,this.handleMousedown)),this.$element.on("mouseup touchend",st.bind(this,this.handleMouseup)),this.$element.on("mouseleave",st.bind(this,this.handleMouseup)),this.$element.on("touchmove",st.bind(this,this.handleTouchmove))},r.prototype.handleMousedown=function(t){if(!this.mousedown)if(t.hasOwnProperty("originalEvent")&&(t=t.originalEvent),this.mousedown=!0,this.options.center)this.createRipple(this.container.prop("clientWidth")/2,this.container.prop("clientWidth")/2);else if(t.srcElement!==this.$element[0]){var e=this.$element[0].getBoundingClientRect(),n=t.clientX-e.left,i=t.clientY-e.top;this.createRipple(n,i)}else this.createRipple(t.offsetX,t.offsetY)},r.prototype.handleMouseup=function(){e(this,this.clearRipples)},r.prototype.handleTouchmove=function(){e(this,this.deleteRipples)},r.prototype.deleteRipples=function(){for(var t=0;t<this.ripples.length;t++)this.ripples[t].remove()},r.prototype.clearRipples=function(){for(var t=0;t<this.ripples.length;t++)this.fadeInComplete(this.ripples[t])},r.prototype.createContainer=function(){var t=st.element('<div class="md-ripple-container"></div>');return this.$element.append(t),t},r.prototype.clearTimeout=function(){this.timeout&&(this.$timeout.cancel(this.timeout),this.timeout=null)},r.prototype.isRippleAllowed=function(){var t=this.$element[0];do{if(!t.tagName||"BODY"===t.tagName)break;if(t&&st.isFunction(t.hasAttribute)){if(t.hasAttribute("disabled"))return!1;if("false"===this.inkRipple()||"0"===this.inkRipple())return!1}}while(t=t.parentNode);return!0},r.prototype.inkRipple=function(){return this.$element.attr("md-ink-ripple")},r.prototype.createRipple=function(t,e){if(this.isRippleAllowed()){var n=this,i=n.$mdColorUtil,o=st.element('<div class="md-ripple"></div>'),r=this.$element.prop("clientWidth"),a=this.$element.prop("clientHeight"),s=2*Math.max(Math.abs(r-t),t),l=2*Math.max(Math.abs(a-e),e),c=(u=this.options.fitRipple,h=s,p=l,u?Math.max(h,p):Math.sqrt(Math.pow(h,2)+Math.pow(p,2))),d=this.calculateColor();o.css({left:t+"px",top:e+"px",background:"black",width:c+"px",height:c+"px",backgroundColor:i.rgbaToRgb(d),borderColor:i.rgbaToRgb(d)}),this.lastRipple=o,this.clearTimeout(),this.timeout=this.$timeout(function(){n.clearTimeout(),n.mousedown||n.fadeInComplete(o)},157.5,!1),this.options.dimBackground&&this.container.css({backgroundColor:d}),this.container.append(o),this.ripples.push(o),o.addClass("md-ripple-placed"),this.$mdUtil.nextTick(function(){o.addClass("md-ripple-scaled md-ripple-active"),n.$timeout(function(){n.clearRipples()},450,!1)},!1)}var u,h,p},r.prototype.fadeInComplete=function(t){this.lastRipple===t&&(this.timeout||this.mousedown)||this.removeRipple(t)},r.prototype.removeRipple=function(t){var e=this;this.ripples.indexOf(t)<0||(this.ripples.splice(this.ripples.indexOf(t),1),t.removeClass("md-ripple-active"),t.addClass("md-ripple-remove"),0===this.ripples.length&&this.container.css({backgroundColor:""}),this.$timeout(function(){e.fadeOutComplete(t)},450,!1))},r.prototype.fadeOutComplete=function(t){t.remove(),this.lastRipple=null}}(),function(){function t(i){return{attach:function(t,e,n){return i.attach(t,e,st.extend({center:!1,dimBackground:!0,outline:!1,rippleSize:"full"},n))}}}t.$inject=["$mdInkRipple"],st.module("material.core").factory("$mdTabInkRipple",t)}(),st.module("material.core.theming.palette",[]).constant("$mdColorPalette",{red:{50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 A100",contrastStrongLightColors:"400 500 600 700 A200 A400 A700"},pink:{50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"500 600 A200 A400 A700"},purple:{50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400 A700"},"deep-purple":{50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",A100:"#b388ff",A200:"#7c4dff",A400:"#651fff",A700:"#6200ea",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200"},indigo:{50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400"},blue:{50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100",contrastStrongLightColors:"500 600 700 A200 A400 A700"},"light-blue":{50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea",contrastDefaultColor:"dark",contrastLightColors:"600 700 800 900 A700",contrastStrongLightColors:"600 700 800 A700"},cyan:{50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",A100:"#84ffff",A200:"#18ffff",A400:"#00e5ff",A700:"#00b8d4",contrastDefaultColor:"dark",contrastLightColors:"700 800 900",contrastStrongLightColors:"700 800 900"},teal:{50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",A100:"#a7ffeb",A200:"#64ffda",A400:"#1de9b6",A700:"#00bfa5",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},green:{50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},"light-green":{50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",A100:"#ccff90",A200:"#b2ff59",A400:"#76ff03",A700:"#64dd17",contrastDefaultColor:"dark",contrastLightColors:"700 800 900",contrastStrongLightColors:"700 800 900"},lime:{50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",A100:"#f4ff81",A200:"#eeff41",A400:"#c6ff00",A700:"#aeea00",contrastDefaultColor:"dark",contrastLightColors:"900",contrastStrongLightColors:"900"},yellow:{50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",A100:"#ffff8d",A200:"#ffff00",A400:"#ffea00",A700:"#ffd600",contrastDefaultColor:"dark"},amber:{50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00",contrastDefaultColor:"dark"},orange:{50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00",contrastDefaultColor:"dark",contrastLightColors:"800 900",contrastStrongLightColors:"800 900"},"deep-orange":{50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",A100:"#ff9e80",A200:"#ff6e40",A400:"#ff3d00",A700:"#dd2c00",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100 A200",contrastStrongLightColors:"500 600 700 800 900 A400 A700"},brown:{50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723",A100:"#d7ccc8",A200:"#bcaaa4",A400:"#8d6e63",A700:"#5d4037",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100 A200",contrastStrongLightColors:"300 400"},grey:{50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#ffffff",A200:"#000000",A400:"#303030",A700:"#616161",contrastDefaultColor:"dark",contrastLightColors:"600 700 800 900 A200 A400 A700"},"blue-grey":{50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238",A100:"#cfd8dc",A200:"#b0bec5",A400:"#78909c",A700:"#455a64",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 A100 A200",contrastStrongLightColors:"400 500 700"}}),function(b){function t(t){var e=!!document.querySelector("[md-themes-disabled]");t.disableTheming(e)}function e(t,l){function n(t,e){var n=T.filter(function(t){return!e[t]});if(n.length)throw new Error("Missing colors %1 in palette %2!".replace("%1",n.join(", ")).replace("%2",t));return e}function r(t,e){if(c[t])return c[t];var n="string"==typeof(e=e||"default")?c[e]:e,i=new o(t);return n&&b.forEach(n.colors,function(t,e){i.colors[e]={name:t.name,hues:b.extend({},t.hues)}}),c[t]=i}function o(t){function e(t){if((t=0===arguments.length||!!t)!==a.isDark){a.isDark=t,a.foregroundPalette=a.isDark?v:s,a.foregroundShadow=a.isDark?y:_;var e=a.isDark?M:E,r=a.isDark?E:M;return b.forEach(e,function(t,e){var n=a.colors[e],i=r[e];if(n)for(var o in n.hues)n.hues[o]===i[o]&&(n.hues[o]=t[o])}),a}}var a=this;a.name=t,a.colors={},(a.dark=e)(!1),x.forEach(function(i){var o=(a.isDark?M:E)[i];a[i+"Palette"]=function(e,t){var n=a.colors[i]={name:e,hues:b.extend({},o,t)};return Object.keys(n.hues).forEach(function(t){if(!o[t])throw new Error("Invalid hue name '%1' in theme %2's %3 color %4. Available hue names: %4".replace("%1",t).replace("%2",a.name).replace("%3",e).replace("%4",Object.keys(o).join(", ")))}),Object.keys(n.hues).map(function(t){return n.hues[t]}).forEach(function(t){if(-1==T.indexOf(t))throw new Error("Invalid hue value '%1' in theme %2's %3 color %4. Available hue values: %5".replace("%1",t).replace("%2",a.name).replace("%3",i).replace("%4",e).replace("%5",T.join(", ")))}),a},a[i+"Color"]=function(){var t=Array.prototype.slice.call(arguments);return console.warn("$mdThemingProviderTheme."+i+"Color() has been deprecated. Use $mdThemingProviderTheme."+i+"Palette() instead."),a[i+"Palette"].apply(a,t)}})}function e(n,a,i,s){function l(t){return t===lt||""===t||o.THEMES[t]!==lt}var o=function(t,e){e===lt&&(e=t,t=lt),t===lt&&(t=n),o.inherit(e,e)};return Object.defineProperty(o,"THEMES",{get:function(){return b.extend({},c)}}),Object.defineProperty(o,"PALETTES",{get:function(){return b.extend({},g)}}),Object.defineProperty(o,"ALWAYS_WATCH",{get:function(){return d}}),o.inherit=function(n,t){function e(t){if(t){l(t)||s.warn("Attempted to use unregistered theme '"+t+"'. Register it with $mdThemingProvider.theme().");var e=n.data("$mdThemeName");e&&n.removeClass("md-"+e+"-theme"),n.addClass("md-"+t+"-theme"),n.data("$mdThemeName",t),i&&n.data("$mdThemeController",i)}}var i=t.controller("mdTheme")||n.data("$mdThemeController");if(e(i&&i.$mdTheme||("default"==u?"":u)),i)var o=d||i.$shouldWatch||a.parseAttributeBoolean(n.attr("md-theme-watch")),r=i.registerChanges(function(t){e(t),o?n.on("$destroy",r):r()})},o.registered=l,o.defaultTheme=function(){return u},o.generateTheme=function(t){f(c[t],t,C.nonce)},o.defineTheme=function(t,e){e=e||{};var n=r(t);return e.primary&&n.primaryPalette(e.primary),e.accent&&n.accentPalette(e.accent),e.warn&&n.warnPalette(e.warn),e.background&&n.backgroundPalette(e.background),e.dark&&n.dark(),this.generateTheme(t),i.resolve(t)},o.setBrowserColor=h,o}e.$inject=["$rootScope","$mdUtil","$q","$log"];var i,c={},d=!(g={}),u="default";b.extend(g,t);var h=function(t){var e,n,i,o=(t=b.isObject(t)?t:{}).theme||"default",r=t.hue||"800",a=g[t.palette]||g[c[o].colors[t.palette||"primary"].name],s=b.isObject(a[r])?a[r].hex:a[r];return e=s,n=l.setMeta("theme-color",e),i=l.setMeta("msapplication-navbutton-color",e),function(){n(),i()}};return i={definePalette:function(t,e){return e=e||{},g[t]=n(t,e),i},extendPalette:function(t,e){return n(t,b.extend({},g[t]||{},e))},theme:r,configuration:function(){return b.extend({},C,{defaultTheme:u,alwaysWatchTheme:d,registeredStyles:[].concat(C.registeredStyles)})},disableTheming:function(t){C.disableTheming=b.isUndefined(t)||!!t},registerStyles:function(t){C.registeredStyles.push(t)},setNonce:function(t){C.nonce=t},generateThemesOnDemand:function(t){C.generateOnDemand=t},setDefaultTheme:function(t){u=t},alwaysWatchTheme:function(t){d=t},enableBrowserColor:h,$get:e,_LIGHT_DEFAULT_HUES:E,_DARK_DEFAULT_HUES:M,_PALETTES:g,_THEMES:c,_parseRules:p,_rgba:m}}function n(p,f,m,g,v,y){return{priority:101,link:{pre:function(e,t,n){var i=[],o=f.startSymbol(),r=f.endSymbol(),a=n.mdTheme.trim(),s=a.substr(0,o.length)===o&&a.lastIndexOf(r)===a.length-r.length,l="::"===n.mdTheme.split(o).join("").split(r).join("").trim().substr(0,"::".length),c={registerChanges:function(e,t){return t&&(e=b.bind(t,e)),i.push(e),function(){var t=i.indexOf(e);-1<t&&i.splice(t,1)}},$setTheme:function(t){p.registered(t)||y.warn("attempted to use unregistered theme '"+t+"'"),c.$mdTheme=t;for(var e=i.length;e--;)i[e](t)},$shouldWatch:g.parseAttributeBoolean(t.attr("md-theme-watch"))||p.ALWAYS_WATCH||s&&!l};t.data("$mdThemeController",c);var d=function(){var t=f(n.mdTheme)(e);return m(t)(e)||t},u=function(t){return"string"==typeof t?c.$setTheme(t):void v.when(b.isFunction(t)?t():t).then(function(t){c.$setTheme(t)})};u(d());var h=e.$watch(d,function(t){t&&(u(t),c.$shouldWatch||h())})}}}}function i(t){return t}function p(a,t,n){(function(t,e){if(!g[(t.colors[e]||{}).name])throw new Error("You supplied an invalid color palette for theme %1's %2 palette. Available palettes: %3".replace("%1",t.name).replace("%2",e).replace("%3",Object.keys(g).join(", ")))})(a,t),n=n.replace(/THEME_NAME/g,a.name);var i=[],e=a.colors[t],o=new RegExp("\\.md-"+a.name+"-theme","g"),s=new RegExp("('|\")?{{\\s*("+t+")-(color|contrast)-?(\\d\\.?\\d*)?\\s*}}(\"|')?","g"),l=g[e.name];return n=n.replace(/'?"?\{\{\s*([a-zA-Z]+)-(A?\d+|hue\-[0-3]|shadow|default)-?(\d\.?\d*)?(contrast)?\s*\}\}'?"?/g,function(t,e,n,i,o){return"foreground"===e?"shadow"==n?a.foregroundShadow:a.foregroundPalette[n]||a.foregroundPalette[1]:(0!==n.indexOf("hue")&&"default"!==n||(n=a.colors[e].hues[n]),m((g[a.colors[e].name][n]||"")[o?"contrast":"value"],i))}),b.forEach(e.hues,function(r,t){var e=n.replace(s,function(t,e,n,i,o){return m(l[r]["color"===i?"value":"contrast"],o)});"default"!==t&&(e=e.replace(o,".md-"+a.name+"-theme.md-"+t)),"default"==a.name&&(e=e.replace(/((?:\s|>|\.|\w|-|:|\(|\)|\[|\]|"|'|=)*)\.md-default-theme((?:\s|>|\.|\w|-|:|\(|\)|\[|\]|"|'|=)*)/g,function(t,e,n){return t+", "+e+n})),i.push(e)}),i}function o(t,e){var n=document.head,i=n?n.firstElementChild:null,o=!C.disableTheming&&t.has("$MD_THEME_CSS")?t.get("$MD_THEME_CSS"):"";if(o+=C.registeredStyles.join(""),i&&0!==o.length){b.forEach(g,function(i,t){var o=i.contrastDefaultColor,r=i.contrastLightColors||[],a=i.contrastStrongLightColors||[],s=i.contrastDarkColors||[];"string"==typeof r&&(r=r.split(" ")),"string"==typeof a&&(a=a.split(" ")),"string"==typeof s&&(s=s.split(" ")),delete i.contrastDefaultColor,delete i.contrastLightColors,delete i.contrastStrongLightColors,delete i.contrastDarkColors,b.forEach(i,function(t,e){if(!b.isObject(t)){var n=l(t);if(!n)throw new Error("Color %1, in palette %2's hue %3, is invalid. Hex or rgb(a) color expected.".replace("%1",t).replace("%2",i.name).replace("%3",e));i[e]={hex:i[e],value:n,contrast:"light"===o?-1<s.indexOf(e)?d:-1<a.indexOf(e)?h:u:-1<r.indexOf(e)?-1<a.indexOf(e)?h:u:d}}})});var r=o.split(/\}(?!(\}|'|"|;))/).filter(function(t){return t&&t.trim().length}).map(function(t){return t.trim()+"}"}),a=new RegExp("md-("+x.join("|")+")","g");x.forEach(function(t){S[t]=""}),r.forEach(function(t){for(var e,n=(t.match(a),0);e=x[n];n++)if(-1<t.indexOf(".md-"+e))return S[e]+=t;for(n=0;e=x[n];n++)if(-1<t.indexOf(e))return S[e]+=t;return S[w]+=t}),C.generateOnDemand||b.forEach(e.THEMES,function(t){c[t.name]||"default"!==e.defaultTheme()&&"default"===t.name||f(t,t.name,C.nonce)})}}function f(o,t,r){var a=document.head,s=a?a.firstElementChild:null;c[t]||(x.forEach(function(t){for(var e=p(o,t,S[t]);e.length;){var n=e.shift();if(n){var i=document.createElement("style");i.setAttribute("md-theme-style",""),r&&i.setAttribute("nonce",r),i.appendChild(document.createTextNode(n)),a.insertBefore(i,s)}}}),c[o.name]=!0)}function l(t){if(b.isArray(t)&&3==t.length)return t;if(/^rgb/.test(t))return t.replace(/(^\s*rgba?\(|\)\s*$)/g,"").split(",").map(function(t,e){return 3==e?parseFloat(t,10):parseInt(t,10)});if("#"==t.charAt(0)&&(t=t.substring(1)),/^([a-fA-F0-9]{3}){1,2}$/g.test(t)){var e=t.length/3,n=t.substr(0,e),i=t.substr(e,e),o=t.substr(2*e);return 1===e&&(n+=n,i+=i,o+=o),[parseInt(n,16),parseInt(i,16),parseInt(o,16)]}}function m(t,e){return t?(4==t.length&&(t=b.copy(t),e?t.pop():e=t.pop()),e&&("number"==typeof e||"string"==typeof e&&e.length)?"rgba("+t.join(",")+","+e+")":"rgb("+t.join(",")+")"):"rgb('0,0,0')"}t.$inject=["$mdThemingProvider"],n.$inject=["$mdTheming","$interpolate","$parse","$mdUtil","$q","$log"],i.$inject=["$mdTheming"],e.$inject=["$mdColorPalette","$$mdMetaProvider"],o.$inject=["$injector","$mdTheming"],b.module("material.core.theming",["material.core.theming.palette","material.core.meta"]).directive("mdTheme",n).directive("mdThemable",i).directive("mdThemesDisabled",function(){return C.disableTheming=!0,{restrict:"A",priority:"900"}}).provider("$mdTheming",e).config(t).run(o);var g,c={},s={name:"dark",1:"rgba(0,0,0,0.87)",2:"rgba(0,0,0,0.54)",3:"rgba(0,0,0,0.38)",4:"rgba(0,0,0,0.12)"},v={name:"light",1:"rgba(255,255,255,1.0)",2:"rgba(255,255,255,0.7)",3:"rgba(255,255,255,0.5)",4:"rgba(255,255,255,0.12)"},y="1px 1px 0px rgba(0,0,0,0.4), -1px -1px 0px rgba(0,0,0,0.4)",_="",d=l("rgba(0,0,0,0.87)"),u=l("rgba(255,255,255,0.87)"),h=l("rgb(255,255,255)"),x=["primary","accent","warn","background"],w="primary",E={accent:{default:"A200","hue-1":"A100","hue-2":"A400","hue-3":"A700"},background:{default:"50","hue-1":"A100","hue-2":"100","hue-3":"300"}},M={background:{default:"A400","hue-1":"800","hue-2":"900","hue-3":"A200"}};x.forEach(function(t){var e={default:"500","hue-1":"300","hue-2":"800","hue-3":"A100"};E[t]||(E[t]=e),M[t]||(M[t]=e)});var T=["50","100","200","300","400","500","600","700","800","900","A100","A200","A400","A700"],C={disableTheming:!1,generateOnDemand:!1,registeredStyles:[],nonce:null},S={}}(H.angular),st.module("material.core").factory("$$mdAnimate",["$q","$timeout","$mdConstant","$animateCss",function(i,o,a,s){return function(t){return n=t,e=i,l=o,c=a,r=s,d={translate3d:function(e,n,t,i){function o(t){return r(e,{to:t||n,addClass:i.transitionOutClass,removeClass:i.transitionInClass,duration:i.duration}).start()}return r(e,{from:n,to:t,addClass:i.transitionInClass,removeClass:i.transitionOutClass,duration:i.duration}).start().then(function(){return o})},waitTransitionEnd:function(r,a){var s=3e3;return e(function(e,t){function n(t){t&&t.target!==r[0]||(t&&l.cancel(o),r.off(c.CSS.TRANSITIONEND,n),e())}var i;("0s"==(i=(i=(a=a||{}).cachedTransitionStyles)||H.getComputedStyle(r[0])).transitionDuration||!i.transition&&!i.transitionProperty)&&(s=0);var o=l(n,a.timeout||s);r.on(c.CSS.TRANSITIONEND,n)})},calculateTransformValues:function(t,e){var n,i,o=e.element,r=e.bounds;if(o||r){var a=o?d.clientRect(o)||(n=t?t.parent():null,(i=n?n.parent():null)?d.clientRect(i):null):d.copyRect(r),s=d.copyRect(t[0].getBoundingClientRect()),l=d.centerPointFor(s),c=d.centerPointFor(a);return{centerX:c.x-l.x,centerY:c.y-l.y,scaleX:Math.round(100*Math.min(.5,a.width/s.width))/100,scaleY:Math.round(100*Math.min(.5,a.height/s.height))/100}}return{centerX:0,centerY:0,scaleX:.5,scaleY:.5}},calculateZoomToOrigin:function(t,e){return st.bind(null,n.supplant,"translate3d( {centerX}px, {centerY}px, 0 ) scale( {scaleX}, {scaleY} )")(d.calculateTransformValues(t,e))},calculateSlideToOrigin:function(t,e){return st.bind(null,n.supplant,"translate3d( {centerX}px, {centerY}px, 0 )")(d.calculateTransformValues(t,e))},toCss:function(t){function n(t,e,n){st.forEach(e.split(" "),function(t){i[t]=n})}var i={};return st.forEach(t,function(t,e){if(!st.isUndefined(t))if(0<="left top right bottom width height x y min-width min-height max-width max-height".indexOf(e))i[e]=t+"px";else switch(e){case"transition":n(0,c.CSS.TRANSITION,t);break;case"transform":n(0,c.CSS.TRANSFORM,t);break;case"transformOrigin":n(0,c.CSS.TRANSFORM_ORIGIN,t);break;case"font-size":i["font-size"]=t}}),i},toTransformCss:function(e,t,n){var i={};return st.forEach(c.CSS.TRANSFORM.split(" "),function(t){i[t]=e}),t&&(n=n||"all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1) !important",i.transition=n),i},copyRect:function(e,n){return e?(n=n||{},st.forEach("left top right bottom width height".split(" "),function(t){n[t]=Math.round(e[t])}),n.width=n.width||n.right-n.left,n.height=n.height||n.bottom-n.top,n):null},clientRect:function(t){var e,n=st.element(t)[0].getBoundingClientRect();return(e=n)&&0<e.width&&0<e.height?d.copyRect(n):null},centerPointFor:function(t){return t?{x:Math.round(t.left+t.width/2),y:Math.round(t.top+t.height/2)}:{x:0,y:0}}};var n,e,l,c,r,d}}]),4<=st.version.minor?st.module("material.core.animate",[]):function(){function T(t){return t.replace(/-[a-z]/g,function(t){return t.charAt(1).toUpperCase()})}var C=st.forEach,S=st.isDefined(document.documentElement.style.WebkitAppearance),A=S?"-webkit-":"",k=(S?"webkitTransitionEnd ":"")+"transitionend",D=(S?"webkitAnimationEnd ":"")+"animationend",t=["$q","$$rAFMutex",function(e,n){function t(t){this.setHost(t),this._doneCallbacks=[],this._runInAnimationFrame=n(),this._state=0}return t.prototype={setHost:function(t){this.host=t||{}},done:function(t){2===this._state?t():this._doneCallbacks.push(t)},progress:st.noop,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){!1===t?n():e()})})}return this.promise},then:function(t,e){return this.getPromise().then(t,e)},catch:function(t){return this.getPromise().catch(t)},finally:function(t){return this.getPromise().finally(t)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(t){var e=this;0===e._state&&(e._state=1,e._runInAnimationFrame(function(){e._resolve(t)}))},_resolve:function(e){2!==this._state&&(C(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=2)}},t.all=function(e,n){function i(t){r=r&&t,++o===e.length&&n(r)}var o=0,r=!0;C(e,function(t){t.done(i)})},t}];st.module("material.core.animate",[]).factory("$$forceReflow",["$document",function(t){return function(){return t[0].body.clientWidth+1}}]).factory("$$AnimateRunner",t).factory("$$rAFMutex",["$$rAF",function(n){return function(){var e=!1;return n(function(){e=!0}),function(t){e?t():n(t)}}}]).factory("$animateCss",["$window","$$rAF","$$AnimateRunner","$$forceReflow","$$jqLite","$timeout","$animate",function(f,r,a,m,n,g,s){function v(t,e){e.addClass&&(n.addClass(t,e.addClass),e.addClass=null),e.removeClass&&(n.removeClass(t,e.removeClass),e.removeClass=null)}function y(t){var e=0,n=(t||"").split(/\s*,\s*/);return C(n,function(t){"s"==t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),t=parseFloat(t)||0,e=e?Math.max(t,e):t}),e}function b(t,e){e.from&&(t.css(e.from),e.from=null)}function _(t,e){e.to&&(t.css(e.to),e.to=null)}function x(t){for(var e=0;e<t.length;e++)if(1===t[e].nodeType)return t[e]}function w(t,e){var n=x(t),i=T(A+"transition-delay");n.style[i]=e?"-9999s":""}var E,M=[];return function(i,l){var c=[],d=x(i),t=d&&s.enabled(),e=!1,n=!1;t&&(l.transitionStyle&&c.push([A+"transition",l.transitionStyle]),l.keyframeStyle&&c.push([A+"animation",l.keyframeStyle]),l.delay&&c.push([A+"transition-delay",l.delay+"s"]),l.duration&&c.push([A+"transition-duration",l.duration+"s"]),e=l.keyframeStyle||l.to&&(0<l.duration||l.transitionStyle),n=!!l.addClass||!!l.removeClass,w(i,!0));var u=t&&(e||n);b(i,l);var h,p,o=!1;return{close:f.close,start:function(){function s(){if(!o)return o=!0,h&&p&&i.off(h,p),v(i,l),b(t=i,e=l),_(t,e),C(c,function(t){d.style[T(t[0])]=""}),n.complete(!0),n;var t,e}var t,n=new a;return t=function(){if(w(i,!1),!u)return s();C(c,function(t){var e=t[0],n=t[1];d.style[T(e)]=n}),v(i,l);var t=function(t){function e(t){return S?"Webkit"+t.charAt(0).toUpperCase()+t.substr(1):t}var n=x(t),i=f.getComputedStyle(n),o=y(i[e("transitionDuration")]),r=y(i[e("animationDuration")]),a=y(i[e("transitionDelay")]),s=y(i[e("animationDelay")]);r*=parseInt(i[e("animationIterationCount")],10)||1;var l=Math.max(r,o),c=Math.max(s,a);return{duration:l,delay:c,animationDuration:r,transitionDuration:o,animationDelay:s,transitionDelay:a}}(i);if(0===t.duration)return s();var e=[];l.easing&&(t.transitionDuration&&e.push([A+"transition-timing-function",l.easing]),t.animationDuration&&e.push([A+"animation-timing-function",l.easing])),l.delay&&t.animationDelay&&e.push([A+"animation-delay",l.delay+"s"]),l.duration&&t.animationDuration&&e.push([A+"animation-duration",l.duration+"s"]),C(e,function(t){var e=t[0],n=t[1];d.style[T(e)]=n,c.push(t)});var o=1e3*t.delay,r=t.duration,n=1e3*r,a=Date.now();h=[],t.transitionDuration&&h.push(k),t.animationDuration&&h.push(D),h=h.join(" "),p=function(t){t.stopPropagation();var e=t.originalEvent||t,n=e.timeStamp||Date.now(),i=parseFloat(e.elapsedTime.toFixed(3));Math.max(n-a,0)>=o&&r<=i&&s()},i.on(h,p),_(i,l),g(s,o+1.5*n,!1)},E&&E(),M.push(t),E=r(function(){E=null;for(var t=m(),e=0;e<M.length;e++)M[e](t);M.length=0}),n}}}}])}(),st.module("material.components.autocomplete",["material.core","material.components.icon","material.components.virtualRepeat"]),st.module("material.components.backdrop",["material.core"]).directive("mdBackdrop",["$mdTheming","$mdUtil","$animate","$rootElement","$window","$log","$$rAF","$document",function(a,s,e,l,c,d,u,h){return{restrict:"E",link:function(n,i,t){function o(){var t=parseInt(r.height,10)+Math.abs(parseInt(r.top,10));i.css("height",t+"px")}var r;e.pin&&e.pin(i,l),u(function(){if("fixed"===(r=c.getComputedStyle(h[0].body)).position){var t=s.debounce(function(){r=c.getComputedStyle(h[0].body),o()},60,null,!1);o(),st.element(c).on("resize",t),n.$on("$destroy",function(){st.element(c).off("resize",t)})}var e=i.parent();e.length&&("BODY"===e[0].nodeName&&i.css("position","fixed"),"static"===c.getComputedStyle(e[0]).position&&d.warn("<md-backdrop> may not work properly in a scrolled, static-positioned parent container."),a.inherit(i,e))})}}}]),function(){function t(n){return{restrict:"E",link:function(t,e){e.addClass("_md"),t.$on("$destroy",function(){n.destroy()})}}}function e(t){function e(r,a,s,l,c,d,u,h){function p(i,t){function e(t){i.css(a.CSS.TRANSITION_DURATION,"0ms")}function n(t){var e=t.pointer.distanceY;e<5&&(e=Math.max(-g,e/2)),i.css(a.CSS.TRANSFORM,"translate3d(0,"+(g+e)+"px,0)")}function o(t){if(0<t.pointer.distanceY&&(20<t.pointer.distanceY||Math.abs(t.pointer.velocityY)>m)){var e=i.prop("offsetHeight")-t.pointer.distanceY,n=Math.min(e/t.pointer.velocityY*.75,500);i.css(a.CSS.TRANSITION_DURATION,n+"ms"),s.nextTick(c.cancel,!0)}else i.css(a.CSS.TRANSITION_DURATION,""),i.css(a.CSS.TRANSFORM,"")}var r=u.register(t,"drag",{horizontal:!1});return t.on("$md.dragstart",e).on("$md.drag",n).on("$md.dragend",o),{element:i,cleanup:function(){r(),t.off("$md.dragstart",e),t.off("$md.drag",n),t.off("$md.dragend",o)}}}var f;return{themable:!0,onShow:function(t,e,n,i){(e=s.extractElementByName(e,"md-bottom-sheet")).attr("tabindex","-1"),e.hasClass("ng-cloak")&&h.warn("$mdBottomSheet: using `<md-bottom-sheet ng-cloak >` will affect the bottom-sheet opening animations.",e[0]);n.disableBackdrop||((f=s.createBackdrop(t,"md-bottom-sheet-backdrop md-opaque"))[0].tabIndex=-1,n.clickOutsideToClose&&f.on("click",function(){s.nextTick(c.cancel,!0)}),l.inherit(f,n.parent),r.enter(f,n.parent,null));var o=new p(e,n.parent);return n.bottomSheet=o,l.inherit(o.element,n.parent),n.disableParentScroll&&(n.restoreScroll=s.disableScrollAround(o.element,n.parent)),r.enter(o.element,n.parent,f).then(function(){var t=s.findFocusTarget(e)||st.element(e[0].querySelector("button")||e[0].querySelector("a")||e[0].querySelector(s.prefixer("ng-click",!0)))||f;n.escapeToClose&&(n.rootElementKeyupCallback=function(t){t.keyCode===a.KEY_CODE.ESCAPE&&s.nextTick(c.cancel,!0)},d.on("keyup",n.rootElementKeyupCallback),t&&t.focus())})},onRemove:function(t,e,n){var i=n.bottomSheet;return n.disableBackdrop||r.leave(f),r.leave(i.element).then(function(){n.disableParentScroll&&(n.restoreScroll(),delete n.restoreScroll),i.cleanup()})},disableBackdrop:!1,escapeToClose:!0,clickOutsideToClose:!0,disableParentScroll:!0}}e.$inject=["$animate","$mdConstant","$mdUtil","$mdTheming","$mdBottomSheet","$rootElement","$mdGesture","$log"];var m=.5,g=80;return t("$mdBottomSheet").setDefaults({methods:["disableParentScroll","escapeToClose","clickOutsideToClose"],options:e})}t.$inject=["$mdBottomSheet"],e.$inject=["$$interimElementProvider"],st.module("material.components.bottomSheet",["material.core","material.components.backdrop"]).directive("mdBottomSheet",t).provider("$mdBottomSheet",e)}(),function(){function t(n){return{restrict:"E",link:function(t,e){n(e)}}}function e(i,o,r,a){function s(t){return st.isDefined(t.href)||st.isDefined(t.ngHref)||st.isDefined(t.ngLink)||st.isDefined(t.uiSref)}return{restrict:"EA",replace:!0,transclude:!0,template:function(t,e){return s(e)?'<a class="md-button" ng-transclude></a>':'<button class="md-button" type="'+(void 0===e.type?"button":e.type)+'" ng-transclude></button>'},link:function(t,e,n){o(e),i.attach(t,e),r.expectWithoutText(e,"aria-label"),s(n)&&st.isDefined(n.ngDisabled)&&t.$watch(n.ngDisabled,function(t){e.attr("tabindex",t?-1:0)}),e.on("click",function(t){!0===n.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}),e.hasClass("md-no-focus")||(e.on("focus",function(){a.isUserInvoked()&&"keyboard"!==a.getLastInteractionType()||e.addClass("md-focused")}),e.on("blur",function(){e.removeClass("md-focused")}))}}}e.$inject=["$mdButtonInkRipple","$mdTheming","$mdAria","$mdInteraction"],t.$inject=["$mdTheming"],st.module("material.components.button",["material.core"]).directive("mdButton",e).directive("a",t)}(),function(){function t(i){return{restrict:"E",link:function(t,e,n){e.addClass("_md"),i(e)}}}t.$inject=["$mdTheming"],st.module("material.components.card",["material.core"]).directive("mdCard",t)}(),st.module("material.components.chips",["material.core","material.components.autocomplete"]),function(){function t(f,m,g,v,y,b){return f=f[0],{restrict:"E",transclude:!0,require:["^?mdInputContainer","?ngModel","?^form"],priority:g.BEFORE_NG_ARIA,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox><div class="md-icon"></div></div><div ng-transclude class="md-label"></div>',compile:function(t,e){return e.$set("tabindex",e.tabindex||"0"),e.$set("type","checkbox"),e.$set("role",e.type),{pre:function(t,e){e.on("click",function(t){this.hasAttribute("disabled")&&t.stopImmediatePropagation()})},post:function(t,n,i,e){function o(e){n[0].hasAttribute("disabled")||t.skipToggle||t.$apply(function(){var t=i.ngChecked&&i.ngClick?i.checked:!u.$viewValue;u.$setViewValue(t,e&&e.type),u.$render()})}function r(t){(a=!1!==t)&&n.attr("aria-checked","mixed"),n.toggleClass("md-indeterminate",a)}var a,s,l,c,d=e[0],u=e[1]||y.fakeNgModel(),h=e[2];if(d){var p=d.isErrorGetter||function(){return u.$invalid&&(u.$touched||h&&h.$submitted)};d.input=n,t.$watch(p,d.setInvalid)}v(n),n.children().on("focus",function(){n.focus()}),y.parseAttributeBoolean(i.mdIndeterminate)&&(r(),t.$watch(i.mdIndeterminate,r)),i.ngChecked&&t.$watch(t.$eval.bind(t,i.ngChecked),function(t){u.$setViewValue(t),u.$render()}),s="ngDisabled",l="tabindex",c={true:"-1",false:i.tabindex},i[s]&&t.$watch(i[s],function(t){c[t]&&n.attr(l,c[t])}),m.expectWithText(n,"aria-label"),f.link.pre(t,{on:st.noop,0:{}},i,[u]),n.on("click",o).on("keypress",function(t){var e=t.which||t.keyCode;e!==g.KEY_CODE.SPACE&&e!==g.KEY_CODE.ENTER||(t.preventDefault(),n.addClass("md-focused"),o(t))}).on("focus",function(){"keyboard"===b.getLastInteractionType()&&n.addClass("md-focused")}).on("blur",function(){n.removeClass("md-focused")}),u.$render=function(){n.toggleClass("md-checked",!!u.$viewValue&&!a)}}}}}}t.$inject=["inputDirective","$mdAria","$mdConstant","$mdTheming","$mdUtil","$mdInteraction"],st.module("material.components.checkbox",["material.core"]).directive("mdCheckbox",t)}(),function(){function t(r,a,i){function s(t,e){e=e||!1;var n=r.PALETTES[t.palette][t.hue];return n=e?n.contrast:n.value,a.supplant("rgba({0}, {1}, {2}, {3})",[n[0],n[1],n[2],n[3]||t.opacity])}function l(t){var e=t.split("-"),n=st.isDefined(r.THEMES[e[0]])?e.splice(0,1)[0]:r.defaultTheme();return{theme:n,palette:function(t,e){var n=1<t.length&&-1!==c.indexOf(t[1]),i=t[0].replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();if(n&&(i=t[0]+"-"+t.splice(1,1)),-1===c.indexOf(i)){var o=r.THEMES[e].colors[i];if(!o)throw new Error(a.supplant("mdColors: couldn't find '{palette}' in the palettes.",{palette:i}));i=o.name}return i}(e,n),hue:function(t,e){var n=r.THEMES[e].colors;if("hue"!==t[1])return t[1]||n[t[0]in n?t[0]:"primary"].hues.default;var i=parseInt(t.splice(2,1)[0],10);if(i<1||3<i)throw new Error(a.supplant("mdColors: 'hue-{hueNumber}' is not a valid hue, can be only 'hue-1', 'hue-2' and 'hue-3'",{hueNumber:i}));if(t[1]="hue-"+i,!(t[0]in n))throw new Error(a.supplant("mdColors: 'hue-x' can only be used with [{availableThemes}], but was used with '{usedTheme}'",{availableThemes:Object.keys(n).join(", "),usedTheme:t[0]}));return n[t[0]].hues[t[1]]}(e,n),opacity:e[2]||1}}return c=c||Object.keys(r.PALETTES),{applyThemeColors:function(t,e){try{e&&t.css((o={},r=(n=e).hasOwnProperty("color"),st.forEach(n,function(t,e){var n=l(t),i=-1<e.indexOf("background");o[e]=s(n),i&&!r&&(o.color=s(n,!0))}),o))}catch(t){i.error(t.message)}var n,o,r},getThemeColor:function(t){return s(l(t))},hasTheme:function(t){return st.isDefined(r.THEMES[t.split("-")[0]])}}}function e(d,r,u,h){return{restrict:"A",require:["^?mdTheme"],compile:function(t,o){var c=function(){var t=o.mdColors,e=-1<t.indexOf("::"),n=!!e||a.test(o.mdColors);o.mdColors=t.replace("::","");var i=st.isDefined(o.mdColorsWatch);return!e&&!n&&(!i||r.parseAttributeBoolean(o.mdColorsWatch))}();return function(t,n,e,i){var o=i[0],r={},a=function(n){"string"!=typeof n&&(n=""),e.mdColors||(e.mdColors="{}");var i=h(e.mdColors)(t);return o&&Object.keys(i).forEach(function(t){var e=i[t];d.hasTheme(e)||(i[t]=(n||o.$mdTheme)+"-"+e)}),s(i),i},s=function(t){if(!st.equals(t,r)){var e=Object.keys(r);r.background&&!e.color&&e.push("color"),e.forEach(function(t){n.css(t,"")})}r=t},l=st.noop;o&&(l=o.registerChanges(function(t){d.applyThemeColors(n,a(t))})),t.$on("$destroy",function(){l()});try{c?t.$watch(a,st.bind(this,d.applyThemeColors,n),!0):d.applyThemeColors(n,a())}catch(t){u.error(t.message)}}}}}e.$inject=["$mdColors","$mdUtil","$log","$parse"],t.$inject=["$mdTheming","$mdUtil","$log"];var a=/^{((\s|,)*?["'a-zA-Z-]+?\s*?:\s*?('|")[a-zA-Z0-9-.]*('|"))+\s*}$/,c=null;st.module("material.components.colors",["material.core"]).directive("mdColors",e).service("$mdColors",t)}(),function(){function t(i){return{restrict:"E",controller:["$scope","$element",function(t,e){this.$scope=t,this.$element=e}],link:function(t,e){var n;e.addClass("_md"),i(e),t.$broadcast("$mdContentLoaded",e),n=e[0],st.element(n).on("$md.pressdown",function(t){"t"===t.pointer.type&&(t.$materialScrollFixed||(t.$materialScrollFixed=!0,0===n.scrollTop?n.scrollTop=1:n.scrollHeight===n.scrollTop+n.offsetHeight&&(n.scrollTop-=1)))})}}}t.$inject=["$mdTheming"],st.module("material.components.content",["material.core"]).directive("mdContent",t)}(),st.module("material.components.datepicker",["material.core","material.components.icon","material.components.virtualRepeat"]),function(){function t(t,e,r){return{restrict:"E",link:function(i,o){o.addClass("_md"),e(o),t(function(){function t(){o.toggleClass("md-content-overflow",n.scrollHeight>n.clientHeight)}var e,n=o[0].querySelector("md-dialog-content");n&&(e=n.getElementsByTagName("img"),t(),st.element(e).on("load",t)),i.$on("$destroy",function(){r.destroy(o)})})}}}function e(t){function e(){return{template:['<md-dialog md-theme="{{ dialog.theme || dialog.defaultTheme }}" aria-label="{{ dialog.ariaLabel }}" ng-class="dialog.css">','  <md-dialog-content class="md-dialog-content" role="document" tabIndex="-1">','    <h2 class="md-title">{{ dialog.title }}</h2>','    <div ng-if="::dialog.mdHtmlContent" class="md-dialog-content-body" ','        ng-bind-html="::dialog.mdHtmlContent"></div>','    <div ng-if="::!dialog.mdHtmlContent" class="md-dialog-content-body">',"      <p>{{::dialog.mdTextContent}}</p>","    </div>",'    <md-input-container md-no-float ng-if="::dialog.$type == \'prompt\'" class="md-prompt-input-container">','      <input ng-keypress="dialog.keypress($event)" md-autofocus ng-model="dialog.result"              placeholder="{{::dialog.placeholder}}" ng-required="dialog.required">',"    </md-input-container>","  </md-dialog-content>","  <md-dialog-actions>",'    <md-button ng-if="dialog.$type === \'confirm\' || dialog.$type === \'prompt\'"               ng-click="dialog.abort()" class="md-primary md-cancel-button">',"      {{ dialog.cancel }}","    </md-button>",'    <md-button ng-click="dialog.hide()" class="md-primary md-confirm-button" md-autofocus="dialog.$type===\'alert\'"               ng-disabled="dialog.required && !dialog.result">',"      {{ dialog.ok }}","    </md-button>","  </md-dialog-actions>","</md-dialog>"].join("").replace(/\s\s+/g,""),controller:n,controllerAs:"dialog",bindToController:!0}}function n(e,n){this.$onInit=function(){var t="prompt"==this.$type;t&&this.initialValue&&(this.result=this.initialValue),this.hide=function(){e.hide(!t||this.result)},this.abort=function(){e.cancel()},this.keypress=function(t){t.keyCode===n.KEY_CODE.ENTER&&e.hide(this.result)}}}function i(h,l,p,f,c,d,m,u,g,a,e,r,v){function y(t,e){var n="fixed"==m.getComputedStyle(d[0].body).position,i=e.backdrop?m.getComputedStyle(e.backdrop[0]):null,o=i?Math.min(d[0].body.clientHeight,Math.ceil(Math.abs(parseInt(i.height,10)))):0,r={top:t.css("top"),height:t.css("height")},a=Math.abs(e.parent[0].getBoundingClientRect().top);return t.css({top:(n?a:0)+"px",height:o?o+"px":"100%"}),function(){t.css(r)}}function b(t,e){if(-1!==e.indexOf(t.nodeName))return!0}return{hasBackdrop:!0,isolateScope:!0,onCompiling:function(t){t.defaultTheme=e.defaultTheme(),function(e){var t;e.targetEvent&&e.targetEvent.target&&(t=st.element(e.targetEvent.target));var n=t&&t.controller("mdTheme");if(n){e.themeWatch=n.$shouldWatch;var i=e.theme||n.$mdTheme;i&&(e.scope.theme=i);var o=n.registerChanges(function(t){e.scope.theme=t,e.themeWatch||o()})}}(t)},onShow:function(t,e,n,i){st.element(d[0].body).addClass("md-dialog-is-showing");var o,r,a,s=e.find("md-dialog");s.hasClass("ng-cloak")&&g.warn("$mdDialog: using `<md-dialog ng-cloak>` will affect the dialog opening animations.",e[0]);return function(t){function e(t,e){var n=st.element(t||{});if(n&&n.length){var i=st.isFunction(n[0].getBoundingClientRect);return st.extend(e||{},{element:i?n:lt,bounds:i?n[0].getBoundingClientRect():st.extend({},{top:0,left:0,height:0,width:0},n[0]),focus:st.bind(n,n.focus)})}}function n(t,e){return st.isString(t)&&(t=d[0].querySelector(t)),st.element(t||e)}t.origin=st.extend({element:null,bounds:null,focus:st.noop},t.origin||{}),t.parent=n(t.parent,u),t.closeTo=e(n(t.closeTo)),t.openFrom=e(n(t.openFrom)),t.targetEvent&&(t.origin=e(t.targetEvent.target,t.origin),t.originInteraction=v.getLastInteractionType())}(n),function(t,e){var n="alert"===e.$type?"alertdialog":"dialog",i=t.find("md-dialog-content"),o=t.attr("id"),r="dialogContent_"+(o||p.nextUid());t.attr({role:n,tabIndex:"-1"}),0===i.length&&(i=t,o&&(r=o)),i.attr("id",r),t.attr("aria-describedby",r),e.ariaLabel?l.expect(t,"aria-label",e.ariaLabel):l.expectAsync(t,"aria-label",function(){if(e.title)return e.title;var t=i.text().split(/\s+/);return 3<t.length&&(t=t.slice(0,3).concat("...")),t.join(" ")}),(_=document.createElement("div")).classList.add("md-dialog-focus-trap"),_.tabIndex=0,x=_.cloneNode(!1);var a=function(){t.focus()};_.addEventListener("focus",a),x.addEventListener("focus",a),t[0].parentNode.insertBefore(_,t[0]),t.after(x)}(s,n),o=t,r=e,(a=n).disableParentScroll&&(a.restoreScroll=p.disableScrollAround(r,a.parent)),a.hasBackdrop&&(a.backdrop=p.createBackdrop(o,"md-dialog-backdrop md-opaque"),c.enter(a.backdrop,a.parent)),a.hideBackdrop=function(t){a.backdrop&&(t?a.backdrop.remove():c.leave(a.backdrop)),a.disableParentScroll&&(a.restoreScroll&&a.restoreScroll(),delete a.restoreScroll),a.hideBackdrop=null},function(t,e){var n=st.element(m),i=p.debounce(function(){y(t,e)},60),o=[],r=function(){var t="alert"==e.$type?h.hide:h.cancel;p.nextTick(t,!0)};if(e.escapeToClose){var a=e.parent,s=function(t){t.keyCode===f.KEY_CODE.ESCAPE&&(t.stopPropagation(),t.preventDefault(),r())};t.on("keydown",s),a.on("keydown",s),o.push(function(){t.off("keydown",s),a.off("keydown",s)})}if(n.on("resize",i),o.push(function(){n.off("resize",i)}),e.clickOutsideToClose){var l,c=t,d=function(t){l=t.target},u=function(t){l===c[0]&&t.target===c[0]&&(t.stopPropagation(),t.preventDefault(),r())};c.on("mousedown",d),c.on("mouseup",u),o.push(function(){c.off("mousedown",d),c.off("mouseup",u)})}e.deactivateListeners=function(){o.forEach(function(t){t()}),e.deactivateListeners=null}}(e,n),function(t,e){e.parent.append(t),e.reverseContainerStretch=y(t,e);var n=t.find("md-dialog"),i=p.dom.animator,o=i.calculateZoomToOrigin,r={transitionInClass:"md-transition-in",transitionOutClass:"md-transition-out"},a=i.toTransformCss(o(n,e.openFrom||e.origin)),s=i.toTransformCss("");return n.toggleClass("md-dialog-fullscreen",!!e.fullscreen),i.translate3d(n,a,s,r).then(function(t){return e.reverseAnimate=function(){return delete e.reverseAnimate,e.closeTo?(r={transitionInClass:"md-transition-out",transitionOutClass:"md-transition-in"},a=s,s=i.toTransformCss(o(n,e.closeTo)),i.translate3d(n,a,s,r)):t(s=i.toTransformCss(o(n,e.origin)))},e.clearAnimate=function(){return delete e.clearAnimate,n.removeClass([r.transitionOutClass,r.transitionInClass].join(" ")),i.translate3d(n,s,i.toTransformCss(""),{})},!0})}(e,n).then(function(){(function(t,e){function i(t){for(;t.parentNode;){if(t===document.body)return;for(var e=t.parentNode.children,n=0;n<e.length;n++)t===e[n]||b(e[n],["SCRIPT","STYLE"])||e[n].hasAttribute("aria-live")||e[n].setAttribute("aria-hidden",o);i(t=t.parentNode)}}var o=!0;i(t[0]),e.unlockScreenReader=function(){o=!1,i(t[0]),e.unlockScreenReader=null}})(e,n),e[0].querySelector(".md-actions")&&g.warn("Using a class of md-actions is deprecated, please use <md-dialog-actions>."),n.focusOnOpen&&(p.findFocusTarget(e)||e[0].querySelector(".dialog-close, md-dialog-actions button:last-child")||s).focus()})},onShowing:function(t,e,n,i){if(i){var o=i.htmlContent||n.htmlContent||"",r=i.textContent||n.textContent||i.content||n.content||"";if(o&&!a.has("$sanitize"))throw Error("The ngSanitize module must be loaded in order to use htmlContent.");if(o&&r)throw Error("md-dialog cannot have both `htmlContent` and `textContent`");i.mdHtmlContent=o,i.mdTextContent=r}},onRemove:function(t,e,n){function i(){st.element(d[0].body).removeClass("md-dialog-is-showing"),n.contentElement&&n.reverseContainerStretch(),n.cleanupElement(),n.$destroy||"keyboard"!==n.originInteraction||n.origin.focus()}return n.deactivateListeners(),n.unlockScreenReader(),n.hideBackdrop(n.$destroy),_&&_.parentNode&&_.parentNode.removeChild(_),x&&x.parentNode&&x.parentNode.removeChild(x),n.$destroy?i():(o=n).reverseAnimate().then(function(){o.contentElement&&o.clearAnimate()}).then(i);var o},clickOutsideToClose:!1,escapeToClose:!0,targetEvent:null,closeTo:null,openFrom:null,focusOnOpen:!0,disableParentScroll:!0,autoWrap:!0,fullscreen:!1,transformTemplate:function(t,e){var n,i=r.startSymbol(),o=r.endSymbol();return'<div class="md-dialog-container" tabindex="-1" md-theme="'+(i+(e.themeWatch?"":"::")+"theme"+o)+'">'+(n=t,e.autoWrap&&!/<\/md-dialog>/g.test(n)?"<md-dialog>"+(n||"")+"</md-dialog>":n||"")+"</div>"}}}var _,x;return n.$inject=["$mdDialog","$mdConstant"],i.$inject=["$mdDialog","$mdAria","$mdUtil","$mdConstant","$animate","$document","$window","$rootElement","$log","$injector","$mdTheming","$interpolate","$mdInteraction"],t("$mdDialog").setDefaults({methods:["disableParentScroll","hasBackdrop","clickOutsideToClose","escapeToClose","targetEvent","closeTo","openFrom","parent","fullscreen","multiple"],options:i}).addPreset("alert",{methods:["title","htmlContent","textContent","content","ariaLabel","ok","theme","css"],options:e}).addPreset("confirm",{methods:["title","htmlContent","textContent","content","ariaLabel","ok","cancel","theme","css"],options:e}).addPreset("prompt",{methods:["title","htmlContent","textContent","initialValue","content","placeholder","ariaLabel","ok","cancel","theme","css","required"],options:e})}t.$inject=["$$rAF","$mdTheming","$mdDialog"],e.$inject=["$$interimElementProvider"],st.module("material.components.dialog",["material.core","material.components.backdrop"]).directive("mdDialog",t).provider("$mdDialog",e)}(),function(){function t(t){return{restrict:"E",link:t}}t.$inject=["$mdTheming"],st.module("material.components.divider",["material.core"]).directive("mdDivider",t)}(),function(){function t(i){return{restrict:"E",require:["^?mdFabSpeedDial","^?mdFabToolbar"],compile:function(t,e){var n=t.children();i.prefixer().hasAttribute(n,"ng-repeat")?n.addClass("md-fab-action-item"):n.wrap('<div class="md-fab-action-item">')}}}t.$inject=["$mdUtil"],st.module("material.components.fabActions",["material.core"]).directive("mdFabActions",t)}(),function(){function t(e,r,a,s,l,o){function n(t){var e,n,i;"click"==t.type&&(i=(e=t).target,s.getClosest(i,"md-fab-trigger")&&b.toggle(),n=e.target,s.getClosest(n,"md-fab-actions")&&b.close()),"focusout"!=t.type||y||(y=o(function(){b.close()},100,!1)),"focusin"==t.type&&y&&(o.cancel(y),y=null)}function c(){b.currentActionIndex=-1}function i(){var i,o;e.$watch("vm.direction",function(t,e){a.removeClass(r,"md-"+e),a.addClass(r,"md-"+t),c()}),e.$watch("vm.isOpen",function(t){c(),i&&o||(i=r.find("md-fab-trigger"),o=v()),t?(r.on("keydown",p),s.nextTick(function(){st.element(document).on("click touchend",h)})):u();var e=t?"md-is-open":"",n=t?"":"md-is-open";i.attr("aria-haspopup",!0),i.attr("aria-expanded",t),o.attr("aria-hidden",!t),a.setClass(r,e,n)})}function d(){0<r[0].scrollHeight?a.addClass(r,"_md-animations-ready").then(function(){r.removeClass("md-animations-waiting")}):t<10&&(o(d,100),t+=1)}function u(){r.off("keydown",p),st.element(document).off("click touchend",h)}function h(t){if(t.target){var e=s.getClosest(t.target,"md-fab-trigger"),n=s.getClosest(t.target,"md-fab-actions");e||n||b.close()}}function p(t){switch(t.which){case l.KEY_CODE.ESCAPE:return b.close(),t.preventDefault(),!1;case l.KEY_CODE.LEFT_ARROW:return o=t,"left"===b.direction?m(o):f(o),!1;case l.KEY_CODE.UP_ARROW:return i=t,"down"===b.direction?f(i):m(i),!1;case l.KEY_CODE.RIGHT_ARROW:return n=t,"left"===b.direction?f(n):m(n),!1;case l.KEY_CODE.DOWN_ARROW:return e=t,"up"===b.direction?f(e):m(e),!1}var e,n,i,o}function f(t){g(t,-1)}function m(t){g(t,1)}function g(t,e){var n,i=(n=v()[0].querySelectorAll(".md-fab-action-item"),st.forEach(n,function(t){st.element(st.element(t).children()[0]).attr("tabindex",-1)}),n);b.currentActionIndex=b.currentActionIndex+e,b.currentActionIndex=Math.min(i.length-1,b.currentActionIndex),b.currentActionIndex=Math.max(0,b.currentActionIndex);var o=st.element(i[b.currentActionIndex]).children()[0];st.element(o).attr("tabindex",0),o.focus(),t.preventDefault(),t.stopImmediatePropagation()}function v(){return r.find("md-fab-actions")}var y,b=this,t=0;b.open=function(){e.$evalAsync("vm.isOpen = true")},b.close=function(){e.$evalAsync("vm.isOpen = false"),r.find("md-fab-trigger")[0].focus()},b.toggle=function(){e.$evalAsync("vm.isOpen = !vm.isOpen")},b.$onInit=function(){var t;b.direction=b.direction||"down",b.isOpen=b.isOpen||!1,c(),r.addClass("md-animations-waiting"),t=["click","focusin","focusout"],st.forEach(t,function(t){r.on(t,n)}),e.$on("$destroy",function(){st.forEach(t,function(t){r.off(t,n)}),u()}),i(),d()},1===st.version.major&&st.version.minor<=4&&this.$onInit()}t.$inject=["$scope","$element","$animate","$mdUtil","$mdConstant","$timeout"],st.module("material.components.fabShared",["material.core"]).controller("MdFabController",t)}(),function(){function t(e){function i(t){e(t,n,!1)}function o(t){if(!t.hasClass("md-animations-waiting")||t.hasClass("_md-animations-ready")){var e=t[0],l=t.controller("mdFabSpeedDial"),i=e.querySelectorAll(".md-fab-action-item"),c=e.querySelector("md-fab-trigger"),n=e.querySelector("._md-css-variables"),o=parseInt(H.getComputedStyle(n).zIndex);st.forEach(i,function(t,e){var n=t.style;n.transform=n.webkitTransform="",n.transitionDelay="",n.opacity=1,n.zIndex=i.length-e+o}),c.style.zIndex=o+i.length+1,l.isOpen||st.forEach(i,function(t,e){var n,i,o=t.style,r=(c.clientHeight-t.clientHeight)/2,a=(c.clientWidth-t.clientWidth)/2;switch(l.direction){case"up":n=t.scrollHeight*(e+1)+r,i="Y";break;case"down":n=-(t.scrollHeight*(e+1)+r),i="Y";break;case"left":n=t.scrollWidth*(e+1)+a,i="X";break;case"right":n=-(t.scrollWidth*(e+1)+a),i="X"}var s="translate"+i+"("+n+"px)";o.transform=o.webkitTransform=s})}}return{addClass:function(t,e,n){t.hasClass("md-fling")?(o(t),i(n)):n()},removeClass:function(t,e,n){o(t),i(n)}}}function e(e){function i(t){e(t,n,!1)}function o(t){var e=t[0],o=t.controller("mdFabSpeedDial"),r=e.querySelectorAll(".md-fab-action-item"),n=e.querySelector("._md-css-variables"),a=parseInt(H.getComputedStyle(n).zIndex);st.forEach(r,function(t,e){var n=t.style,i=65*e;n.opacity=o.isOpen?1:0,n.transform=n.webkitTransform=o.isOpen?"scale(1)":"scale(0)",n.transitionDelay=(o.isOpen?i:r.length-i)+"ms",n.zIndex=r.length-e+a})}return{addClass:function(t,e,n){o(t),i(n)},removeClass:function(t,e,n){o(t),i(n)}}}t.$inject=["$timeout"],e.$inject=["$timeout"];var n=300;st.module("material.components.fabSpeedDial",["material.core","material.components.fabShared","material.components.fabActions"]).directive("mdFabSpeedDial",function(){return{restrict:"E",scope:{direction:"@?mdDirection",isOpen:"=?mdOpen"},bindToController:!0,controller:"MdFabController",controllerAs:"vm",link:function(t,e){e.prepend('<div class="_md-css-variables"></div>')}}}).animation(".md-fling",t).animation(".md-scale",e).service("mdFabSpeedDialFlingAnimation",t).service("mdFabSpeedDialScaleAnimation",e)}(),function(){function t(){function i(t,e,n){if(e){var i=t[0],o=t.controller("mdFabToolbar"),r=i.querySelector(".md-fab-toolbar-background"),a=i.querySelector("md-fab-trigger button"),s=i.querySelector("md-toolbar"),l=i.querySelector("md-fab-trigger button md-icon"),c=t.find("md-fab-actions").children();if(a&&r){var d=H.getComputedStyle(a).getPropertyValue("background-color"),u=i.offsetWidth,h=(i.offsetHeight,u/a.offsetWidth*2);r.style.backgroundColor=d,r.style.borderRadius=u+"px",o.isOpen?(s.style.pointerEvents="inherit",r.style.width=a.offsetWidth+"px",r.style.height=a.offsetHeight+"px",r.style.transform="scale("+h+")",r.style.transitionDelay="0ms",l&&(l.style.transitionDelay=".3s"),st.forEach(c,function(t,e){t.style.transitionDelay=25*(c.length-e)+"ms"})):(s.style.pointerEvents="none",r.style.transform="scale(1)",r.style.top="0",t.hasClass("md-right")&&(r.style.left="0",r.style.right=null),t.hasClass("md-left")&&(r.style.right="0",r.style.left=null),r.style.transitionDelay="200ms",l&&(l.style.transitionDelay="0ms"),st.forEach(c,function(t,e){t.style.transitionDelay=200+25*e+"ms"}))}}}return{addClass:function(t,e,n){i(t,e),n()},removeClass:function(t,e,n){i(t,e),n()}}}st.module("material.components.fabToolbar",["material.core","material.components.fabShared","material.components.fabActions"]).directive("mdFabToolbar",function(){return{restrict:"E",transclude:!0,template:'<div class="md-fab-toolbar-wrapper">  <div class="md-fab-toolbar-content" ng-transclude></div></div>',scope:{direction:"@?mdDirection",isOpen:"=?mdOpen"},bindToController:!0,controller:"MdFabController",controllerAs:"vm",link:function(t,e,n){e.addClass("md-fab-toolbar"),e.find("md-fab-trigger").find("button").prepend('<div class="md-fab-toolbar-background"></div>')}}}).animation(".md-fab-toolbar",t).service("mdFabToolbarAnimation",t)}(),st.module("material.components.icon",["material.core"]),function(){function t(p,v,y,b){return{restrict:"E",controller:e,scope:{mdOnLayout:"&"},link:function(r,a,s,e){function n(t){null==t?e.invalidateLayout():b(t)&&e.invalidateLayout()}function t(t){return u+t+h}function l(){var t=b.getResponsiveAttribute(s,"md-row-height");if(!t)throw"md-grid-list: md-row-height attribute was not found";return"fit"==t?"fit":-1!==t.indexOf(":")?"ratio":"fixed"}function c(t){return/\D$/.test(t)?t:t+"px"}a.addClass("_md"),a.attr("role","list"),e.layoutDelegate=function(t){var e,i=[].filter.call(a.children(),function(t){return"MD-GRID-TILE"==t.tagName&&!t.$$mdDestroyed}),o={tileSpans:(e=i,[].map.call(e,function(t){var e=st.element(t).controller("mdGridTile");return{row:parseInt(b.getResponsiveAttribute(e.$attrs,"md-rowspan"),10)||1,col:parseInt(b.getResponsiveAttribute(e.$attrs,"md-colspan"),10)||1}})),colCount:function(){var t=parseInt(b.getResponsiveAttribute(s,"md-cols"),10);if(isNaN(t))throw"md-grid-list: md-cols attribute was not found, or contained a non-numeric value";return t}(),rowMode:l(),rowHeight:function(){var t=b.getResponsiveAttribute(s,"md-row-height");if(!t)throw"md-grid-list: md-row-height attribute was not found";switch(l()){case"fixed":return c(t);case"ratio":var e=t.split(":");return parseFloat(e[0])/parseFloat(e[1]);case"fit":return 0}}(),gutter:c(b.getResponsiveAttribute(s,"md-gutter")||1)};if(t||!st.equals(o,d)){var n=y(o.colCount,o.tileSpans,i).map(function(t,n){return{grid:{element:a,style:function(t,e,n,i,o){var r={};switch(i){case"fixed":r.height=g({unit:o,span:e,gutter:n}),r.paddingBottom="";break;case"ratio":var a=1===t?0:(t-1)/t,s=1/t*100,l=s*(1/o),c=f({share:l,gutterShare:a,gutter:n});r.height="",r.paddingBottom=g({unit:c,span:e,gutter:n})}return r}(o.colCount,n,o.gutter,o.rowMode,o.rowHeight)},tiles:t.map(function(t,e){return{element:st.element(i[e]),style:function(t,e,n,i,o,r,a){var s=1/n*100,l=(n-1)/n,c=f({share:s,gutterShare:l,gutter:o}),d="rtl"!=document.dir&&"rtl"!=document.body.dir?{left:m({unit:c,offset:t.col,gutter:o}),width:g({unit:c,span:e.col,gutter:o}),paddingTop:"",marginTop:"",top:"",height:""}:{right:m({unit:c,offset:t.col,gutter:o}),width:g({unit:c,span:e.col,gutter:o}),paddingTop:"",marginTop:"",top:"",height:""};switch(r){case"fixed":d.top=m({unit:a,offset:t.row,gutter:o}),d.height=g({unit:a,span:e.row,gutter:o});break;case"ratio":var u=s/a,h=f({share:u,gutterShare:l,gutter:o});d.paddingTop=g({unit:h,span:e.row,gutter:o}),d.marginTop=m({unit:h,offset:t.row,gutter:o});break;case"fit":var p=(i-1)/i,u=1/i*100,h=f({share:u,gutterShare:p,gutter:o});d.top=m({unit:h,offset:t.row,gutter:o}),d.height=g({unit:h,span:e.row,gutter:o})}return d}(t.position,t.spans,o.colCount,n,o.gutter,o.rowMode,o.rowHeight)}})}}).reflow().performance();r.mdOnLayout({$event:{performance:n}}),d=o}};var i=st.bind(e,e.invalidateLayout),o=function(){for(var t in v.MEDIA)b(t),b.getQuery(v.MEDIA[t]).addListener(i);return b.watchResponsiveAttributes(["md-cols","md-row-height","md-gutter"],s,n)}();r.$on("$destroy",function(){for(var t in e.layoutDelegate=st.noop,o(),v.MEDIA)b.getQuery(v.MEDIA[t]).removeListener(i)});var d,u=p.startSymbol(),h=p.endSymbol(),f=p(t("share")+"% - ("+t("gutter")+" * "+t("gutterShare")+")"),m=p("calc(("+t("unit")+" + "+t("gutter")+") * "+t("offset")+")"),g=p("calc(("+t("unit")+") * "+t("span")+" + ("+t("span")+" - 1) * "+t("gutter")+")")}}}function e(t){this.layoutInvalidated=!1,this.tilesInvalidated=!1,this.$timeout_=t.nextTick,this.layoutDelegate=st.noop}function n(l){function t(t,e){var n,i,o,r,a,s;return r=l.time(function(){i=function(o,t){function r(){c++,a(l=0,o,-1)}function a(t,e,n){for(var i=t;i<t+e;i++)d[i]=Math.max(d[i]+n,0)}function s(t){var e;for(e=t;e<d.length;e++)if(0!==d[e])return e;if(e===d.length)return e}var l=0,c=0,d=function(){for(var t=[],e=0;e<o;e++)t.push(0);return t}();return{positioning:t.map(function(t,e){return{spans:t,position:function(t,e){if(t.col>o)throw"md-grid-list: Tile at position "+e+" has a colspan ("+t.col+") that exceeds the column count ("+o+")";for(var n=0,i=0;i-n<t.col;)o<=l?r():-1!==(n=d.indexOf(0,l))&&-1!==(i=s(n+1))?l=i+1:(n=i=0,r());return a(n,t.col,t.row),l=n+t.col,{col:n,row:c}}(t,e)}}),rowCount:c+Math.max.apply(Math,d)}}(t,e)}),n={layoutInfo:function(){return i},map:function(e){return a=l.time(function(){var t=n.layoutInfo();o=e(t.positioning,t.rowCount)}),n},reflow:function(t){return s=l.time(function(){(t||c)(o.grid,o.tiles)}),n},performance:function(){return{tileCount:e.length,layoutTime:r,mapTime:a,reflowTime:s,totalTime:r+a+s}}}}function e(t,e){t.element.css(t.style),e.forEach(function(t){t.element.css(t.style)})}var c=e;return t.animateWith=function(t){c=st.isFunction(t)?t:e},t}function i(r){return{restrict:"E",require:"^mdGridList",template:"<figure ng-transclude></figure>",transclude:!0,scope:{},controller:["$attrs",function(t){this.$attrs=t}],link:function(t,e,n,i){e.attr("role","listitem");var o=r.watchResponsiveAttributes(["md-colspan","md-rowspan"],n,st.bind(i,i.invalidateLayout));i.invalidateTiles(),t.$on("$destroy",function(){e[0].$$mdDestroyed=!0,o(),i.invalidateLayout()}),st.isDefined(t.$parent.$index)&&t.$watch(function(){return t.$parent.$index},function(t,e){t!==e&&i.invalidateTiles()})}}}function o(){return{template:"<figcaption ng-transclude></figcaption>",transclude:!0}}e.$inject=["$mdUtil"],n.$inject=["$mdUtil"],t.$inject=["$interpolate","$mdConstant","$mdGridLayout","$mdMedia"],i.$inject=["$mdMedia"],st.module("material.components.gridList",["material.core"]).directive("mdGridList",t).directive("mdGridTile",i).directive("mdGridTileFooter",o).directive("mdGridTileHeader",o).factory("$mdGridLayout",n),e.prototype={invalidateTiles:function(){this.tilesInvalidated=!0,this.invalidateLayout()},invalidateLayout:function(){this.layoutInvalidated||(this.layoutInvalidated=!0,this.$timeout_(st.bind(this,this.layout)))},layout:function(){try{this.layoutDelegate(this.tilesInvalidated)}finally{this.layoutInvalidated=!1,this.tilesInvalidated=!1}}}}(),function(){function t(i,r){function t(t,e,n,i){var o=this;o.isErrorGetter=n.mdIsError&&r(n.mdIsError),o.delegateClick=function(){o.input.focus()},o.element=e,o.setFocused=function(t){e.toggleClass("md-input-focused",!!t)},o.setHasValue=function(t){e.toggleClass("md-input-has-value",!!t)},o.setHasPlaceholder=function(t){e.toggleClass("md-input-has-placeholder",!!t)},o.setInvalid=function(t){t?i.addClass(e,"md-input-invalid"):i.removeClass(e,"md-input-invalid")},t.$watch(function(){return o.label&&o.input},function(t){t&&!o.label.attr("for")&&o.label.attr("for",o.input.attr("id"))})}t.$inject=["$scope","$element","$attrs","$animate"];var e=["INPUT","TEXTAREA","SELECT","MD-SELECT"],o=e.reduce(function(t,e){return t.concat(["md-icon ~ "+e,".md-icon ~ "+e])},[]).join(","),a=e.reduce(function(t,e){return t.concat([e+" ~ md-icon",e+" ~ .md-icon"])},[]).join(",");return{restrict:"E",compile:function(t){var e=t[0].querySelector(o),n=t[0].querySelector(a);return e&&t.addClass("md-icon-left"),n&&t.addClass("md-icon-right"),function(t,e){i(e)}},controller:t}}function e(v,y,d,b,_){return{restrict:"E",require:["^?mdInputContainer","?ngModel","?^form"],link:function(u,h,p,t){function e(t){return f.setHasValue(!g.$isEmpty(t)),t}function n(){f.setHasValue(0<h.val().length||(h[0].validity||{}).badInput)}var f=t[0],m=!!t[1],g=t[1]||v.fakeNgModel(),i=t[2],o=st.isDefined(p.readonly),r=v.parseAttributeBoolean(p.mdNoAsterisk),a=h[0].tagName.toLowerCase();if(f){if("hidden"===p.type)return void h.attr("aria-hidden","true");if(f.input){if(f.input[0].contains(h[0]))return;throw new Error("<md-input-container> can only have *one* <input>, <textarea> or <md-select> child element!")}f.input=h,f.label&&p.$observe("required",function(t){f.label.toggleClass("md-required",t&&!r)});var s=st.element('<div class="md-errors-spacer">');h.after(s);var l=st.isString(p.placeholder)?p.placeholder.trim():"";f.label||l.length||d.expect(h,"aria-label"),h.addClass("md-input"),h.attr("id")||h.attr("id","input_"+v.nextUid()),"input"===a&&"number"===p.type&&p.min&&p.max&&!p.step?h.attr("step","any"):"textarea"===a&&function(){function e(){h.attr("rows",1).css("height","auto").addClass("md-no-flex");var t,e,n=(t=d.offsetHeight,e=d.scrollHeight-t,t+Math.max(e,0));if(!l){var i=h[0].style.padding||"";l=h.css("padding",0).prop("offsetHeight"),h[0].style.padding=i}if(r&&l&&(n=Math.max(n,l*r)),a&&l){var o=l*a;o<n?(h.attr("md-no-autogrow",""),n=o):h.removeAttr("md-no-autogrow")}l&&h.attr("rows",Math.round(n/l)),h.css("height",n+"px").removeClass("md-no-flex")}function n(t){return v.nextTick(e),t}function c(){if(o&&(o=!1,st.element(y).off("resize",e),s&&s(),h.attr("md-no-autogrow","").off("input",e),m)){var t=g.$formatters.indexOf(n);-1<t&&g.$formatters.splice(t,1)}}var i,o=!p.hasOwnProperty("mdNoAutogrow");if(function(){function t(t){t.preventDefault(),r=!0,t.clientY,a=parseFloat(h.css("height"))||h.prop("offsetHeight")}function e(t){r&&(t.preventDefault(),c(),s.addClass("md-input-resized"))}function n(t){r&&h.css("height",a+t.pointer.distanceY+"px")}function i(t){r&&(r=!1,s.removeClass("md-input-resized"))}if(!p.hasOwnProperty("mdNoResize")){var o=st.element('<div class="md-resize-handle"></div>'),r=!1,a=0,s=f.element,l=_.register(o,"drag",{horizontal:!1});h.wrap('<div class="md-resize-wrapper">').after(o),o.on("mousedown",t),s.on("$md.dragstart",e).on("$md.drag",n).on("$md.dragend",i),u.$on("$destroy",function(){o.off("mousedown",t).remove(),s.off("$md.dragstart",e).off("$md.drag",n).off("$md.dragend",i),l(),l=s=o=null})}}(),o){var r=p.hasOwnProperty("rows")?parseInt(p.rows):NaN,a=p.hasOwnProperty("maxRows")?parseInt(p.maxRows):NaN,s=u.$on("md-resize-textarea",e),l=null,d=h[0];if(b(function(){v.nextTick(e)},10,!1),h.on("input",e),m&&g.$formatters.push(n),r||h.attr("rows",1),st.element(y).on("resize",e),u.$on("$destroy",c),p.hasOwnProperty("mdDetectHidden")){var t=(i=!1,function(){var t=0===d.offsetHeight;!1===t&&!0===i&&e(),i=t});u.$watch(function(){return v.nextTick(t,!1),!0})}}}(),m||n();var c=f.isErrorGetter||function(){return g.$invalid&&(g.$touched||i&&i.$submitted)};u.$watch(c,f.setInvalid),p.ngValue&&p.$observe("value",n),g.$parsers.push(e),g.$formatters.push(e),h.on("input",n),o||h.on("focus",function(t){v.nextTick(function(){f.setFocused(!0)})}).on("blur",function(t){v.nextTick(function(){f.setFocused(!1),n()})}),u.$on("$destroy",function(){f.setFocused(!1),f.setHasValue(!1),f.input=null})}}}}function n(d,u){return{restrict:"A",require:["ngModel","^mdInputContainer"],link:function(t,n,e,i){function o(t){return a.parent&&a.text(String(n.val()||t||"").length+" / "+r),t}var r,a,s,l=i[0],c=i[1];u.nextTick(function(){s=st.element(c.element[0].querySelector(".md-errors-spacer")),a=st.element('<div class="md-char-counter">'),s.append(a),e.$set("ngTrim","false"),t.$watch(e.mdMaxlength,function(t){r=t,st.isNumber(t)&&0<t?(a.parent().length||d.enter(a,s),o()):d.leave(a)}),l.$validators["md-maxlength"]=function(t,e){return!st.isNumber(r)||r<0||(o(),(t||n.val()||e||"").length<=r)}})}}}function i(s){return{restrict:"A",require:"^^?mdInputContainer",priority:200,link:{pre:function(t,e,n,i){if(i){var o=i.element.find("label"),r=i.element.attr("md-no-float");if(o&&o.length||""===r||t.$eval(r))return void i.setHasPlaceholder(!0);if("MD-SELECT"!=e[0].nodeName){var a=st.element('<label ng-click="delegateClick()" tabindex="-1">'+n.placeholder+"</label>");n.$set("placeholder",null),i.element.addClass("md-icon-float").prepend(a),s(a)(t)}}}}}}function o(a){return{restrict:"A",link:function(t,e,n){function i(){a(function(){e[0].select(),r=!1},1,!(r=!0))}function o(t){r&&t.preventDefault()}if("INPUT"===e[0].nodeName||"TEXTAREA"===e[0].nodeName){var r=!1;e.on("focus",i).on("mouseup",o),t.$on("$destroy",function(){e.off("focus",i).off("mouseup",o)})}}}}function r(e){return{restrict:"EA",compile:function(n){function i(t){return!!e.getClosest(t,"md-input-container")}function o(t){t.toggleClass("md-input-message-animation",!0)}if(i(n))o(n);else if(function(){for(var t=n[0];t=t.parentNode;)if(t.nodeType===Node.DOCUMENT_FRAGMENT_NODE)return!0;return!1}())return function(t,e){i(e)&&o(n)}},priority:100}}function a(t,e,n,i){return f(t,e,n,i),{addClass:function(t,e,n){c(t,n)}}}function s(t,e,n,i){return f(t,e,n,i),{enter:function(t,e){c(t,e)},leave:function(t,e){d(t,e)},addClass:function(t,e,n){"ng-hide"==e?d(t,n):n()},removeClass:function(t,e,n){"ng-hide"==e?c(t,n):n()}}}function l(t,e,n,i){return f(t,e,n,i),{enter:function(t,e){u(t).start().done(e)},leave:function(t,e){h(t).start().done(e)}}}function c(t,e){var n,i=[],o=p(t),r=o.children();return 0==o.length||0==r.length?(b.warn("mdInput messages show animation called on invalid messages element: ",t),void e()):(st.forEach(r,function(t){n=u(st.element(t)),i.push(n.start())}),void g.all(i,e))}function d(t,e){var n,i=[],o=p(t),r=o.children();return 0==o.length||0==r.length?(b.warn("mdInput messages hide animation called on invalid messages element: ",t),void e()):(st.forEach(r,function(t){n=h(st.element(t)),i.push(n.start())}),void g.all(i,e))}function u(t){var e=parseInt(H.getComputedStyle(t[0]).height),n=parseInt(H.getComputedStyle(t[0]).marginTop),i=p(t),o=t.controller("mdInputContainer").element;return-e<n||i.hasClass("md-auto-hide")&&!o.hasClass("md-input-invalid")?v(t,{}):v(t,{event:"enter",structural:!0,from:{opacity:0,"margin-top":-e+"px"},to:{opacity:1,"margin-top":"0"},duration:.3})}function h(t){var e=t[0].offsetHeight,n=H.getComputedStyle(t[0]);return 0===parseInt(n.opacity)?v(t,{}):v(t,{event:"leave",structural:!0,from:{opacity:1,"margin-top":0},to:{opacity:0,"margin-top":-e+"px"},duration:.3})}function p(t){return t.hasClass("md-input-messages-animation")?t:t.hasClass("md-input-message-animation")?st.element(y.getClosest(t,function(t){return t.classList.contains("md-input-messages-animation")})):st.element(t[0].querySelector(".md-input-messages-animation"))}function f(t,e,n,i){g=t,v=e,y=n,b=i}t.$inject=["$mdTheming","$parse"],e.$inject=["$mdUtil","$window","$mdAria","$timeout","$mdGesture"],n.$inject=["$animate","$mdUtil"],i.$inject=["$compile"],r.$inject=["$mdUtil"],o.$inject=["$timeout"],a.$inject=["$$AnimateRunner","$animateCss","$mdUtil","$log"],s.$inject=["$$AnimateRunner","$animateCss","$mdUtil","$log"],l.$inject=["$$AnimateRunner","$animateCss","$mdUtil","$log"];var m=st.module("material.components.input",["material.core"]).directive("mdInputContainer",t).directive("label",function(){return{restrict:"E",require:"^?mdInputContainer",link:function(t,e,n,i){!i||n.mdNoFloat||e.hasClass("md-container-ignore")||(i.label=e,t.$on("$destroy",function(){i.label=null}))}}}).directive("input",e).directive("textarea",e).directive("mdMaxlength",n).directive("placeholder",i).directive("ngMessages",function(){return{restrict:"EA",link:function(t,e,n,i){var o;i&&(e.toggleClass("md-input-messages-animation",!0),e.toggleClass("md-auto-hide",!0),("false"==n.mdAutoHide||(o=n,_.some(function(t){return o[t]})))&&e.toggleClass("md-auto-hide",!1))},require:"^^?mdInputContainer"}}).directive("ngMessage",r).directive("ngMessageExp",r).directive("mdSelectOnFocus",o).animation(".md-input-invalid",a).animation(".md-input-messages-animation",s).animation(".md-input-message-animation",l);H._mdMocksIncluded&&m.service("$$mdInput",function(){return{messages:{show:c,hide:d,getElement:p}}}).service("mdInputInvalidAnimation",a).service("mdInputMessagesAnimation",s).service("mdInputMessageAnimation",l);var g,v,y,b,_=["ngIf","ngShow","ngHide","ngSwitchWhen","ngSwitchDefault"]}(),function(){function t(e){return{restrict:"E",compile:function(t){return t[0].setAttribute("role","list"),e}}}function e(h,p,f,m){var g=["md-checkbox","md-switch","md-menu"];return{restrict:"E",controller:"MdListController",compile:function(r,a){function t(t){if("div"==t)(l=st.element('<div class="md-no-style md-list-item-inner">')).append(r.contents()),r.addClass("md-proxy-focus");else{l=st.element('<div class="md-button md-no-style">   <div class="md-list-item-inner"></div></div>');var e=st.element('<md-button class="md-no-style"></md-button>');s(r[0],e[0]),e.attr("aria-label")||e.attr("aria-label",h.getText(r)),r.hasClass("md-no-focus")&&e.addClass("md-no-focus"),l.prepend(e),l.children().eq(1).append(r.contents()),r.addClass("_md-button-wrap")}r[0].setAttribute("tabindex","-1"),r.append(l)}function s(e,n,t){var i=f.prefixer(["ng-if","ng-click","ng-dblclick","aria-label","ng-disabled","ui-sref","href","ng-href","rel","target","ng-attr-ui-sref","ui-sref-opts"]);t&&(i=i.concat(f.prefixer(t))),st.forEach(i,function(t){e.hasAttribute(t)&&(n.setAttribute(t,e.getAttribute(t)),e.removeAttribute(t))})}function d(t){for(var e=t.attributes,n=0;n<e.length;n++)if("ngClick"===a.$normalize(e[n].name))return!0;return!1}var e,i,n,o=r[0].querySelectorAll(".md-secondary"),l=r;if(r[0].setAttribute("role","listitem"),a.ngClick||a.ngDblclick||a.ngHref||a.href||a.uiSref||a.ngAttrUiSref)t("button");else if(!r.hasClass("md-no-proxy")){for(var c,u=0;c=g[u];++u)if(i=r[0].querySelector(c)){e=!0;break}e?t("div"):r.addClass("md-no-proxy")}return n=st.element('<div class="md-secondary-container">'),st.forEach(o,function(t){!function(t,e){if(t&&"MD-BUTTON"!=(i=t.nodeName.toUpperCase())&&"BUTTON"!=i&&t.hasAttribute("ng-click")){h.expect(t,"aria-label");var n=st.element('<md-button class="md-secondary md-icon-button">');s(t,n[0],["ng-if","ng-hide","ng-show"]),t.setAttribute("tabindex","-1"),n.append(t),t=n[0]}var i,o;t&&(!d(t)||!a.ngClick&&(o=t,-1!=g.indexOf(o.nodeName.toLowerCase())))&&st.element(t).removeClass("md-secondary"),r.addClass("md-with-secondary"),e.append(t)}(t,n)}),l.append(n),function(){for(var t,e,n=["md-switch","md-checkbox"],i=0;e=n[i];++i)if((t=r.find(e)[0])&&!t.hasAttribute("aria-label")){var o=r.find("p")[0];if(!o)return;t.setAttribute("aria-label","Toggle "+o.textContent)}}(),e&&"MD-MENU"===i.nodeName&&function(){var t=st.element(i),e="left";(t.parent().hasClass("md-secondary-container")||i.parentNode.firstElementChild!==i)&&(e="right"),t.attr("md-position-mode")||t.attr("md-position-mode",e+" target");var n=t.children().eq(0);d(n[0])||n.attr("ng-click","$mdMenu.open($event)"),n.attr("aria-label")||n.attr("aria-label","Open List Menu")}(),function(t,o,e,n){o.addClass("_md");var i=[],r=o[0].firstElementChild,a=o.hasClass("_md-button-wrap")?r.firstElementChild:r,s=a&&d(a),l=o.hasClass("md-no-proxy");r&&r.children&&!s&&!l&&st.forEach(g,function(t){st.forEach(r.querySelectorAll(t+":not(.md-secondary)"),function(t){i.push(t)})}),(1==i.length||s)&&(o.addClass("md-clickable"),s||n.attachRipple(t,st.element(o[0].querySelector(".md-no-style")))),i.length&&st.forEach(i,function(e){e=st.element(e),t.mouseActive=!1,e.on("mousedown",function(){t.mouseActive=!0,m(function(){t.mouseActive=!1},100)}).on("focus",function(){!1===t.mouseActive&&o.addClass("md-focused"),e.on("blur",function t(){o.removeClass("md-focused"),e.off("blur",t)})})});var c=function(t){"INPUT"==t.target.nodeName||"TEXTAREA"==t.target.nodeName||t.target.isContentEditable||(t.which||t.keyCode)==p.KEY_CODE.SPACE&&a&&(a.click(),t.preventDefault(),t.stopPropagation())};s||i.length||a&&a.addEventListener("keypress",c),o.off("click"),o.off("keypress"),1==i.length&&a&&o.children().eq(0).on("click",function(e){(function(t){var e=["md-slider"];if(!t.path)return-1!==e.indexOf(t.target.tagName.toLowerCase());for(var n=t.path.indexOf(o.children()[0]),i=0;i<n;i++)if(-1!==e.indexOf(t.path[i].tagName.toLowerCase()))return!0})(e)||!f.getClosest(e.target,"BUTTON")&&a.contains(e.target)&&st.forEach(i,function(t){e.target===t||t.contains(e.target)||("MD-MENU"===t.nodeName&&(t=t.children[0]),st.element(t).triggerHandler("click"))})}),t.$on("$destroy",function(){a&&a.removeEventListener("keypress",c)})}}}}function n(t,e,n){this.attachRipple=function(t,e){n.attach(t,e,{})}}n.$inject=["$scope","$element","$mdListInkRipple"],t.$inject=["$mdTheming"],e.$inject=["$mdAria","$mdConstant","$mdUtil","$timeout"],st.module("material.components.list",["material.core"]).controller("MdListController",n).directive("mdList",t).directive("mdListItem",e)}(),st.module("material.components.menu",["material.core","material.components.backdrop"]),st.module("material.components.menuBar",["material.core","material.components.icon","material.components.menu"]),function(){function t(o,r){return{restrict:"E",transclude:!0,controller:e,controllerAs:"ctrl",bindToController:!0,scope:{mdSelectedNavItem:"=?",mdNoInkBar:"=?",navBarAriaLabel:"@?"},template:'<div class="md-nav-bar"><nav role="navigation"><ul class="_md-nav-bar-list" ng-transclude role="listbox"tabindex="0"ng-focus="ctrl.onFocus()"ng-keydown="ctrl.onKeydown($event)"aria-label="{{ctrl.navBarAriaLabel}}"></ul></nav><md-nav-ink-bar ng-hide="ctrl.mdNoInkBar"></md-nav-ink-bar></div>',link:function(t,e,n,i){r(e),i.navBarAriaLabel||o.expectAsync(e,"aria-label",st.noop)}}}function e(t,e,n,i){this._$timeout=n,this._$scope=e,this._$mdConstant=i,this.mdSelectedNavItem,this.navBarAriaLabel,this._navBarEl=t[0],this._inkbar;var o=this,r=this._$scope.$watch(function(){return o._navBarEl.querySelectorAll("._md-nav-button").length},function(t){0<t&&(o._initTabs(),r())})}function n(a,e){return{restrict:"E",require:["mdNavItem","^mdNavBar"],controller:i,bindToController:!0,controllerAs:"ctrl",replace:!0,transclude:!0,template:function(t,e){var n,i,o=e.mdNavClick,r=e.mdNavHref,a=e.mdNavSref,s=e.srefOpts;if(1<(o?1:0)+(r?1:0)+(a?1:0))throw Error("Must not specify more than one of the md-nav-click, md-nav-href, or md-nav-sref attributes per nav-item directive.");return o?n='ng-click="ctrl.mdNavClick()"':r?n='ng-href="{{ctrl.mdNavHref}}"':a&&(n='ui-sref="{{ctrl.mdNavSref}}"'),n&&(i='<md-button class="_md-nav-button md-accent" ng-class="ctrl.getNgClassMap()" ng-blur="ctrl.setFocused(false)" tabindex="-1" '+(s?'ui-sref-opts="{{ctrl.srefOpts}}" ':"")+n+'><span ng-transclude class="_md-nav-button-text"></span></md-button>'),'<li class="md-nav-item" role="option" aria-selected="{{ctrl.isSelected()}}">'+(i||"")+"</li>"},scope:{mdNavClick:"&?",mdNavHref:"@?",mdNavSref:"@?",srefOpts:"=?",name:"@"},link:function(i,o,t,r){e(function(){var t=r[0],e=r[1],n=st.element(o[0].querySelector("._md-nav-button"));t.name||(t.name=st.element(o[0].querySelector("._md-nav-button-text")).text().trim()),n.on("click",function(){e.mdSelectedNavItem=t.name,i.$apply()}),a.expectWithText(o,"aria-label")})}}}function i(t){this._$element=t,this.mdNavClick,this.mdNavHref,this.mdNavSref,this.srefOpts,this.name,this._selected=!1,this._focused=!1}e.$inject=["$element","$scope","$timeout","$mdConstant"],n.$inject=["$mdAria","$$rAF"],i.$inject=["$element"],t.$inject=["$mdAria","$mdTheming"],st.module("material.components.navBar",["material.core"]).controller("MdNavBarController",e).directive("mdNavBar",t).controller("MdNavItemController",i).directive("mdNavItem",n),e.prototype._initTabs=function(){this._inkbar=st.element(this._navBarEl.querySelector("md-nav-ink-bar"));var n=this;this._$timeout(function(){n._updateTabs(n.mdSelectedNavItem,lt)}),this._$scope.$watch("ctrl.mdSelectedNavItem",function(t,e){n._$timeout(function(){n._updateTabs(t,e)})})},e.prototype._updateTabs=function(t,e){var n=this,i=this._getTabs();if(i){var o=-1,r=-1,a=this._getTabByName(t),s=this._getTabByName(e);s&&(s.setSelected(!1),o=i.indexOf(s)),a&&(a.setSelected(!0),r=i.indexOf(a)),this._$timeout(function(){n._updateInkBarStyles(a,r,o)})}},e.prototype._updateInkBarStyles=function(t,e,n){if(this._inkbar.toggleClass("_md-left",e<n).toggleClass("_md-right",n<e),this._inkbar.css({display:e<0?"none":""}),t){var i=t.getButtonEl(),o=i.offsetLeft;this._inkbar.css({left:o+"px",width:i.offsetWidth+"px"})}},e.prototype._getTabs=function(){var t=Array.prototype.slice.call(this._navBarEl.querySelectorAll(".md-nav-item")).map(function(t){return st.element(t).controller("mdNavItem")});return t.indexOf(lt)?t:null},e.prototype._getTabByName=function(e){return this._findTab(function(t){return t.getName()==e})},e.prototype._getSelectedTab=function(){return this._findTab(function(t){return t.isSelected()})},e.prototype.getFocusedTab=function(){return this._findTab(function(t){return t.hasFocus()})},e.prototype._findTab=function(t){for(var e=this._getTabs(),n=0;n<e.length;n++)if(t(e[n]))return e[n];return null},e.prototype.onFocus=function(){var t=this._getSelectedTab();t&&t.setFocused(!0)},e.prototype._moveFocus=function(t,e){t.setFocused(!1),e.setFocused(!0)},e.prototype.onKeydown=function(t){var e=this._$mdConstant.KEY_CODE,n=this._getTabs(),i=this.getFocusedTab();if(i){var o=n.indexOf(i);switch(t.keyCode){case e.UP_ARROW:case e.LEFT_ARROW:0<o&&this._moveFocus(i,n[o-1]);break;case e.DOWN_ARROW:case e.RIGHT_ARROW:o<n.length-1&&this._moveFocus(i,n[o+1]);break;case e.SPACE:case e.ENTER:this._$timeout(function(){i.getButtonEl().click()})}}},i.prototype.getNgClassMap=function(){return{"md-active":this._selected,"md-primary":this._selected,"md-unselected":!this._selected,"md-focused":this._focused}},i.prototype.getName=function(){return this.name},i.prototype.getButtonEl=function(){return this._$element[0].querySelector("._md-nav-button")},i.prototype.setSelected=function(t){this._selected=t},i.prototype.isSelected=function(){return this._selected},i.prototype.setFocused=function(t){(this._focused=t)&&this.getButtonEl().focus()},i.prototype.hasFocus=function(){return this._focused}}(),function(){function t(t,e){if(!t||!e)throw new Error("mdPanelProvider: The panel preset definition is malformed. The name and preset object are required.");if(d.hasOwnProperty(t))throw new Error("mdPanelProvider: The panel preset you have requested has already been defined.");delete e.id,delete e.position,delete e.animation,d[t]=e}function e(){return st.copy(d)}function n(){d={}}function o(t,e,n,i,o){this._defaultConfigOptions={bindToController:!0,clickOutsideToClose:!1,disableParentScroll:!1,escapeToClose:!1,focusOnOpen:!0,fullscreen:!1,hasBackdrop:!1,propagateContainerEvents:!1,transformTemplate:st.bind(this,this._wrapTemplate),trapFocus:!1,zIndex:a},this._config={},this._presets=t,this._$rootElement=e,this._$rootScope=n,this._$injector=i,this._$window=o,this._$mdUtil=this._$injector.get("$mdUtil"),this._trackedPanels={},this._groups=Object.create(null),this.animation=l.animation,this.xPosition=f.xPosition,this.yPosition=f.yPosition,this.interceptorTypes=s.interceptorTypes,this.closeReasons=s.closeReasons,this.absPosition=f.absPosition}function s(t,e){this._$q=e.get("$q"),this._$mdCompiler=e.get("$mdCompiler"),this._$mdConstant=e.get("$mdConstant"),this._$mdUtil=e.get("$mdUtil"),this._$mdTheming=e.get("$mdTheming"),this._$rootScope=e.get("$rootScope"),this._$animate=e.get("$animate"),this._$mdPanel=e.get("$mdPanel"),this._$log=e.get("$log"),this._$window=e.get("$window"),this._$$rAF=e.get("$$rAF"),this.id=t.id,this.config=t,this.panelContainer,this.panelEl,this.isAttached=!1,this._removeListeners=[],this._topFocusTrap,this._bottomFocusTrap,this._backdropRef,this._restoreScroll=null,this._interceptors=Object.create(null),this._compilerCleanup=null,this._restoreCache={styles:"",classes:""}}function f(t){this._$window=t.get("$window"),this._isRTL="rtl"===t.get("$mdUtil").bidi(),this._$mdConstant=t.get("$mdConstant"),this._absolute=!1,this._relativeToEl,this._top="",this._bottom="",this._left="",this._right="",this._translateX=[],this._translateY=[],this._positions=[],this._actualPosition}function l(t){this._$mdUtil=t.get("$mdUtil"),this._openFrom,this._closeTo,this._animationClass="",this._openDuration,this._closeDuration,this._rawDuration}function r(t){var e=st.isString(t)?document.querySelector(t):t;return st.element(e)}o.$inject=["presets","$rootElement","$rootScope","$injector","$window"],st.module("material.components.panel",["material.core","material.components.backdrop"]).provider("$mdPanel",function(){return{definePreset:t,getAllPresets:e,clearPresets:n,$get:["$rootElement","$rootScope","$injector","$window",function(t,e,n,i){return new o(d,t,e,n,i)}]}});var a=80,c="_md-panel-hidden",i=st.element('<div class="_md-panel-focus-trap" tabindex="0"></div>'),d={};o.prototype.create=function(t,e){if("string"==typeof t?t=this._getPresetByName(t):"object"!=typeof t||!st.isUndefined(e)&&e||(e=t,t={}),t=t||{},e=e||{},st.isDefined(e.id)&&this._trackedPanels[e.id]){var n=this._trackedPanels[e.id];return st.extend(n.config,e),n}this._config=st.extend({id:e.id||"panel_"+this._$mdUtil.nextUid(),scope:this._$rootScope.$new(!0),attachTo:this._$rootElement},this._defaultConfigOptions,e,t);var i=new s(this._config,this._$injector);return this._trackedPanels[e.id]=i,this._config.groupName&&(st.isString(this._config.groupName)&&(this._config.groupName=[this._config.groupName]),st.forEach(this._config.groupName,function(t){i.addToGroup(t)})),this._config.scope.$on("$destroy",st.bind(i,i.detach)),i},o.prototype.open=function(t,e){var n=this.create(t,e);return n.open().then(function(){return n})},o.prototype._getPresetByName=function(t){if(!this._presets[t])throw new Error("mdPanel: The panel preset configuration that you requested does not exist. Use the $mdPanelProvider to create a preset before requesting one.");return this._presets[t]},o.prototype.newPanelPosition=function(){return new f(this._$injector)},o.prototype.newPanelAnimation=function(){return new l(this._$injector)},o.prototype.newPanelGroup=function(t,e){if(!this._groups[t]){var n={panels:[],openPanels:[],maxOpen:0<(e=e||{}).maxOpen?e.maxOpen:1/0};this._groups[t]=n}return this._groups[t]},o.prototype.setGroupMaxOpen=function(t,e){if(!this._groups[t])throw new Error("mdPanel: Group does not exist yet. Call newPanelGroup().");this._groups[t].maxOpen=e},o.prototype._openCountExceedsMaxOpen=function(t){if(this._groups[t]){var e=this._groups[t];return 0<e.maxOpen&&e.openPanels.length>e.maxOpen}return!1},o.prototype._closeFirstOpenedPanel=function(t){this._groups[t].openPanels[0].close()},o.prototype._wrapTemplate=function(t){return'<div class="md-panel-outer-wrapper">  <div class="md-panel _md-panel-offscreen">'+(t||"")+"</div></div>"},o.prototype._wrapContentElement=function(t){var e=st.element('<div class="md-panel-outer-wrapper">');return t.addClass("md-panel _md-panel-offscreen"),e.append(t),e},s.interceptorTypes={CLOSE:"onClose"},s.prototype.open=function(){var o=this;return this._$q(function(t,e){var n=o._done(t,o),i=o._simpleBind(o.show,o);o.attach().then(i).then(function(){o.config.groupName&&st.forEach(o.config.groupName,function(t){o._$mdPanel._openCountExceedsMaxOpen(t)&&o._$mdPanel._closeFirstOpenedPanel(t)})}).then(n).catch(e)})},s.prototype.close=function(r){var a=this;return this._$q(function(i,o){a._callInterceptors(s.interceptorTypes.CLOSE).then(function(){var t=a._done(i,a),e=a._simpleBind(a.detach,a),n=a.config.onCloseSuccess||st.noop;n=st.bind(a,n,a,r),a.hide().then(e).then(t).then(n).catch(o)},o)})},s.prototype.attach=function(){if(this.isAttached&&this.panelEl)return this._$q.when(this);var o=this;return this._$q(function(t,e){var n=o._done(t,o),i=o.config.onDomAdded||st.noop;o._$q.all([o._createBackdrop(),o._createPanel().then(function(t){return o.isAttached=!0,o._addEventListeners(),t}).catch(e)]).then(i).then(n).catch(e)})},s.prototype.detach=function(){if(!this.isAttached)return this._$q.when(this);var i=this,o=i.config.onDomRemoved||st.noop;return this._restoreScroll&&(this._restoreScroll(),this._restoreScroll=null),this._$q(function(t,e){var n=i._done(t,i);i._$q.all([(i._removeEventListeners(),i._topFocusTrap&&i._topFocusTrap.parentNode&&i._topFocusTrap.parentNode.removeChild(i._topFocusTrap),i._bottomFocusTrap&&i._bottomFocusTrap.parentNode&&i._bottomFocusTrap.parentNode.removeChild(i._bottomFocusTrap),i._restoreCache.classes&&(i.panelEl[0].className=i._restoreCache.classes),i.panelEl[0].style.cssText=i._restoreCache.styles||"",i._compilerCleanup(),i.panelContainer.remove(),i.isAttached=!1,i._$q.when(i)),!i._backdropRef||i._backdropRef.detach()]).then(o).then(n).catch(e)})},s.prototype.destroy=function(){var e=this;this.config.groupName&&st.forEach(this.config.groupName,function(t){e.removeFromGroup(t)}),this.config.scope.$destroy(),this.config.locals=null,this._interceptors=null},s.prototype.show=function(){if(!this.panelContainer)return this._$q(function(t,e){e("mdPanel: Panel does not exist yet. Call open() or attach().")});if(!this.panelContainer.hasClass(c))return this._$q.when(this);var o=this;return this._$q(function(t,e){var n=o._done(t,o),i=o.config.onOpenComplete||st.noop;o._$q.all([o._backdropRef?o._backdropRef.show():o,(o.panelContainer.removeClass(c),o._animateOpen()).then(function(){o._focusOnOpen()},e)]).then(i).then(function(){o.config.groupName&&st.forEach(o.config.groupName,function(t){o._$mdPanel._groups[t].openPanels.push(o)})}).then(n).catch(e)})},s.prototype.hide=function(){if(!this.panelContainer)return this._$q(function(t,e){e("mdPanel: Panel does not exist yet. Call open() or attach().")});if(this.panelContainer.hasClass(c))return this._$q.when(this);var o=this;return this._$q(function(t,e){var n=o._done(t,o),i=o.config.onRemoving||st.noop;o._$q.all([o._backdropRef?o._backdropRef.hide():o,o._animateClose().then(i).then(function(){o.panelContainer.addClass(c)}).then(function(){var e;o.config.groupName&&st.forEach(o.config.groupName,function(t){t=o._$mdPanel._groups[t],-1<(e=t.openPanels.indexOf(o))&&t.openPanels.splice(e,1)})}).then(function(){var t=o.config.origin;t&&r(t).focus()}).catch(e)]).then(n,e)})},s.prototype.addClass=function(t,e){if(this._$log.warn("mdPanel: The addClass method is in the process of being deprecated. Full deprecation is scheduled for the AngularJS Material 1.2 release. To achieve the same results, use the panelContainer or panelEl JQLite elements that are referenced in MdPanelRef."),!this.panelContainer)throw new Error("mdPanel: Panel does not exist yet. Call open() or attach().");e||this.panelContainer.hasClass(t)?e&&!this.panelEl.hasClass(t)&&this.panelEl.addClass(t):this.panelContainer.addClass(t)},s.prototype.removeClass=function(t,e){if(this._$log.warn("mdPanel: The removeClass method is in the process of being deprecated. Full deprecation is scheduled for the AngularJS Material 1.2 release. To achieve the same results, use the panelContainer or panelEl JQLite elements that are referenced in MdPanelRef."),!this.panelContainer)throw new Error("mdPanel: Panel does not exist yet. Call open() or attach().");!e&&this.panelContainer.hasClass(t)?this.panelContainer.removeClass(t):e&&this.panelEl.hasClass(t)&&this.panelEl.removeClass(t)},s.prototype.toggleClass=function(t,e){if(this._$log.warn("mdPanel: The toggleClass method is in the process of being deprecated. Full deprecation is scheduled for the AngularJS Material 1.2 release. To achieve the same results, use the panelContainer or panelEl JQLite elements that are referenced in MdPanelRef."),!this.panelContainer)throw new Error("mdPanel: Panel does not exist yet. Call open() or attach().");e?this.panelEl.toggleClass(t):this.panelContainer.toggleClass(t)},s.prototype._compile=function(){var i=this;return i._$mdCompiler.compile(i.config).then(function(t){var e=i.config;if(e.contentElement){var n=t.element;i._restoreCache.styles=n[0].style.cssText,i._restoreCache.classes=n[0].className,i.panelContainer=i._$mdPanel._wrapContentElement(n),i.panelEl=n}else i.panelContainer=t.link(e.scope),i.panelEl=st.element(i.panelContainer[0].querySelector(".md-panel"));return i._compilerCleanup=t.cleanup,r(i.config.attachTo).append(i.panelContainer),i})},s.prototype._createPanel=function(){var n=this;return this._$q(function(t,e){n.config.locals||(n.config.locals={}),(n.config.locals.mdPanelRef=n)._compile().then(function(){n.config.disableParentScroll&&(n._restoreScroll=n._$mdUtil.disableScrollAround(null,n.panelContainer,{disableScrollMask:!0})),n.config.panelClass&&n.panelEl.addClass(n.config.panelClass),n.config.propagateContainerEvents&&(n.panelContainer.css("pointer-events","none"),n.panelEl.css("pointer-events","all")),n._$animate.pin&&n._$animate.pin(n.panelContainer,r(n.config.attachTo)),n._configureTrapFocus(),n._addStyles().then(function(){t(n)},e)},e)})},s.prototype._addStyles=function(){var n=this;return this._$q(function(t){n.panelContainer.css("z-index",n.config.zIndex),n.panelEl.css("z-index",n.config.zIndex+1);var e=function(){n._setTheming(),n.panelEl.removeClass("_md-panel-offscreen"),n.panelContainer.addClass(c),t(n)};return n.config.fullscreen?(n.panelEl.addClass("_md-panel-fullscreen"),void e()):n.config.position?void n._$rootScope.$$postDigest(function(){n._updatePosition(!0),n._setTheming(),t(n)}):void e()})},s.prototype._setTheming=function(){this._$mdTheming(this.panelEl),this._$mdTheming(this.panelContainer)},s.prototype.updatePosition=function(t){if(!this.panelContainer)throw new Error("mdPanel: Panel does not exist yet. Call open() or attach().");this.config.position=t,this._updatePosition()},s.prototype._updatePosition=function(t){var e=this.config.position;e&&(e._setPanelPosition(this.panelEl),t&&(this.panelEl.removeClass("_md-panel-offscreen"),this.panelContainer.addClass(c)),this.panelEl.css(f.absPosition.TOP,e.getTop()),this.panelEl.css(f.absPosition.BOTTOM,e.getBottom()),this.panelEl.css(f.absPosition.LEFT,e.getLeft()),this.panelEl.css(f.absPosition.RIGHT,e.getRight()))},s.prototype._focusOnOpen=function(){if(this.config.focusOnOpen){var t=this;this._$rootScope.$$postDigest(function(){(t._$mdUtil.findFocusTarget(t.panelEl)||t.panelEl).focus()})}},s.prototype._createBackdrop=function(){if(this.config.hasBackdrop){if(!this._backdropRef){var t=this._$mdPanel.newPanelAnimation().openFrom(this.config.attachTo).withAnimation({open:"_md-opaque-enter",close:"_md-opaque-leave"});this.config.animation&&t.duration(this.config.animation._rawDuration);var e={animation:t,attachTo:this.config.attachTo,focusOnOpen:!1,panelClass:"_md-panel-backdrop",zIndex:this.config.zIndex-1};this._backdropRef=this._$mdPanel.create(e)}if(!this._backdropRef.isAttached)return this._backdropRef.attach()}},s.prototype._addEventListeners=function(){this._configureEscapeToClose(),this._configureClickOutsideToClose(),this._configureScrollListener()},s.prototype._removeEventListeners=function(){this._removeListeners&&this._removeListeners.forEach(function(t){t()}),this._removeListeners=[]},s.prototype._configureEscapeToClose=function(){if(this.config.escapeToClose){var t=r(this.config.attachTo),e=this,n=function(t){t.keyCode===e._$mdConstant.KEY_CODE.ESCAPE&&(t.stopPropagation(),t.preventDefault(),e.close(s.closeReasons.ESCAPE))};this.panelContainer.on("keydown",n),t.on("keydown",n),this._removeListeners.push(function(){e.panelContainer.off("keydown",n),t.off("keydown",n)})}},s.prototype._configureClickOutsideToClose=function(){if(this.config.clickOutsideToClose){var e,n=this.config.propagateContainerEvents?st.element(document.body):this.panelContainer,t=function(t){e=t.target},i=this,o=function(t){i.config.propagateContainerEvents?e===i.panelEl[0]||i.panelEl[0].contains(e)||i.close():e===n[0]&&t.target===n[0]&&(t.stopPropagation(),t.preventDefault(),i.close(s.closeReasons.CLICK_OUTSIDE))};n.on("mousedown",t),n.on("mouseup",o),this._removeListeners.push(function(){n.off("mousedown",t),n.off("mouseup",o)})}},s.prototype._configureScrollListener=function(){if(!this.config.disableParentScroll){var t=st.bind(this,this._updatePosition),e=this._$$rAF.throttle(t),n=this,i=function(){e()};this._$window.addEventListener("scroll",i,!0),this._removeListeners.push(function(){n._$window.removeEventListener("scroll",i,!0)})}},s.prototype._configureTrapFocus=function(){if(this.panelEl.attr("tabIndex","-1"),this.config.trapFocus){var t=this.panelEl;this._topFocusTrap=i.clone()[0],this._bottomFocusTrap=i.clone()[0];var e=function(){t.focus()};this._topFocusTrap.addEventListener("focus",e),this._bottomFocusTrap.addEventListener("focus",e),this._removeListeners.push(this._simpleBind(function(){this._topFocusTrap.removeEventListener("focus",e),this._bottomFocusTrap.removeEventListener("focus",e)},this)),t[0].parentNode.insertBefore(this._topFocusTrap,t[0]),t.after(this._bottomFocusTrap)}},s.prototype.updateAnimation=function(t){this.config.animation=t,this._backdropRef&&this._backdropRef.config.animation.duration(t._rawDuration)},s.prototype._animateOpen=function(){this.panelContainer.addClass("md-panel-is-showing");var n=this.config.animation;if(!n)return this.panelContainer.addClass("_md-panel-shown"),this._$q.when(this);var i=this;return this._$q(function(t){var e=i._done(t,i);n.animateOpen(i.panelEl).then(e,function(){i._$log.warn("mdPanel: MdPanel Animations failed. Showing panel without animating."),e()})})},s.prototype._animateClose=function(){var n=this.config.animation;if(!n)return this.panelContainer.removeClass("md-panel-is-showing"),this.panelContainer.removeClass("_md-panel-shown"),this._$q.when(this);var i=this;return this._$q(function(t){var e=function(){i.panelContainer.removeClass("md-panel-is-showing"),t(i)};n.animateClose(i.panelEl).then(e,function(){i._$log.warn("mdPanel: MdPanel Animations failed. Hiding panel without animating."),e()})})},s.prototype.registerInterceptor=function(t,e){var n=null;if(st.isString(t)?st.isFunction(e)||(n="Interceptor callback must be a function, instead got "+typeof e):n="Interceptor type must be a string, instead got "+typeof t,n)throw new Error("MdPanel: "+n);var i=this._interceptors[t]=this._interceptors[t]||[];return-1===i.indexOf(e)&&i.push(e),this},s.prototype.removeInterceptor=function(t,e){var n=this._interceptors[t]?this._interceptors[t].indexOf(e):-1;return-1<n&&this._interceptors[t].splice(n,1),this},s.prototype.removeAllInterceptors=function(t){return t?this._interceptors[t]=[]:this._interceptors=Object.create(null),this},s.prototype._callInterceptors=function(t){var i=this,o=i._$q;return(i._interceptors&&i._interceptors[t]||[]).reduceRight(function(t,e){var n=e&&st.isFunction(e.then)?e:null;return t.then(function(){if(!n)try{n=e(i)}catch(t){n=o.reject(t)}return n})},o.resolve(i))},s.prototype._simpleBind=function(e,n){return function(t){return e.apply(n,t)}},s.prototype._done=function(t,e){return function(){t(e)}},s.prototype.addToGroup=function(t){this._$mdPanel._groups[t]||this._$mdPanel.newPanelGroup(t);var e=this._$mdPanel._groups[t];e.panels.indexOf(this)<0&&e.panels.push(this)},s.prototype.removeFromGroup=function(t){if(!this._$mdPanel._groups[t])throw new Error("mdPanel: The group "+t+" does not exist.");var e=this._$mdPanel._groups[t],n=e.panels.indexOf(this);-1<n&&e.panels.splice(n,1)},s.closeReasons={CLICK_OUTSIDE:"clickOutsideToClose",ESCAPE:"escapeToClose"},f.xPosition={CENTER:"center",ALIGN_START:"align-start",ALIGN_END:"align-end",OFFSET_START:"offset-start",OFFSET_END:"offset-end"},f.yPosition={CENTER:"center",ALIGN_TOPS:"align-tops",ALIGN_BOTTOMS:"align-bottoms",ABOVE:"above",BELOW:"below"},f.absPosition={TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},f.viewportMargin=8,f.prototype.absolute=function(){return this._absolute=!0,this},f.prototype._setPosition=function(t,e){if(t===f.absPosition.RIGHT||t===f.absPosition.LEFT)this._left=this._right="";else{if(t!==f.absPosition.BOTTOM&&t!==f.absPosition.TOP){var n=Object.keys(f.absPosition).join().toLowerCase();throw new Error("mdPanel: Position must be one of "+n+".")}this._top=this._bottom=""}return this["_"+t]=st.isString(e)?e:"0",this},f.prototype.top=function(t){return this._setPosition(f.absPosition.TOP,t)},f.prototype.bottom=function(t){return this._setPosition(f.absPosition.BOTTOM,t)},f.prototype.start=function(t){var e=this._isRTL?f.absPosition.RIGHT:f.absPosition.LEFT;return this._setPosition(e,t)},f.prototype.end=function(t){var e=this._isRTL?f.absPosition.LEFT:f.absPosition.RIGHT;return this._setPosition(e,t)},f.prototype.left=function(t){return this._setPosition(f.absPosition.LEFT,t)},f.prototype.right=function(t){return this._setPosition(f.absPosition.RIGHT,t)},f.prototype.centerHorizontally=function(){return this._left="50%",this._right="",this._translateX=["-50%"],this},f.prototype.centerVertically=function(){return this._top="50%",this._bottom="",this._translateY=["-50%"],this},f.prototype.center=function(){return this.centerHorizontally().centerVertically()},f.prototype.relativeTo=function(t){return this._absolute=!1,this._relativeToEl=r(t),this},f.prototype.addPanelPosition=function(t,e){if(!this._relativeToEl)throw new Error("mdPanel: addPanelPosition can only be used with relative positioning. Set relativeTo first.");return this._validateXPosition(t),this._validateYPosition(e),this._positions.push({x:t,y:e}),this},f.prototype._validateYPosition=function(t){if(null!=t){for(var e,n=Object.keys(f.yPosition),i=[],o=0;e=n[o];o++){var r=f.yPosition[e];if(i.push(r),r===t)return}throw new Error("mdPanel: Panel y position only accepts the following values:\n"+i.join(" | "))}},f.prototype._validateXPosition=function(t){if(null!=t){for(var e,n=Object.keys(f.xPosition),i=[],o=0;e=n[o];o++){var r=f.xPosition[e];if(i.push(r),r===t)return}throw new Error("mdPanel: Panel x Position only accepts the following values:\n"+i.join(" | "))}},f.prototype.withOffsetX=function(t){return this._translateX.push(t),this},f.prototype.withOffsetY=function(t){return this._translateY.push(t),this},f.prototype.getTop=function(){return this._top},f.prototype.getBottom=function(){return this._bottom},f.prototype.getLeft=function(){return this._left},f.prototype.getRight=function(){return this._right},f.prototype.getTransform=function(){return(this._reduceTranslateValues("translateX",this._translateX)+" "+this._reduceTranslateValues("translateY",this._translateY)).trim()},f.prototype._setTransform=function(t){return t.css(this._$mdConstant.CSS.TRANSFORM,this.getTransform())},f.prototype._isOnscreen=function(t){var e=parseInt(this.getLeft()),n=parseInt(this.getTop());if(this._translateX.length||this._translateY.length){var i=function(t,e){var n=getComputedStyle(t[0]||t)[e],i=n.indexOf("("),o=n.lastIndexOf(")"),r={x:0,y:0};if(-1<i&&-1<o){var a=n.substring(i+1,o).split(", ").slice(-2);r.x=parseInt(a[0]),r.y=parseInt(a[1])}return r}(t,this._$mdConstant.CSS.TRANSFORM);e+=i.x,n+=i.y}var o=e+t[0].offsetWidth,r=n+t[0].offsetHeight;return 0<=e&&0<=n&&r<=this._$window.innerHeight&&o<=this._$window.innerWidth},f.prototype.getActualPosition=function(){return this._actualPosition},f.prototype._reduceTranslateValues=function(n,t){return t.map(function(t){var e=st.isFunction(t)?t(this):t;return n+"("+e+")"},this).join(" ")},f.prototype._setPanelPosition=function(t){if(t.removeClass("_md-panel-position-adjusted"),this._absolute)this._setTransform(t);else{if(this._actualPosition)return this._calculatePanelPosition(t,this._actualPosition),this._setTransform(t),void this._constrainToViewport(t);for(var e=0;e<this._positions.length;e++)if(this._actualPosition=this._positions[e],this._calculatePanelPosition(t,this._actualPosition),this._setTransform(t),this._isOnscreen(t))return;this._constrainToViewport(t)}},f.prototype._constrainToViewport=function(t){var e=f.viewportMargin,n=this._top,i=this._left;if(this.getTop()){var o=parseInt(this.getTop()),r=t[0].offsetHeight+o,a=this._$window.innerHeight;o<e?this._top=e+"px":a<r&&(this._top=o-(r-a+e)+"px")}if(this.getLeft()){var s=parseInt(this.getLeft()),l=t[0].offsetWidth+s,c=this._$window.innerWidth;s<e?this._left=e+"px":c<l&&(this._left=s-(l-c+e)+"px")}t.toggleClass("_md-panel-position-adjusted",this._top!==n||this._left!==i)},f.prototype._reverseXPosition=function(t){if(t===f.xPosition.CENTER)return t;return-1<t.indexOf("start")?t.replace("start","end"):t.replace("end","start")},f.prototype._bidi=function(t){return this._isRTL?this._reverseXPosition(t):t},f.prototype._calculatePanelPosition=function(t,e){var n=t[0].getBoundingClientRect(),i=n.width,o=n.height,r=this._relativeToEl[0].getBoundingClientRect(),a=r.left,s=r.right,l=r.width;switch(this._bidi(e.x)){case f.xPosition.OFFSET_START:this._left=a-i+"px";break;case f.xPosition.ALIGN_END:this._left=s-i+"px";break;case f.xPosition.CENTER:var c=a+.5*l-.5*i;this._left=c+"px";break;case f.xPosition.ALIGN_START:this._left=a+"px";break;case f.xPosition.OFFSET_END:this._left=s+"px"}var d=r.top,u=r.bottom,h=r.height;switch(e.y){case f.yPosition.ABOVE:this._top=d-o+"px";break;case f.yPosition.ALIGN_BOTTOMS:this._top=u-o+"px";break;case f.yPosition.CENTER:var p=d+.5*h-.5*o;this._top=p+"px";break;case f.yPosition.ALIGN_TOPS:this._top=d+"px";break;case f.yPosition.BELOW:this._top=u+"px"}},l.animation={SLIDE:"md-panel-animate-slide",SCALE:"md-panel-animate-scale",FADE:"md-panel-animate-fade"},l.prototype.openFrom=function(t){return t=t.target?t.target:t,this._openFrom=this._getPanelAnimationTarget(t),this._closeTo||(this._closeTo=this._openFrom),this},l.prototype.closeTo=function(t){return this._closeTo=this._getPanelAnimationTarget(t),this},l.prototype.duration=function(t){function e(t){if(st.isNumber(t))return t/1e3}return t&&(st.isNumber(t)?this._openDuration=this._closeDuration=e(t):st.isObject(t)&&(this._openDuration=e(t.open),this._closeDuration=e(t.close))),this._rawDuration=t,this},l.prototype._getPanelAnimationTarget=function(t){return st.isDefined(t.top)||st.isDefined(t.left)?{element:lt,bounds:{top:t.top||0,left:t.left||0}}:this._getBoundingClientRect(r(t))},l.prototype.withAnimation=function(t){return this._animationClass=t,this},l.prototype.animateOpen=function(t){var e=this._$mdUtil.dom.animator;this._fixBounds(t);var n={},i=t[0].style.transform||"",o=e.toTransformCss(i),r=e.toTransformCss(i);switch(this._animationClass){case l.animation.SLIDE:t.css("opacity","1"),n={transitionInClass:"_md-panel-animate-enter"};var a=e.calculateSlideToOrigin(t,this._openFrom)||"";o=e.toTransformCss(a+" "+i);break;case l.animation.SCALE:n={transitionInClass:"_md-panel-animate-enter"};var s=e.calculateZoomToOrigin(t,this._openFrom)||"";o=e.toTransformCss(s+" "+i);break;case l.animation.FADE:n={transitionInClass:"_md-panel-animate-enter"};break;default:n=st.isString(this._animationClass)?{transitionInClass:this._animationClass}:{transitionInClass:this._animationClass.open,transitionOutClass:this._animationClass.close}}return n.duration=this._openDuration,e.translate3d(t,o,r,n)},l.prototype.animateClose=function(t){var e=this._$mdUtil.dom.animator,n={},i=t[0].style.transform||"",o=e.toTransformCss(i),r=e.toTransformCss(i);switch(this._animationClass){case l.animation.SLIDE:t.css("opacity","1"),n={transitionInClass:"_md-panel-animate-leave"};var a=e.calculateSlideToOrigin(t,this._closeTo)||"";r=e.toTransformCss(a+" "+i);break;case l.animation.SCALE:n={transitionInClass:"_md-panel-animate-scale-out _md-panel-animate-leave"};var s=e.calculateZoomToOrigin(t,this._closeTo)||"";r=e.toTransformCss(s+" "+i);break;case l.animation.FADE:n={transitionInClass:"_md-panel-animate-fade-out _md-panel-animate-leave"};break;default:n=st.isString(this._animationClass)?{transitionOutClass:this._animationClass}:{transitionInClass:this._animationClass.close,transitionOutClass:this._animationClass.open}}return n.duration=this._closeDuration,e.translate3d(t,o,r,n)},l.prototype._fixBounds=function(t){var e=t[0].offsetWidth,n=t[0].offsetHeight;this._openFrom&&null==this._openFrom.bounds.height&&(this._openFrom.bounds.height=n),this._openFrom&&null==this._openFrom.bounds.width&&(this._openFrom.bounds.width=e),this._closeTo&&null==this._closeTo.bounds.height&&(this._closeTo.bounds.height=n),this._closeTo&&null==this._closeTo.bounds.width&&(this._closeTo.bounds.width=e)},l.prototype._getBoundingClientRect=function(t){if(t instanceof st.element)return{element:t,bounds:t[0].getBoundingClientRect()}}}(),st.module("material.components.progressCircular",["material.core"]),function(){function t(u,h,t){function i(t,n,e){function o(){var t=(e.mdMode||"").trim();if(t)switch(t){case f:case m:case g:case v:break;default:t=m}return t}function i(t,e){if(!a&&o()){var n=h.supplant("translateX({0}%) scale({1},1)",[(e-100)/2,e/100]),i=s({transform:n});st.element(t).css(i)}}u(n);var r,a=e.hasOwnProperty("disabled"),s=h.dom.animator.toCss,l=st.element(n[0].querySelector(".md-bar1")),c=st.element(n[0].querySelector(".md-bar2")),d=st.element(n[0].querySelector(".md-container"));n.attr("md-mode",o()).toggleClass(y,a),function(){if(st.isUndefined(e.mdMode)){var t=st.isDefined(e.value)?f:m;n.attr("md-mode",t),e.mdMode=t}}(),e.$observe("value",function(t){var e=p(t);n.attr("aria-valuenow",e),o()!=v&&i(c,e)}),e.$observe("mdBufferValue",function(t){i(l,p(t))}),e.$observe("disabled",function(t){a=!0===t||!1===t?!!t:st.isDefined(t),n.toggleClass(y,a),d.toggleClass(r,!a)}),e.$observe("mdMode",function(t){switch(r&&d.removeClass(r),t){case v:case g:case f:case m:d.addClass(r="md-mode-"+t);break;default:d.addClass(r="md-mode-"+m)}})}function p(t){return Math.max(0,Math.min(t||0,100))}var f="determinate",m="indeterminate",g="buffer",v="query",y="_md-progress-linear-disabled";return{restrict:"E",template:'<div class="md-container"><div class="md-dashed"></div><div class="md-bar md-bar1"></div><div class="md-bar md-bar2"></div></div>',compile:function(t,e,n){return t.attr("aria-valuemin",0),t.attr("aria-valuemax",100),t.attr("role","progressbar"),i}}}t.$inject=["$mdTheming","$mdUtil","$log"],st.module("material.components.progressLinear",["material.core"]).directive("mdProgressLinear",t)}(),function(){function t(s,l,c,d){function t(t){this._radioButtonRenderFns=[],this.$element=t}function e(t,e){var n=s.iterator(t[0].querySelectorAll("md-radio-button"),!0);if(n.count()){var i=t[0].querySelector("md-radio-button.md-checked"),o=n[e<0?"previous":"next"](i,function(t){return!st.element(t).attr("disabled")})||n.first();st.element(o).triggerHandler("click")}}return t.prototype={init:function(t){this._ngModelCtrl=t,this._ngModelCtrl.$render=st.bind(this,this.render)},add:function(t){this._radioButtonRenderFns.push(t)},remove:function(t){var e=this._radioButtonRenderFns.indexOf(t);-1!==e&&this._radioButtonRenderFns.splice(e,1)},render:function(){this._radioButtonRenderFns.forEach(function(t){t()})},setViewValue:function(t,e){this._ngModelCtrl.$setViewValue(t,e),this.render()},getViewValue:function(){return this._ngModelCtrl.$viewValue},selectNext:function(){return e(this.$element,1)},selectPrevious:function(){return e(this.$element,-1)},setActiveDescendant:function(t){this.$element.attr("aria-activedescendant",t)},isDisabled:function(){return this.$element[0].hasAttribute("disabled")}},{restrict:"E",controller:["$element",t],require:["mdRadioGroup","?ngModel"],link:{pre:function(e,i,t,n){function o(){i.hasClass("md-focused")||i.addClass("md-focused")}i.addClass("_md"),c(i);var r=n[0],a=n[1]||s.fakeNgModel();r.init(a),e.mouseActive=!1,i.attr({role:"radiogroup",tabIndex:i.attr("tabindex")||"0"}).on("keydown",function(t){var e=t.which||t.keyCode;if(e==l.KEY_CODE.ENTER||t.currentTarget==t.target)switch(e){case l.KEY_CODE.LEFT_ARROW:case l.KEY_CODE.UP_ARROW:t.preventDefault(),r.selectPrevious(),o();break;case l.KEY_CODE.RIGHT_ARROW:case l.KEY_CODE.DOWN_ARROW:t.preventDefault(),r.selectNext(),o();break;case l.KEY_CODE.ENTER:var n=st.element(s.getClosest(i[0],"form"));0<n.length&&n.triggerHandler("submit")}}).on("mousedown",function(t){e.mouseActive=!0,d(function(){e.mouseActive=!1},100)}).on("focus",function(){!1===e.mouseActive&&r.$element.addClass("md-focused")}).on("blur",function(){r.$element.removeClass("md-focused")})}}}}function e(c,d,u){var h="md-checked";return{restrict:"E",require:"^mdRadioGroup",transclude:!0,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox><div class="md-off"></div><div class="md-on"></div></div><div ng-transclude class="md-label"></div>',link:function(e,n,i,o){function t(){if(!o)throw"RadioButton: No RadioGroupController could be found.";o.add(a),i.$observe("value",a),n.on("click",r).on("$destroy",function(){o.remove(a)})}function r(t){n[0].hasAttribute("disabled")||o.isDisabled()||e.$apply(function(){o.setViewValue(i.value,t&&t.type)})}function a(){var t=o.getViewValue()==i.value;t!==s&&("md-radio-group"!==n[0].parentNode.nodeName.toLowerCase()&&n.parent().toggleClass(h,t),t&&o.setActiveDescendant(n.attr("id")),s=t,n.attr("aria-checked",t).toggleClass(h,t))}var s,l;u(n),(l=n).attr({id:i.id||"radio_"+d.nextUid(),role:"radio","aria-checked":"false"}),c.expectWithText(l,"aria-label"),i.ngValue?d.nextTick(t,!1):t()}}}t.$inject=["$mdUtil","$mdConstant","$mdTheming","$timeout"],e.$inject=["$mdAria","$mdUtil","$mdTheming"],st.module("material.components.radioButton",["material.core"]).directive("mdRadioGroup",t).directive("mdRadioButton",e)}(),function(){function t(A,k,D,O,P,N,L,t){var e=D.KEY_CODE;return e.SPACE,e.ENTER,e.UP_ARROW,e.DOWN_ARROW,{restrict:"E",require:["^?mdInputContainer","mdSelect","ngModel","?^form"],compile:function(t,e){var n=st.element("<md-select-value><span></span></md-select-value>");n.append('<span class="md-select-icon" aria-hidden="true"></span>'),n.addClass("md-select-value"),n[0].hasAttribute("id")||n.attr("id","select_value_label_"+k.nextUid());var i=t.find("md-content");if(i.length||t.append(st.element("<md-content>").append(t.contents())),i.attr("role","presentation"),e.mdOnOpen&&(t.find("md-content").prepend(st.element('<div> <md-progress-circular md-mode="indeterminate" ng-if="$$loadingAsyncDone === false" md-diameter="25px"></md-progress-circular></div>')),t.find("md-option").attr("ng-show","$$loadingAsyncDone")),e.name){var o=st.element('<select class="md-visually-hidden">');o.attr({name:e.name,"aria-hidden":"true",tabindex:"-1"});var r=t.find("md-option");st.forEach(r,function(t){var e=st.element("<option>"+t.innerHTML+"</option>");t.hasAttribute("ng-value")?e.attr("ng-value",t.getAttribute("ng-value")):t.hasAttribute("value")&&e.attr("value",t.getAttribute("value")),o.append(e)}),o.append('<option ng-value="'+e.ngModel+'" selected></option>'),t.parent().append(o)}var S=k.parseAttributeBoolean(e.multiple),a=S?"multiple":"",s='<div class="md-select-menu-container" aria-hidden="true" role="presentation"><md-select-menu role="presentation" {0}>{1}</md-select-menu></div>';return s=k.supplant(s,[a,t.html()]),t.empty().append(n),t.append(s),e.tabindex||e.$set("tabindex",0),function(i,n,o,t){function r(){u&&(p=p||u.find("md-select-menu").controller("mdSelectMenu"),g.setLabelText(p.selectedLabels()))}function a(){if(d){var t=p.selectedLabels({mode:"aria"});n.attr("aria-label",t.length?d+": "+t:d)}}function s(){m&&m.setHasValue(0<p.selectedLabels().length||(n[0].validity||{}).badInput)}function e(t){if(D.isNavigationKey(t))t.preventDefault(),l();else if(F(t,D)){t.preventDefault();var e=p.optNodeForKeyboardSearch(t);if(!e||e.hasAttribute("disabled"))return;var n=st.element(e).controller("mdOption");p.isMultiple||p.deselect(Object.keys(p.selected)[0]),p.select(n.hashKey,n.value),p.refreshViewValue()}}function l(){h._mdSelectIsOpen=!0,n.attr("aria-expanded","true"),A.show({scope:h,preserveScope:!0,skipCompile:!0,element:u,target:n[0],selectCtrl:g,preserveElement:!0,hasBackdrop:!0,loadingAsync:!!o.mdOnOpen&&(i.$eval(o.mdOnOpen)||!0)}).finally(function(){h._mdSelectIsOpen=!1,n.focus(),n.attr("aria-expanded","false"),v.$setTouched()})}var c,d,u,h,p,f=!0,m=t[0],g=t[1],v=t[2],y=t[3],b=n.find("md-select-value"),_=st.isDefined(o.readonly),x=k.parseAttributeBoolean(o.mdNoAsterisk);if(x&&n.addClass("md-no-asterisk"),m){var w=m.isErrorGetter||function(){return v.$invalid&&(v.$touched||y&&y.$submitted)};if(m.input&&n.find("md-select-header").find("input")[0]!==m.input[0])throw new Error("<md-input-container> can only have *one* child <input>, <textarea> or <select> element!");m.input=n,m.label||P.expect(n,"aria-label",n.attr("placeholder")),i.$watch(w,m.setInvalid)}(function(){if(u=st.element(n[0].querySelector(".md-select-menu-container")),h=i,o.mdContainerClass){var t=u[0].getAttribute("class")+" "+o.mdContainerClass;u[0].setAttribute("class",t)}(p=u.find("md-select-menu").controller("mdSelectMenu")).init(v,o.ngModel),n.on("$destroy",function(){u.remove()})})(),O(n),y&&st.isDefined(o.multiple)&&k.nextTick(function(){(v.$modelValue||v.$viewValue)&&y.$setPristine()});var E,M=v.$render;v.$render=function(){M(),r(),a(),s()},o.$observe("placeholder",v.$render),m&&m.label&&o.$observe("required",function(t){m.label.toggleClass("md-required",t&&!x)}),g.setLabelText=function(t){g.setIsPlaceholder(!t);var e=!1;if(o.mdSelectedText&&o.mdSelectedHtml)throw Error("md-select cannot have both `md-selected-text` and `md-selected-html`");o.mdSelectedText||o.mdSelectedHtml?(t=N(o.mdSelectedText||o.mdSelectedHtml)(i),e=!0):t||(t=o.placeholder||(m&&m.label?m.label.text():"")||"",e=!0);var n=b.children().eq(0);o.mdSelectedHtml?n.html(L.getTrustedHtml(t)):e?n.text(t):n.html(t)},g.setIsPlaceholder=function(t){t?(b.addClass("md-select-placeholder"),m&&m.label&&m.label.addClass("md-placeholder")):(b.removeClass("md-select-placeholder"),m&&m.label&&m.label.removeClass("md-placeholder"))},_||(n.on("focus",function(t){m&&m.setFocused(!0)}),n.on("blur",function(t){f&&(f=!1,h._mdSelectIsOpen&&t.stopImmediatePropagation()),h._mdSelectIsOpen||(m&&m.setFocused(!1),s())})),g.triggerClose=function(){N(o.mdOnClose)(i)},i.$$postDigest(function(){var t;!(t=n.attr("aria-label")||n.attr("placeholder"))&&m&&m.label&&(t=m.label.text()),d=t,P.expect(n,"aria-label",t),r(),a()}),i.$watch(function(){return p.selectedLabels()},r),o.$observe("ngMultiple",function(t){E&&E();var e=N(t);E=i.$watch(function(){return e(i)},function(t,e){t===lt&&e===lt||(t?n.attr("multiple","multiple"):n.removeAttr("multiple"),n.attr("aria-multiselectable",t?"true":"false"),u&&(p.setMultiple(t),M=v.$render,v.$render=function(){M(),r(),a(),s()},v.$render()))})}),o.$observe("disabled",function(t){st.isString(t)&&(t=!0),c!==lt&&c===t||((c=t)?n.attr({"aria-disabled":"true"}).removeAttr("tabindex").off("click",l).off("keydown",e):n.attr({tabindex:o.tabindex,"aria-disabled":"false"}).on("click",l).on("keydown",e))}),o.hasOwnProperty("disabled")||o.hasOwnProperty("ngDisabled")||(n.attr({"aria-disabled":"false"}),n.on("click",l),n.on("keydown",e));var T={role:"listbox","aria-expanded":"false","aria-multiselectable":S&&!o.ngMultiple?"true":"false"};n[0].hasAttribute("id")||(T.id="select_"+k.nextUid());var C="select_container_"+k.nextUid();u.attr("id",C),n.find("md-select-menu").length||(T["aria-owns"]=C),n.attr(T),i.$on("$destroy",function(){A.destroy().finally(function(){m&&(m.setFocused(!1),m.setHasValue(!1),m.input=null),v.$setTouched()})})}},controller:function(){}}}function e(p,f,m,o){function t(r,t,o){function i(){var n=l.ngModel.$modelValue||l.ngModel.$viewValue||[];if(st.isArray(n)){var t=Object.keys(l.selected),e=n.map(l.hashGetter);t.filter(function(t){return-1===e.indexOf(t)}).forEach(l.deselect),e.forEach(function(t,e){l.select(t,n[e])})}}function a(){var t=l.ngModel.$viewValue||l.ngModel.$modelValue;Object.keys(l.selected).forEach(l.deselect),l.select(l.hashGetter(t),t)}var s,l=this;l.isMultiple=st.isDefined(t.multiple),l.selected={},l.options={},r.$watchCollection(function(){return l.options},function(){l.ngModel.$render()}),l.setMultiple=function(t){function e(t,e){return st.isArray(t||e||[])}var n=l.ngModel;s=s||n.$isEmpty,l.isMultiple=t,l.isMultiple?(n.$validators["md-multiple"]=e,n.$render=i,r.$watchCollection(l.modelBinding,function(t){e(t)&&i(),l.ngModel.$setPristine()}),n.$isEmpty=function(t){return!t||0===t.length}):(delete n.$validators["md-multiple"],n.$render=a)};var c,d,u,h="";l.optNodeForKeyboardSearch=function(t){c&&clearTimeout(c),c=setTimeout(function(){h="",d=u=c=lt},300);var e=t.keyCode-(m.isNumPadKey(t)?48:0);h+=String.fromCharCode(e);var n=new RegExp("^"+h,"i");d||(d=o.find("md-option"),u=new Array(d.length),st.forEach(d,function(t,e){u[e]=t.textContent.trim()}));for(var i=0;i<u.length;++i)if(n.test(u[i]))return d[i]},l.init=function(t,e){l.ngModel=t,l.modelBinding=e,l.ngModel.$isEmpty=function(t){return!l.options[l.hashGetter(t)]};var n=f.getModelOption(t,"trackBy");if(n){var i={},o=p(n);l.hashGetter=function(t,e){return i.$value=t,o(e||r,i)}}else l.hashGetter=function(t){return st.isObject(t)?"object_"+(t.$$mdSelectId||(t.$$mdSelectId=++g)):t};l.setMultiple(l.isMultiple)},l.selectedLabels=function(t){var e,n=(t=t||{}).mode||"html",i=f.nodesToArray(o[0].querySelectorAll("md-option[selected]"));return i.length?("html"==n?e=function(t){if(t.hasAttribute("md-option-empty"))return"";var e=t.innerHTML,n=t.querySelector(".md-ripple-container");n&&(e=e.replace(n.outerHTML,""));var i=t.querySelector(".md-container");return i&&(e=e.replace(i.outerHTML,"")),e}:"aria"==n&&(e=function(t){return t.hasAttribute("aria-label")?t.getAttribute("aria-label"):t.textContent}),f.uniq(i.map(e)).join(", ")):""},l.select=function(t,e){var n=l.options[t];n&&n.setSelected(!0),l.selected[t]=e},l.deselect=function(t){var e=l.options[t];e&&e.setSelected(!1),delete l.selected[t]},l.addOption=function(t,e){if(st.isDefined(l.options[t]))throw new Error('Duplicate md-option values are not allowed in a select. Duplicate value "'+e.value+'" found.');l.options[t]=e,st.isDefined(l.selected[t])&&(l.select(t,e.value),st.isDefined(l.ngModel.$modelValue)&&l.hashGetter(l.ngModel.$modelValue)===t&&l.ngModel.$validate(),l.refreshViewValue())},l.removeOption=function(t){delete l.options[t]},l.refreshViewValue=function(){var t,e=[];for(var n in l.selected)(t=l.options[n])?e.push(t.value):e.push(l.selected[n]);var i=f.getModelOption(l.ngModel,"trackBy"),o=l.isMultiple?e:e[0],r=l.ngModel.$modelValue;(i?st.equals(r,o):r+""===o)||(l.ngModel.$setViewValue(o),l.ngModel.$render())}}return{restrict:"E",require:["mdSelectMenu"],scope:!(t.$inject=["$scope","$attrs","$element"]),controller:t,link:{pre:function(r,t,e,n){function i(t){var e=f.getClosest(t.target,"md-option"),n=e&&st.element(e).data("$mdOptionController");if(e&&n){if(e.hasAttribute("disabled"))return t.stopImmediatePropagation(),!1;var i=a.hashGetter(n.value),o=st.isDefined(a.selected[i]);r.$apply(function(){a.isMultiple?o?a.deselect(i):a.select(i,n.value):o||(a.deselect(Object.keys(a.selected)[0]),a.select(i,n.value)),a.refreshViewValue()})}}var a=n[0];t.addClass("_md"),o(t),t.on("click",i),t.on("keypress",function(t){13!=t.keyCode&&32!=t.keyCode||i(t)})}}}}function n(o,c,d){function r(r,e,t,n){function a(t,e,n){if(l.hashGetter){var i=l.hashGetter(e,r),o=l.hashGetter(t,r);s.hashKey=o,s.value=t,l.removeOption(i,s),l.addOption(o,s)}else n||r.$$postDigest(function(){a(t,e,!0)})}var i,s=n[0],l=n[1];d(e),l.isMultiple&&(e.addClass("md-checkbox-enabled"),e.prepend(u.clone())),st.isDefined(t.ngValue)?r.$watch(t.ngValue,a):st.isDefined(t.value)?a(t.value):r.$watch(function(){return e.text().trim()},a),t.$observe("disabled",function(t){t?e.attr("tabindex","-1"):e.attr("tabindex","0")}),r.$$postDigest(function(){t.$observe("selected",function(t){st.isDefined(t)&&("string"==typeof t&&(t=!0),t?(l.isMultiple||l.deselect(Object.keys(l.selected)[0]),l.select(s.hashKey,s.value)):l.deselect(s.hashKey),l.refreshViewValue())})}),o.attach(r,e),i={role:"option","aria-selected":"false"},e[0].hasAttribute("id")||(i.id="select_option_"+c.nextUid()),e.attr(i),r.$on("$destroy",function(){l.removeOption(s.hashKey,s)})}function t(e){this.selected=!1,this.setSelected=function(t){t&&!this.selected?e.attr({selected:"selected","aria-selected":"true"}):!t&&this.selected&&(e.removeAttr("selected"),e.attr("aria-selected","false")),this.selected=t}}return t.$inject=["$element"],{restrict:"E",require:["mdOption","^^mdSelectMenu"],controller:t,compile:function(t,e){return t.append(st.element('<div class="md-text">').append(t.contents())),t.attr("tabindex",e.tabindex||"0"),i=(n=e).value,o=n.ngValue,i||o||t.attr("md-option-empty",""),r;var n,i,o}}}function i(t){function e(d,u,L,I,r,h,p,f,R){function m(t,e,n){var i,o,r=e[0],a=n.target[0].children[0],s=R[0].body,l=n.selectEl[0],c=n.contentEl[0],d=s.getBoundingClientRect(),u=a.getBoundingClientRect(),h={left:d.left+z,top:z,bottom:d.height-z,right:d.width-z-(L.floatingScrollbars()?16:0)},p=u.top-h.top,f=(u.left,u.left,u.width,h.bottom-(u.top+u.height)),m=d.width-2*z,g=l.querySelector("md-option[selected]"),v=l.getElementsByTagName("md-option"),y=l.getElementsByTagName("md-optgroup"),b=function(t,e){var n=!1;try{var i=t[0].style.display;t[0].style.display="block",n=e.scrollHeight>e.offsetHeight,t[0].style.display=i}finally{}return n}(e,c);i=(o=n.loadingAsync)&&st.isFunction(o.then)?c.firstElementChild||c:g||(y.length?y[0]:v.length?v[0]:c.firstElementChild||c),c.offsetWidth>m?c.style["max-width"]=m+"px":c.style.maxWidth=null,b&&l.classList.add("md-overflow");var _=i;"MD-OPTGROUP"===(_.tagName||"").toUpperCase()&&(i=_=v[0]||c.firstElementChild||c),n.focusedNode=_,r.style.display="block";var x,w,E,M,T,C,S=l.getBoundingClientRect(),A=(x=i)?{left:x.offsetLeft,top:x.offsetTop,width:x.offsetWidth,height:x.offsetHeight}:{left:0,top:0,width:0,height:0};if(i){var k=I.getComputedStyle(i);A.paddingLeft=parseInt(k.paddingLeft,10)||0,A.paddingRight=parseInt(k.paddingRight,10)||0}if(b){var D=c.offsetHeight/2;c.scrollTop=A.top+A.height/2-D,p<D?c.scrollTop=Math.min(A.top,c.scrollTop+D-p):f<D&&(c.scrollTop=Math.max(A.top+A.height-S.height,c.scrollTop-D+f))}w=u.left+A.left-A.paddingLeft+2,E=Math.floor(u.top+u.height/2-A.height/2-A.top+c.scrollTop)+2,M=A.left+u.width/2+"px "+(A.top+A.height/2-c.scrollTop)+"px 0px",T=Math.min(u.width+A.paddingLeft+A.paddingRight,m),C=H.getComputedStyle(a)["font-size"];var O=r.getBoundingClientRect(),P=Math.round(100*Math.min(u.width/S.width,1))/100,N=Math.round(100*Math.min(u.height/S.height,1))/100;return{container:{element:st.element(r),styles:{left:Math.floor($(h.left,w,h.right-O.width)),top:Math.floor($(h.top,E,h.bottom-O.height)),"min-width":T,"font-size":C}},dropDown:{element:st.element(l),styles:{transformOrigin:M,transform:n.alreadyOpen?"":L.supplant("scale({0},{1})",[P,N])}}}}var g=L.dom.animator,v=u.KEY_CODE;return{parent:"body",themable:!0,onShow:function(a,s,l){function n(){return r(function(t){if(l.isRemoved)return r.reject(!1);var e=m(0,s,l);e.container.element.css(g.toCss(e.container.styles)),e.dropDown.element.css(g.toCss(e.dropDown.styles)),h(function(){s.addClass("md-active"),e.dropDown.element.css(g.toCss({transform:""})),t()})})}function c(){function t(t){t.preventDefault(),t.stopPropagation(),l.restoreFocus=!1,L.nextTick(d.hide,!0)}function e(t){switch(t.preventDefault(),t.stopPropagation(),t.keyCode){case v.UP_ARROW:return void i("prev");case v.DOWN_ARROW:return void i("next");case v.SPACE:case v.ENTER:var e=L.getClosest(t.target,"md-option");e&&(r.triggerHandler({type:"click",target:e}),t.preventDefault()),o(t);break;case v.TAB:case v.ESCAPE:t.stopPropagation(),t.preventDefault(),l.restoreFocus=!0,L.nextTick(d.hide,!0);break;default:if(F(t,u)){var n=r.controller("mdSelectMenu").optNodeForKeyboardSearch(t);l.focusedNode=n||l.focusedNode,n&&n.focus()}}}function i(t){for(var e,n=L.nodesToArray(l.optionNodes),i=n.indexOf(l.focusedNode);-1===i?i=0:"next"===t&&i<n.length-1?i++:"prev"===t&&0<i&&i--,(e=n[i]).hasAttribute("disabled")&&(e=lt),!e&&i<n.length-1&&0<i;);e&&e.focus(),l.focusedNode=e}function o(n){if(!(n&&"click"==n.type&&n.currentTarget!=r[0]||function(){var t=!1;if(n&&0<n.currentTarget.children.length){var e=n.currentTarget.children[0];e.scrollHeight>e.clientHeight&&0<e.children.length&&n.pageX-n.currentTarget.getBoundingClientRect().left>e.querySelector("md-option").offsetWidth&&(t=!0)}return t}())){var t=L.getClosest(n.target,"md-option");t&&t.hasAttribute&&!t.hasAttribute("disabled")&&(n.preventDefault(),n.stopPropagation(),a.isMultiple||(l.restoreFocus=!0,L.nextTick(function(){d.hide(a.ngModel.$viewValue)},!0)))}}if(!l.isRemoved){var r=l.selectEl,a=r.controller("mdSelectMenu")||{};return s.addClass("md-clickable"),l.backdrop&&l.backdrop.on("click",t),r.on("keydown",e),r.on("click",o),function(){l.backdrop&&l.backdrop.off("click",t),r.off("keydown",e),r.off("click",o),s.removeClass("md-clickable"),l.isRemoved=!0}}}return l.loadingAsync&&!l.isRemoved&&(a.$$loadingAsyncDone=!1,r.when(l.loadingAsync).then(function(){a.$$loadingAsyncDone=!0,delete l.loadingAsync}).then(function(){h(n)})),function(t,e){var n=s.find("md-select-menu");if(!e.target)throw new Error(L.supplant("$mdSelect.show() expected a target element in options.target but got '{0}'!",[e.target]));st.extend(e,{isRemoved:!1,target:st.element(e.target),parent:st.element(e.parent),selectEl:n,contentEl:s.find("md-content"),optionNodes:n[0].getElementsByTagName("md-option")})}(0,l),l.hideBackdrop=(e=a,(o=l).disableParentScroll&&!L.getClosest(o.target,"MD-DIALOG")?o.restoreScroll=L.disableScrollAround(o.element,o.parent):o.disableParentScroll=!1,o.hasBackdrop&&(o.backdrop=L.createBackdrop(e,"md-select-backdrop md-click-catcher"),f.enter(o.backdrop,R[0].body,null,{duration:0})),function(){o.backdrop&&o.backdrop.remove(),o.disableParentScroll&&o.restoreScroll(),delete o.restoreScroll}),(i=s,t=l,t.parent!==i.parent()&&i.parent().attr("aria-owns",i.attr("id")),i.parent().find("md-select-value").attr("aria-hidden","true"),t.parent.append(i),r(function(t,e){try{p(i,{removeClass:"md-leave",duration:0}).start().then(n).then(t)}catch(t){e(t)}})).then(function(t){return s.attr("aria-hidden","false"),l.alreadyOpen=!0,l.cleanupInteraction=c(),l.cleanupResizing=(a,i=s,o=l,n=function(){if(!o.isRemoved){var t=m(0,i,o),e=t.container,n=t.dropDown;e.element.css(g.toCss(e.styles)),n.element.css(g.toCss(n.styles))}},(r=st.element(I)).on("resize",n),r.on("orientationchange",n),function(){r.off("resize",n),r.off("orientationchange",n)}),(e=l.focusedNode)&&!e.hasAttribute("disabled")&&e.focus(),t;var e,i,o,n,r},l.hideBackdrop);var i,t,e,o},onRemove:function(t,e,n){function i(){r(),e.removeClass("md-active").attr("aria-hidden","true").css("display","none"),e.parent().find("md-select-value").removeAttr("aria-hidden"),function(t){var e=t.selectCtrl;if(e){var n=t.selectEl.controller("mdSelectMenu");e.setLabelText(n?n.selectedLabels():""),e.triggerClose()}}(n),!n.$destroy&&n.restoreFocus&&n.target.focus()}var o=null,r=t.$on("$destroy",function(){o.end()});return(n=n||{}).cleanupInteraction(),n.cleanupResizing(),n.hideBackdrop(),!0===n.$destroy?i():(o=p(e,{addClass:"md-leave"})).start().then(i)},hasBackdrop:!0,disableParentScroll:!0}}function $(t,e,n){return Math.max(t,Math.min(e,n))}return e.$inject=["$mdSelect","$mdConstant","$mdUtil","$window","$q","$$rAF","$animateCss","$animate","$document"],t("$mdSelect").setDefaults({methods:["target"],options:e})}function F(t,e){var n=String.fromCharCode(t.keyCode),i=t.keyCode<=31;return n&&n.length&&!i&&!e.isMetaKey(t)&&!e.isFnLockKey(t)&&!e.hasModifierKey(t)}t.$inject=["$mdSelect","$mdUtil","$mdConstant","$mdTheming","$mdAria","$parse","$sce","$injector"],e.$inject=["$parse","$mdUtil","$mdConstant","$mdTheming"],n.$inject=["$mdButtonInkRipple","$mdUtil","$mdTheming"],i.$inject=["$$interimElementProvider"];var z=8,g=0,u=st.element('<div class="md-container"><div class="md-icon"></div></div>');st.module("material.components.select",["material.core","material.components.backdrop"]).directive("mdSelect",t).directive("mdSelectMenu",e).directive("mdOption",n).directive("mdOptgroup",function(){return{restrict:"E",compile:function(t,e){var n;t.parent().find("md-select-header").length||((n=t.find("label")).length||(n=st.element("<label>"),t.prepend(n)),n.addClass("md-container-ignore"),n.attr("aria-hidden","true"),e.label&&n.text(e.label))}}}).directive("mdSelectHeader",function(){return{restrict:"E"}}).provider("$mdSelect",i)}(),function(){function t(l,c){return["$mdUtil","$window",function(a,s){return{restrict:"A",multiElement:!0,link:function(i,o,e){var r=i.$on("$md-resize-enable",function(){r();var t=o[0],n=t.nodeType===s.Node.ELEMENT_NODE?s.getComputedStyle(t):{};i.$watch(e[l],function(t){if(!!t===c){a.nextTick(function(){i.$broadcast("$md-resize")});var e={cachedTransitionStyles:n};a.dom.animator.waitTransitionEnd(o,e).then(function(){i.$broadcast("$md-resize")})}})})}}}]}st.module("material.components.showHide",["material.core"]).directive("ngShow",t("ngShow",!0)).directive("ngHide",t("ngHide",!1))}(),function(){function t(i,l,c,o){function d(t){return i.when(t).catch(o.error)}var u="SideNav '{0}' is not available! Did you use md-component-id='{0}'?",h={find:function(t,e){var n=i.get(t);return n||e?n:(o.error(l.supplant(u,[t||""])),lt)},waitFor:d};return function(t,e){if(st.isUndefined(t))return h;var n,i,o,r,a=!0===e,s=h.find(t,a);return!s&&a?h.waitFor(t):!s&&st.isUndefined(e)?(n=h,i=t,o=function(){return!1},r=function(){return c.when(l.supplant(u,[i||""]))},st.extend({isLockedOpen:o,isOpen:o,toggle:r,open:r,close:r,onClose:st.noop,then:function(t){return d(i).then(t||st.noop)}},n)):s}}function e(i,g,v,y,b,_,t,x,w,E,M,T,C){function e(o,r,t,e){function a(t){return t.keyCode===v.KEY_CODE.ESCAPE?s(t):E.when(!0)}function s(t){return t.preventDefault(),e.close()}var l,c,d,u,h=null,p=null,f=E.when(!0),n=x(t.mdIsLockedOpen),m=st.element(T);t.mdDisableScrollTarget&&((h=M[0].querySelector(t.mdDisableScrollTarget))?h=st.element(h):w.warn(g.supplant('mdSidenav: couldn\'t find element matching selector "{selector}". Falling back to parent.',{selector:t.mdDisableScrollTarget}))),h||(h=r.parent()),t.hasOwnProperty("mdDisableBackdrop")||(c=g.createBackdrop(o,"md-sidenav-backdrop md-opaque ng-enter")),r.addClass("_md"),y(r),c&&y.inherit(c,r),r.on("$destroy",function(){c&&c.remove(),e.destroy()}),o.$on("$destroy",function(){c&&c.remove()}),o.$watch(function(){return n(o.$parent,{$media:function(t){return w.warn("$media is deprecated for is-locked-open. Use $mdMedia instead."),i(t)},$mdMedia:i})},function(t,e){(o.isLockedOpen=t)===e?r.toggleClass("md-locked-open",!!t):_[t?"addClass":"removeClass"](r,"md-locked-open"),c&&c.toggleClass("md-locked-open",!!t)}),o.$watch("isOpen",function(t){var e=g.findFocusTarget(r)||g.findFocusTarget(r,"[md-sidenav-focus]")||r,n=r.parent();n[t?"on":"off"]("keydown",a),c&&c[t?"on":"off"]("click",s);var i=function(t,e){var n=r[0],i=t[0].scrollTop;if(e&&i){u={top:n.style.top,bottom:n.style.bottom,height:n.style.height};var o={top:i+"px",bottom:"auto",height:t[0].clientHeight+"px"};r.css(o),c.css(o)}if(!e&&u)return function(){n.style.top=u.top,n.style.bottom=u.bottom,n.style.height=u.height,c[0].style.top=null,c[0].style.bottom=null,c[0].style.height=null,u=null}}(n,t);return t&&(p=M[0].activeElement,d=b.getLastInteractionType()),t&&!l?(l=h.css("overflow"),h.css("overflow","hidden")):st.isDefined(l)&&(h.css("overflow",l),l=lt),f=E.all([t&&c?_.enter(c,n):c?_.leave(c):E.when(!0),_[t?"removeClass":"addClass"](r,"md-closed")]).then(function(){o.isOpen&&(C(function(){m.triggerHandler("resize")}),e&&e.focus()),i&&i()})}),e.$toggleOpen=function(t){return o.isOpen==t?E.when(!0):(o.isOpen&&e.onCloseCb&&e.onCloseCb(),E(function(e){o.isOpen=t,g.nextTick(function(){f.then(function(t){!o.isOpen&&p&&"keyboard"===d&&(p.focus(),p=null),e(t)})})}))}}return{restrict:"E",scope:{isOpen:"=?mdIsOpen"},controller:"$mdSidenavController",compile:function(t){return t.addClass("md-closed").attr("tabIndex","-1"),e}}}function n(e,t,n,i,o){var r=this;r.isOpen=function(){return!!e.isOpen},r.isLockedOpen=function(){return!!e.isLockedOpen},r.onClose=function(t){return r.onCloseCb=t,r},r.open=function(){return r.$toggleOpen(!0)},r.close=function(){return r.$toggleOpen(!1)},r.toggle=function(){return r.$toggleOpen(!e.isOpen)},r.$toggleOpen=function(t){return i.when(e.isOpen=t)};var a=t.mdComponentId,s=a&&-1<a.indexOf(o.startSymbol()),l=s?o(a)(e.$parent):a;r.destroy=n.register(r,l),s&&t.$observe("mdComponentId",function(t){t&&t!==r.$$mdHandle&&(r.destroy(),r.destroy=n.register(r,t))})}t.$inject=["$mdComponentRegistry","$mdUtil","$q","$log"],e.$inject=["$mdMedia","$mdUtil","$mdConstant","$mdTheming","$mdInteraction","$animate","$compile","$parse","$log","$q","$document","$window","$$rAF"],n.$inject=["$scope","$attrs","$mdComponentRegistry","$q","$interpolate"],st.module("material.components.sidenav",["material.core","material.components.backdrop"]).factory("$mdSidenav",t).directive("mdSidenav",e).directive("mdSidenavFocus",function(){return{restrict:"A",require:"^mdSidenav",link:function(t,e,n,i){}}}).controller("$mdSidenavController",n)}(),function(){function t(j,V,o,G,W,Y,q,X,Z,K){function r(o,r,t,e){function n(){c(),h()}function i(t){I=parseFloat(t),r.attr("aria-valuemin",t),n()}function a(t){R=parseFloat(t),r.attr("aria-valuemax",t),n()}function s(t){$=parseFloat(t)}function l(t){F=p(parseInt(t),0,6)}function c(){B=C[0].getBoundingClientRect()}function d(){return D(),B}function u(t){_.$setViewValue(p(f(t)))}function h(){isNaN(_.$viewValue)&&(_.$viewValue=_.$modelValue),_.$viewValue=p(_.$viewValue);var t=b(_.$viewValue);o.modelValue=_.$viewValue,r.attr("aria-valuenow",_.$viewValue),m(t),M.text(_.$viewValue)}function p(t,e,n){if(st.isNumber(t))return e=st.isNumber(e)?e:I,n=st.isNumber(n)?n:R,Math.max(e,Math.min(n,t))}function f(t){if(st.isNumber(t)){var e=Math.round((t-I)/$)*$+I;return e=Math.round(e*Math.pow(10,F))/Math.pow(10,F),x&&x.fitInputWidthToTextLength&&G.debounce(function(){x.fitInputWidthToTextLength(e.toString().length)},100)(),e}}function m(t){var e;e=t;var n=100*(t=Math.max(0,Math.min(e||0,1)))+"%",i=N?100*(1-t)+"%":n;O?T.css("bottom",n):G.bidiProperty(T,"left","right",n),S.css(O?"height":"width",i),r.toggleClass(N?"md-max":"md-min",0===t),r.toggleClass(N?"md-min":"md-max",1===t)}function g(t){var e,n,i;P?(n=O?t.pointer.y:t.pointer.x,i=p(f(y(v(n)))),m(v(n)),M.text(i)):(e=O?t.pointer.y:t.pointer.x,o.$evalAsync(function(){u(y(v(e)))}))}function v(t){var e=(t-(O?B.top:B.left))/(O?B.height:B.width);return O||"rtl"!==G.bidi()||(e=1-e),Math.max(0,Math.min(1,O?1-e:e))}function y(t){return I+(N?1-t:t)*(R-I)}function b(t){var e=(t-I)/(R-I);return N?1-e:e}Y(r);var _=e[0]||{$setViewValue:function(t){this.$viewValue=t,this.$viewChangeListeners.forEach(function(t){t()})},$parsers:[],$formatters:[],$viewChangeListeners:[]},x=e[1],w=(st.element(G.getClosest(r,"_md-slider-container",!0)),t.ngDisabled?st.bind(null,X(t.ngDisabled),o.$parent):function(){return r[0].hasAttribute("disabled")}),E=st.element(r[0].querySelector(".md-thumb")),M=st.element(r[0].querySelector(".md-thumb-text")),T=E.parent(),C=st.element(r[0].querySelector(".md-track-container")),S=st.element(r[0].querySelector(".md-track-fill")),A=st.element(r[0].querySelector(".md-track-ticks")),k=st.element(r[0].getElementsByClassName("md-slider-wrapper")),D=(st.element(r[0].getElementsByClassName("md-slider-content")),G.throttle(c,5e3)),O=st.isDefined(t.mdVertical),P=st.isDefined(t.mdDiscrete),N=st.isDefined(t.mdInvert);st.isDefined(t.min)?t.$observe("min",i):i(0),st.isDefined(t.max)?t.$observe("max",a):a(100),st.isDefined(t.step)?t.$observe("step",s):s(1),st.isDefined(t.round)?t.$observe("round",l):l(3);st.noop;t.ngDisabled&&o.$parent.$watch(t.ngDisabled,function(){r.attr("aria-disabled",!!w())}),q.register(k,"drag",{horizontal:!O}),o.mouseActive=!1,k.on("keydown",function(t){var e;w()||((O?t.keyCode===W.KEY_CODE.DOWN_ARROW:t.keyCode===W.KEY_CODE.LEFT_ARROW)?e=-$:(O?t.keyCode===W.KEY_CODE.UP_ARROW:t.keyCode===W.KEY_CODE.RIGHT_ARROW)&&(e=$),(e=N?-e:e)&&((t.metaKey||t.ctrlKey||t.altKey)&&(e*=4),t.preventDefault(),t.stopPropagation(),o.$evalAsync(function(){u(_.$viewValue+e)})))}).on("mousedown",function(){(function(){if(P&&!w()&&!st.isUndefined($)){if($<=0){var t="Slider step value must be greater than zero when in discrete mode";throw Z.error(t),new Error(t)}var e=Math.floor((R-I)/$);z||(z=st.element("<canvas>").css("position","absolute"),A.append(z),H=z[0].getContext("2d"));var n=d();!n||n.height||n.width||(c(),n=B),z[0].width=n.width,z[0].height=n.height;for(var i,o=0;o<=e;o++){var r=V.getComputedStyle(A[0]);H.fillStyle=r.color||"black",i=Math.floor((O?n.height:n.width)*(o/e)),H.fillRect(O?0:i-1,O?i-1:0,O?n.width:2,O?2:n.height)}}})(),o.mouseActive=!0,k.removeClass("md-focused"),K(function(){o.mouseActive=!1},100)}).on("focus",function(){!1===o.mouseActive&&k.addClass("md-focused")}).on("blur",function(){k.removeClass("md-focused"),r.removeClass("md-active"),function(){if(z&&H){var t=d();H.clearRect(0,0,t.width,t.height)}}()}).on("$md.pressdown",function(t){if(!w()){r.addClass("md-active"),r[0].focus(),c();var e=p(f(y(v(O?t.pointer.y:t.pointer.x))));o.$apply(function(){u(e),m(b(e))})}}).on("$md.pressup",function(t){if(!w()){r.removeClass("md-dragging");var e=p(f(y(v(O?t.pointer.y:t.pointer.x))));o.$apply(function(){u(e),h()})}}).on("$md.dragstart",function(t){w()||(U=!0,t.stopPropagation(),r.addClass("md-dragging"),g(t))}).on("$md.drag",function(t){U&&(t.stopPropagation(),g(t))}).on("$md.dragend",function(t){U&&(t.stopPropagation(),U=!1)}),setTimeout(n,0);var L=j.throttle(n);st.element(V).on("resize",L),o.$on("$destroy",function(){st.element(V).off("resize",L)}),_.$render=h,_.$viewChangeListeners.push(h),_.$formatters.push(p),_.$formatters.push(f);var I,R,$,F,z,H,B={};c();var U=!1}return{scope:{},require:["?ngModel","?^mdSliderContainer"],template:'<div class="md-slider-wrapper"><div class="md-slider-content"><div class="md-track-container"><div class="md-track"></div><div class="md-track md-track-fill"></div><div class="md-track-ticks"></div></div><div class="md-thumb-container"><div class="md-thumb"></div><div class="md-focus-thumb"></div><div class="md-focus-ring"></div><div class="md-sign"><span class="md-thumb-text"></span></div><div class="md-disabled-thumb"></div></div></div></div>',compile:function(t,e){var n=st.element(t[0].getElementsByClassName("md-slider-wrapper")),i=e.tabindex||0;return n.attr("tabindex",i),(e.disabled||e.ngDisabled)&&n.attr("tabindex",-1),n.attr("role","slider"),o.expect(t,"aria-label"),r}}}t.$inject=["$$rAF","$window","$mdAria","$mdUtil","$mdConstant","$mdTheming","$mdGesture","$parse","$log","$timeout"],st.module("material.components.slider",["material.core"]).directive("mdSlider",t).directive("mdSliderContainer",function(){return{controller:function(){},compile:function(t){var e=t.find("md-slider");if(e)return e.attr("md-vertical")!==lt&&t.attr("md-vertical",""),e.attr("flex")||e.attr("flex",""),function(t,a,e,n){function i(t){a.children().attr("disabled",t),a.find("input").attr("disabled",t)}a.addClass("_md");var s,o=st.noop;e.disabled?i(!0):e.ngDisabled&&(o=t.$watch(e.ngDisabled,function(t){i(t)})),t.$on("$destroy",function(){o()}),n.fitInputWidthToTextLength=function(t){var e=a[0].querySelector("md-input-container");if(e){var n=getComputedStyle(e),i=parseInt(n.minWidth),o=2*parseInt(n.padding);s=s||parseInt(n.maxWidth);var r=Math.max(s,i+o+i/2*t);e.style.maxWidth=r+"px"}}}}}})}(),function(){function t(c,d,u,s){function l(t){function e(){a.items.forEach(i),a.items=a.items.sort(function(t,e){return t.top<e.top?-1:1});for(var t,e=s.prop("scrollTop"),n=a.items.length-1;0<=n;n--)if(e>a.items[n].top){t=a.items[n];break}o(t)}function i(t){var e=t.element[0];for(t.top=0,t.left=0,t.right=0;e&&e!==s[0];)t.top+=e.offsetTop,t.left+=e.offsetLeft,e.offsetParent&&(t.right+=e.offsetParent.offsetWidth-e.offsetWidth-e.offsetLeft),e=e.offsetParent;t.height=t.element.prop("offsetHeight");var n=u.floatingScrollbars()?"0":lt;u.bidi(t.clone,"margin-left",t.left,n),u.bidi(t.clone,"margin-right",n,t.right)}function o(t){if(a.current!==t){a.current&&(r(a.current,null),n(a.current,null)),t&&n(t,"active"),a.current=t;var e=a.items.indexOf(t);a.next=a.items[e+1],a.prev=a.items[e-1],n(a.next,"next"),n(a.prev,"prev")}}function n(t,e){t&&t.state!==e&&(t.state&&(t.clone.attr("sticky-prev-state",t.state),t.element.attr("sticky-prev-state",t.state)),t.clone.attr("sticky-state",e),t.element.attr("sticky-state",e),t.state=e)}function r(t,e){t&&(null===e||e===lt?t.translateY&&(t.translateY=null,t.clone.css(c.CSS.TRANSFORM,"")):(t.translateY=e,u.bidi(t.clone,c.CSS.TRANSFORM,"translate3d("+t.left+"px,"+e+"px,0)","translateY("+e+"px)")))}var a,s=t.$element,l=d.throttle(e);return function(t){function e(){+u.now()-i>o?(n=!1,t.triggerHandler("$scrollend")):(t.triggerHandler("$scroll"),d.throttle(e))}var n,i,o=200;t.on("scroll touchmove",function(){n||(n=!0,d.throttle(e),t.triggerHandler("$scrollstart")),t.triggerHandler("$scroll"),i=+u.now()})}(s),s.on("$scrollstart",l),s.on("$scroll",function t(){var e=s.prop("scrollTop"),n=(t.prevScrollTop||0)<e;if(0!==(t.prevScrollTop=e)){if(n){if(a.next&&a.next.top<=e)return void o(a.next);if(a.current&&a.next&&a.next.top-e<=a.next.height)return void r(a.current,e+(a.next.top-a.next.height-e))}if(!n){if(a.current&&a.prev&&e<a.current.top)return void o(a.prev);if(a.next&&a.current&&e>=a.next.top-a.current.height)return void r(a.current,e+(a.next.top-e-a.current.height))}a.current&&r(a.current,e)}else o(null)}),a={prev:null,current:null,next:null,items:[],add:function(n,t){t.addClass("md-sticky-clone");var e={element:n,clone:t};return a.items.push(e),u.nextTick(function(){s.prepend(e.clone)}),l(),function(){a.items.forEach(function(t,e){t.element[0]===n[0]&&(a.items.splice(e,1),t.clone.remove())}),l()}},refreshElements:e}}var h=u.checkStickySupport();return function(t,e,n){var i=e.controller("mdContent");if(i)if(h)e.css({position:h,top:0,"z-index":2});else{var o=i.$element.data("$$sticky");o||(o=l(i),i.$element.data("$$sticky",o));var r=n||s(e.clone())(t),a=o.add(e,r);t.$on("$destroy",a)}}}t.$inject=["$mdConstant","$$rAF","$mdUtil","$compile"],st.module("material.components.sticky",["material.core","material.components.content"]).factory("$mdSticky",t)}(),function(){function t(s,l,c,d,u){return{restrict:"E",replace:!0,transclude:!0,template:'<div class="md-subheader _md">  <div class="md-subheader-inner">    <div class="md-subheader-content"></div>  </div></div>',link:function(n,i,t,e,o){function r(t){return st.element(t[0].querySelector(".md-subheader-content"))}c(i),i.addClass("_md"),d.prefixer().removeAttribute(i,"ng-repeat");var a=i[0].outerHTML;t.$set("role","heading"),u.expect(i,"aria-level","2"),o(n,function(t){r(i).append(t)}),i.hasClass("md-no-sticky")||o(n,function(t){var e=l('<div class="md-subheader-wrapper" aria-hidden="true">'+a+"</div>")(n);d.nextTick(function(){r(e).append(t)}),s(n,i,e)})}}}t.$inject=["$mdSticky","$compile","$mdTheming","$mdUtil","$mdAria"],st.module("material.components.subheader",["material.core","material.components.sticky"]).directive("mdSubheader",t)}(),function(){function t(t){function e(o){return{restrict:"A",link:function(e,t,n){var i=o(n[r]);t.on(a,function(t){e.$applyAsync(function(){i(e,{$event:t})})})}}}e.$inject=["$parse"];var r="md"+t,a="$md."+t.toLowerCase();return e}st.module("material.components.swipe",["material.core"]).directive("mdSwipeLeft",t("SwipeLeft")).directive("mdSwipeRight",t("SwipeRight")).directive("mdSwipeUp",t("SwipeUp")).directive("mdSwipeDown",t("SwipeDown"))}(),function(){function t(t,u,h,p,f,m,g){var n=t[0];return{restrict:"E",priority:h.BEFORE_NG_ARIA,transclude:!0,template:'<div class="md-container"><div class="md-bar"></div><div class="md-thumb-container"><div class="md-thumb" md-ink-ripple md-ink-ripple-checkbox></div></div></div><div ng-transclude class="md-label"></div>',require:["^?mdInputContainer","?ngModel","?^form"],compile:function(t,e){var d=n.compile(t,e).post;return t.addClass("md-dragging"),function(n,i,t,e){var o=(e[0],e[1]||u.fakeNgModel()),r=(e[2],null);null!=t.disabled?r=function(){return!0}:t.ngDisabled&&(r=p(t.ngDisabled));var a,s=st.element(i[0].querySelector(".md-thumb-container")),l=st.element(i[0].querySelector(".md-container")),c=st.element(i[0].querySelector(".md-label"));f(function(){i.removeClass("md-dragging")}),d(n,i,t,e),r&&n.$watch(r,function(t){i.attr("tabindex",t?-1:0)}),t.$observe("mdInvert",function(t){var e=u.parseAttributeBoolean(t);e?i.prepend(c):i.prepend(l),i.toggleClass("md-inverted",e)}),m.register(l,"drag"),l.on("$md.dragstart",function(t){r&&r(n)||(t.stopPropagation(),i.addClass("md-dragging"),a={width:s.prop("offsetWidth")})}).on("$md.drag",function(t){if(a){t.stopPropagation(),t.srcEvent&&t.srcEvent.preventDefault();var e=t.pointer.distanceX/a.width,n=o.$viewValue?1+e:e;n=Math.max(0,Math.min(1,n)),s.css(h.CSS.TRANSFORM,"translate3d("+100*n+"%,0,0)"),a.translate=n}}).on("$md.dragend",function(t){var e;a&&(t.stopPropagation(),i.removeClass("md-dragging"),s.css(h.CSS.TRANSFORM,""),(o.$viewValue?a.translate<.5:.5<a.translate)&&(e=!o.$viewValue,n.$apply(function(){o.$setViewValue(e),o.$render()})),a=null,n.skipToggle=!0,g(function(){n.skipToggle=!1},1))})}}}}t.$inject=["mdCheckboxDirective","$mdUtil","$mdConstant","$parse","$$rAF","$mdGesture","$timeout"],st.module("material.components.switch",["material.core","material.components.checkbox"]).directive("mdSwitch",t)}(),st.module("material.components.tabs",["material.core","material.components.icon"]),st.module("material.components.tabs").service("MdTabsPaginationService",function(){function s(t){var e,n,i=0,o=[];for(e=0;e<t.tabs.length;e++)n=t.tabs[e],o.push(i),i+=n.offsetWidth;return o}function l(t){var e,n=0;for(e=0;e<t.tabs.length;e++)n+=t.tabs[e].offsetWidth;return n}return{decreasePageOffset:function(t,e){var n,i,o=t.canvas,r=s(t);for(n=0;n<r.length;n++)if(r[n]>=e){i=r[n];break}return Math.max(0,i-o.clientWidth)},increasePageOffset:function(t,e){var n,i,o=t.canvas,r=l(t)-o.clientWidth,a=s(t);for(n=0;a.length,a[n]<=e+o.clientWidth;n++)i=a[n];return Math.min(r,i)},getTabOffsets:s,getTotalTabsWidth:l}}),function(){function t(n){return{restrict:"E",link:function(t,e){e.addClass("_md"),t.$on("$destroy",function(){n.destroy()})}}}function e(t){function e(t){d=t}function n(e,n){this.$onInit=function(){var t=this;t.highlightAction&&(n.highlightClasses=["md-highlight",t.highlightClass]),n.$watch(function(){return d},function(){t.content=d}),this.resolve=function(){e.hide(o)}}}function i(i,s,l,n){var c="$md.swipeleft $md.swiperight $md.swipeup $md.swipedown";return{onShow:function(t,o,r){d=r.textContent||r.content;var e,a=!n("gt-sm");return o=l.extractElementByName(o,"md-toast",!0),r.element=o,r.onSwipe=function(t,e){var n=t.type.replace("$md.",""),i=n.replace("swipe","");"down"===i&&-1!=r.position.indexOf("top")&&!a||"up"===i&&(-1!=r.position.indexOf("bottom")||a)||("left"!==i&&"right"!==i||!a)&&(o.addClass("md-"+n),l.nextTick(s.cancel))},r.openClass=(e=r.position,n("gt-xs")?"md-toast-open-"+(-1<e.indexOf("top")?"top":"bottom"):"md-toast-open-bottom"),o.addClass(r.toastClass),r.parent.addClass(r.openClass),l.hasComputedStyle(r.parent,"position","static")&&r.parent.css("position","relative"),o.on(c,r.onSwipe),o.addClass(a?"md-bottom":r.position.split(" ").map(function(t){return"md-"+t}).join(" ")),r.parent&&r.parent.addClass("md-toast-animating"),i.enter(o,r.parent).then(function(){r.parent&&r.parent.removeClass("md-toast-animating")})},onRemove:function(t,e,n){return e.off(c,n.onSwipe),n.parent&&n.parent.addClass("md-toast-animating"),n.openClass&&n.parent.removeClass(n.openClass),(1==n.$destroy?e.remove():i.leave(e)).then(function(){n.parent&&n.parent.removeClass("md-toast-animating"),l.hasComputedStyle(n.parent,"position","static")&&n.parent.css("position","")})},toastClass:"",position:"bottom left",themable:!0,hideDelay:3e3,autoWrap:!0,transformTemplate:function(t,e){if(e.autoWrap&&t&&!/md-toast-content/g.test(t)){var n=document.createElement("md-template");n.innerHTML=t;for(var i=0;i<n.children.length;i++)if("MD-TOAST"===n.children[i].nodeName){var o=st.element('<div class="md-toast-content">');o.append(st.element(n.children[i].childNodes)),n.children[i].appendChild(o[0])}return n.innerHTML}return t||""}}}n.$inject=["$mdToast","$scope"],i.$inject=["$animate","$mdToast","$mdUtil","$mdMedia"];var d,o="ok";return t("$mdToast").setDefaults({methods:["position","hideDelay","capsule","parent","position","toastClass"],options:i}).addPreset("simple",{argOption:"textContent",methods:["textContent","content","action","highlightAction","highlightClass","theme","parent"],options:["$mdToast","$mdTheming",function(t,e){return{template:'<md-toast md-theme="{{ toast.theme }}" ng-class="{\'md-capsule\': toast.capsule}">  <div class="md-toast-content">    <span class="md-toast-text" role="alert" aria-relevant="all" aria-atomic="true">      {{ toast.content }}    </span>    <md-button class="md-action" ng-if="toast.action" ng-click="toast.resolve()"         ng-class="highlightClasses">      {{ toast.action }}    </md-button>  </div></md-toast>',controller:n,theme:e.defaultTheme(),controllerAs:"toast",bindToController:!0}}]}).addMethod("updateTextContent",e).addMethod("updateContent",e)}t.$inject=["$mdToast"],e.$inject=["$$interimElementProvider"],st.module("material.components.toast",["material.core","material.components.button"]).directive("mdToast",t).provider("$mdToast",e)}(),function(){function t(m,g,v,t,y){var b=st.bind(null,v.supplant,"translate3d(0,{0}px,0)");return{template:"",restrict:"E",link:function(h,p,f){p.addClass("_md"),t(p),v.nextTick(function(){p.addClass("_md-toolbar-transitions")},!1),st.isDefined(f.mdScrollShrink)&&function(){function n(t,e){e&&p.parent()[0]===e.parent()[0]&&(r&&r.off("scroll",d),r=e,a=i())}function e(t){var e=t?t.target.scrollTop:l;u(),s=Math.min(o/c,Math.max(0,s+e-l)),p.css(g.CSS.TRANSFORM,b([-s*c])),r.css(g.CSS.TRANSFORM,b([(o-s)*c])),l=e,v.nextTick(function(){var t=p.hasClass("md-whiteframe-z1");t&&!s?y.removeClass(p,"md-whiteframe-z1"):!t&&s&&y.addClass(p,"md-whiteframe-z1")})}function i(){return r?(r.on("scroll",d),r.attr("scroll-shrink","true"),v.nextTick(t,!1),function(){r.off("scroll",d),r.attr("scroll-shrink","false"),t()}):st.noop}function t(){var t=-(o=p.prop("offsetHeight"))*c+"px";r.css({"margin-top":t,"margin-bottom":t}),e()}var o,r,a=st.noop,s=0,l=0,c=f.mdShrinkSpeedFactor||.5,d=m.throttle(e),u=v.debounce(t,5e3);h.$on("$mdContentLoaded",n),f.$observe("mdScrollShrink",function(t){var e=p.parent().find("md-content");!r&&e.length&&n(0,e),!1===(t=h.$eval(t))?a():a=i()}),f.ngShow&&h.$watch(f.ngShow,t),f.ngHide&&h.$watch(f.ngHide,t),h.$on("$destroy",a)}()}}}t.$inject=["$$rAF","$mdConstant","$mdUtil","$mdTheming","$animate"],st.module("material.components.toolbar",["material.core","material.components.content"]).directive("mdToolbar",t)}(),function(){function t(y,b,_,x,w,E,M,T){var C="focus touchstart mouseenter",S="blur touchcancel mouseleave",A={top:{x:M.xPosition.CENTER,y:M.yPosition.ABOVE},right:{x:M.xPosition.OFFSET_END,y:M.yPosition.CENTER},bottom:{x:M.xPosition.CENTER,y:M.yPosition.BELOW},left:{x:M.xPosition.OFFSET_START,y:M.yPosition.CENTER}};return{restrict:"E",priority:210,scope:{mdZIndex:"=?mdZIndex",mdDelay:"=?mdDelay",mdVisible:"=?mdVisible",mdAutohide:"=?mdAutohide",mdDirection:"@?mdDirection"},link:function(a,i,s){function t(){a.mdZIndex=a.mdZIndex||100,a.mdDelay=a.mdDelay||0,A[a.mdDirection]||(a.mdDirection="bottom")}function n(t){var e=t||w(i.text().trim())(a.$parent);(!f.attr("aria-label")&&!f.attr("aria-labelledby")||f.attr("md-labeled-by-tooltip"))&&(f.attr("aria-label",e),f.attr("md-labeled-by-tooltip")||f.attr("md-labeled-by-tooltip",p))}function o(){t(),u&&u.panelEl&&u.panelEl.removeClass(c),c="md-origin-"+a.mdDirection,e=A[a.mdDirection],d=M.newPanelPosition().relativeTo(f).addPanelPosition(e.x,e.y),u&&u.panelEl&&(u.panelEl.addClass(c),u.updatePosition(d))}function l(t){l.queued&&l.value===!!t||!l.queued&&a.mdVisible===!!t||(l.value=!!t,l.queued||(t?(l.queued=!0,h=y(function(){a.mdVisible=l.value,l.queued=!1,h=null,a.visibleWatcher||r(a.mdVisible)},a.mdDelay)):E.nextTick(function(){a.mdVisible=!1,a.visibleWatcher||r(!1)})))}function r(t){t?function(){if(!i[0].textContent.trim())throw new Error("Text for the tooltip has not been provided. Please include text within the mdTooltip element.");if(!u){var t=st.element(document.body),e=M.newPanelAnimation().openFrom(f).closeTo(f).withAnimation({open:"md-show",close:"md-hide"}),n={id:p,attachTo:t,contentElement:i,propagateContainerEvents:!0,panelClass:"md-tooltip "+c,animation:e,position:d,zIndex:a.mdZIndex,focusOnOpen:!1};u=M.create(n)}u.open().then(function(){u.panelEl.attr("role","tooltip")})}():u&&u.close()}var c,e,d,u,h,p="md-tooltip-"+E.nextUid(),f=E.getParentWithPointerEvents(i),m=_.throttle(o),g=!1,v=null;t(),n(),i.detach(),o(),function(){function t(){l(!1)}function e(){v=document.activeElement===f[0]}function n(t){"focus"===t.type&&v?v=!1:a.mdVisible||(f.on(S,i),l(!0),"touchstart"===t.type&&f.one("touchend",function(){E.nextTick(function(){x.one("touchend",i)},!1)}))}function i(){((a.hasOwnProperty("mdAutohide")?a.mdAutohide:s.hasOwnProperty("mdAutohide"))||g||x[0].activeElement!==f[0])&&(h&&(y.cancel(h),l.queued=!1,h=null),f.off(S,i),f.triggerHandler("blur"),l(!1)),g=!1}function o(){g=!0}if(f[0]&&"MutationObserver"in b){var r=new MutationObserver(function(t){t.some(function(t){return"disabled"===t.attributeName&&f[0].disabled})});r.observe(f[0],{attributes:!0})}v=!1,T.register("scroll",t,!0),T.register("blur",e),T.register("resize",m),a.$on("$destroy",function(){T.deregister("scroll",t,!0),T.deregister("blur",e),T.deregister("resize",m),f.off(C,n).off(S,i).off("mousedown",o),i(),r&&r.disconnect()}),f.on("mousedown",o),f.on(C,n)}(),function(){function t(){a.$destroy()}if(i[0]&&"MutationObserver"in b){var e=new MutationObserver(function(t){t.forEach(function(t){"md-visible"!==t.attributeName||a.visibleWatcher||(a.visibleWatcher=a.$watch("mdVisible",r))})});e.observe(i[0],{attributes:!0}),s.hasOwnProperty("mdVisible")&&(a.visibleWatcher=a.$watch("mdVisible",r))}else a.visibleWatcher=a.$watch("mdVisible",r);a.$watch("mdDirection",o),i.one("$destroy",t),f.one("$destroy",t),a.$on("$destroy",function(){l(!1),u&&u.destroy(),e&&e.disconnect(),i.remove()}),-1<i.text().indexOf(w.startSymbol())&&a.$watch(function(){return i.text().trim()},n)}()}}}t.$inject=["$timeout","$window","$$rAF","$document","$interpolate","$mdUtil","$mdPanel","$$mdTooltipRegistry"],st.module("material.components.tooltip",["material.core","material.components.panel"]).directive("mdTooltip",t).service("$$mdTooltipRegistry",function(){function r(e){a[e.type]&&a[e.type].forEach(function(t){t.call(this,e)},this)}var a={},s=st.element(H);return{register:function(t,e,n){var i=a[t]=a[t]||[];i.length||(n?H.addEventListener(t,r,!0):s.on(t,r)),-1===i.indexOf(e)&&i.push(e)},deregister:function(t,e,n){var i=a[t],o=i?i.indexOf(e):-1;-1<o&&(i.splice(o,1),0===i.length&&(n?H.removeEventListener(t,r,!0):s.off(t,r)))}}})}(),function(){function t(t){t.addClass("md-truncate")}t.$inject=["$element"],st.module("material.components.truncate",["material.core"]).directive("mdTruncate",function(){return{restrict:"AE",controller:t,controllerAs:"$ctrl",bindToController:!0}})}(),function(){function t(t){return'<div class="md-virtual-repeat-scroller" role="presentation"><div class="md-virtual-repeat-sizer" role="presentation"></div><div class="md-virtual-repeat-offsetter" role="presentation">'+t[0].innerHTML+"</div></div>"}function e(t,n,e,i,o,r,a,s,l){this.$rootScope=o,this.$scope=a,this.$element=s,this.$attrs=l,this.size=0,this.scrollSize=0,this.scrollOffset=0,this.horizontal=this.$attrs.hasOwnProperty("mdOrientHorizontal"),this.repeater=null,this.autoShrink=this.$attrs.hasOwnProperty("mdAutoShrink"),this.autoShrinkMin=parseInt(this.$attrs.mdAutoShrinkMin,10)||0,this.originalSize=null,this.offsetSize=parseInt(this.$attrs.mdOffsetSize,10)||0,this.oldElementSize=null,this.maxElementPixels=e.ELEMENT_MAX_PIXELS,this.$attrs.mdTopIndex?(this.bindTopIndex=i(this.$attrs.mdTopIndex),this.topIndex=this.bindTopIndex(this.$scope),st.isDefined(this.topIndex)||(this.topIndex=0,this.bindTopIndex.assign(this.$scope,0)),this.$scope.$watch(this.bindTopIndex,st.bind(this,function(t){t!==this.topIndex&&this.scrollToIndex(t)}))):this.topIndex=0,this.scroller=s[0].querySelector(".md-virtual-repeat-scroller"),this.sizer=this.scroller.querySelector(".md-virtual-repeat-sizer"),this.offsetter=this.scroller.querySelector(".md-virtual-repeat-offsetter");var c=st.bind(this,this.updateSize);t(st.bind(this,function(){c();var t=n.debounce(c,10,null,!1),e=st.element(r);this.size||t(),e.on("resize",t),a.$on("$destroy",function(){e.off("resize",t)}),a.$emit("$md-resize-enable"),a.$on("$md-resize",c)}))}function n(i){return{controller:o,priority:1e3,require:["mdVirtualRepeat","^^mdVirtualRepeatContainer"],restrict:"A",terminal:!0,transclude:"element",compile:function(t,e){var n=e.mdVirtualRepeat.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)\s*$/),r=n[1],a=i(n[2]),s=e.mdExtraName&&i(e.mdExtraName);return function(t,e,n,i,o){i[0].link_(i[1],o,r,a,s)}}}}function o(t,e,n,i,o,r,a,s){this.$scope=t,this.$element=e,this.$attrs=n,this.$browser=i,this.$document=o,this.$mdUtil=s,this.$rootScope=r,this.$$rAF=a,this.onDemand=s.parseAttributeBoolean(n.mdOnDemand),this.browserCheckUrlChange=i.$$checkUrlChange,this.newStartIndex=0,this.newEndIndex=0,this.newVisibleEnd=0,this.startIndex=0,this.endIndex=0,this.itemSize=t.$eval(n.mdItemSize)||null,this.isFirstRender=!0,this.isVirtualRepeatUpdating_=!1,this.itemsLength=0,this.unwatchItemSize_=st.noop,this.blocks={},this.pooledBlocks=[],t.$on("$destroy",st.bind(this,this.cleanupBlocks_))}function i(t){if(!st.isFunction(t.getItemAtIndex)||!st.isFunction(t.getLength))throw Error("When md-on-demand is enabled, the Object passed to md-virtual-repeat must implement functions getItemAtIndex() and getLength() ");this.model=t}function r(t){return{restrict:"A",link:function(t,e,n){var i=t.$eval(n.mdForceHeight)||null;i&&e&&(e[0].style.height=i)}}}e.$inject=["$$rAF","$mdUtil","$mdConstant","$parse","$rootScope","$window","$scope","$element","$attrs"],o.$inject=["$scope","$element","$attrs","$browser","$document","$rootScope","$$rAF","$mdUtil"],n.$inject=["$parse"],st.module("material.components.virtualRepeat",["material.core","material.components.showHide"]).directive("mdVirtualRepeatContainer",function(){return{controller:e,template:t,compile:function(t,e){t.addClass("md-virtual-repeat-container").addClass(e.hasOwnProperty("mdOrientHorizontal")?"md-orient-horizontal":"md-orient-vertical")}}}).directive("mdVirtualRepeat",n).directive("mdForceHeight",r);e.prototype.register=function(t){this.repeater=t,st.element(this.scroller).on("scroll wheel touchmove touchend",st.bind(this,this.handleScroll_))},e.prototype.isHorizontal=function(){return this.horizontal},e.prototype.getSize=function(){return this.size},e.prototype.setSize_=function(t){var e=this.getDimensionName_();this.size=t,this.$element[0].style[e]=t+"px"},e.prototype.unsetSize_=function(){this.$element[0].style[this.getDimensionName_()]=this.oldElementSize,this.oldElementSize=null},e.prototype.updateSize=function(){this.originalSize||(this.size=this.isHorizontal()?this.$element[0].clientWidth:this.$element[0].clientHeight,this.handleScroll_(),this.repeater&&this.repeater.containerUpdated())},e.prototype.getScrollSize=function(){return this.scrollSize},e.prototype.getDimensionName_=function(){return this.isHorizontal()?"width":"height"},e.prototype.sizeScroller_=function(t){var e=this.getDimensionName_(),n=this.isHorizontal()?"height":"width";if(this.sizer.innerHTML="",t<this.maxElementPixels)this.sizer.style[e]=t+"px";else{this.sizer.style[e]="auto",this.sizer.style[n]="auto";var i=Math.floor(t/this.maxElementPixels),o=document.createElement("div");o.style[e]=this.maxElementPixels+"px",o.style[n]="1px";for(var r=0;r<i;r++)this.sizer.appendChild(o.cloneNode(!1));o.style[e]=t-i*this.maxElementPixels+"px",this.sizer.appendChild(o)}},e.prototype.autoShrink_=function(t){var e=Math.max(t,this.autoShrinkMin*this.repeater.getItemSize());if(this.autoShrink&&e!==this.size){null===this.oldElementSize&&(this.oldElementSize=this.$element[0].style[this.getDimensionName_()]);var n=this.originalSize||this.size;if(!n||e<n)this.originalSize||(this.originalSize=this.size),this.setSize_(e);else if(null!==this.originalSize){this.unsetSize_();var i=this.originalSize;this.originalSize=null,i||this.updateSize(),this.setSize_(i||this.size)}this.repeater.containerUpdated()}},e.prototype.setScrollSize=function(t){var e=t+this.offsetSize;this.scrollSize!==e&&(this.sizeScroller_(e),this.autoShrink_(e),this.scrollSize=e)},e.prototype.getScrollOffset=function(){return this.scrollOffset},e.prototype.scrollTo=function(t){this.scroller[this.isHorizontal()?"scrollLeft":"scrollTop"]=t,this.handleScroll_()},e.prototype.scrollToIndex=function(t){var e=this.repeater.getItemSize(),n=this.repeater.itemsLength;n<t&&(t=n-1),this.scrollTo(e*t)},e.prototype.resetScroll=function(){this.scrollTo(0)},e.prototype.handleScroll_=function(){var t="rtl"!=document.dir&&"rtl"!=document.body.dir;t||this.maxSize||(this.scroller.scrollLeft=this.scrollSize,this.maxSize=this.scroller.scrollLeft);var e=this.isHorizontal()?t?this.scroller.scrollLeft:this.maxSize-this.scroller.scrollLeft:this.scroller.scrollTop;if(!(e===this.scrollOffset||e>this.scrollSize-this.size)){var n=this.repeater.getItemSize();if(n){var i=Math.max(0,Math.floor(e/n)-3),o=(this.isHorizontal()?"translateX(":"translateY(")+(!this.isHorizontal()||t?i*n:-i*n)+"px)";if(this.scrollOffset=e,this.offsetter.style.webkitTransform=o,this.offsetter.style.transform=o,this.bindTopIndex){var r=Math.floor(e/n);r!==this.topIndex&&r<this.repeater.getItemCount()&&(this.topIndex=r,this.bindTopIndex.assign(this.$scope,r),this.$rootScope.$$phase||this.$scope.$digest())}this.repeater.containerUpdated()}}},o.prototype.link_=function(t,e,n,i,o){this.container=t,this.transclude=e,this.repeatName=n,this.rawRepeatListExpression=i,this.extraName=o,this.sized=!1,this.repeatListExpression=st.bind(this,this.repeatListExpression_),this.container.register(this)},o.prototype.cleanupBlocks_=function(){st.forEach(this.pooledBlocks,function(t){t.element.remove()})},o.prototype.readItemSize_=function(){if(!this.itemSize){this.items=this.repeatListExpression(this.$scope),this.parentNode=this.$element[0].parentNode;var t=this.getBlock_(0);t.element[0].parentNode||this.parentNode.appendChild(t.element[0]),this.itemSize=t.element[0][this.container.isHorizontal()?"offsetWidth":"offsetHeight"]||null,this.blocks[0]=t,this.poolBlock_(0),this.itemSize&&this.containerUpdated()}},o.prototype.repeatListExpression_=function(t){var e=this.rawRepeatListExpression(t);if(this.onDemand&&e){var n=new i(e);return n.$$includeIndexes(this.newStartIndex,this.newVisibleEnd),n}return e},o.prototype.containerUpdated=function(){return this.itemSize?(this.sized||(this.items=this.repeatListExpression(this.$scope)),this.sized||(this.unwatchItemSize_(),this.sized=!0,this.$scope.$watchCollection(this.repeatListExpression,st.bind(this,function(t,e){this.isVirtualRepeatUpdating_||this.virtualRepeatUpdate_(t,e)}))),this.updateIndexes_(),void((this.newStartIndex!==this.startIndex||this.newEndIndex!==this.endIndex||this.container.getScrollOffset()>this.container.getScrollSize())&&(this.items instanceof i&&this.items.$$includeIndexes(this.newStartIndex,this.newEndIndex),this.virtualRepeatUpdate_(this.items,this.items)))):(this.unwatchItemSize_&&this.unwatchItemSize_!==st.noop&&this.unwatchItemSize_(),this.unwatchItemSize_=this.$scope.$watchCollection(this.repeatListExpression,st.bind(this,function(t){t&&t.length&&this.readItemSize_()})),void(this.$rootScope.$$phase||this.$scope.$digest()))},o.prototype.getItemSize=function(){return this.itemSize},o.prototype.getItemCount=function(){return this.itemsLength},o.prototype.virtualRepeatUpdate_=function(t,e){this.isVirtualRepeatUpdating_=!0;var n=t&&t.length||0,i=!1;if(this.items&&n<this.items.length&&0!==this.container.getScrollOffset()){this.items=t;var o=this.container.getScrollOffset();this.container.resetScroll(),this.container.scrollTo(o)}n!==this.itemsLength&&(i=!0,this.itemsLength=n),((this.items=t)!==e||i)&&this.updateIndexes_(),this.parentNode=this.$element[0].parentNode,i&&this.container.setScrollSize(n*this.itemSize),Object.keys(this.blocks).forEach(function(t){var e=parseInt(t,10);(e<this.newStartIndex||e>=this.newEndIndex)&&this.poolBlock_(e)},this),this.$browser.$$checkUrlChange=st.noop;var r,a,s=[],l=[];for(r=this.newStartIndex;r<this.newEndIndex&&null==this.blocks[r];r++)a=this.getBlock_(r),this.updateBlock_(a,r),s.push(a);for(;null!=this.blocks[r];r++)this.updateBlock_(this.blocks[r],r);for(var c=r-1;r<this.newEndIndex;r++)a=this.getBlock_(r),this.updateBlock_(a,r),l.push(a);if(s.length&&this.parentNode.insertBefore(this.domFragmentFromBlocks_(s),this.$element[0].nextSibling),l.length&&this.parentNode.insertBefore(this.domFragmentFromBlocks_(l),this.blocks[c]&&this.blocks[c].element[0].nextSibling),this.$browser.$$checkUrlChange=this.browserCheckUrlChange,this.startIndex=this.newStartIndex,this.endIndex=this.newEndIndex,this.isFirstRender){this.isFirstRender=!1;var d=this.$attrs.mdStartIndex?this.$scope.$eval(this.$attrs.mdStartIndex):this.container.topIndex;this.$mdUtil.nextTick(function(){this.container.scrollToIndex(d)}.bind(this))}this.isVirtualRepeatUpdating_=!1},o.prototype.getBlock_=function(n){return this.pooledBlocks.length?this.pooledBlocks.pop():(this.transclude(st.bind(this,function(t,e){i={element:t,new:!0,scope:e},this.updateScope_(e,n),this.parentNode.appendChild(t[0])})),i);var i},o.prototype.updateBlock_=function(t,e){((this.blocks[e]=t).new||t.scope.$index!==e||t.scope[this.repeatName]!==this.items[e])&&(t.new=!1,this.updateScope_(t.scope,e),this.$rootScope.$$phase||t.scope.$digest())},o.prototype.updateScope_=function(t,e){t.$index=e,t[this.repeatName]=this.items&&this.items[e],this.extraName&&(t[this.extraName(this.$scope)]=this.items[e])},o.prototype.poolBlock_=function(t){this.pooledBlocks.push(this.blocks[t]),this.parentNode.removeChild(this.blocks[t].element[0]),delete this.blocks[t]},o.prototype.domFragmentFromBlocks_=function(t){var e=this.$document[0].createDocumentFragment();return t.forEach(function(t){e.appendChild(t.element[0])}),e},o.prototype.updateIndexes_=function(){var t=this.items?this.items.length:0,e=Math.ceil(this.container.getSize()/this.itemSize);this.newStartIndex=Math.max(0,Math.min(t-e,Math.floor(this.container.getScrollOffset()/this.itemSize))),this.newVisibleEnd=this.newStartIndex+e+3,this.newEndIndex=Math.min(t,this.newVisibleEnd),this.newStartIndex=Math.max(0,this.newStartIndex-3)},i.prototype.$$includeIndexes=function(t,e){for(var n=t;n<e;n++)this.hasOwnProperty(n)||(this[n]=this.model.getItemAtIndex(n));this.length=this.model.getLength()},r.$inject=["$mdUtil"]}(),function(){function t(r){return{link:function(t,n,i){var o="";i.$observe("mdWhiteframe",function(t){-1!=(t=parseInt(t,10)||4)&&(24<t||t<1)&&(r.warn("md-whiteframe attribute value is invalid. It should be a number between 1 and 24",n[0]),t=4);var e=-1==t?"":"md-whiteframe-"+t+"dp";i.$updateClass(e,o),o=e})}}}t.$inject=["$log"],st.module("material.components.whiteframe",["material.core"]).directive("mdWhiteframe",t)}(),function(){function t(h,p,f,e,n,t,i,o,m,s,r,a){function l(){h.requireMatch&&J&&J.$setValidity("md-require-match",!!h.selectedItem||!h.searchText)}function g(){if(!W)return f.nextTick(g,!1,h);var t,e=(h.dropdownItems||ot)*it,n=W.wrap.getBoundingClientRect(),i=W.snap.getBoundingClientRect(),o=W.root.getBoundingClientRect(),r=i.bottom-o.top,a=o.bottom-i.top,s=n.left-o.left,l=n.width,c=function(){var t=0,e=p.find("md-input-container");if(e.length){var n=e.find("input");t=e.prop("offsetHeight"),t-=n.prop("offsetTop"),t-=n.prop("offsetHeight"),t+=e.prop("offsetTop")}return t}(),d=h.dropdownPosition;if(d||(d=a<r&&o.height-r-rt<e?"top":"bottom"),m.mdFloatingLabel&&(s+=at,l-=2*at),t={left:s+"px",minWidth:l+"px",maxWidth:Math.max(n.right-o.left,o.right-n.left)-rt+"px"},"top"===d)t.top="auto",t.bottom=a+"px",t.maxHeight=Math.min(e,n.top-o.top-rt)+"px";else{var u=o.bottom-n.bottom-rt+f.getViewportTop();t.top=r-c+"px",t.bottom="auto",t.maxHeight=Math.min(e,u)+"px"}W.$.scrollContainer.css(t),f.nextTick(function(){var t=W.scrollContainer.getBoundingClientRect(),e={};t.right>o.right-rt&&(e.left=n.right-t.width+"px"),W.$.scrollContainer.css(e)},!1)}function c(){W.input.focus()}function d(){if(j.hidden||f.enableScrolling(),st.element(t).off("resize",tt),W){st.forEach(["ul","scroller","scrollContainer","input"],function(t){W.$[t].remove()})}}function u(){Z||j.hidden||W.input.focus(),q=!1,j.hidden=E()}function v(i,o){l(),i?_(i).then(function(t){var e,n;h.searchText=t,e=i,n=o,X.forEach(function(t){t(e,n)})}):o&&h.searchText&&_(o).then(function(t){st.isString(h.searchText)&&t.toString().toLowerCase()===h.searchText.toLowerCase()&&(h.searchText="")}),i!==o&&st.isFunction(h.itemChange)&&h.itemChange(x(h.selectedItem))}function y(e,n){j.index=h.autoselect?0:-1,e!==n&&(l(),_(h.selectedItem).then(function(t){e!==t&&(h.selectedItem=null,e!==n&&(st.isFunction(h.textChange)&&h.textChange()),k()?$():(w(!(j.matches=[])),N(!1,nt.Count)))}))}function b(){return st.isNumber(h.minLength)?h.minLength:1}function _(t){return s.when((e=t,(e&&h.itemText?h.itemText(x(e)):null)||t)).then(function(t){return t&&!st.isString(t)&&r.warn("md-autocomplete: Could not resolve display value to a string. Please check the `md-item-text` attribute."),t});var e}function x(t){if(!t)return lt;var e={};return j.itemName&&(e[j.itemName]=t),e}function w(t){j.loading!=t&&(j.loading=t),j.hidden=E()}function E(){return!M()||!(k()&&C()||R())}function M(){return!(j.loading&&!C()||S()||!Z)}function T(t){return!h.escapeOptions||-1!==h.escapeOptions.toLowerCase().indexOf(t)}function C(){return!!j.matches.length}function S(){return!!j.scope.selectedItem}function A(){return _(j.matches[j.index])}function k(){return(h.searchText||"").length>=b()}function D(t){f.nextTick(function(){_(j.matches[t]).then(function(t){var e=W.$.input.controller("ngModel");e.$setViewValue(t),e.$render()}).finally(function(){h.selectedItem=j.matches[t],w(!1)})},!1)}function O(){j.index=0,j.matches=[]}function P(){w(!0),h.searchText="";var t=document.createEvent("CustomEvent");t.initCustomEvent("change",!0,!0,{value:""}),W.input.dispatchEvent(t),W.input.blur(),h.searchText="",W.input.focus()}function N(t,e){var n=t?"polite":"assertive",i=[];e&nt.Selected&&-1!==j.index&&i.push(A()),e&nt.Count&&i.push(s.resolve(function(){switch(j.matches.length){case 0:return"There are no matches available.";case 1:return"There is 1 match available.";default:return"There are "+j.matches.length+" matches available."}}())),s.all(i).then(function(t){a.announce(t.join(" "),n)})}function L(){if(W.li[0]){var t=W.li[0].offsetHeight,e=t*j.index,n=e+t,i=W.scroller.clientHeight,o=W.scroller.scrollTop;e<o?I(e):o+i<n&&I(n-i)}}function I(t){W.$.scrollContainer.controller("mdVirtualRepeatContainer").scrollTo(t)}function R(){var t=(j.scope.searchText||"").length;return j.hasNotFound&&!C()&&(!j.loading||0!==K)&&t>=b()&&(Z||q)&&!S()}function $(){var t=h.searchText||"",e=t.toLowerCase();!h.noCache&&Y[e]?F(Y[e]):function(e){function t(t){Y[o]=t,(e||"")===(h.searchText||"")&&F(t)}var n,i=h.$parent.$eval(G),o=e.toLowerCase(),r=st.isArray(i),a=!!i.then;r?t(i):a&&(n=i)&&(n=s.when(n),K++,w(!0),f.nextTick(function(){n.then(t).finally(function(){0==--K&&w(!1)})},!0,h))}(t),j.hidden=E()}function F(t){var n,e,i;j.matches=t,j.hidden=E(),j.loading&&w(!1),h.selectOnMatch&&(n=h.searchText,e=j.matches,i=e[0],1===e.length&&_(i).then(function(t){var e=n==t;h.matchInsensitive&&!e&&(e=n.toLowerCase()==t.toLowerCase()),e&&D(0)})),g(),N(!0,nt.Count)}function z(t,e){m[t]&&h.$parent.$eval(m[t],e||{})}var H,B,U,j=this,V=h.itemsExpr.split(/ in /i),G=V[1],W=null,Y={},q=!1,X=[],Z=!1,K=0,Q=null,J=null,tt=f.debounce(function(){j.hidden||g()});H="hidden",B=function(t,e){!t&&e?(g(),N(!0,nt.Count|nt.Selected),W&&(f.disableScrollAround(W.ul),Q=function(t){function e(t){t.preventDefault()}return t.on("wheel",e),t.on("touchmove",e),function(){t.off("wheel",e),t.off("touchmove",e)}}(st.element(W.wrap)))):t&&!e&&(f.enableScrolling(),Q&&(Q(),Q=null))},U=!0,Object.defineProperty(j,H,{get:function(){return U},set:function(t){var e=U;B(U=t,e)}}),j.scope=h,j.parent=h.$parent,j.itemName=V[0],j.matches=[],j.loading=!1,j.hidden=!0,j.index=null,j.id=f.nextUid(),j.isDisabled=null,j.isRequired=null,j.isReadonly=null,j.hasNotFound=!1,j.keydown=function(t){switch(t.keyCode){case e.KEY_CODE.DOWN_ARROW:if(j.loading)return;t.stopPropagation(),t.preventDefault(),j.index=Math.min(j.index+1,j.matches.length-1),L(),N(!1,nt.Selected);break;case e.KEY_CODE.UP_ARROW:if(j.loading)return;t.stopPropagation(),t.preventDefault(),j.index=j.index<0?j.matches.length-1:Math.max(0,j.index-1),L(),N(!1,nt.Selected);break;case e.KEY_CODE.TAB:if(u(),j.hidden||j.loading||j.index<0||j.matches.length<1)return;D(j.index);break;case e.KEY_CODE.ENTER:if(j.hidden||j.loading||j.index<0||j.matches.length<1)return;if(S())return;t.stopPropagation(),t.preventDefault(),D(j.index);break;case e.KEY_CODE.ESCAPE:if(t.preventDefault(),!(T("blur")||!j.hidden||j.loading||T("clear")&&h.searchText))return;t.stopPropagation(),O(),h.searchText&&T("clear")&&P(),j.hidden=!0,T("blur")&&(Z=q=!1,W.input.blur())}},j.blur=function(t){Z=!1,q||(j.hidden=E(),z("ngBlur",{$event:t}))},j.focus=function(t){Z=!0,M()&&k()&&$(),j.hidden=E(),z("ngFocus",{$event:t})},j.clear=function(){O(),P()},j.select=D,j.listEnter=function(){q=!0},j.listLeave=u,j.mouseUp=function(){W.input.focus()},j.getCurrentDisplayValue=A,j.registerSelectedItemWatcher=function(t){-1==X.indexOf(t)&&X.push(t)},j.unregisterSelectedItemWatcher=function(t){var e=X.indexOf(t);-1!=e&&X.splice(e,1)},j.notFoundVisible=R,j.loadingIsVisible=function(){return j.loading&&!S()},j.positionDropdown=g;var et,nt={Count:1,Selected:2};return f.initOptionalProperties(h,m,{searchText:"",selectedItem:null,clearButton:!1}),n(p),et=parseInt(h.delay,10)||0,m.$observe("disabled",function(t){j.isDisabled=f.parseAttributeBoolean(t,!1)}),m.$observe("required",function(t){j.isRequired=f.parseAttributeBoolean(t,!1)}),m.$observe("readonly",function(t){j.isReadonly=f.parseAttributeBoolean(t,!1)}),h.$watch("searchText",et?f.debounce(y,et):y),h.$watch("selectedItem",v),st.element(t).on("resize",tt),h.$on("$destroy",d),void f.nextTick(function(){var t;t=function(){var t,e;for(t=p;t.length&&(e=t.attr("md-autocomplete-snap"),!st.isDefined(e));t=t.parent());if(t.length)return{snap:t[0],wrap:"width"===e.toLowerCase()?t[0]:p.find("md-autocomplete-wrap")[0]};var n=p.find("md-autocomplete-wrap")[0];return{snap:n,wrap:n}}(),(W={main:p[0],scrollContainer:p[0].querySelector(".md-virtual-repeat-container"),scroller:p[0].querySelector(".md-virtual-repeat-scroller"),ul:p.find("ul")[0],input:p.find("input")[0],wrap:t.wrap,snap:t.snap,root:document.body}).li=W.ul.getElementsByTagName("li"),W.$=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=st.element(t[n]));return e}(W),J=W.$.input.controller("ngModel"),W.$.root.length&&(n(W.$.scrollContainer),W.$.scrollContainer.detach(),W.$.root.append(W.$.scrollContainer),i.pin&&i.pin(W.$.scrollContainer,o)),h.autofocus&&p.on("focus",c)})}t.$inject=["$scope","$element","$mdUtil","$mdConstant","$mdTheming","$window","$animate","$rootElement","$attrs","$q","$log","$mdLiveAnnouncer"],st.module("material.components.autocomplete").controller("MdAutocompleteCtrl",t);var it=48,ot=5,rt=8,at=2}(),function(){function t(d){return{controller:"MdAutocompleteCtrl",controllerAs:"$mdAutocompleteCtrl",scope:{inputName:"@mdInputName",inputMinlength:"@mdInputMinlength",inputMaxlength:"@mdInputMaxlength",searchText:"=?mdSearchText",selectedItem:"=?mdSelectedItem",itemsExpr:"@mdItems",itemText:"&mdItemText",placeholder:"@placeholder",noCache:"=?mdNoCache",requireMatch:"=?mdRequireMatch",selectOnMatch:"=?mdSelectOnMatch",matchInsensitive:"=?mdMatchCaseInsensitive",itemChange:"&?mdSelectedItemChange",textChange:"&?mdSearchTextChange",minLength:"=?mdMinLength",delay:"=?mdDelay",autofocus:"=?mdAutofocus",floatingLabel:"@?mdFloatingLabel",autoselect:"=?mdAutoselect",menuClass:"@?mdMenuClass",inputId:"@?mdInputId",escapeOptions:"@?mdEscapeOptions",dropdownItems:"=?mdDropdownItems",dropdownPosition:"@?mdDropdownPosition",clearButton:"=?mdClearButton"},compile:function(t,n){var i=t.find("input");return["md-select-on-focus","md-no-asterisk","ng-trim","ng-pattern"].forEach(function(t){var e=n[n.$normalize(t)];null!==e&&i.attr(t,e)}),function(t,e,n,i){i.hasNotFound=!!e.attr("md-has-not-found"),st.isDefined(n.mdClearButton)||t.floatingLabel||(t.clearButton=!0)}},template:function(t,e){var n,i,o,r,a=(o=t.find("md-not-found").detach(),(r=o.length?o.html():"")?'<li ng-if="$mdAutocompleteCtrl.notFoundVisible()"                         md-autocomplete-parent-scope>'+r+"</li>":""),s=(n=t.find("md-item-template").detach(),i=n.length?n.html():t.html(),n.length||t.empty(),"<md-autocomplete-parent-scope md-autocomplete-replace>"+i+"</md-autocomplete-parent-scope>"),l=t.html(),c=e.tabindex;return a&&t.attr("md-has-not-found",!0),t.attr("tabindex","-1"),"        <md-autocomplete-wrap            ng-class=\"{ 'md-whiteframe-z1': !floatingLabel,                         'md-menu-showing': !$mdAutocompleteCtrl.hidden,                         'md-show-clear-button': !!clearButton }\">          "+(e.mdFloatingLabel?'            <md-input-container ng-if="floatingLabel">              <label>{{floatingLabel}}</label>              <input type="search"                  '+(null!=c?'tabindex="'+c+'"':"")+'                  id="{{ inputId || \'fl-input-\' + $mdAutocompleteCtrl.id }}"                  name="{{inputName}}"                  autocomplete="off"                  ng-required="$mdAutocompleteCtrl.isRequired"                  ng-readonly="$mdAutocompleteCtrl.isReadonly"                  ng-minlength="inputMinlength"                  ng-maxlength="inputMaxlength"                  ng-disabled="$mdAutocompleteCtrl.isDisabled"                  ng-model="$mdAutocompleteCtrl.scope.searchText"                  ng-model-options="{ allowInvalid: true }"                  ng-keydown="$mdAutocompleteCtrl.keydown($event)"                  ng-blur="$mdAutocompleteCtrl.blur($event)"                  ng-focus="$mdAutocompleteCtrl.focus($event)"                  aria-owns="ul-{{$mdAutocompleteCtrl.id}}"                  aria-label="{{floatingLabel}}"                  aria-autocomplete="list"                  role="combobox"                  aria-haspopup="true"                  aria-activedescendant=""                  aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"/>              <div md-autocomplete-parent-scope md-autocomplete-replace>'+l+"</div>            </md-input-container>":'            <input type="search"                '+(null!=c?'tabindex="'+c+'"':"")+'                id="{{ inputId || \'input-\' + $mdAutocompleteCtrl.id }}"                name="{{inputName}}"                ng-if="!floatingLabel"                autocomplete="off"                ng-required="$mdAutocompleteCtrl.isRequired"                ng-disabled="$mdAutocompleteCtrl.isDisabled"                ng-readonly="$mdAutocompleteCtrl.isReadonly"                ng-minlength="inputMinlength"                ng-maxlength="inputMaxlength"                ng-model="$mdAutocompleteCtrl.scope.searchText"                ng-keydown="$mdAutocompleteCtrl.keydown($event)"                ng-blur="$mdAutocompleteCtrl.blur($event)"                ng-focus="$mdAutocompleteCtrl.focus($event)"                placeholder="{{placeholder}}"                aria-owns="ul-{{$mdAutocompleteCtrl.id}}"                aria-label="{{placeholder}}"                aria-autocomplete="list"                role="combobox"                aria-haspopup="true"                aria-activedescendant=""                aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"/>')+'          <button type="button" aria-label="Clear Input" tabindex="-1" ng-if="clearButton && $mdAutocompleteCtrl.scope.searchText" ng-click="$mdAutocompleteCtrl.clear($event)"><md-icon md-svg-src="'+d.mdClose+'"></md-icon></button>          <md-progress-linear              class="'+(e.mdFloatingLabel?"md-inline":"")+'"              ng-if="$mdAutocompleteCtrl.loadingIsVisible()"              md-mode="indeterminate"></md-progress-linear>          <md-virtual-repeat-container              md-auto-shrink              md-auto-shrink-min="1"              ng-mouseenter="$mdAutocompleteCtrl.listEnter()"              ng-mouseleave="$mdAutocompleteCtrl.listLeave()"              ng-mouseup="$mdAutocompleteCtrl.mouseUp()"              ng-hide="$mdAutocompleteCtrl.hidden"              class="md-autocomplete-suggestions-container md-whiteframe-z1"              ng-class="{ \'md-not-found\': $mdAutocompleteCtrl.notFoundVisible() }"              role="presentation">            <ul class="md-autocomplete-suggestions"                ng-class="::menuClass"                id="ul-{{$mdAutocompleteCtrl.id}}">              <li md-virtual-repeat="item in $mdAutocompleteCtrl.matches"                  ng-class="{ selected: $index === $mdAutocompleteCtrl.index }"                  ng-click="$mdAutocompleteCtrl.select($index)"                  md-extra-name="$mdAutocompleteCtrl.itemName">                  '+s+"                  </li>"+a+"            </ul>          </md-virtual-repeat-container>        </md-autocomplete-wrap>"}}}t.$inject=["$$mdSvgRegistry"],st.module("material.components.autocomplete").directive("mdAutocomplete",t)}(),function(){function t(t,d){return{restrict:"AE",compile:function(t,e,c){return function(n,e,t){function i(t,e){s[e]=n[t],n.$watch(t,function(t){d.nextTick(function(){s[e]=t})})}var o,r,a=n.$mdAutocompleteCtrl,s=a.parent.$new(),l=a.itemName;i("$index","$index"),i("item",l),r=o=!1,n.$watch(function(){r||o||(o=!0,n.$$postDigest(function(){r||s.$digest(),o=r=!1}))}),s.$watch(function(){r=!0}),c(s,function(t){e.after(t)})}},terminal:!0,transclude:"element"}}t.$inject=["$compile","$mdUtil"],st.module("material.components.autocomplete").directive("mdAutocompleteParentScope",t)}(),function(){function t(t,e,n){this.$scope=t,this.$element=e,this.$attrs=n,this.regex=null}t.$inject=["$scope","$element","$attrs"],st.module("material.components.autocomplete").controller("MdHighlightCtrl",t),t.prototype.init=function(e,n){this.flags=this.$attrs.mdHighlightFlags||"",this.unregisterFn=this.$scope.$watch(function(t){return{term:e(t),contentText:n(t)}}.bind(this),this.onRender.bind(this),!0),this.$element.on("$destroy",this.unregisterFn)},t.prototype.onRender=function(t,e){var n=t.contentText;null!==this.regex&&t.term===e.term||(this.regex=this.createRegex(t.term,this.flags)),t.term?this.applyRegex(n):this.$element.text(n)},t.prototype.applyRegex=function(t){var e=this.resolveTokens(t);this.$element.empty(),e.forEach(function(t){if(t.isMatch){var e=st.element('<span class="highlight">').text(t.text);this.$element.append(e)}else this.$element.append(document.createTextNode(t))}.bind(this))},t.prototype.resolveTokens=function(i){function n(t,e){var n=i.slice(t,e);n&&o.push(n)}var o=[],r=0;return i.replace(this.regex,function(t,e){n(r,e),o.push({text:t,isMatch:!0}),r=e+t.length}),n(r),o},t.prototype.createRegex=function(t,e){var n="",i="",o=this.sanitizeRegex(t);return 0<=e.indexOf("^")&&(n="^"),0<=e.indexOf("$")&&(i="$"),new RegExp(n+o+i,e.replace(/[$\^]/g,""))},t.prototype.sanitizeRegex=function(t){return t&&t.toString().replace(/[\\\^\$\*\+\?\.\(\)\|\{}\[\]]/g,"\\$&")}}(),function(){function t(n,i){return{terminal:!0,controller:"MdHighlightCtrl",compile:function(t,e){var o=i(e.mdHighlightText),r=n(t.html());return function(t,e,n,i){i.init(o,r)}}}}t.$inject=["$interpolate","$parse"],st.module("material.components.autocomplete").directive("mdHighlightText",t)}(),function(){function t(t,e,n,i,o){this.$scope=t,this.$element=e,this.$mdConstant=n,this.$timeout=i,this.$mdUtil=o,this.isEditting=!1,this.parentController=lt,this.enableChipEdit=!1}t.$inject=["$scope","$element","$mdConstant","$timeout","$mdUtil"],st.module("material.components.chips").controller("MdChipCtrl",t),t.prototype.init=function(t){this.parentController=t,this.enableChipEdit=this.parentController.enableChipEdit,this.enableChipEdit&&(this.$element.on("keydown",this.chipKeyDown.bind(this)),this.$element.on("mousedown",this.chipMouseDown.bind(this)),this.getChipContent().addClass("_md-chip-content-edit-is-enabled"))},t.prototype.getChipContent=function(){var t=this.$element[0].getElementsByClassName("md-chip-content");return st.element(t[0])},t.prototype.getContentElement=function(){return st.element(this.getChipContent().children()[0])},t.prototype.getChipIndex=function(){return parseInt(this.$element.attr("index"))},t.prototype.goOutOfEditMode=function(){if(this.isEditting){this.isEditting=!1,this.$element.removeClass("_md-chip-editing"),this.getChipContent()[0].contentEditable="false";var t=this.getChipIndex();this.getContentElement().text()?(this.parentController.updateChipContents(t,this.getContentElement().text()),this.$mdUtil.nextTick(function(){this.parentController.selectedChip===t&&this.parentController.focusChip(t)}.bind(this))):this.parentController.removeChipAndFocusInput(t)}},t.prototype.selectNodeContents=function(t){var e,n;document.body.createTextRange?((e=document.body.createTextRange()).moveToElementText(t),e.select()):H.getSelection&&(n=H.getSelection(),(e=document.createRange()).selectNodeContents(t),n.removeAllRanges(),n.addRange(e))},t.prototype.goInEditMode=function(){this.isEditting=!0,this.$element.addClass("_md-chip-editing"),this.getChipContent()[0].contentEditable="true",this.getChipContent().on("blur",function(){this.goOutOfEditMode()}.bind(this)),this.selectNodeContents(this.getChipContent()[0])},t.prototype.chipKeyDown=function(t){this.isEditting||t.keyCode!==this.$mdConstant.KEY_CODE.ENTER&&t.keyCode!==this.$mdConstant.KEY_CODE.SPACE?this.isEditting&&t.keyCode===this.$mdConstant.KEY_CODE.ENTER&&(t.preventDefault(),this.goOutOfEditMode()):(t.preventDefault(),this.goInEditMode())},t.prototype.chipMouseDown=function(){this.getChipIndex()==this.parentController.selectedChip&&this.enableChipEdit&&!this.isEditting&&this.goInEditMode()}}(),function(){function t(s,t,l,c){var d=t.processTemplate(e);return{restrict:"E",require:["^?mdChips","mdChip"],link:function(t,e,n,i){var o=i.shift(),r=i.shift(),a=st.element(e[0].querySelector(".md-chip-content"));s(e),o&&(r.init(o),a.append(l(d)(t)),a.on("blur",function(){o.resetSelectedChip(),o.$scope.$applyAsync()})),c(function(){o&&o.shouldFocusLastChip&&o.focusLastChipThenInput()})},controller:"MdChipCtrl"}}t.$inject=["$mdTheming","$mdUtil","$compile","$timeout"],st.module("material.components.chips").directive("mdChip",t);var e='    <span ng-if="!$mdChipsCtrl.readonly" class="md-visually-hidden">      {{$mdChipsCtrl.deleteHint}}    </span>'}(),function(){function t(o){return{restrict:"A",require:"^mdChips",scope:!1,link:function(e,t,n,i){t.on("click",function(t){e.$apply(function(){i.removeChip(e.$$replacedScope.$index)})}),o(function(){t.attr({tabindex:-1,"aria-hidden":!0}),t.find("button").attr("tabindex","-1")})}}}t.$inject=["$timeout"],st.module("material.components.chips").directive("mdChipRemove",t)}(),function(){function t(a){return{restrict:"EA",terminal:!0,link:function(t,e,n){var i=t.$parent.$mdChipsCtrl,o=i.parent.$new(!1,i.parent);o.$$replacedScope=t,o.$chip=t.$chip,o.$index=t.$index;var r=(o.$mdChipsCtrl=i).$scope.$eval(n.mdChipTransclude);e.html(r),a(e.contents())(o)},scope:!1}}t.$inject=["$compile"],st.module("material.components.chips").directive("mdChipTransclude",t)}(),function(){function t(t,e,n,i,o,r,a){this.$timeout=r,this.$mdConstant=n,this.$scope=t,this.parent=t.$parent,this.$mdUtil=a,this.$log=i,this.$element=o,this.$attrs=e,this.ngModelCtrl=null,this.userInputNgModelCtrl=null,this.autocompleteCtrl=null,this.userInputElement=null,this.items=[],this.selectedChip=-1,this.enableChipEdit=a.parseAttributeBoolean(e.mdEnableChipEdit),this.addOnBlur=a.parseAttributeBoolean(e.mdAddOnBlur),this.inputAriaLabel="Chips input.",this.containerHint="Chips container. Use arrow keys to select chips.",this.deleteHint="Press delete to remove this chip.",this.deleteButtonLabel="Remove",this.chipBuffer="",this.useTransformChip=!1,this.useOnAdd=!1,this.useOnRemove=!1,this.wrapperId="",this.contentIds=[],this.ariaTabIndex=null,this.chipAppendDelay=s,this.init()}t.$inject=["$scope","$attrs","$mdConstant","$log","$element","$timeout","$mdUtil"];var s=300;st.module("material.components.chips").controller("MdChipsCtrl",t),t.prototype.init=function(){var e=this;e.wrapperId="_md-chips-wrapper-"+e.$mdUtil.nextUid(),e.$scope.$watchCollection("$mdChipsCtrl.items",function(){e.setupInputAria(),e.setupWrapperAria()}),e.$attrs.$observe("mdChipAppendDelay",function(t){e.chipAppendDelay=parseInt(t)||s})},t.prototype.setupInputAria=function(){var t=this.$element.find("input");t&&(t.attr("role","textbox"),t.attr("aria-multiline",!0))},t.prototype.setupWrapperAria=function(){var t=this,e=this.$element.find("md-chips-wrap");this.items&&this.items.length?(e.attr("role","listbox"),this.contentIds=this.items.map(function(){return t.wrapperId+"-chip-"+t.$mdUtil.nextUid()}),e.attr("aria-owns",this.contentIds.join(" "))):(e.removeAttr("role"),e.removeAttr("aria-owns"))},t.prototype.inputKeydown=function(t){var e=this.getChipBuffer();if(!(this.autocompleteCtrl&&t.isDefaultPrevented&&t.isDefaultPrevented())){if(t.keyCode===this.$mdConstant.KEY_CODE.BACKSPACE){if(0!==this.getCursorPosition(t.target))return;return t.preventDefault(),t.stopPropagation(),void(this.items.length&&this.selectAndFocusChipSafe(this.items.length-1))}if((!this.separatorKeys||this.separatorKeys.length<1)&&(this.separatorKeys=[this.$mdConstant.KEY_CODE.ENTER]),-1!==this.separatorKeys.indexOf(t.keyCode)){if(this.autocompleteCtrl&&this.requireMatch||!e)return;if(t.preventDefault(),this.hasMaxChipsReached())return;return this.appendChip(e.trim()),this.resetChipBuffer(),!1}}},t.prototype.getCursorPosition=function(e){try{if(e.selectionStart===e.selectionEnd)return e.selectionStart}catch(t){if(!e.value)return 0}},t.prototype.updateChipContents=function(t,e){0<=t&&t<this.items.length&&(this.items[t]=e,this.ngModelCtrl.$setDirty())},t.prototype.isEditingChip=function(){return!!this.$element[0].querySelector("._md-chip-editing")},t.prototype.isRemovable=function(){return!!this.ngModelCtrl&&(this.readonly?this.removable:!st.isDefined(this.removable)||this.removable)},t.prototype.chipKeydown=function(t){if(!this.getChipBuffer()&&!this.isEditingChip())switch(t.keyCode){case this.$mdConstant.KEY_CODE.BACKSPACE:case this.$mdConstant.KEY_CODE.DELETE:if(this.selectedChip<0)return;if(t.preventDefault(),!this.isRemovable())return;this.removeAndSelectAdjacentChip(this.selectedChip);break;case this.$mdConstant.KEY_CODE.LEFT_ARROW:t.preventDefault(),(this.selectedChip<0||this.readonly&&0==this.selectedChip)&&(this.selectedChip=this.items.length),this.items.length&&this.selectAndFocusChipSafe(this.selectedChip-1);break;case this.$mdConstant.KEY_CODE.RIGHT_ARROW:t.preventDefault(),this.selectAndFocusChipSafe(this.selectedChip+1);break;case this.$mdConstant.KEY_CODE.ESCAPE:case this.$mdConstant.KEY_CODE.TAB:if(this.selectedChip<0)return;t.preventDefault(),this.onFocus()}},t.prototype.getPlaceholder=function(){return this.items&&this.items.length&&(""==this.secondaryPlaceholder||this.secondaryPlaceholder)?this.secondaryPlaceholder:this.placeholder},t.prototype.removeAndSelectAdjacentChip=function(t){var e=this,n=e.getAdjacentChipIndex(t);this.$element[0].querySelector("md-chips-wrap"),this.$element[0].querySelector('md-chip[index="'+t+'"]'),e.removeChip(t),e.$timeout(function(){e.$timeout(function(){e.selectAndFocusChipSafe(n)})})},t.prototype.resetSelectedChip=function(){this.selectedChip=-1,this.ariaTabIndex=null},t.prototype.getAdjacentChipIndex=function(t){var e=this.items.length-1;return 0==e?-1:t==e?t-1:t},t.prototype.appendChip=function(e){if(this.shouldFocusLastChip=!0,this.useTransformChip&&this.transformChip){var t=this.transformChip({$chip:e});st.isDefined(t)&&(e=t)}if(st.isObject(e)&&this.items.some(function(t){return st.equals(e,t)}))return;if(!(null==e||this.items.indexOf(e)+1)){var n=this.items.push(e)-1;this.ngModelCtrl.$setDirty(),this.validateModel(),this.useOnAdd&&this.onAdd&&this.onAdd({$chip:e,$index:n})}},t.prototype.useTransformChipExpression=function(){this.useTransformChip=!0},t.prototype.useOnAddExpression=function(){this.useOnAdd=!0},t.prototype.useOnRemoveExpression=function(){this.useOnRemove=!0},t.prototype.useOnSelectExpression=function(){this.useOnSelect=!0},t.prototype.getChipBuffer=function(){var t=this.userInputElement?this.userInputNgModelCtrl?this.userInputNgModelCtrl.$viewValue:this.userInputElement[0].value:this.chipBuffer;return st.isString(t)?t:""},t.prototype.resetChipBuffer=function(){this.userInputElement?this.userInputNgModelCtrl?(this.userInputNgModelCtrl.$setViewValue(""),this.userInputNgModelCtrl.$render()):this.userInputElement[0].value="":this.chipBuffer=""},t.prototype.hasMaxChipsReached=function(){return st.isString(this.maxChips)&&(this.maxChips=parseInt(this.maxChips,10)||0),0<this.maxChips&&this.items.length>=this.maxChips},t.prototype.validateModel=function(){this.ngModelCtrl.$setValidity("md-max-chips",!this.hasMaxChipsReached())},t.prototype.removeChip=function(t){var e=this.items.splice(t,1);this.ngModelCtrl.$setDirty(),this.validateModel(),e&&e.length&&this.useOnRemove&&this.onRemove&&this.onRemove({$chip:e[0],$index:t})},t.prototype.removeChipAndFocusInput=function(t){this.removeChip(t),this.autocompleteCtrl?(this.autocompleteCtrl.hidden=!0,this.$mdUtil.nextTick(this.onFocus.bind(this))):this.onFocus()},t.prototype.selectAndFocusChipSafe=function(t){if(!this.items.length||-1===t)return this.focusInput();if(t>=this.items.length){if(!this.readonly)return this.onFocus();t=0}t=Math.max(t,0),t=Math.min(t,this.items.length-1),this.selectChip(t),this.focusChip(t)},t.prototype.focusLastChipThenInput=function(){var t=this;t.shouldFocusLastChip=!1,t.focusChip(this.items.length-1),t.$timeout(function(){t.focusInput()},t.chipAppendDelay)},t.prototype.focusInput=function(){this.selectChip(-1),this.onFocus()},t.prototype.selectChip=function(t){-1<=t&&t<=this.items.length?(this.selectedChip=t,this.useOnSelect&&this.onSelect&&this.onSelect({$chip:this.items[t]})):this.$log.warn("Selected Chip index out of bounds; ignoring.")},t.prototype.selectAndFocusChip=function(t){this.selectChip(t),-1!=t&&this.focusChip(t)},t.prototype.focusChip=function(t){var e=this.$element[0].querySelector('md-chip[index="'+t+'"] .md-chip-content');this.ariaTabIndex=t,e.focus()},t.prototype.configureNgModel=function(t){this.ngModelCtrl=t;var e=this;t.$render=function(){e.items=e.ngModelCtrl.$viewValue}},t.prototype.onFocus=function(){var t=this.$element[0].querySelector("input");t&&t.focus(),this.resetSelectedChip()},t.prototype.onInputFocus=function(){this.inputHasFocus=!0,this.setupInputAria(),this.resetSelectedChip()},t.prototype.onInputBlur=function(){this.inputHasFocus=!1,this.shouldAddOnBlur()&&(this.appendChip(this.getChipBuffer().trim()),this.resetChipBuffer())},t.prototype.configureUserInput=function(t){var e=(this.userInputElement=t).controller("ngModel");e!=this.ngModelCtrl&&(this.userInputNgModelCtrl=e);var n=this.$scope,i=this,o=function(t,e){n.$evalAsync(st.bind(i,e,t))};t.attr({tabindex:0}).on("keydown",function(t){o(t,i.inputKeydown)}).on("focus",function(t){o(t,i.onInputFocus)}).on("blur",function(t){o(t,i.onInputBlur)})},t.prototype.configureAutocomplete=function(t){t&&((this.autocompleteCtrl=t).registerSelectedItemWatcher(st.bind(this,function(t){if(t){if(this.hasMaxChipsReached())return;this.appendChip(t),this.resetChipBuffer()}})),this.$element.find("input").on("focus",st.bind(this,this.onInputFocus)).on("blur",st.bind(this,this.onInputBlur)))},t.prototype.shouldAddOnBlur=function(){this.validateModel();var t=this.getChipBuffer().trim(),e=this.ngModelCtrl.$valid,n=this.autocompleteCtrl&&!this.autocompleteCtrl.hidden;return this.userInputNgModelCtrl&&(e=e&&this.userInputNgModelCtrl.$valid),this.addOnBlur&&!this.requireMatch&&t&&e&&!n},t.prototype.hasFocus=function(){return this.inputHasFocus||0<=this.selectedChip},t.prototype.contentIdFor=function(t){return this.contentIds[t]}}(),function(){function t(h,p,f,i,m,g){var v={chips:p.processTemplate(e),input:p.processTemplate(n),default:p.processTemplate(o),remove:p.processTemplate(r)};return{template:function(t,e){return e.$mdUserTemplate=t.clone(),v.chips},require:["mdChips"],restrict:"E",controller:"MdChipsCtrl",controllerAs:"$mdChipsCtrl",bindToController:!0,compile:function(t,a){function e(t){if(a.ngModel){var e=n[0].querySelector(t);return e&&e.outerHTML}}var n=a.$mdUserTemplate;a.$mdUserTemplate=null;var s=e("md-chips>md-chip-template"),l=e(p.prefixer().buildList("md-chip-remove").map(function(t){return"md-chips>*["+t+"]"}).join(","))||v.remove,c=s||v.default,d=e("md-chips>md-autocomplete")||e("md-chips>input")||v.input,u=n.find("md-chip");return n[0].querySelector("md-chip-template>*[md-chip-remove]")&&i.warn("invalid placement of md-chip-remove within md-chip-template."),function(t,e,n,i){p.initOptionalProperties(t,a),h(e);var o=i[0];if(s&&(o.enableChipEdit=!1),o.chipContentsTemplate=c,o.chipRemoveTemplate=l,o.chipInputTemplate=d,o.mdCloseIcon=g.mdClose,e.attr({tabindex:-1}).on("focus",function(){o.onFocus()}),a.ngModel&&(o.configureNgModel(e.controller("ngModel")),n.mdTransformChip&&o.useTransformChipExpression(),n.mdOnAppend&&o.useOnAppendExpression(),n.mdOnAdd&&o.useOnAddExpression(),n.mdOnRemove&&o.useOnRemoveExpression(),n.mdOnSelect&&o.useOnSelectExpression(),d!=v.input&&t.$watch("$mdChipsCtrl.readonly",function(t){t||p.nextTick(function(){if(0===d.indexOf("<md-autocomplete")){var t=e.find("md-autocomplete");o.configureAutocomplete(t.controller("mdAutocomplete"))}o.configureUserInput(e.find("input"))})}),p.nextTick(function(){var t=e.find("input");t&&t.toggleClass("md-input",!0)})),0<u.length){var r=f(u.clone())(t.$parent);m(function(){e.find("md-chips-wrap").prepend(r)})}}},scope:{readonly:"=readonly",removable:"=mdRemovable",placeholder:"@",secondaryPlaceholder:"@",maxChips:"@mdMaxChips",transformChip:"&mdTransformChip",onAppend:"&mdOnAppend",onAdd:"&mdOnAdd",onRemove:"&mdOnRemove",onSelect:"&mdOnSelect",inputAriaLabel:"@",containerHint:"@",deleteHint:"@",deleteButtonLabel:"@",separatorKeys:"=?mdSeparatorKeys",requireMatch:"=?mdRequireMatch",chipAppendDelayString:"@?mdChipAppendDelay"}}}t.$inject=["$mdTheming","$mdUtil","$compile","$log","$timeout","$$mdSvgRegistry"],st.module("material.components.chips").directive("mdChips",t);var e='      <md-chips-wrap          id="{{$mdChipsCtrl.wrapperId}}"          tabindex="{{$mdChipsCtrl.readonly ? 0 : -1}}"          ng-keydown="$mdChipsCtrl.chipKeydown($event)"          ng-class="{ \'md-focused\': $mdChipsCtrl.hasFocus(),                       \'md-readonly\': !$mdChipsCtrl.ngModelCtrl || $mdChipsCtrl.readonly,                      \'md-removable\': $mdChipsCtrl.isRemovable() }"          aria-setsize="{{$mdChipsCtrl.items.length}}"          class="md-chips">        <span ng-if="$mdChipsCtrl.readonly" class="md-visually-hidden">          {{$mdChipsCtrl.containerHint}}        </span>        <md-chip ng-repeat="$chip in $mdChipsCtrl.items"            index="{{$index}}"            ng-class="{\'md-focused\': $mdChipsCtrl.selectedChip == $index, \'md-readonly\': !$mdChipsCtrl.ngModelCtrl || $mdChipsCtrl.readonly}">          <div class="md-chip-content"              tabindex="{{$mdChipsCtrl.ariaTabIndex == $index ? 0 : -1}}"              id="{{$mdChipsCtrl.contentIdFor($index)}}"              role="option"              aria-selected="{{$mdChipsCtrl.selectedChip == $index}}"               aria-posinset="{{$index}}"              ng-click="!$mdChipsCtrl.readonly && $mdChipsCtrl.focusChip($index)"              ng-focus="!$mdChipsCtrl.readonly && $mdChipsCtrl.selectChip($index)"              md-chip-transclude="$mdChipsCtrl.chipContentsTemplate"></div>          <div ng-if="$mdChipsCtrl.isRemovable()"               class="md-chip-remove-container"               tabindex="-1"               md-chip-transclude="$mdChipsCtrl.chipRemoveTemplate"></div>        </md-chip>        <div class="md-chip-input-container" ng-if="!$mdChipsCtrl.readonly && $mdChipsCtrl.ngModelCtrl">          <div md-chip-transclude="$mdChipsCtrl.chipInputTemplate"></div>        </div>      </md-chips-wrap>',n='        <input            class="md-input"            tabindex="0"            aria-label="{{$mdChipsCtrl.inputAriaLabel}}"             placeholder="{{$mdChipsCtrl.getPlaceholder()}}"            ng-model="$mdChipsCtrl.chipBuffer"            ng-focus="$mdChipsCtrl.onInputFocus()"            ng-blur="$mdChipsCtrl.onInputBlur()"            ng-keydown="$mdChipsCtrl.inputKeydown($event)">',o="      <span>{{$chip}}</span>",r='      <button          class="md-chip-remove"          ng-if="$mdChipsCtrl.isRemovable()"          ng-click="$mdChipsCtrl.removeChipAndFocusInput($$replacedScope.$index)"          type="button"          tabindex="-1">        <md-icon md-svg-src="{{ $mdChipsCtrl.mdCloseIcon }}"></md-icon>        <span class="md-visually-hidden">          {{$mdChipsCtrl.deleteButtonLabel}}        </span>      </button>'}(),function(){function t(){this.selectedItem=null,this.searchText=""}st.module("material.components.chips").controller("MdContactChipsCtrl",t),t.prototype.queryContact=function(t){return this.contactQuery({$query:t})},t.prototype.itemName=function(t){return t[this.contactName]}}(),function(){function t(a,s){return{template:function(t,e){return n},restrict:"E",controller:"MdContactChipsCtrl",controllerAs:"$mdContactChipsCtrl",bindToController:!0,compile:function(t,r){return function(t,e,n,i){var o=i;s.initOptionalProperties(t,r),a(e),e.attr("tabindex","-1"),n.$observe("mdChipAppendDelay",function(t){o.chipAppendDelay=t})}},scope:{contactQuery:"&mdContacts",placeholder:"@",secondaryPlaceholder:"@",contactName:"@mdContactName",contactImage:"@mdContactImage",contactEmail:"@mdContactEmail",contacts:"=ngModel",requireMatch:"=?mdRequireMatch",minLength:"=?mdMinLength",highlightFlags:"@?mdHighlightFlags",chipAppendDelay:"@?mdChipAppendDelay"}}}t.$inject=["$mdTheming","$mdUtil"],st.module("material.components.chips").directive("mdContactChips",t);var n='      <md-chips class="md-contact-chips"          ng-model="$mdContactChipsCtrl.contacts"          md-require-match="$mdContactChipsCtrl.requireMatch"          md-chip-append-delay="{{$mdContactChipsCtrl.chipAppendDelay}}"           md-autocomplete-snap>          <md-autocomplete              md-menu-class="md-contact-chips-suggestions"              md-selected-item="$mdContactChipsCtrl.selectedItem"              md-search-text="$mdContactChipsCtrl.searchText"              md-items="item in $mdContactChipsCtrl.queryContact($mdContactChipsCtrl.searchText)"              md-item-text="$mdContactChipsCtrl.itemName(item)"              md-no-cache="true"              md-min-length="$mdContactChipsCtrl.minLength"              md-autoselect              placeholder="{{$mdContactChipsCtrl.contacts.length == 0 ?                  $mdContactChipsCtrl.placeholder : $mdContactChipsCtrl.secondaryPlaceholder}}">            <div class="md-contact-suggestion">              <img                   ng-src="{{item[$mdContactChipsCtrl.contactImage]}}"                  alt="{{item[$mdContactChipsCtrl.contactName]}}"                  ng-if="item[$mdContactChipsCtrl.contactImage]" />              <span class="md-contact-name" md-highlight-text="$mdContactChipsCtrl.searchText"                    md-highlight-flags="{{$mdContactChipsCtrl.highlightFlags}}">                {{item[$mdContactChipsCtrl.contactName]}}              </span>              <span class="md-contact-email" >{{item[$mdContactChipsCtrl.contactEmail]}}</span>            </div>          </md-autocomplete>          <md-chip-template>            <div class="md-contact-avatar">              <img                   ng-src="{{$chip[$mdContactChipsCtrl.contactImage]}}"                  alt="{{$chip[$mdContactChipsCtrl.contactName]}}"                  ng-if="$chip[$mdContactChipsCtrl.contactImage]" />            </div>            <div class="md-contact-name">              {{$chip[$mdContactChipsCtrl.contactName]}}            </div>          </md-chip-template>      </md-chips>'}(),function(){function t(t,e,n,i,o,r,a,s,l){r(t),this.$element=t,this.$scope=e,this.dateUtil=n,this.$mdUtil=i,this.keyCode=o.KEY_CODE,this.$$rAF=a,this.$mdDateLocale=l,this.today=this.dateUtil.createDateAtMidnight(),this.ngModelCtrl=null,this.SELECTED_DATE_CLASS="md-calendar-selected-date",this.TODAY_CLASS="md-calendar-date-today",this.FOCUSED_DATE_CLASS="md-focus",this.id=u++,this.displayDate=null,this.selectedDate=null,this.firstRenderableDate=null,this.lastRenderableDate=null,this.isInitialized=!1,this.width=0,this.scrollbarWidth=0,s.tabindex||t.attr("tabindex","-1");var c,d=st.bind(this,this.handleKeyEvent);(c=t.parent().hasClass("md-datepicker-calendar")?st.element(document.body):t).on("keydown",d),e.$on("$destroy",function(){c.off("keydown",d)}),1===st.version.major&&st.version.minor<=4&&this.$onInit()}t.$inject=["$element","$scope","$$mdDateUtil","$mdUtil","$mdConstant","$mdTheming","$$rAF","$attrs","$mdDateLocale"],st.module("material.components.datepicker").directive("mdCalendar",function(){return{template:function(t,e){return'<div ng-switch="calendarCtrl.currentView" '+(e.hasOwnProperty("ngIf")?"":'ng-if="calendarCtrl.isInitialized"')+'><md-calendar-year ng-switch-when="year"></md-calendar-year><md-calendar-month ng-switch-default></md-calendar-month></div>'},scope:{minDate:"=mdMinDate",maxDate:"=mdMaxDate",dateFilter:"=mdDateFilter",_currentView:"@mdCurrentView"},require:["ngModel","mdCalendar"],controller:t,controllerAs:"calendarCtrl",bindToController:!0,link:function(t,e,n,i){var o=i[0];i[1].configureNgModel(o)}}});var u=0;t.prototype.$onInit=function(){this.currentView=this._currentView||"month";var t=this.$mdDateLocale;this.minDate&&this.minDate>t.firstRenderableDate?this.firstRenderableDate=this.minDate:this.firstRenderableDate=t.firstRenderableDate,this.maxDate&&this.maxDate<t.lastRenderableDate?this.lastRenderableDate=this.maxDate:this.lastRenderableDate=t.lastRenderableDate},t.prototype.configureNgModel=function(t){var e=this;e.ngModelCtrl=t,e.$mdUtil.nextTick(function(){e.isInitialized=!0}),t.$render=function(){var t=this.$viewValue;e.$scope.$broadcast("md-calendar-parent-changed",t),e.selectedDate||(e.selectedDate=t),e.displayDate||(e.displayDate=e.selectedDate||e.today)}},t.prototype.setNgModelValue=function(t){var e=this.dateUtil.createDateAtMidnight(t);return this.focus(e),this.$scope.$emit("md-calendar-change",e),this.ngModelCtrl.$setViewValue(e),this.ngModelCtrl.$render(),e},t.prototype.setCurrentView=function(t,e){var n=this;n.$mdUtil.nextTick(function(){n.currentView=t,e&&(n.displayDate=st.isDate(e)?e:new Date(e))})},t.prototype.focus=function(t){if(this.dateUtil.isValidDate(t)){var e=this.$element[0].querySelector(".md-focus");e&&e.classList.remove(this.FOCUSED_DATE_CLASS);var n=this.getDateId(t,this.currentView),i=document.getElementById(n);i&&(i.classList.add(this.FOCUSED_DATE_CLASS),i.focus(),this.displayDate=t)}else{var o=this.$element[0].querySelector("[ng-switch]");o&&o.focus()}},t.prototype.getActionFromKeyEvent=function(t){var e=this.keyCode;switch(t.which){case e.ENTER:return"select";case e.RIGHT_ARROW:return"move-right";case e.LEFT_ARROW:return"move-left";case e.DOWN_ARROW:return t.metaKey?"move-page-down":"move-row-down";case e.UP_ARROW:return t.metaKey?"move-page-up":"move-row-up";case e.PAGE_DOWN:return"move-page-down";case e.PAGE_UP:return"move-page-up";case e.HOME:return"start";case e.END:return"end";default:return null}},t.prototype.handleKeyEvent=function(e){var n=this;this.$scope.$apply(function(){if(e.which==n.keyCode.ESCAPE||e.which==n.keyCode.TAB)return n.$scope.$emit("md-calendar-close"),void(e.which==n.keyCode.TAB&&e.preventDefault());var t=n.getActionFromKeyEvent(e);t&&(e.preventDefault(),e.stopPropagation(),n.$scope.$broadcast("md-calendar-parent-action",t))})},t.prototype.hideVerticalScrollbar=function(i){function e(){var t=o.width||340,e=o.scrollbarWidth,n=i.calendarScroller;r.style.width=t+"px",n.style.width=t+e+"px",n.style.paddingRight=e+"px"}var o=this,n=i.$element[0],r=n.querySelector(".md-calendar-scroll-mask");0<o.width?e():o.$$rAF(function(){var t=i.calendarScroller;o.scrollbarWidth=t.offsetWidth-t.clientWidth,o.width=n.querySelector("table").offsetWidth,e()})},t.prototype.getDateId=function(t,e){if(!e)throw new Error("A namespace for the date id has to be specified.");return["md",this.id,e,t.getFullYear(),t.getMonth(),t.getDate()].join("-")},t.prototype.updateVirtualRepeat=function(){var t=this.$scope,e=t.$on("$md-resize-enable",function(){t.$$phase||t.$apply(),e()})}}(),function(){function t(t,e,n,i,o,r){this.$element=t,this.$scope=e,this.$animate=n,this.$q=i,this.dateUtil=o,this.dateLocale=r,this.calendarScroller=t[0].querySelector(".md-virtual-repeat-scroller"),this.isInitialized=!1,this.isMonthTransitionInProgress=!1;var a=this;this.cellClickHandler=function(){var t=o.getTimestampFromNode(this);a.$scope.$apply(function(){a.calendarCtrl.setNgModelValue(t)})},this.headerClickHandler=function(){a.calendarCtrl.setCurrentView("year",o.getTimestampFromNode(this))}}t.$inject=["$element","$scope","$animate","$q","$$mdDateUtil","$mdDateLocale"],st.module("material.components.datepicker").directive("mdCalendarMonth",function(){return{template:'<table aria-hidden="true" class="md-calendar-day-header"><thead></thead></table><div class="md-calendar-scroll-mask"><md-virtual-repeat-container class="md-calendar-scroll-container" md-offset-size="'+(e-n)+'"><table role="grid" tabindex="0" class="md-calendar" aria-readonly="true"><tbody md-calendar-month-body role="rowgroup" md-virtual-repeat="i in monthCtrl.items" md-month-offset="$index" class="md-calendar-month" md-start-index="monthCtrl.getSelectedMonthIndex()" md-item-size="'+n+'"><tr aria-hidden="true" md-force-height="\''+n+"px'\"></tr></tbody></table></md-virtual-repeat-container></div>",require:["^^mdCalendar","mdCalendarMonth"],controller:t,controllerAs:"monthCtrl",bindToController:!0,link:function(t,e,n,i){var o=i[0];i[1].initialize(o)}}});var n=265,e=45;t.prototype.initialize=function(t){this.items={length:this.dateUtil.getMonthDistance(t.firstRenderableDate,t.lastRenderableDate)+2},this.calendarCtrl=t,this.attachScopeListeners(),t.updateVirtualRepeat(),t.ngModelCtrl&&t.ngModelCtrl.$render()},t.prototype.getSelectedMonthIndex=function(){var t=this.calendarCtrl;return this.dateUtil.getMonthDistance(t.firstRenderableDate,t.displayDate||t.selectedDate||t.today)},t.prototype.changeSelectedDate=function(i){var o=this.calendarCtrl,r=o.selectedDate;o.selectedDate=i,this.changeDisplayDate(i).then(function(){var t=o.SELECTED_DATE_CLASS;if(r){var e=document.getElementById(o.getDateId(r,"month"));e&&(e.classList.remove(t),e.setAttribute("aria-selected","false"))}if(i){var n=document.getElementById(o.getDateId(i,"month"));n&&(n.classList.add(t),n.setAttribute("aria-selected","true"))}})},t.prototype.changeDisplayDate=function(t){if(!this.isInitialized)return this.buildWeekHeader(),this.calendarCtrl.hideVerticalScrollbar(this),this.isInitialized=!0,this.$q.when();if(!this.dateUtil.isValidDate(t)||this.isMonthTransitionInProgress)return this.$q.when();this.isMonthTransitionInProgress=!0;var e=this.animateDateChange(t);this.calendarCtrl.displayDate=t;var n=this;return e.then(function(){n.isMonthTransitionInProgress=!1}),e},t.prototype.animateDateChange=function(t){if(this.dateUtil.isValidDate(t)){var e=this.dateUtil.getMonthDistance(this.calendarCtrl.firstRenderableDate,t);this.calendarScroller.scrollTop=e*n}return this.$q.when()},t.prototype.buildWeekHeader=function(){for(var t=this.dateLocale.firstDayOfWeek,e=this.dateLocale.shortDays,n=document.createElement("tr"),i=0;i<7;i++){var o=document.createElement("th");o.textContent=e[(i+t)%7],n.appendChild(o)}this.$element.find("thead").append(n)},t.prototype.attachScopeListeners=function(){var n=this;n.$scope.$on("md-calendar-parent-changed",function(t,e){n.changeSelectedDate(e)}),n.$scope.$on("md-calendar-parent-action",st.bind(this,this.handleKeyEvent))},t.prototype.handleKeyEvent=function(t,e){var n=this.calendarCtrl,i=n.displayDate;if("select"===e)n.setNgModelValue(i);else{var o=null,r=this.dateUtil;switch(e){case"move-right":o=r.incrementDays(i,1);break;case"move-left":o=r.incrementDays(i,-1);break;case"move-page-down":o=r.incrementMonths(i,1);break;case"move-page-up":o=r.incrementMonths(i,-1);break;case"move-row-down":o=r.incrementDays(i,7);break;case"move-row-up":o=r.incrementDays(i,-7);break;case"start":o=r.getFirstDateOfMonth(i);break;case"end":o=r.getLastDateOfMonth(i)}o&&(o=this.dateUtil.clampDate(o,n.minDate,n.maxDate),this.changeDisplayDate(o).then(function(){n.focus(o)}))}}}(),function(){function t(t,e){var s=t('<md-icon md-svg-src="'+e.mdTabsArrow+'"></md-icon>')({})[0];return{require:["^^mdCalendar","^^mdCalendarMonth","mdCalendarMonthBody"],scope:{offset:"=mdMonthOffset"},controller:n,controllerAs:"mdMonthBodyCtrl",bindToController:!0,link:function(t,e,n,i){var o=i[0],r=i[1],a=i[2];a.calendarCtrl=o,a.monthCtrl=r,a.arrowIcon=s.cloneNode(!0),t.$watch(function(){return a.offset},function(t){st.isNumber(t)&&a.generateContent()})}}}function n(t,e,n){this.$element=t,this.dateUtil=e,this.dateLocale=n,this.monthCtrl=null,this.calendarCtrl=null,this.offset=null,this.focusAfterAppend=null}t.$inject=["$compile","$$mdSvgRegistry"],n.$inject=["$element","$$mdDateUtil","$mdDateLocale"],st.module("material.components.datepicker").directive("mdCalendarMonthBody",t),n.prototype.generateContent=function(){var t=this.dateUtil.incrementMonths(this.calendarCtrl.firstRenderableDate,this.offset);this.$element.empty().append(this.buildCalendarForMonth(t)),this.focusAfterAppend&&(this.focusAfterAppend.classList.add(this.calendarCtrl.FOCUSED_DATE_CLASS),this.focusAfterAppend.focus(),this.focusAfterAppend=null)},n.prototype.buildDateCell=function(t){var e=this.monthCtrl,n=this.calendarCtrl,i=document.createElement("td");if(i.tabIndex=-1,i.classList.add("md-calendar-date"),i.setAttribute("role","gridcell"),t){i.setAttribute("tabindex","-1"),i.setAttribute("aria-label",this.dateLocale.longDateFormatter(t)),i.id=n.getDateId(t,"month"),i.setAttribute("data-timestamp",t.getTime()),this.dateUtil.isSameDay(t,n.today)&&i.classList.add(n.TODAY_CLASS),this.dateUtil.isValidDate(n.selectedDate)&&this.dateUtil.isSameDay(t,n.selectedDate)&&(i.classList.add(n.SELECTED_DATE_CLASS),i.setAttribute("aria-selected","true"));var o=this.dateLocale.dates[t.getDate()];if(this.isDateEnabled(t)){var r=document.createElement("span");r.classList.add("md-calendar-date-selection-indicator"),r.textContent=o,i.appendChild(r),i.addEventListener("click",e.cellClickHandler),n.displayDate&&this.dateUtil.isSameDay(t,n.displayDate)&&(this.focusAfterAppend=i)}else i.classList.add("md-calendar-date-disabled"),i.textContent=o}return i},n.prototype.isDateEnabled=function(t){return this.dateUtil.isDateWithinRange(t,this.calendarCtrl.minDate,this.calendarCtrl.maxDate)&&(!st.isFunction(this.calendarCtrl.dateFilter)||this.calendarCtrl.dateFilter(t))},n.prototype.buildDateRow=function(t){var e=document.createElement("tr");return e.setAttribute("role","row"),e.setAttribute("aria-label",this.dateLocale.weekNumberFormatter(t)),e},n.prototype.buildCalendarForMonth=function(t){var e=this.dateUtil.isValidDate(t)?t:new Date,n=this.dateUtil.getFirstDateOfMonth(e),i=this.getLocaleDay_(n),o=this.dateUtil.getNumberOfDaysInMonth(e),r=document.createDocumentFragment(),a=1,s=this.buildDateRow(a);r.appendChild(s);var l=this.offset===this.monthCtrl.items.length-1,c=0,d=document.createElement("td"),u=document.createElement("span");if(u.textContent=this.dateLocale.monthHeaderFormatter(e),d.appendChild(u),d.classList.add("md-calendar-month-label"),this.calendarCtrl.maxDate&&n>this.calendarCtrl.maxDate?d.classList.add("md-calendar-month-label-disabled"):(d.addEventListener("click",this.monthCtrl.headerClickHandler),d.setAttribute("data-timestamp",n.getTime()),d.setAttribute("aria-label",this.dateLocale.monthFormatter(e)),d.appendChild(this.arrowIcon.cloneNode(!0))),i<=2){d.setAttribute("colspan","7");var h=this.buildDateRow();if(h.appendChild(d),r.insertBefore(h,s),l)return r}else c=3,d.setAttribute("colspan","3"),s.appendChild(d);for(var p=c;p<i;p++)s.appendChild(this.buildDateCell());for(var f=i,m=n,g=1;g<=o;g++){if(7===f){if(l)return r;f=0,a++,s=this.buildDateRow(a),r.appendChild(s)}m.setDate(g);var v=this.buildDateCell(m);s.appendChild(v),f++}for(;s.childNodes.length<7;)s.appendChild(this.buildDateCell());for(;r.childNodes.length<6;){for(var y=this.buildDateRow(),b=0;b<7;b++)y.appendChild(this.buildDateCell());r.appendChild(y)}return r},n.prototype.getLocaleDay_=function(t){return(t.getDay()+(7-this.dateLocale.firstDayOfWeek))%7}}(),function(){function t(t,e,n,i,o){this.$element=t,this.$scope=e,this.$animate=n,this.$q=i,this.dateUtil=o,this.calendarScroller=t[0].querySelector(".md-virtual-repeat-scroller"),this.isInitialized=!1,this.isMonthTransitionInProgress=!1;var r=this;this.cellClickHandler=function(){r.calendarCtrl.setCurrentView("month",o.getTimestampFromNode(this))}}t.$inject=["$element","$scope","$animate","$q","$$mdDateUtil"],st.module("material.components.datepicker").directive("mdCalendarYear",function(){return{template:'<div class="md-calendar-scroll-mask"><md-virtual-repeat-container class="md-calendar-scroll-container"><table role="grid" tabindex="0" class="md-calendar" aria-readonly="true"><tbody md-calendar-year-body role="rowgroup" md-virtual-repeat="i in yearCtrl.items" md-year-offset="$index" class="md-calendar-year" md-start-index="yearCtrl.getFocusedYearIndex()" md-item-size="'+n+'"><tr aria-hidden="true" md-force-height="\''+n+"px'\"></tr></tbody></table></md-virtual-repeat-container></div>",require:["^^mdCalendar","mdCalendarYear"],controller:t,controllerAs:"yearCtrl",bindToController:!0,link:function(t,e,n,i){var o=i[0];i[1].initialize(o)}}});var n=88;t.prototype.initialize=function(t){this.items={length:this.dateUtil.getYearDistance(t.firstRenderableDate,t.lastRenderableDate)+1},this.calendarCtrl=t,this.attachScopeListeners(),t.updateVirtualRepeat(),t.ngModelCtrl&&t.ngModelCtrl.$render()},t.prototype.getFocusedYearIndex=function(){var t=this.calendarCtrl;return this.dateUtil.getYearDistance(t.firstRenderableDate,t.displayDate||t.selectedDate||t.today)},t.prototype.changeDate=function(t){if(!this.isInitialized)return this.calendarCtrl.hideVerticalScrollbar(this),this.isInitialized=!0,this.$q.when();if(this.dateUtil.isValidDate(t)&&!this.isMonthTransitionInProgress){var e=this,n=this.animateDateChange(t);return e.isMonthTransitionInProgress=!0,e.calendarCtrl.displayDate=t,n.then(function(){e.isMonthTransitionInProgress=!1})}},t.prototype.animateDateChange=function(t){if(this.dateUtil.isValidDate(t)){var e=this.dateUtil.getYearDistance(this.calendarCtrl.firstRenderableDate,t);this.calendarScroller.scrollTop=e*n}return this.$q.when()},t.prototype.handleKeyEvent=function(t,e){var n=this.calendarCtrl,i=n.displayDate;if("select"===e)this.changeDate(i).then(function(){n.setCurrentView("month",i),n.focus(i)});else{var o=null,r=this.dateUtil;switch(e){case"move-right":o=r.incrementMonths(i,1);break;case"move-left":o=r.incrementMonths(i,-1);break;case"move-row-down":o=r.incrementMonths(i,6);break;case"move-row-up":o=r.incrementMonths(i,-6)}if(o){var a=n.minDate?r.getFirstDateOfMonth(n.minDate):null,s=n.maxDate?r.getFirstDateOfMonth(n.maxDate):null;o=r.getFirstDateOfMonth(this.dateUtil.clampDate(o,a,s)),this.changeDate(o).then(function(){n.focus(o)})}}},t.prototype.attachScopeListeners=function(){var n=this;n.$scope.$on("md-calendar-parent-changed",function(t,e){n.changeDate(e)}),n.$scope.$on("md-calendar-parent-action",st.bind(n,n.handleKeyEvent))}}(),function(){function t(t,e,n){this.$element=t,this.dateUtil=e,this.dateLocale=n,this.calendarCtrl=null,this.yearCtrl=null,this.offset=null,this.focusAfterAppend=null}t.$inject=["$element","$$mdDateUtil","$mdDateLocale"],st.module("material.components.datepicker").directive("mdCalendarYearBody",function(){return{require:["^^mdCalendar","^^mdCalendarYear","mdCalendarYearBody"],scope:{offset:"=mdYearOffset"},controller:t,controllerAs:"mdYearBodyCtrl",bindToController:!0,link:function(t,e,n,i){var o=i[0],r=i[1],a=i[2];a.calendarCtrl=o,a.yearCtrl=r,t.$watch(function(){return a.offset},function(t){st.isNumber(t)&&a.generateContent()})}}}),t.prototype.generateContent=function(){var t=this.dateUtil.incrementYears(this.calendarCtrl.firstRenderableDate,this.offset);this.$element.empty().append(this.buildCalendarForYear(t)),this.focusAfterAppend&&(this.focusAfterAppend.classList.add(this.calendarCtrl.FOCUSED_DATE_CLASS),this.focusAfterAppend.focus(),this.focusAfterAppend=null)},t.prototype.buildMonthCell=function(t,e){var n=this.calendarCtrl,i=this.yearCtrl,o=this.buildBlankCell(),r=new Date(t,e,1);o.setAttribute("aria-label",this.dateLocale.monthFormatter(r)),o.id=n.getDateId(r,"year"),o.setAttribute("data-timestamp",r.getTime()),this.dateUtil.isSameMonthAndYear(r,n.today)&&o.classList.add(n.TODAY_CLASS),this.dateUtil.isValidDate(n.selectedDate)&&this.dateUtil.isSameMonthAndYear(r,n.selectedDate)&&(o.classList.add(n.SELECTED_DATE_CLASS),o.setAttribute("aria-selected","true"));var a=this.dateLocale.shortMonths[e];if(this.dateUtil.isMonthWithinRange(r,n.minDate,n.maxDate)){var s=document.createElement("span");s.classList.add("md-calendar-date-selection-indicator"),s.textContent=a,o.appendChild(s),o.addEventListener("click",i.cellClickHandler),n.displayDate&&this.dateUtil.isSameMonthAndYear(r,n.displayDate)&&(this.focusAfterAppend=o)}else o.classList.add("md-calendar-date-disabled"),o.textContent=a;return o},t.prototype.buildBlankCell=function(){var t=document.createElement("td");return t.tabIndex=-1,t.classList.add("md-calendar-date"),t.setAttribute("role","gridcell"),t.setAttribute("tabindex","-1"),t},t.prototype.buildCalendarForYear=function(t){var e,n=t.getFullYear(),i=document.createDocumentFragment(),o=document.createElement("tr"),r=document.createElement("td");for(r.className="md-calendar-month-label",r.textContent=n,o.appendChild(r),e=0;e<6;e++)o.appendChild(this.buildMonthCell(n,e));i.appendChild(o);var a=document.createElement("tr");for(a.appendChild(this.buildBlankCell()),e=6;e<12;e++)a.appendChild(this.buildMonthCell(n,e));return i.appendChild(a),i}}(),st.module("material.components.datepicker").config(["$provide",function(t){function e(){this.months=null,this.shortMonths=null,this.days=null,this.shortDays=null,this.dates=null,this.firstDayOfWeek=0,this.formatDate=null,this.parseDate=null,this.monthHeaderFormatter=null,this.weekNumberFormatter=null,this.longDateFormatter=null,this.msgCalendar="",this.msgOpenCalendar=""}(e.prototype.$get=function(t,o){for(var e=t.DATETIME_FORMATS.SHORTDAY.map(function(t){return t.substring(0,1)}),n=Array(32),i=1;i<=31;i++)n[i]=i;var r=new Date(1880,0,1),a=new Date(r.getFullYear()+250,0,1),s={months:this.months||t.DATETIME_FORMATS.MONTH,shortMonths:this.shortMonths||t.DATETIME_FORMATS.SHORTMONTH,days:this.days||t.DATETIME_FORMATS.DAY,shortDays:this.shortDays||e,dates:this.dates||n,firstDayOfWeek:this.firstDayOfWeek||0,formatDate:this.formatDate||function(t,e){if(!t)return"";var n=t.toLocaleTimeString(),i=t;return 0!==t.getHours()||-1===n.indexOf("11:")&&-1===n.indexOf("23:")||(i=new Date(t.getFullYear(),t.getMonth(),t.getDate(),1,0,0)),o("date")(i,"M/d/yyyy",e)},parseDate:this.parseDate||function(t){return new Date(t)},isDateComplete:this.isDateComplete||function(t){return t=t.trim(),/^(([a-zA-Z]{3,}|[0-9]{1,4})([ \.,]+|[\/\-])){2}([a-zA-Z]{3,}|[0-9]{1,4})$/.test(t)},monthHeaderFormatter:this.monthHeaderFormatter||function(t){return s.shortMonths[t.getMonth()]+" "+t.getFullYear()},monthFormatter:this.monthFormatter||function(t){return s.months[t.getMonth()]+" "+t.getFullYear()},weekNumberFormatter:this.weekNumberFormatter||function(t){return"Week "+t},longDateFormatter:this.longDateFormatter||function(t){return[s.days[t.getDay()],s.months[t.getMonth()],s.dates[t.getDate()],t.getFullYear()].join(" ")},msgCalendar:this.msgCalendar||"Calendar",msgOpenCalendar:this.msgOpenCalendar||"Open calendar",firstRenderableDate:this.firstRenderableDate||r,lastRenderableDate:this.lastRenderableDate||a};return s}).$inject=["$locale","$filter"],t.provider("$mdDateLocale",new e)}]),st.module("material.components.datepicker").factory("$$mdDateUtil",function(){function n(t){return new Date(t.getFullYear(),t.getMonth(),1)}function o(t){return new Date(t.getFullYear(),t.getMonth()+1,0).getDate()}function i(t){return new Date(t.getFullYear(),t.getMonth()+1,1)}function r(t){return new Date(t.getFullYear(),t.getMonth()-1,1)}function a(t,e){return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()}function s(t,e){var n=new Date(t.getFullYear(),t.getMonth()+e,1),i=o(n);return i<t.getDate()?n.setDate(i):n.setDate(t.getDate()),n}function l(t){return t&&t.getTime&&!isNaN(t.getTime())}function c(t){l(t)&&t.setHours(0,0,0,0)}function d(t){var e;return c(e=st.isUndefined(t)?new Date:new Date(t)),e}return{getFirstDateOfMonth:n,getNumberOfDaysInMonth:o,getDateInNextMonth:i,getDateInPreviousMonth:r,isInNextMonth:function(t,e){return a(i(t),e)},isInPreviousMonth:function(t,e){return a(e,r(t))},getDateMidpoint:function(t,e){return d((t.getTime()+e.getTime())/2)},isSameMonthAndYear:a,getWeekOfMonth:function(t){var e=n(t);return Math.floor((e.getDay()+t.getDate()-1)/7)},incrementDays:function(t,e){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+e)},incrementMonths:s,getLastDateOfMonth:function(t){return new Date(t.getFullYear(),t.getMonth(),o(t))},isSameDay:function(t,e){return t.getDate()==e.getDate()&&a(t,e)},getMonthDistance:function(t,e){return 12*(e.getFullYear()-t.getFullYear())+(e.getMonth()-t.getMonth())},isValidDate:l,setDateTimeToMidnight:c,createDateAtMidnight:d,isDateWithinRange:function(t,e,n){var i=d(t),o=l(e)?d(e):null,r=l(n)?d(n):null;return(!o||o<=i)&&(!r||i<=r)},incrementYears:function(t,e){return s(t,12*e)},getYearDistance:function(t,e){return e.getFullYear()-t.getFullYear()},clampDate:function(t,e,n){var i=t;return e&&t<e&&(i=new Date(e.getTime())),n&&n<t&&(i=new Date(n.getTime())),i},getTimestampFromNode:function(t){if(t&&t.hasAttribute("data-timestamp"))return Number(t.getAttribute("data-timestamp"))},isMonthWithinRange:function(t,e,n){var i=t.getMonth(),o=t.getFullYear();return(!e||e.getFullYear()<o||e.getMonth()<=i)&&(!n||n.getFullYear()>o||n.getMonth()>=i)}}}),function(){function t(a,u,h,p){return{template:function(t,e){var n=e.mdHideIcons,i=e.ariaLabel||e.mdPlaceholder,o="all"===n||"calendar"===n?"":'<md-button class="md-datepicker-button md-icon-button" type="button" tabindex="-1" aria-hidden="true" ng-click="ctrl.openCalendarPane($event)"><md-icon class="md-datepicker-calendar-icon" aria-label="md-calendar" md-svg-src="'+a.mdCalendar+'"></md-icon></md-button>',r="";return"all"!==n&&"triangle"!==n&&(r='<md-button type="button" md-no-ink class="md-datepicker-triangle-button md-icon-button" ng-click="ctrl.openCalendarPane($event)" aria-label="{{::ctrl.locale.msgOpenCalendar}}"><div class="md-datepicker-expand-triangle"></div></md-button>',t.addClass(s)),o+'<div class="md-datepicker-input-container" ng-class="{\'md-datepicker-focused\': ctrl.isFocused}"><input '+(i?'aria-label="'+i+'" ':"")+'class="md-datepicker-input" aria-haspopup="true" aria-expanded="{{ctrl.isCalendarOpen}}" ng-focus="ctrl.setFocused(true)" ng-blur="ctrl.setFocused(false)"> '+r+'</div><div class="md-datepicker-calendar-pane md-whiteframe-z1" id="{{::ctrl.calendarPaneId}}"><div class="md-datepicker-input-mask"><div class="md-datepicker-input-mask-opaque"></div></div><div class="md-datepicker-calendar"><md-calendar role="dialog" aria-label="{{::ctrl.locale.msgCalendar}}" md-current-view="{{::ctrl.currentView}}"md-min-date="ctrl.minDate"md-max-date="ctrl.maxDate"md-date-filter="ctrl.dateFilter"ng-model="ctrl.date" ng-if="ctrl.isCalendarOpen"></md-calendar></div></div>'},require:["ngModel","mdDatepicker","?^mdInputContainer","?^form"],scope:{minDate:"=mdMinDate",maxDate:"=mdMaxDate",placeholder:"@mdPlaceholder",currentView:"@mdCurrentView",dateFilter:"=mdDateFilter",isOpen:"=?mdIsOpen",debounceInterval:"=mdDebounceInterval",dateLocale:"=mdDateLocale"},controller:e,controllerAs:"ctrl",bindToController:!0,link:function(t,e,n,i){var o=i[0],r=i[1],a=i[2],s=i[3],l=u.parseAttributeBoolean(n.mdNoAsterisk);if(r.configureNgModel(o,a,p),a){var c=e[0].querySelector(".md-errors-spacer");c&&e.after(st.element("<div>").append(c)),a.setHasPlaceholder(n.mdPlaceholder),a.input=e,a.element.addClass(f).toggleClass(m,"calendar"!==n.mdHideIcons&&"all"!==n.mdHideIcons),a.label?l||n.$observe("required",function(t){a.label.toggleClass("md-required",!!t)}):h.expect(e,"aria-label",n.mdPlaceholder),t.$watch(a.isErrorGetter||function(){return o.$invalid&&(o.$touched||s&&s.$submitted)},a.setInvalid)}else if(s)var d=t.$watch(function(){return s.$submitted},function(t){t&&(r.updateErrorState(),d())})}}}function e(t,e,n,i,o,r,a,s,l,c,d){this.$window=i,this.dateUtil=l,this.$mdConstant=o,this.$mdUtil=a,this.$$rAF=c,this.$mdDateLocale=s,this.documentElement=st.element(document.documentElement),this.ngModelCtrl=null,this.inputElement=e[0].querySelector("input"),this.ngInputElement=st.element(this.inputElement),this.inputContainer=e[0].querySelector(".md-datepicker-input-container"),this.calendarPane=e[0].querySelector(".md-datepicker-calendar-pane"),this.calendarButton=e[0].querySelector(".md-datepicker-button"),this.inputMask=st.element(e[0].querySelector(".md-datepicker-input-mask-opaque")),this.$element=e,this.$attrs=n,this.$scope=t,this.date=null,this.isFocused=!1,this.isDisabled,this.setDisabled(e[0].disabled||st.isString(n.disabled)),this.isCalendarOpen=!1,this.openOnFocus=n.hasOwnProperty("mdOpenOnFocus"),this.mdInputContainer=null,this.calendarPaneOpenedFrom=null,this.calendarPaneId="md-date-pane-"+a.nextUid(),this.bodyClickHandler=st.bind(this,this.handleBodyClick),this.windowEventName=h.test(navigator.userAgent||navigator.vendor||H.opera)?"orientationchange":"resize",this.windowEventHandler=a.debounce(st.bind(this,this.closeCalendarPane),100),this.windowBlurHandler=st.bind(this,this.handleWindowBlur),this.ngDateFilter=d("date"),this.leftMargin=20,this.topMargin=null,n.tabindex?(this.ngInputElement.attr("tabindex",n.tabindex),n.$set("tabindex",null)):n.$set("tabindex","-1"),n.$set("aria-owns",this.calendarPaneId),r(e),r(st.element(this.calendarPane));var u=this;t.$on("$destroy",function(){u.detachCalendarPane()}),n.mdIsOpen&&t.$watch("ctrl.isOpen",function(t){t?u.openCalendarPane({target:u.inputElement}):u.closeCalendarPane()}),1===st.version.major&&st.version.minor<=4&&this.$onInit()}e.$inject=["$scope","$element","$attrs","$window","$mdConstant","$mdTheming","$mdUtil","$mdDateLocale","$$mdDateUtil","$$rAF","$filter"],t.$inject=["$$mdSvgRegistry","$mdUtil","$mdAria","inputDirective"],st.module("material.components.datepicker").directive("mdDatepicker",t);var o="md-datepicker-invalid",u="md-datepicker-open",f="_md-datepicker-floating-label",m="_md-datepicker-has-calendar-icon",s="_md-datepicker-has-triangle-icon",h=/ipad|iphone|ipod|android/i;e.prototype.$onInit=function(){this.locale=this.dateLocale?st.extend({},this.$mdDateLocale,this.dateLocale):this.$mdDateLocale,this.installPropertyInterceptors(),this.attachChangeListeners(),this.attachInteractionListeners()},e.prototype.configureNgModel=function(t,e,n){this.ngModelCtrl=t,this.mdInputContainer=e,this.$attrs.$set("type","date"),n[0].link.pre(this.$scope,{on:st.noop,val:st.noop,0:{}},this.$attrs,[t]);var i=this;i.ngModelCtrl.$formatters.push(function(t){var e=st.isDefined(t)?Date.parse(t):null;if(!isNaN(e)&&st.isNumber(e)&&(t=new Date(e)),t&&!(t instanceof Date))throw Error("The ng-model for md-datepicker must be a Date instance or a value that can be parsed into a date. Currently the model is of type: "+typeof t);return i.onExternalChange(t),t}),t.$viewChangeListeners.unshift(st.bind(this,this.updateErrorState));var o=i.$mdUtil.getModelOption(t,"updateOn");o&&this.ngInputElement.on(o,st.bind(this.$element,this.$element.triggerHandler,o))},e.prototype.attachChangeListeners=function(){var n=this;n.$scope.$on("md-calendar-change",function(t,e){n.setModelValue(e),n.onExternalChange(e),n.closeCalendarPane()}),n.ngInputElement.on("input",st.bind(n,n.resizeInputElement));var t=st.isDefined(this.debounceInterval)?this.debounceInterval:500;n.ngInputElement.on("input",n.$mdUtil.debounce(n.handleInputEvent,t,n))},e.prototype.attachInteractionListeners=function(){var e=this,n=this.$scope,i=this.$mdConstant.KEY_CODE;e.ngInputElement.on("keydown",function(t){t.altKey&&t.keyCode==i.DOWN_ARROW&&(e.openCalendarPane(t),n.$digest())}),e.openOnFocus&&(e.ngInputElement.on("focus",st.bind(e,e.openCalendarPane)),st.element(e.$window).on("blur",e.windowBlurHandler),n.$on("$destroy",function(){st.element(e.$window).off("blur",e.windowBlurHandler)})),n.$on("md-calendar-close",function(){e.closeCalendarPane()})},e.prototype.installPropertyInterceptors=function(){var e=this;if(this.$attrs.ngDisabled){var t=this.$scope.$parent;t&&t.$watch(this.$attrs.ngDisabled,function(t){e.setDisabled(t)})}Object.defineProperty(this,"placeholder",{get:function(){return e.inputElement.placeholder},set:function(t){e.inputElement.placeholder=t||""}})},e.prototype.setDisabled=function(t){this.isDisabled=t,this.inputElement.disabled=t,this.calendarButton&&(this.calendarButton.disabled=t)},e.prototype.updateErrorState=function(t){var e=t||this.date;if(this.clearErrorState(),this.dateUtil.isValidDate(e)){if(e=this.dateUtil.createDateAtMidnight(e),this.dateUtil.isValidDate(this.minDate)){var n=this.dateUtil.createDateAtMidnight(this.minDate);this.ngModelCtrl.$setValidity("mindate",n<=e)}if(this.dateUtil.isValidDate(this.maxDate)){var i=this.dateUtil.createDateAtMidnight(this.maxDate);this.ngModelCtrl.$setValidity("maxdate",e<=i)}st.isFunction(this.dateFilter)&&this.ngModelCtrl.$setValidity("filtered",this.dateFilter(e))}else this.ngModelCtrl.$setValidity("valid",null==e);st.element(this.inputContainer).toggleClass(o,!this.ngModelCtrl.$valid)},e.prototype.clearErrorState=function(){this.inputContainer.classList.remove(o),["mindate","maxdate","filtered","valid"].forEach(function(t){this.ngModelCtrl.$setValidity(t,!0)},this)},e.prototype.resizeInputElement=function(){this.inputElement.size=this.inputElement.value.length+3},e.prototype.handleInputEvent=function(){var t=this.inputElement.value,e=t?this.locale.parseDate(t):null;this.dateUtil.setDateTimeToMidnight(e),(""==t||this.dateUtil.isValidDate(e)&&this.locale.isDateComplete(t)&&this.isDateEnabled(e))&&(this.setModelValue(e),this.date=e),this.updateErrorState(e)},e.prototype.isDateEnabled=function(t){return this.dateUtil.isDateWithinRange(t,this.minDate,this.maxDate)&&(!st.isFunction(this.dateFilter)||this.dateFilter(t))},e.prototype.attachCalendarPane=function(){var t=this.calendarPane,e=document.body;t.style.transform="",this.$element.addClass(u),this.mdInputContainer&&this.mdInputContainer.element.addClass(u),st.element(e).addClass("md-datepicker-is-showing");var n=this.inputContainer.getBoundingClientRect(),i=e.getBoundingClientRect();(!this.topMargin||this.topMargin<0)&&(this.topMargin=(this.inputMask.parent().prop("clientHeight")-this.ngInputElement.prop("clientHeight"))/2);var o=n.top-i.top-this.topMargin,r=n.left-i.left-this.leftMargin,a=i.top<0&&0==document.body.scrollTop?-i.top:document.body.scrollTop,s=i.left<0&&0==document.body.scrollLeft?-i.left:document.body.scrollLeft,l=a+this.$window.innerHeight,c=s+this.$window.innerWidth;if(this.inputMask.css({position:"absolute",left:this.leftMargin+"px",top:this.topMargin+"px",width:n.width-1+"px",height:n.height-2+"px"}),c<r+360){if(0<c-360)r=c-360;else{r=s;var d=this.$window.innerWidth/360;t.style.transform="scale("+d+")"}t.classList.add("md-datepicker-pos-adjusted")}l<o+368&&a<l-368&&(o=l-368,t.classList.add("md-datepicker-pos-adjusted")),t.style.left=r+"px",t.style.top=o+"px",document.body.appendChild(t),this.$$rAF(function(){t.classList.add("md-pane-open")})},e.prototype.detachCalendarPane=function(){this.$element.removeClass(u),this.mdInputContainer&&this.mdInputContainer.element.removeClass(u),st.element(document.body).removeClass("md-datepicker-is-showing"),this.calendarPane.classList.remove("md-pane-open"),this.calendarPane.classList.remove("md-datepicker-pos-adjusted"),this.isCalendarOpen&&this.$mdUtil.enableScrolling(),this.calendarPane.parentNode&&this.calendarPane.parentNode.removeChild(this.calendarPane)},e.prototype.openCalendarPane=function(t){if(!this.isCalendarOpen&&!this.isDisabled&&!this.inputFocusedOnWindowBlur){this.isCalendarOpen=this.isOpen=!0,this.calendarPaneOpenedFrom=t.target,this.$mdUtil.disableScrollAround(this.calendarPane),this.attachCalendarPane(),this.focusCalendar(),this.evalAttr("ngFocus");var e=this;this.$mdUtil.nextTick(function(){e.documentElement.on("click touchstart",e.bodyClickHandler)},!1),H.addEventListener(this.windowEventName,this.windowEventHandler)}},e.prototype.closeCalendarPane=function(){function t(){e.isCalendarOpen=e.isOpen=!1}if(this.isCalendarOpen){var e=this;e.detachCalendarPane(),e.ngModelCtrl.$setTouched(),e.evalAttr("ngBlur"),e.documentElement.off("click touchstart",e.bodyClickHandler),H.removeEventListener(e.windowEventName,e.windowEventHandler),e.calendarPaneOpenedFrom.focus(),e.calendarPaneOpenedFrom=null,e.openOnFocus?e.$mdUtil.nextTick(t):t()}},e.prototype.getCalendarCtrl=function(){return st.element(this.calendarPane.querySelector("md-calendar")).controller("mdCalendar")},e.prototype.focusCalendar=function(){var t=this;this.$mdUtil.nextTick(function(){t.getCalendarCtrl().focus()},!1)},e.prototype.setFocused=function(t){t||this.ngModelCtrl.$setTouched(),this.openOnFocus||this.evalAttr(t?"ngFocus":"ngBlur"),this.isFocused=t},e.prototype.handleBodyClick=function(t){this.isCalendarOpen&&(this.$mdUtil.getClosest(t.target,"md-calendar")||this.closeCalendarPane(),this.$scope.$digest())},e.prototype.handleWindowBlur=function(){this.inputFocusedOnWindowBlur=document.activeElement===this.inputElement},e.prototype.evalAttr=function(t){this.$attrs[t]&&this.$scope.$parent.$eval(this.$attrs[t])},e.prototype.setModelValue=function(t){var e=this.$mdUtil.getModelOption(this.ngModelCtrl,"timezone");this.ngModelCtrl.$setViewValue(this.ngDateFilter(t,"yyyy-MM-dd",e))},e.prototype.onExternalChange=function(t){var e=this.$mdUtil.getModelOption(this.ngModelCtrl,"timezone");this.date=t,this.inputElement.value=this.locale.formatDate(t,e),this.mdInputContainer&&this.mdInputContainer.setHasValue(!!t),this.resizeInputElement(),this.updateErrorState()}}(),st.module("material.components.icon").directive("mdIcon",["$mdIcon","$mdTheming","$mdAria","$sce",function(l,c,d,t){return{restrict:"E",link:function(t,e,n){function i(){if(!n.mdSvgIcon&&!n.mdSvgSrc){n.mdFontIcon&&(e.removeClass(o),e.addClass(n.mdFontIcon),o=n.mdFontIcon);var t=l.fontSet(n.mdFontSet);r!==t&&(e.removeClass(r),e.addClass(t),r=t)}}c(e);var o=n.mdFontIcon,r=l.fontSet(n.mdFontSet);n.mdSvgIcon||n.mdSvgSrc||(n.mdFontIcon&&e.addClass("md-font "+n.mdFontIcon),e.addClass(r)),n.$observe("mdFontIcon",i),n.$observe("mdFontSet",i);var a,s=(e[0].getAttribute(n.$attr.mdSvgSrc),n.$normalize(n.$attr.mdSvgIcon||n.$attr.mdSvgSrc||""));n.role||(d.expect(e,"role","img"),n.role="img"),"img"!==n.role||n.ariaHidden||d.hasAriaLabel(e)||(n.alt?d.expect(e,"aria-label",n.alt):d.parentHasAriaLabel(e,2)?d.expect(e,"aria-hidden","true"):(a=n.mdFontIcon||n.mdSvgIcon||e.text())?d.expect(e,"aria-label",a):d.expect(e,"aria-hidden","true")),s&&n.$observe(s,function(t){e.empty(),t&&l(t).then(function(t){e.empty(),e.append(t)})})}}}]),function(){function t(){}function i(t,e){this.url=t,this.viewBoxSize=e||a.defaultViewBoxSize}function r(a,r,s,l,o,c){function t(t){return t=t||"",st.isString(t)||(t=c.getTrustedUrl(t)),m[t]?s.when((e=m[t],n=e.clone(),i="_cache"+o.nextUid(),n.id&&(n.id+=i),st.forEach(n.querySelectorAll("[id]"),function(t){t.id+=i}),n)):v.test(t)||y.test(t)?p(t).then(d(t)):(-1==t.indexOf(":")&&(t="$default:"+t),(a[t]?u:h)(t).then(d(t)));var e,n,i}function d(n){return function(t){return m[n]=(e=t,st.isDefined(e.element)&&st.isDefined(e.config)?t:new f(t,a[n])),m[n].clone();var e}}function u(t){var e=a[t];return p(e.url).then(function(t){return new f(t,e)})}function h(i){function o(t){var e="icon "+t+" not found";return l.warn(e),s.reject(e||t)}var t=i.substring(0,i.lastIndexOf(":"))||"$default",r=a[t];return r?p(r.url).then(function(t){var e=i.slice(i.lastIndexOf(":")+1),n=t.querySelector("#"+e);return n?new f(n,r):o(i)}):o(i)}function p(t){return y.test(t)?(e=t,n=y.exec(e),o=/base64/i.test(e)?H.atob(n[2]):n[2],s.when(st.element(o)[0])):(i=t,s(function(e,n){r(i,!0).then(function(t){g[i]||(g[i]=st.element("<div>").append(t)[0].querySelector("svg")),e(g[i])},function(t){var e=st.isString(t)?t:t.message||t.data||t.statusText;l.warn(e),n(t)})}));var i,e,n,o}function f(t,e){t&&"svg"!=t.tagName&&(t=st.element('<svg xmlns="http://www.w3.org/2000/svg">').append(t.cloneNode(!0))[0]),t.getAttribute("xmlns")||t.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.element=t,this.config=e,this.prepare()}var m={},g={},v=/[-\w@:%\+.~#?&\/\/=]{2,}\.[a-z]{2,4}\b(\/[-\w@:%\+.~#?&\/\/=]*)?/i,y=/^data:image\/svg\+xml[\s*;\w\-\=]*?(base64)?,(.*)$/i;return f.prototype={clone:function(){return this.element.cloneNode(!0)},prepare:function(){var t=this.config?this.config.viewBoxSize:a.defaultViewBoxSize;st.forEach({fit:"",height:"100%",width:"100%",preserveAspectRatio:"xMidYMid meet",viewBox:this.element.getAttribute("viewBox")||"0 0 "+t+" "+t,focusable:!1},function(t,e){this.element.setAttribute(e,t)},this)}},t.fontSet=function(e){if(st.isUndefined(e)||!e||!e.length)return a.defaultFontSet;var n=e;return st.forEach(a.fontSets,function(t){t.alias==e&&(n=t.fontSet||n)}),n},t}r.$inject=["config","$templateRequest","$q","$log","$mdUtil","$sce"],st.module("material.components.icon").constant("$$mdSvgRegistry",{mdTabsArrow:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwb2x5Z29uIHBvaW50cz0iMTUuNCw3LjQgMTQsNiA4LDEyIDE0LDE4IDE1LjQsMTYuNiAxMC44LDEyICIvPjwvZz48L3N2Zz4=",mdClose:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwYXRoIGQ9Ik0xOSA2LjQxbC0xLjQxLTEuNDEtNS41OSA1LjU5LTUuNTktNS41OS0xLjQxIDEuNDEgNS41OSA1LjU5LTUuNTkgNS41OSAxLjQxIDEuNDEgNS41OS01LjU5IDUuNTkgNS41OSAxLjQxLTEuNDEtNS41OS01LjU5eiIvPjwvZz48L3N2Zz4=",mdCancel:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwYXRoIGQ9Ik0xMiAyYy01LjUzIDAtMTAgNC40Ny0xMCAxMHM0LjQ3IDEwIDEwIDEwIDEwLTQuNDcgMTAtMTAtNC40Ny0xMC0xMC0xMHptNSAxMy41OWwtMS40MSAxLjQxLTMuNTktMy41OS0zLjU5IDMuNTktMS40MS0xLjQxIDMuNTktMy41OS0zLjU5LTMuNTkgMS40MS0xLjQxIDMuNTkgMy41OSAzLjU5LTMuNTkgMS40MSAxLjQxLTMuNTkgMy41OSAzLjU5IDMuNTl6Ii8+PC9nPjwvc3ZnPg==",mdMenu:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGQ9Ik0zLDZIMjFWOEgzVjZNMywxMUgyMVYxM0gzVjExTTMsMTZIMjFWMThIM1YxNloiIC8+PC9zdmc+",mdToggleArrow:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgNDggNDgiPjxwYXRoIGQ9Ik0yNCAxNmwtMTIgMTIgMi44MyAyLjgzIDkuMTctOS4xNyA5LjE3IDkuMTcgMi44My0yLjgzeiIvPjxwYXRoIGQ9Ik0wIDBoNDh2NDhoLTQ4eiIgZmlsbD0ibm9uZSIvPjwvc3ZnPg==",mdCalendar:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTkgM2gtMVYxaC0ydjJIOFYxSDZ2Mkg1Yy0xLjExIDAtMS45OS45LTEuOTkgMkwzIDE5YzAgMS4xLjg5IDIgMiAyaDE0YzEuMSAwIDItLjkgMi0yVjVjMC0xLjEtLjktMi0yLTJ6bTAgMTZINVY4aDE0djExek03IDEwaDV2NUg3eiIvPjwvc3ZnPg==",mdChecked:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwYXRoIGQ9Ik05IDE2LjE3TDQuODMgMTJsLTEuNDIgMS40MUw5IDE5IDIxIDdsLTEuNDEtMS40MXoiLz48L2c+PC9zdmc+"}).provider("$mdIcon",t);var a={defaultViewBoxSize:24,defaultFontSet:"material-icons",fontSets:[]};t.prototype={icon:function(t,e,n){return-1==t.indexOf(":")&&(t="$default:"+t),a[t]=new i(e,n),this},iconSet:function(t,e,n){return a[t]=new i(e,n),this},defaultIconSet:function(t,e){var n="$default";return a[n]||(a[n]=new i(t,e)),a[n].viewBoxSize=e||a.defaultViewBoxSize,this},defaultViewBoxSize:function(t){return a.defaultViewBoxSize=t,this},fontSet:function(t,e){return a.fontSets.push({alias:t,fontSet:e||t}),this},defaultFontSet:function(t){return a.defaultFontSet=t||"",this},defaultIconSize:function(t){return a.defaultIconSize=t,this},$get:["$templateRequest","$q","$log","$mdUtil","$sce",function(t,e,n,i,o){return r(a,t,e,n,i,o)}]}}(),function(){function t(o,e,r,a,s,i,t,n,l){var c,d,u=s.prefixer(),h=this;this.nestLevel=parseInt(e.mdNestLevel,10)||0,this.init=function(t,e){e=e||{},c=t,(d=r[0].querySelector(u.buildSelector(["ng-click","ng-mouseenter"]))).setAttribute("aria-expanded","false"),this.isInMenuBar=e.isInMenuBar,this.nestedMenus=s.nodesToArray(c[0].querySelectorAll(".md-nested-menu")),c.on("$mdInterimElementRemove",function(){h.isOpen=!1,s.nextTick(function(){h.onIsOpenChanged(h.isOpen)})}),s.nextTick(function(){h.onIsOpenChanged(h.isOpen)});var n="menu_container_"+s.nextUid();c.attr("id",n),st.element(d).attr({"aria-owns":n,"aria-haspopup":"true"}),a.$on("$destroy",st.bind(this,function(){this.disableHoverListener(),o.destroy()})),c.on("$destroy",function(){o.destroy()})};var p,f,m=[];this.enableHoverListener=function(){m.push(t.$on("$mdMenuOpen",function(t,e){c[0].contains(e[0])&&(h.currentlyOpenMenu=e.controller("mdMenu"),h.isAlreadyOpening=!1,h.currentlyOpenMenu.registerContainerProxy(h.triggerContainerProxy.bind(h)))})),m.push(t.$on("$mdMenuClose",function(t,e){c[0].contains(e[0])&&(h.currentlyOpenMenu=lt)})),(f=st.element(s.nodesToArray(c[0].children[0].children))).on("mouseenter",h.handleMenuItemHover),f.on("mouseleave",h.handleMenuItemMouseLeave)},this.disableHoverListener=function(){for(;m.length;)m.shift()();f&&f.off("mouseenter",h.handleMenuItemHover),f&&f.off("mouseleave",h.handleMenuItemMouseLeave)},this.handleMenuItemHover=function(t){if(!h.isAlreadyOpening){var e=t.target.querySelector("md-menu")||s.getClosest(t.target,"MD-MENU");p=i(function(){if(e&&(e=st.element(e).controller("mdMenu")),h.currentlyOpenMenu&&h.currentlyOpenMenu!=e){var t=h.nestLevel+1;h.currentlyOpenMenu.close(!0,{closeTo:t}),h.isAlreadyOpening=!!e,e&&e.open()}else e&&!e.isOpen&&e.open&&(h.isAlreadyOpening=!!e,e&&e.open())},e?100:250);var n=t.currentTarget.querySelector(".md-button:not([disabled])");n&&n.focus()}},this.handleMenuItemMouseLeave=function(){p&&(i.cancel(p),p=lt)},this.open=function(t){t&&t.stopPropagation(),t&&t.preventDefault(),h.isOpen||(h.enableHoverListener(),h.isOpen=!0,s.nextTick(function(){h.onIsOpenChanged(h.isOpen)}),(d=d||(t?t.target:r[0])).setAttribute("aria-expanded","true"),a.$emit("$mdMenuOpen",r),o.show({scope:a,mdMenuCtrl:h,nestLevel:h.nestLevel,element:c,target:d,preserveElement:!0,parent:"body"}).finally(function(){d.setAttribute("aria-expanded","false"),h.disableHoverListener()}))},this.onIsOpenChanged=function(t){t?(c.attr("aria-hidden","false"),r[0].classList.add("md-open"),st.forEach(h.nestedMenus,function(t){t.classList.remove("md-open")})):(c.attr("aria-hidden","true"),r[0].classList.remove("md-open")),a.$mdMenuIsOpen=h.isOpen},this.focusMenuContainer=function(){var t=c[0].querySelector(u.buildSelector(["md-menu-focus-target","md-autofocus"]));t||(t=c[0].querySelector(".md-button:not([disabled])")),t.focus()},this.registerContainerProxy=function(t){this.containerProxy=t},this.triggerContainerProxy=function(t){this.containerProxy&&this.containerProxy(t)},this.destroy=function(){return h.isOpen?o.destroy():n.when(!1)},this.close=function(t,e){if(h.isOpen){h.isOpen=!1,s.nextTick(function(){h.onIsOpenChanged(h.isOpen)});var n=st.extend({},e,{skipFocus:t});if(a.$emit("$mdMenuClose",r,n),o.hide(null,e),!t){var i=h.restoreFocusTo||r.find("button")[0];i instanceof st.element&&(i=i[0]),i&&i.focus()}}},this.positionMode=function(){var t=(e.mdPositionMode||"target").split(" ");return 1==t.length&&t.push(t[0]),{left:t[0],top:t[1]}},this.offsets=function(){var t=(e.mdOffset||"0 0").split(" ").map(parseFloat);if(2==t.length)return{left:t[0],top:t[1]};if(1==t.length)return{top:t[0],left:t[0]};throw Error("Invalid offsets specified. Please follow format <x, y> or <n>")},a.$mdMenu={open:this.open,close:this.close},a.$mdOpenMenu=st.bind(this,function(){return l.warn("mdMenu: The $mdOpenMenu method is deprecated. Please use `$mdMenu.open`."),this.open.apply(this,arguments)})}t.$inject=["$mdMenu","$attrs","$element","$scope","$mdUtil","$timeout","$rootScope","$q","$log"],st.module("material.components.menu").controller("mdMenuCtrl",t)}(),function(){function t(s){function l(t,e,n,i){var o=i[0],r=!!i[1],a=st.element('<div class="_md md-open-menu-container md-whiteframe-z2"></div>'),s=e.children()[1];e.addClass("_md"),s.hasAttribute("role")||s.setAttribute("role","menu"),a.append(s),e.on("$destroy",function(){a.remove()}),e.append(a),a[0].style.display="none",o.init(a,{isInMenuBar:r})}var c="Invalid HTML for md-menu: ";return{restrict:"E",require:["mdMenu","?^mdMenuBar"],controller:"mdMenuCtrl",scope:!0,compile:function(t){t.addClass("md-menu");var e=t.children()[0],n=t.children()[1],i=s.prefixer();i.hasAttribute(e,"ng-click")||(e=e.querySelector(i.buildSelector(["ng-click","ng-mouseenter"]))||e);var o="MD-BUTTON"===e.nodeName||"BUTTON"===e.nodeName;if(e&&o&&!e.hasAttribute("type")&&e.setAttribute("type","button"),!e)throw Error(c+"Expected the menu to have a trigger element.");if(!n||"MD-MENU-CONTENT"!==n.nodeName)throw Error(c+"Expected the menu to contain a `md-menu-content` element.");e&&e.setAttribute("aria-haspopup","true");var r=t[0].querySelectorAll("md-menu"),a=parseInt(t[0].getAttribute("md-nest-level"),10)||0;return r&&st.forEach(s.nodesToArray(r),function(t){t.hasAttribute("md-position-mode")||t.setAttribute("md-position-mode","cascade"),t.classList.add("_md-nested-menu"),t.setAttribute("md-nest-level",a+1)}),l}}}t.$inject=["$mdUtil"],st.module("material.components.menu").directive("mdMenu",t)}(),function(){function t(t){function e(w,c,d,E,M,u,h,p,f,m){function g(t,e,n,i){for(var o,r=w.getClosest(t.target,"MD-MENU-ITEM"),a=w.nodesToArray(e[0].children),s=a.indexOf(r)+i;0<=s&&s<a.length;s+=i){if(o=l(a[s].querySelector(".md-button")))break}return o}function l(t){if(t&&-1!=t.getAttribute("tabindex"))return t.focus(),E[0].activeElement==t}function v(t,e){var n,i=t[0],o=t[0].firstElementChild,r=o.getBoundingClientRect(),a=E[0].body.getBoundingClientRect(),s=M.getComputedStyle(o),l=e.target[0].querySelector(T.buildSelector("md-menu-origin"))||e.target[0],c=l.getBoundingClientRect(),d={left:a.left+C,top:Math.max(a.top,0)+C,bottom:Math.max(a.bottom,Math.max(a.top,0)+a.height)-C,right:a.right-C},u={top:0,left:0,right:0,bottom:0},h={top:0,left:0,right:0,bottom:0},p=e.mdMenuCtrl.positionMode();"target"!=p.top&&"target"!=p.left&&"target-right"!=p.left||(n=function(){for(var t=0;t<o.children.length;++t)if("none"!=M.getComputedStyle(o.children[t]).display)return o.children[t]}())&&(u=(n=(n=n.firstElementChild||n).querySelector(T.buildSelector("md-menu-align-target"))||n).getBoundingClientRect(),h={top:parseFloat(i.style.top||0),left:parseFloat(i.style.left||0)});var f={},m="top ";switch(p.top){case"target":f.top=h.top+c.top-u.top;break;case"cascade":f.top=c.top-parseFloat(s.paddingTop)-l.style.top;break;case"bottom":f.top=c.top+c.height;break;default:throw new Error('Invalid target mode "'+p.top+'" specified for md-menu on Y axis.')}var g="rtl"==w.bidi();switch(p.left){case"target":f.left=h.left+c.left-u.left,m+=g?"right":"left";break;case"target-left":f.left=c.left,m+="left";break;case"target-right":f.left=c.right-r.width+(r.right-u.right),m+="right";break;case"cascade":var v=g?c.left-r.width<d.left:c.right+r.width<d.right;f.left=v?c.right-l.style.left:c.left-l.style.left-r.width,m+=v?"left":"right";break;case"right":g?(f.left=c.right-c.width,m+="left"):(f.left=c.right-r.width,m+="right");break;case"left":g?(f.left=c.right-r.width,m+="right"):(f.left=c.left,m+="left");break;default:throw new Error('Invalid target mode "'+p.left+'" specified for md-menu on X axis.')}var y,b=e.mdMenuCtrl.offsets();f.top+=b.top,f.left+=b.left,(y=f).top=Math.max(Math.min(y.top,d.bottom-i.offsetHeight),d.top),y.left=Math.max(Math.min(y.left,d.right-i.offsetWidth),d.left);var _=Math.round(100*Math.min(c.width/i.offsetWidth,1))/100,x=Math.round(100*Math.min(c.height/i.offsetHeight,1))/100;return{top:Math.round(f.top),left:Math.round(f.left),transform:e.alreadyOpen?lt:w.supplant("scale({0},{1})",[_,x]),transformOrigin:m}}var T=w.prefixer(),y=w.dom.animator;return{parent:"body",onShow:function(a,n,s){function e(t){t.preventDefault(),t.stopPropagation(),a.$apply(function(){s.mdMenuCtrl.close(!0,{closeAll:!0})})}return function(){if(!s.target)throw Error("$mdMenu.show() expected a target to animate from in options.target");st.extend(s,{alreadyOpen:!1,isRemoved:!1,target:st.element(s.target),parent:st.element(s.parent),menuContentEl:st.element(n[0].querySelector("md-menu-content"))})}(),s.menuContentEl[0]?c.inherit(s.menuContentEl,s.target):m.warn("$mdMenu: Menu elements should always contain a `md-menu-content` element,otherwise interactivity features will not work properly.",n),s.cleanupResizing=(o=n,r=s,l=h.throttle(function(){if(!s.isRemoved){var t=v(o,r);o.css(y.toCss(t))}}),M.addEventListener("resize",l),M.addEventListener("orientationchange",l),function(){M.removeEventListener("resize",l),M.removeEventListener("orientationchange",l)}),s.hideBackdrop=(t=a,(i=s).nestLevel?st.noop:(i.disableParentScroll&&!w.getClosest(i.target,"MD-DIALOG")?i.restoreScroll=w.disableScrollAround(i.element,i.parent):i.disableParentScroll=!1,i.hasBackdrop&&(i.backdrop=w.createBackdrop(t,"md-menu-backdrop md-click-catcher"),f.enter(i.backdrop,E[0].body)),function(){i.backdrop&&i.backdrop.remove(),i.disableParentScroll&&i.restoreScroll()})),(s.parent.append(n),n[0].style.display="",u(function(t){var e=v(n,s);n.removeClass("md-leave"),p(n,{addClass:"md-active",from:y.toCss(e),to:y.toCss({transform:""})}).start().then(t)})).then(function(t){return s.alreadyOpen=!0,s.cleanupInteraction=function(){function t(t){var e;switch(t.keyCode){case d.KEY_CODE.ESCAPE:s.mdMenuCtrl.close(!1,{closeAll:!0}),e=!0;break;case d.KEY_CODE.UP_ARROW:g(t,s.menuContentEl,0,-1)||s.nestLevel||s.mdMenuCtrl.triggerContainerProxy(t),e=!0;break;case d.KEY_CODE.DOWN_ARROW:g(t,s.menuContentEl,0,1)||s.nestLevel||s.mdMenuCtrl.triggerContainerProxy(t),e=!0;break;case d.KEY_CODE.LEFT_ARROW:s.nestLevel?s.mdMenuCtrl.close():s.mdMenuCtrl.triggerContainerProxy(t),e=!0;break;case d.KEY_CODE.RIGHT_ARROW:var n=w.getClosest(t.target,"MD-MENU");n&&n!=s.parent[0]?t.target.click():s.mdMenuCtrl.triggerContainerProxy(t),e=!0}e&&(t.preventDefault(),t.stopImmediatePropagation())}function e(t){function e(t,e){if(!t)return!1;for(var n,i=0;n=e[i];++i)if(T.hasAttribute(t,n))return!0;return!1}var n=t.target;do{if(n==s.menuContentEl[0])return;if((e(n,["ng-click","ng-href","ui-sref"])||"BUTTON"==n.nodeName||"MD-BUTTON"==n.nodeName)&&!e(n,["md-prevent-menu-close"])){var i=w.getClosest(n,"MD-MENU");n.hasAttribute("disabled")||i&&i!=s.parent[0]||a.$apply(function(){s.mdMenuCtrl.close(!0,{closeAll:!0})});break}}while(n=n.parentNode)}if(!s.menuContentEl[0])return st.noop;s.menuContentEl.on("keydown",t),s.menuContentEl[0].addEventListener("click",e,!0);var n=s.menuContentEl[0].querySelector(T.buildSelector(["md-menu-focus-target","md-autofocus"]));if(!n)for(var i=s.menuContentEl[0].children.length,o=0;o<i;o++){var r=s.menuContentEl[0].children[o];if(n=r.querySelector(".md-button:not([disabled])"))break;if(r.firstElementChild&&!r.firstElementChild.disabled){n=r.firstElementChild;break}}return n&&n.focus(),function(){s.menuContentEl.off("keydown",t),s.menuContentEl[0].removeEventListener("click",e,!0)}}(),s.cleanupBackdrop=s.backdrop?(s.backdrop.on("click",e),function(){s.backdrop.off("click",e)}):st.noop,n.addClass("md-clickable"),t});var t,i,o,r,l},onRemove:function(t,n,i){function e(){var t,e;n.removeClass("md-active"),t=n,(e=i).preserveElement?o(t).style.display="none":o(t).parentNode===o(e.parent)&&o(e.parent).removeChild(o(t)),i.alreadyOpen=!1}return i.cleanupInteraction(),i.cleanupBackdrop(),i.cleanupResizing(),i.hideBackdrop(),n.removeClass("md-clickable"),!0===i.$destroy?e():p(n,{addClass:"md-leave"}).start().then(e)},hasBackdrop:!0,disableParentScroll:!0,skipCompile:!0,preserveScope:!0,multiple:!0,themable:!0}}function o(t){return t instanceof st.element&&(t=t[0]),t}e.$inject=["$mdUtil","$mdTheming","$mdConstant","$document","$window","$q","$$rAF","$animateCss","$animate","$log"];var C=8;return t("$mdMenu").setDefaults({methods:["target"],options:e})}t.$inject=["$$interimElementProvider"],st.module("material.components.menu").provider("$mdMenu",t)}(),function(){function t(t,e,n,i,o,r,a,s){this.$element=n,this.$attrs=i,this.$mdConstant=o,this.$mdUtil=a,this.$document=r,this.$scope=t,this.$rootScope=e,this.$timeout=s;var l=this;st.forEach(c,function(t){l[t]=st.bind(l,l[t])})}t.$inject=["$scope","$rootScope","$element","$attrs","$mdConstant","$document","$mdUtil","$timeout"],st.module("material.components.menuBar").controller("MenuBarController",t);var c=["handleKeyDown","handleMenuHover","scheduleOpenHoveredMenu","cancelScheduledOpen"];t.prototype.init=function(){var r=this.$element,a=this.$mdUtil,t=this.$scope,s=this,e=[];r.on("keydown",this.handleKeyDown),this.parentToolbar=a.getClosest(r,"MD-TOOLBAR"),e.push(this.$rootScope.$on("$mdMenuOpen",function(t,e){-1!=s.getMenus().indexOf(e[0])&&(r[0].classList.add("md-open"),e[0].classList.add("md-open"),s.currentlyOpenMenu=e.controller("mdMenu"),s.currentlyOpenMenu.registerContainerProxy(s.handleKeyDown),s.enableOpenOnHover())})),e.push(this.$rootScope.$on("$mdMenuClose",function(t,e,n){var i=s.getMenus();if(-1!=i.indexOf(e[0])&&(r[0].classList.remove("md-open"),e[0].classList.remove("md-open")),r[0].contains(e[0])){for(var o=e[0];o&&-1==i.indexOf(o);)o=a.getClosest(o,"MD-MENU",!0);o&&(n.skipFocus||o.querySelector("button:not([disabled])").focus(),s.currentlyOpenMenu=lt,s.disableOpenOnHover(),s.setKeyboardMode(!0))}})),t.$on("$destroy",function(){for(s.disableOpenOnHover();e.length;)e.shift()()}),this.setKeyboardMode(!0)},t.prototype.setKeyboardMode=function(t){t?this.$element[0].classList.add("md-keyboard-mode"):this.$element[0].classList.remove("md-keyboard-mode")},t.prototype.enableOpenOnHover=function(){if(!this.openOnHoverEnabled){var t=this;t.openOnHoverEnabled=!0,t.parentToolbar&&(t.parentToolbar.classList.add("md-has-open-menu"),t.$mdUtil.nextTick(function(){st.element(t.parentToolbar).on("click",t.handleParentClick)},!1)),st.element(t.getMenus()).on("mouseenter",t.handleMenuHover)}},t.prototype.handleMenuHover=function(t){this.setKeyboardMode(!1),this.openOnHoverEnabled&&this.scheduleOpenHoveredMenu(t)},t.prototype.disableOpenOnHover=function(){this.openOnHoverEnabled&&(this.openOnHoverEnabled=!1,this.parentToolbar&&(this.parentToolbar.classList.remove("md-has-open-menu"),st.element(this.parentToolbar).off("click",this.handleParentClick)),st.element(this.getMenus()).off("mouseenter",this.handleMenuHover))},t.prototype.scheduleOpenHoveredMenu=function(t){var e=st.element(t.currentTarget).controller("mdMenu");this.setKeyboardMode(!1),this.scheduleOpenMenu(e)},t.prototype.scheduleOpenMenu=function(t){var e=this,n=this.$timeout;t!=e.currentlyOpenMenu&&(n.cancel(e.pendingMenuOpen),e.pendingMenuOpen=n(function(){e.pendingMenuOpen=lt,e.currentlyOpenMenu&&e.currentlyOpenMenu.close(!0,{closeAll:!0}),t.open()},200,!1))},t.prototype.handleKeyDown=function(t){var e,n,i,o=this.$mdConstant.KEY_CODE,r=this.currentlyOpenMenu,a=r&&r.isOpen;switch(this.setKeyboardMode(!0),t.keyCode){case o.DOWN_ARROW:r?r.focusMenuContainer():this.openFocusedMenu(),e=!0;break;case o.UP_ARROW:r&&r.close(),e=!0;break;case o.LEFT_ARROW:n=this.focusMenu(-1),a&&(i=st.element(n).controller("mdMenu"),this.scheduleOpenMenu(i)),e=!0;break;case o.RIGHT_ARROW:n=this.focusMenu(1),a&&(i=st.element(n).controller("mdMenu"),this.scheduleOpenMenu(i)),e=!0}e&&(t&&t.preventDefault&&t.preventDefault(),t&&t.stopImmediatePropagation&&t.stopImmediatePropagation())},t.prototype.focusMenu=function(t){var e=this.getMenus(),n=this.getFocusedMenuIndex();-1==n&&(n=this.getOpenMenuIndex());var i=!1;if(-1==n?i=!(n=0):(t<0&&0<n||0<t&&n<e.length-t)&&(n+=t,i=!0),i)return e[n].querySelector("button").focus(),e[n]},t.prototype.openFocusedMenu=function(){var t=this.getFocusedMenu();t&&st.element(t).controller("mdMenu").open()},t.prototype.getMenus=function(){var t=this.$element;return this.$mdUtil.nodesToArray(t[0].children).filter(function(t){return"MD-MENU"==t.nodeName})},t.prototype.getFocusedMenu=function(){return this.getMenus()[this.getFocusedMenuIndex()]},t.prototype.getFocusedMenuIndex=function(){var t=this.$mdUtil.getClosest(this.$document[0].activeElement,"MD-MENU");return t?this.getMenus().indexOf(t):-1},t.prototype.getOpenMenuIndex=function(){for(var t=this.getMenus(),e=0;e<t.length;++e)if(t[e].classList.contains("md-open"))return e;return-1},t.prototype.handleParentClick=function(t){var e=this.querySelector("md-menu.md-open");e&&!e.contains(t.target)&&st.element(e).controller("mdMenu").close(!0,{closeAll:!0})}}(),function(){function t(n,o){return{restrict:"E",require:"mdMenuBar",controller:"MenuBarController",compile:function(t,e){return e.ariaRole||t[0].setAttribute("role","menubar"),st.forEach(t[0].children,function(t){if("MD-MENU"==t.nodeName){t.hasAttribute("md-position-mode")||(t.setAttribute("md-position-mode","left bottom"),t.querySelector("button, a, md-button").setAttribute("role","menuitem"));var e=n.nodesToArray(t.querySelectorAll("md-menu-content"));st.forEach(e,function(t){t.classList.add("md-menu-bar-menu"),t.classList.add("md-dense"),t.hasAttribute("width")||t.setAttribute("width",5)})}}),t.find("md-menu-item").addClass("md-in-menu-bar"),function(t,e,n,i){e.addClass("_md"),o(t,e),i.init()}}}}t.$inject=["$mdUtil","$mdTheming"],st.module("material.components.menuBar").directive("mdMenuBar",t)}(),st.module("material.components.menuBar").directive("mdMenuDivider",function(){return{restrict:"E",compile:function(t,e){e.role||t[0].setAttribute("role","separator")}}}),function(){function t(t,e,n){this.$element=e,this.$attrs=n,this.$scope=t}t.$inject=["$scope","$element","$attrs"],st.module("material.components.menuBar").controller("MenuItemController",t),t.prototype.init=function(t){var e=this.$element,n=this.$attrs;this.ngModel=t,"checkbox"!=n.type&&"radio"!=n.type||(this.mode=n.type,this.iconEl=e[0].children[0],this.buttonEl=e[0].children[1],t&&this.initClickListeners())},t.prototype.clearNgAria=function(){var e=this.$element[0];st.forEach(["role","tabindex","aria-invalid","aria-checked"],function(t){e.removeAttribute(t)})},t.prototype.initClickListeners=function(){function t(t){t?s.off("click",l):s.on("click",l)}var e=this,n=this.ngModel,i=this.$scope,o=this.$attrs,r=(this.$element,this.mode);this.handleClick=st.bind(this,this.handleClick);var a=this.iconEl,s=st.element(this.buttonEl),l=this.handleClick;o.$observe("disabled",t),t(o.disabled),n.$render=function(){e.clearNgAria(),function(){if("radio"!=r)return n.$modelValue;var t=o.ngValue?i.$eval(o.ngValue):o.value;return n.$modelValue==t}()?(a.style.display="",s.attr("aria-checked","true")):(a.style.display="none",s.attr("aria-checked","false"))},i.$$postDigest(n.$render)},t.prototype.handleClick=function(t){var e,n=this.mode,i=this.ngModel,o=this.$attrs;"checkbox"==n?e=!i.$modelValue:"radio"==n&&(e=o.ngValue?this.$scope.$eval(o.ngValue):o.value),i.$setViewValue(e),i.$render()}}(),function(){function t(d,t,u){return{controller:"MenuItemController",require:["mdMenuItem","?ngModel"],priority:t.BEFORE_NG_ARIA,compile:function(i,t){function e(t,e,n){(n=n||i)instanceof st.element&&(n=n[0]),n.hasAttribute(t)||n.setAttribute(t,e)}var n,o,r=t.type,a="md-in-menu-bar";if("checkbox"!=r&&"radio"!=r||!i.hasClass(a))e("role","menuitem",i[0].querySelector("md-button, button, a"));else{var s=i[0].textContent,l=st.element('<md-button type="button"></md-button>'),c='<md-icon md-svg-src="'+u.mdChecked+'"></md-icon>';l.html(s),l.attr("tabindex","0"),i.html(""),i.append(st.element(c)),i.append(l),i.addClass("md-indent").removeClass(a),e("role","checkbox"==r?"menuitemcheckbox":"menuitemradio",l),n="ng-disabled",o=d.prefixer(n),st.forEach(o,function(t){if(i[0].hasAttribute(t)){var e=i[0].getAttribute(t);l[0].setAttribute(t,e),i[0].removeAttribute(t)}})}return function(t,e,n,i){var o=i[0],r=i[1];o.init(r)}}}}t.$inject=["$mdUtil","$mdConstant","$$mdSvgRegistry"],st.module("material.components.menuBar").directive("mdMenuItem",t)}(),function(){function t(_,x,h,w,p,t){function i(g,a,r){function s(n,t,e,i,o,r){function a(t){y.attr("stroke-dashoffset",E(d,u,t,m)),y.attr("transform","rotate("+f+" "+d/2+" "+d/2+")")}var s=++b,l=w.now(),c=t-n,d=M(g.mdDiameter),u=T(d),h=e||x.easeFn,p=i||x.duration,f=-90*(o||0),m=r||100;t===n?a(t):v=C(function t(){var e=_.Math.max(0,_.Math.min(w.now()-l,p));a(h(e,n,c,p)),s===b&&e<p&&(v=C(t))})}function t(){s(i,o,x.easeFnIndeterminate,x.durationIndeterminate,u,75),u=++u%4}function l(){e||(e=p(t,x.durationIndeterminate,0,!1),t(),a.addClass(O).removeAttr("aria-valuenow"))}function c(){e&&(p.cancel(e),e=null,a.removeClass(O))}var v,e,n=a[0],d=st.element(n.querySelector("svg")),y=st.element(n.querySelector("path")),i=x.startIndeterminate,o=x.endIndeterminate,u=0,b=0;h(a),a.toggleClass(D,r.hasOwnProperty("disabled")),g.mdMode===k&&l(),g.$on("$destroy",function(){c(),v&&S(v)}),g.$watchGroup(["value","mdMode",function(){var t=n.disabled;return!0===t||!1===t?t:st.isDefined(a.attr("disabled"))}],function(t,e){var n=t[1],i=t[2];if(i!==e[2]&&a.toggleClass(D,!!i),i)c();else if(n!==A&&n!==k&&(n=k,r.$set("mdMode",n)),n===k)l();else{var o=m(t[0]);c(),a.attr("aria-valuenow",o),s(m(e[0]),o)}}),g.$watch("mdDiameter",function(t){var e=M(t),n=T(e),i=m(g.value),o=e/2+"px",r={width:e+"px",height:e+"px"};d[0].setAttribute("viewBox","0 0 "+e+" "+e),d.css(r).css("transform-origin",o+" "+o+" "+o),a.css(r),y.attr("stroke-width",n),y.attr("stroke-linecap","square"),g.mdMode==k?(y.attr("d",f(e,n,!0)),y.attr("stroke-dasharray",(e-n)*_.Math.PI*.75),y.attr("stroke-dashoffset",E(e,n,1,75))):(y.attr("d",f(e,n,!1)),y.attr("stroke-dasharray",(e-n)*_.Math.PI),y.attr("stroke-dashoffset",E(e,n,0,100)),s(i,i))})}function f(t,e,n){var i=t/2,o=e/2,r=i+","+o,a=i-o;return"M"+r+"A"+a+","+a+" 0 1 1 "+(o+","+i)+(n?"":"A"+a+","+a+" 0 0 1 "+r)}function E(t,e,n,i){return(t-e)*_.Math.PI*(3*(i||100)/100-n/100)}function m(t){return _.Math.max(0,_.Math.min(t||0,100))}function M(t){var e=x.progressSize;if(t){var n=parseFloat(t);return t.lastIndexOf("%")===t.length-1&&(n=n/100*e),n}return e}function T(t){return x.strokeWidth/100*t}var C=_.requestAnimationFrame||_.webkitRequestAnimationFrame||st.noop,S=_.cancelAnimationFrame||_.webkitCancelAnimationFrame||_.webkitCancelRequestAnimationFrame||st.noop,A="determinate",k="indeterminate",D="_md-progress-circular-disabled",O="md-mode-indeterminate";return{restrict:"E",scope:{value:"@",mdDiameter:"@",mdMode:"@"},template:'<svg xmlns="http://www.w3.org/2000/svg"><path fill="none"/></svg>',compile:function(t,e){if(t.attr({"aria-valuemin":0,"aria-valuemax":100,role:"progressbar"}),st.isUndefined(e.mdMode)){var n=e.hasOwnProperty("value")?A:k;e.$set("mdMode",n)}else e.$set("mdMode",e.mdMode.trim());return i}}}t.$inject=["$window","$mdProgressCircular","$mdTheming","$mdUtil","$interval","$log"],st.module("material.components.progressCircular").directive("mdProgressCircular",t)}(),st.module("material.components.progressCircular").provider("$mdProgressCircular",function(){function t(t,e,n,i){return n*t/i+e}function e(t,e,n,i){var o=(t/=i)*t,r=o*t;return e+n*(6*r*o+-15*o*o+10*r)}var n={progressSize:50,strokeWidth:10,duration:100,easeFn:t,durationIndeterminate:1333,startIndeterminate:1,endIndeterminate:149,easeFnIndeterminate:e,easingPresets:{linearEase:t,materialEase:e}};return{configure:function(t){return n=st.extend(n,t||{})},$get:function(){return n}}}),st.module("material.components.tabs").directive("mdTab",function(){function r(t,e,n,i){if(i){var o=i.getTabElementIndex(e),r=l(e,"md-tab-body").remove(),a=l(e,"md-tab-label").remove(),s=i.insertTab({scope:t,parent:t.$parent,index:o,element:e,template:r.html(),label:a.html()},o);t.select=t.select||st.noop,t.deselect=t.deselect||st.noop,t.$watch("active",function(t){t&&i.select(s.getIndex(),!0)}),t.$watch("disabled",function(){i.refreshIndex()}),t.$watch(function(){return i.getTabElementIndex(e)},function(t){s.index=t,i.updateTabOrder()}),t.$on("$destroy",function(){i.removeTab(s)})}}function l(t,e){for(var n=t[0].children,i=0,o=n.length;i<o;i++){var r=n[i];if(r.tagName===e.toUpperCase())return st.element(r)}return st.element()}return{require:"^?mdTabs",terminal:!0,compile:function(t,e){var n=l(t,"md-tab-label"),i=l(t,"md-tab-body");if(0===n.length&&(n=st.element("<md-tab-label></md-tab-label>"),e.label?n.text(e.label):n.append(t.contents()),0===i.length)){var o=t.contents().detach();(i=st.element("<md-tab-body></md-tab-body>")).append(o)}return t.append(n),i.html()&&t.append(i),r},scope:{active:"=?mdActive",disabled:"=?ngDisabled",select:"&?mdOnSelect",deselect:"&?mdOnDeselect"}}}),st.module("material.components.tabs").directive("mdTabItem",function(){return{require:"^?mdTabs",link:function(t,e,n,i){i&&i.attachRipple(t,e)}}}),st.module("material.components.tabs").directive("mdTabLabel",function(){return{terminal:!0}}),function(){function t(i){return{restrict:"A",compile:function(t,e){var n=i(e.mdTabScroll,null,!0);return function(e,t){t.on("mousewheel",function(t){e.$apply(function(){n(e,{$event:t})})})}}}}t.$inject=["$parse"],st.module("material.components.tabs").directive("mdTabScroll",t)}(),function(){function t(d,u,r,i,o,h,l,a,s,c,t,e){function p(e,t){function n(t){B[e]="false"!==t}var i=a.$normalize("md-"+e);t&&k(e,t),a.hasOwnProperty(i)&&n(a[i]),a.$observe(i,n)}function f(){V=!0,st.element(r).off("resize",M)}function m(t){var e=S();st.element(e.wrapper).toggleClass("md-stretch-tabs",function(){switch(B.stretchTabs){case"always":return!0;case"never":return!1;default:return!B.shouldPaginate&&r.matchMedia("(max-width: 600px)").matches}}()),F()}function g(t){B.shouldCenterTabs=A()}function v(e,t){if(e!==t){var n=S();st.forEach(n.tabs,function(t){t.style.maxWidth=e+"px"}),st.forEach(n.dummies,function(t){t.style.maxWidth=e+"px"}),h.nextTick(B.updateInkBarStyles)}}function y(t,e){t!==e&&(B.maxTabWidth=P(),B.shouldCenterTabs=A(),h.nextTick(function(){B.maxTabWidth=P(),I(B.selectedIndex)}))}function b(t){u[t?"removeClass":"addClass"]("md-no-tab-content")}function _(t){var e=S(),n=(B.shouldCenterTabs||H()?"":"-")+t+"px";n=n.replace("--",""),st.element(e.paging).css(i.CSS.TRANSFORM,"translate3d("+n+", 0, 0)"),d.$broadcast("$mdTabsPaginationChanged")}function x(t,e){t!==e&&S().tabs[t]&&(I(),L())}function w(t,e){t!==e&&(B.selectedIndex=n(t),B.lastSelectedIndex=e,B.updateInkBarStyles(),$(),I(t),d.$broadcast("$mdTabsChanged"),B.tabs[e]&&B.tabs[e].scope.deselect(),B.tabs[t]&&B.tabs[t].scope.select())}function E(t,e){U||(B.focusIndex=B.selectedIndex=t),e&&B.noSelectClick||h.nextTick(function(){B.tabs[t].element.triggerHandler("click")},!1)}function M(){B.lastSelectedIndex=B.selectedIndex,B.offsetLeft=z(B.offsetLeft),h.nextTick(function(){B.updateInkBarStyles(),D()})}function T(t){st.element(S().inkBar).toggleClass("ng-hide",t)}function C(t){u.toggleClass("md-dynamic-height",t)}function S(){var t={},e=u[0];return t.wrapper=e.querySelector("md-tabs-wrapper"),t.canvas=t.wrapper.querySelector("md-tabs-canvas"),t.paging=t.canvas.querySelector("md-pagination-wrapper"),t.inkBar=t.paging.querySelector("md-ink-bar"),t.nextButton=e.querySelector("md-next-button"),t.prevButton=e.querySelector("md-prev-button"),t.contents=e.querySelectorAll("md-tabs-content-wrapper > md-tab-content"),t.tabs=t.paging.querySelectorAll("md-tab-item"),t.dummies=t.canvas.querySelectorAll("md-dummy-tab"),t}function A(){return B.centerTabs&&!B.shouldPaginate}function n(t){if(-1===t)return-1;var e,n,i=Math.max(B.tabs.length-t,t);for(e=0;e<=i;e++){if((n=B.tabs[t+e])&&!0!==n.scope.disabled)return n.getIndex();if((n=B.tabs[t-e])&&!0!==n.scope.disabled)return n.getIndex()}return t}function k(t,n,i){Object.defineProperty(B,t,{get:function(){return i},set:function(t){var e=i;i=t,n&&n(t,e)}})}function D(){B.maxTabWidth=P(),B.shouldPaginate=function(){if(B.noPagination||!G)return!1;var e=u.prop("clientWidth");return st.forEach(S().tabs,function(t){e-=t.offsetWidth}),e<0}()}function O(t){var e=0;return st.forEach(t,function(t){e+=Math.max(t.offsetWidth,t.getBoundingClientRect().width)}),Math.ceil(e)}function P(){var t=S().canvas.clientWidth;return Math.max(0,Math.min(t-1,264))}function N(t,e){var n,i=e?"focusIndex":"selectedIndex",o=B[i];for(n=o+t;B.tabs[n]&&B.tabs[n].scope.disabled;n+=t);n=(o+t+B.tabs.length)%B.tabs.length,B.tabs[n]&&(B[i]=n)}function L(){B.styleTabItemFocus="keyboard"===t.getLastInteractionType(),S().tabs[B.focusIndex].focus()}function I(t){var e=S();if(st.isNumber(t)||(t=B.focusIndex),e.tabs[t]&&!B.shouldCenterTabs){var n=e.tabs[t],i=n.offsetLeft,o=n.offsetWidth+i;if(0==t)return void(B.offsetLeft=0);if(H()){var r=O(Array.prototype.slice.call(e.tabs,0,t)),a=O(Array.prototype.slice.call(e.tabs,0,t+1));B.offsetLeft=Math.min(B.offsetLeft,z(r)),B.offsetLeft=Math.max(B.offsetLeft,z(a-e.canvas.clientWidth))}else B.offsetLeft=Math.max(B.offsetLeft,z(o-e.canvas.clientWidth+32)),B.offsetLeft=Math.min(B.offsetLeft,z(i))}}function R(){B.selectedIndex=n(B.selectedIndex),B.focusIndex=n(B.focusIndex)}function $(){if(!B.dynamicHeight)return u.css("height","");if(!B.tabs.length)return j.push($);var t=S(),e=t.contents[B.selectedIndex],n=e?e.offsetHeight:0,i=t.wrapper.offsetHeight,o=n+i,r=u.prop("clientHeight");if(r!==o){"bottom"===u.attr("md-align-tabs")&&(r-=i,o-=i,u.attr("md-border-bottom")!==lt&&++r),U=!0;var a={height:r+"px"},s={height:o+"px"};u.css(a),l(u,{from:a,to:s,easing:"cubic-bezier(0.35, 0, 0.25, 1)",duration:.5}).start().done(function(){u.css({transition:"none",height:""}),h.nextTick(function(){u.css("transition","")}),U=!1})}}function F(){var t=S();if(t.tabs[B.selectedIndex]){if(!B.tabs.length)return j.push(B.updateInkBarStyles);if(!u.prop("offsetParent"))return function t(){t.watcher||(t.watcher=d.$watch(function(){h.nextTick(function(){t.watcher&&u.prop("offsetParent")&&(t.watcher(),t.watcher=null,M())},!1)}))}();var e,n,i,o,r=B.selectedIndex,a=t.paging.offsetWidth,s=t.tabs[r],l=s.offsetLeft,c=a-l-s.offsetWidth;if(B.shouldCenterTabs)O(t.tabs)<a&&h.nextTick(F,!1);e=S(),n=B.selectedIndex,i=B.lastSelectedIndex,o=st.element(e.inkBar),st.isNumber(i)&&o.toggleClass("md-left",n<i).toggleClass("md-right",i<n),st.element(t.inkBar).css({left:l+"px",right:c+"px"})}else st.element(t.inkBar).css({left:"auto",right:"auto"})}function z(t){var e=S();if(!e.tabs.length||!B.shouldPaginate)return 0;var n=e.tabs[e.tabs.length-1],i=n.offsetLeft+n.offsetWidth;return t=H()?(t=Math.min(e.paging.offsetWidth-e.canvas.clientWidth,t),Math.max(0,t)):(t=Math.max(0,t),Math.min(i-e.canvas.clientWidth,t))}function H(){return"rtl"==h.bidi()}var B=this,U=!1,j=(S(),[]),V=!1,G=!1;B.$onInit=function(){var t,e,n,i,o;n="stretchTabs",i=m,o=a.$normalize("md-"+n),i&&k(n,i),a.$observe(o,function(t){B[n]=t}),k("focusIndex",x,B.selectedIndex||0),k("offsetLeft",_,0),k("hasContent",b,!1),k("maxTabWidth",v,P()),k("shouldPaginate",y,!1),p("noInkBar",T),p("dynamicHeight",C),p("noPagination"),p("swipeContent"),p("noDisconnect"),p("autoselect"),p("noSelectClick"),p("centerTabs",g),p("enableDisconnect"),B.scope=d,B.parent=d.$parent,B.tabs=[],B.lastSelectedIndex=null,B.hasFocus=!1,B.styleTabItemFocus=!1,B.shouldCenterTabs=A(),B.tabContentPrefix="tab-content-",B.selectedIndex=B.selectedIndex||0,t=a.$mdTabsTemplate,(e=st.element(u[0].querySelector("md-tab-data"))).html(t),s(e.contents())(B.parent),delete a.$mdTabsTemplate,d.$watch("$mdTabsCtrl.selectedIndex",w),st.element(r).on("resize",M),d.$on("$destroy",f),c(u),h.nextTick(function(){S(),$(),I(),F(),B.tabs[B.selectedIndex]&&B.tabs[B.selectedIndex].scope.select(),G=!0,D()})},B.updatePagination=h.debounce(D,100),B.redirectFocus=L,B.attachRipple=function(t,e){var n=S(),i={colorElement:st.element(n.inkBar)};o.attach(t,e,i)},B.insertTab=function(t,e){var n=G,i={getIndex:function(){return B.tabs.indexOf(o)},isActive:function(){return this.getIndex()===B.selectedIndex},isLeft:function(){return this.getIndex()<B.selectedIndex},isRight:function(){return this.getIndex()>B.selectedIndex},shouldRender:function(){return!B.noDisconnect||this.isActive()},hasFocus:function(){return B.styleTabItemFocus&&B.hasFocus&&this.getIndex()===B.focusIndex},id:h.nextUid(),hasContent:!(!t.template||!t.template.trim())},o=st.extend(i,t);return st.isDefined(e)?B.tabs.splice(e,0,o):B.tabs.push(o),j.forEach(function(t){h.nextTick(t)}),j=[],function(){for(var t=!1,e=0;e<B.tabs.length;e++)if(B.tabs[e].hasContent){t=!0;break}B.hasContent=t}(),h.nextTick(function(){D(),function(t){if(t.hasContent){var e=u[0].querySelectorAll('[md-tab-id="'+t.id+'"]');st.element(e).attr("aria-controls",B.tabContentPrefix+t.id)}}(o),n&&B.autoselect&&h.nextTick(function(){h.nextTick(function(){E(B.tabs.indexOf(o))})})}),o},B.removeTab=function(t){if(!V){var e=B.selectedIndex,n=B.tabs.splice(t.getIndex(),1)[0];R(),B.selectedIndex===e&&(n.scope.deselect(),B.tabs[B.selectedIndex]&&B.tabs[B.selectedIndex].scope.select()),h.nextTick(function(){D(),B.offsetLeft=z(B.offsetLeft)})}},B.select=E,B.scroll=function(t){B.shouldPaginate&&(t.preventDefault(),B.offsetLeft=z(B.offsetLeft-t.wheelDelta))},B.nextPage=function(){if(B.canPageForward()){var t=e.increasePageOffset(S(),B.offsetLeft);B.offsetLeft=z(t)}},B.previousPage=function(){if(B.canPageBack()){var t=e.decreasePageOffset(S(),B.offsetLeft);B.offsetLeft=z(t)}},B.keydown=function(t){switch(t.keyCode){case i.KEY_CODE.LEFT_ARROW:t.preventDefault(),N(-1,!0);break;case i.KEY_CODE.RIGHT_ARROW:t.preventDefault(),N(1,!0);break;case i.KEY_CODE.SPACE:case i.KEY_CODE.ENTER:t.preventDefault(),U||E(B.focusIndex);break;case i.KEY_CODE.TAB:B.focusIndex!==B.selectedIndex&&(B.focusIndex=B.selectedIndex)}},B.canPageForward=function(){var t=S(),e=t.tabs[t.tabs.length-1];return H()?B.offsetLeft<t.paging.offsetWidth-t.canvas.offsetWidth:e&&e.offsetLeft+e.offsetWidth>t.canvas.clientWidth+B.offsetLeft},B.canPageBack=function(){return 0<B.offsetLeft},B.refreshIndex=R,B.incrementIndex=N,B.getTabElementIndex=function(t){var e=u[0].getElementsByTagName("md-tab");return Array.prototype.indexOf.call(e,t[0])},B.updateInkBarStyles=h.debounce(F,100),B.updateTabOrder=h.debounce(function(){var t=B.tabs[B.selectedIndex],e=B.tabs[B.focusIndex];B.tabs=B.tabs.sort(function(t,e){return t.index-e.index}),B.selectedIndex=B.tabs.indexOf(t),B.focusIndex=B.tabs.indexOf(e)},100),B.getFocusedTabId=function(){var t=B.tabs[B.focusIndex];return t&&t.id?"tab-item-"+t.id:null},1===st.version.major&&st.version.minor<=4&&this.$onInit()}t.$inject=["$scope","$element","$window","$mdConstant","$mdTabInkRipple","$mdUtil","$animateCss","$attrs","$compile","$mdTheming","$mdInteraction","MdTabsPaginationService"],st.module("material.components.tabs").controller("MdTabsController",t)}(),function(){function t(n){return{scope:{selectedIndex:"=?mdSelected"},template:function(t,e){return e.$mdTabsTemplate=t.html(),'<md-tabs-wrapper> <md-tab-data></md-tab-data> <md-prev-button tabindex="-1" role="button" aria-label="Previous Page" aria-disabled="{{!$mdTabsCtrl.canPageBack()}}" ng-class="{ \'md-disabled\': !$mdTabsCtrl.canPageBack() }" ng-if="$mdTabsCtrl.shouldPaginate" ng-click="$mdTabsCtrl.previousPage()"> <md-icon md-svg-src="'+n.mdTabsArrow+'"></md-icon> </md-prev-button> <md-next-button tabindex="-1" role="button" aria-label="Next Page" aria-disabled="{{!$mdTabsCtrl.canPageForward()}}" ng-class="{ \'md-disabled\': !$mdTabsCtrl.canPageForward() }" ng-if="$mdTabsCtrl.shouldPaginate" ng-click="$mdTabsCtrl.nextPage()"> <md-icon md-svg-src="'+n.mdTabsArrow+'"></md-icon> </md-next-button> <md-tabs-canvas ng-focus="$mdTabsCtrl.redirectFocus()" ng-class="{ \'md-paginated\': $mdTabsCtrl.shouldPaginate, \'md-center-tabs\': $mdTabsCtrl.shouldCenterTabs }" ng-keydown="$mdTabsCtrl.keydown($event)"> <md-pagination-wrapper ng-class="{ \'md-center-tabs\': $mdTabsCtrl.shouldCenterTabs }" md-tab-scroll="$mdTabsCtrl.scroll($event)" role="tablist"> <md-tab-item tabindex="{{ tab.isActive() ? 0 : -1 }}" class="md-tab" ng-repeat="tab in $mdTabsCtrl.tabs" role="tab" id="tab-item-{{::tab.id}}" md-tab-id="{{::tab.id}}"aria-selected="{{tab.isActive()}}" aria-disabled="{{tab.scope.disabled || \'false\'}}" ng-click="$mdTabsCtrl.select(tab.getIndex())" ng-focus="$mdTabsCtrl.hasFocus = true" ng-blur="$mdTabsCtrl.hasFocus = false" ng-class="{ \'md-active\':    tab.isActive(), \'md-focused\':   tab.hasFocus(), \'md-disabled\':  tab.scope.disabled }" ng-disabled="tab.scope.disabled" md-swipe-left="$mdTabsCtrl.nextPage()" md-swipe-right="$mdTabsCtrl.previousPage()" md-tabs-template="::tab.label" md-scope="::tab.parent"></md-tab-item> <md-ink-bar></md-ink-bar> </md-pagination-wrapper> <md-tabs-dummy-wrapper aria-hidden="true" class="md-visually-hidden md-dummy-wrapper"> <md-dummy-tab class="md-tab" tabindex="-1" ng-repeat="tab in $mdTabsCtrl.tabs" md-tabs-template="::tab.label" md-scope="::tab.parent"></md-dummy-tab> </md-tabs-dummy-wrapper> </md-tabs-canvas> </md-tabs-wrapper> <md-tabs-content-wrapper ng-show="$mdTabsCtrl.hasContent && $mdTabsCtrl.selectedIndex >= 0" class="_md"> <md-tab-content id="{{:: $mdTabsCtrl.tabContentPrefix + tab.id}}" class="_md" role="tabpanel" aria-labelledby="tab-item-{{::tab.id}}" md-swipe-left="$mdTabsCtrl.swipeContent && $mdTabsCtrl.incrementIndex(1)" md-swipe-right="$mdTabsCtrl.swipeContent && $mdTabsCtrl.incrementIndex(-1)" ng-if="tab.hasContent" ng-repeat="(index, tab) in $mdTabsCtrl.tabs" ng-class="{ \'md-no-transition\': $mdTabsCtrl.lastSelectedIndex == null, \'md-active\':        tab.isActive(), \'md-left\':          tab.isLeft(), \'md-right\':         tab.isRight(), \'md-no-scroll\':     $mdTabsCtrl.dynamicHeight }"> <div md-tabs-template="::tab.template" md-connected-if="tab.isActive()" md-scope="::tab.parent" ng-if="$mdTabsCtrl.enableDisconnect || tab.shouldRender()"></div> </md-tab-content> </md-tabs-content-wrapper>'},controller:"MdTabsController",controllerAs:"$mdTabsCtrl",bindToController:!0}}t.$inject=["$$mdSvgRegistry"],st.module("material.components.tabs").directive("mdTabs",t)}(),function(){function t(l,c){return{require:"^?mdTabs",link:function(t,e,n,i){if(i){var o,r,a=function(){i.updatePagination(),i.updateInkBarStyles()};if("MutationObserver"in c){(o=new MutationObserver(a)).observe(e[0],{childList:!0,subtree:!0,characterData:!0}),r=o.disconnect.bind(o)}else{var s=l.debounce(a,15,null,!1);e.on("DOMSubtreeModified",s),r=e.off.bind(e,"DOMSubtreeModified",s)}t.$on("$destroy",function(){r()})}}}}t.$inject=["$mdUtil","$window"],st.module("material.components.tabs").directive("mdTabsDummyWrapper",t)}(),function(){function t(a,s){return{restrict:"A",link:function(t,e,n,i){function o(){i.enableDisconnect&&s.reconnectScope(r)}if(i){var r=i.enableDisconnect?t.compileScope.$new():t.compileScope;return e.html(t.template),a(e.contents())(r),s.nextTick(function(){t.$watch("connected",function(t){!1===t?i.enableDisconnect&&s.disconnectScope(r):o()}),t.$on("$destroy",o)})}},scope:{template:"=mdTabsTemplate",connected:"=?mdConnectedIf",compileScope:"=mdScope"},require:"^?mdTabs"}}t.$inject=["$compile","$mdUtil"],st.module("material.components.tabs").directive("mdTabsTemplate",t)}(),st.module("material.core").constant("$MD_THEME_CSS",'md-autocomplete.md-THEME_NAME-theme{background:"{{background-A100}}"}md-autocomplete.md-THEME_NAME-theme[disabled]:not([md-floating-label]){background:"{{background-100}}"}md-autocomplete.md-THEME_NAME-theme button md-icon path{fill:"{{background-600}}"}md-autocomplete.md-THEME_NAME-theme button:after{background:"{{background-600-0.3}}"}.md-autocomplete-suggestions-container.md-THEME_NAME-theme{background:"{{background-A100}}"}.md-autocomplete-suggestions-container.md-THEME_NAME-theme li{color:"{{background-900}}"}.md-autocomplete-suggestions-container.md-THEME_NAME-theme li .highlight{color:"{{background-600}}"}.md-autocomplete-suggestions-container.md-THEME_NAME-theme li.selected,.md-autocomplete-suggestions-container.md-THEME_NAME-theme li:hover{background:"{{background-200}}"}md-backdrop{background-color:"{{background-900-0.0}}"}md-backdrop.md-opaque.md-THEME_NAME-theme{background-color:"{{background-900-1.0}}"}md-bottom-sheet.md-THEME_NAME-theme{background-color:"{{background-50}}";border-top-color:"{{background-300}}"}md-bottom-sheet.md-THEME_NAME-theme.md-list md-list-item{color:"{{foreground-1}}"}md-bottom-sheet.md-THEME_NAME-theme .md-subheader{background-color:"{{background-50}}";color:"{{foreground-1}}"}.md-button.md-THEME_NAME-theme:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme:not([disabled]):hover{background-color:"{{background-500-0.2}}"}.md-button.md-THEME_NAME-theme:not([disabled]).md-icon-button:hover{background-color:transparent}.md-button.md-THEME_NAME-theme.md-fab md-icon{color:"{{accent-contrast}}"}.md-button.md-THEME_NAME-theme.md-primary{color:"{{primary-color}}"}.md-button.md-THEME_NAME-theme.md-primary.md-fab,.md-button.md-THEME_NAME-theme.md-primary.md-raised{color:"{{primary-contrast}}";background-color:"{{primary-color}}"}.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]) md-icon,.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]) md-icon{color:"{{primary-contrast}}"}.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]):hover,.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]):hover{background-color:"{{primary-600}}"}.md-button.md-THEME_NAME-theme.md-primary:not([disabled]) md-icon{color:"{{primary-color}}"}.md-button.md-THEME_NAME-theme.md-fab{background-color:"{{accent-color}}";color:"{{accent-contrast}}"}.md-button.md-THEME_NAME-theme.md-fab:not([disabled]) .md-icon{color:"{{accent-contrast}}"}.md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover{background-color:"{{accent-A700}}"}.md-button.md-THEME_NAME-theme.md-raised{color:"{{background-900}}";background-color:"{{background-50}}"}.md-button.md-THEME_NAME-theme.md-raised:not([disabled]) md-icon{color:"{{background-900}}"}.md-button.md-THEME_NAME-theme.md-raised:not([disabled]):hover{background-color:"{{background-50}}"}.md-button.md-THEME_NAME-theme.md-raised:not([disabled]).md-focused{background-color:"{{background-200}}"}.md-button.md-THEME_NAME-theme.md-warn{color:"{{warn-color}}"}.md-button.md-THEME_NAME-theme.md-warn.md-fab,.md-button.md-THEME_NAME-theme.md-warn.md-raised{color:"{{warn-contrast}}";background-color:"{{warn-color}}"}.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]) md-icon,.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]) md-icon{color:"{{warn-contrast}}"}.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]):hover,.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]):hover{background-color:"{{warn-600}}"}.md-button.md-THEME_NAME-theme.md-warn:not([disabled]) md-icon{color:"{{warn-color}}"}.md-button.md-THEME_NAME-theme.md-accent{color:"{{accent-color}}"}.md-button.md-THEME_NAME-theme.md-accent.md-fab,.md-button.md-THEME_NAME-theme.md-accent.md-raised{color:"{{accent-contrast}}";background-color:"{{accent-color}}"}.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]) md-icon,.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]) md-icon{color:"{{accent-contrast}}"}.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]):hover,.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]):hover{background-color:"{{accent-A700}}"}.md-button.md-THEME_NAME-theme.md-accent:not([disabled]) md-icon{color:"{{accent-color}}"}.md-button.md-THEME_NAME-theme.md-accent[disabled],.md-button.md-THEME_NAME-theme.md-fab[disabled],.md-button.md-THEME_NAME-theme.md-raised[disabled],.md-button.md-THEME_NAME-theme.md-warn[disabled],.md-button.md-THEME_NAME-theme[disabled]{color:"{{foreground-3}}";cursor:default}.md-button.md-THEME_NAME-theme.md-accent[disabled] md-icon,.md-button.md-THEME_NAME-theme.md-fab[disabled] md-icon,.md-button.md-THEME_NAME-theme.md-raised[disabled] md-icon,.md-button.md-THEME_NAME-theme.md-warn[disabled] md-icon,.md-button.md-THEME_NAME-theme[disabled] md-icon{color:"{{foreground-3}}"}.md-button.md-THEME_NAME-theme.md-fab[disabled],.md-button.md-THEME_NAME-theme.md-raised[disabled]{background-color:"{{foreground-4}}"}.md-button.md-THEME_NAME-theme[disabled]{background-color:transparent}._md a.md-THEME_NAME-theme:not(.md-button).md-primary{color:"{{primary-color}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-primary:hover{color:"{{primary-700}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-accent{color:"{{accent-color}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-accent:hover{color:"{{accent-A700}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-warn{color:"{{warn-color}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-warn:hover{color:"{{warn-700}}"}md-card.md-THEME_NAME-theme{color:"{{foreground-1}}";background-color:"{{background-hue-1}}";border-radius:2px}md-card.md-THEME_NAME-theme .md-card-image{border-radius:2px 2px 0 0}md-card.md-THEME_NAME-theme md-card-header md-card-avatar md-icon{color:"{{background-color}}";background-color:"{{foreground-3}}"}md-card.md-THEME_NAME-theme md-card-header md-card-header-text .md-subhead,md-card.md-THEME_NAME-theme md-card-title md-card-title-text:not(:only-child) .md-subhead{color:"{{foreground-2}}"}md-chips.md-THEME_NAME-theme .md-chips{box-shadow:0 1px "{{foreground-4}}"}md-chips.md-THEME_NAME-theme .md-chips.md-focused{box-shadow:0 2px "{{primary-color}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input{color:"{{foreground-1}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input:-moz-placeholder,md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input::-moz-placeholder{color:"{{foreground-3}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input:-ms-input-placeholder{color:"{{foreground-3}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input::-webkit-input-placeholder{color:"{{foreground-3}}"}md-chips.md-THEME_NAME-theme md-chip{background:"{{background-300}}";color:"{{background-800}}"}md-chips.md-THEME_NAME-theme md-chip md-icon{color:"{{background-700}}"}md-chips.md-THEME_NAME-theme md-chip.md-focused{background:"{{primary-color}}";color:"{{primary-contrast}}"}md-chips.md-THEME_NAME-theme md-chip.md-focused md-icon{color:"{{primary-contrast}}"}md-chips.md-THEME_NAME-theme md-chip._md-chip-editing{background:transparent;color:"{{background-800}}"}md-chips.md-THEME_NAME-theme md-chip-remove .md-button md-icon path{fill:"{{background-500}}"}.md-contact-suggestion span.md-contact-email{color:"{{background-400}}"}md-checkbox.md-THEME_NAME-theme .md-ripple{color:"{{accent-A700}}"}md-checkbox.md-THEME_NAME-theme.md-checked .md-ripple{color:"{{background-600}}"}md-checkbox.md-THEME_NAME-theme.md-checked.md-focused .md-container:before{background-color:"{{accent-color-0.26}}"}md-checkbox.md-THEME_NAME-theme .md-ink-ripple{color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme.md-checked .md-ink-ripple{color:"{{accent-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not(.md-checked) .md-icon{border-color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme.md-checked .md-icon{background-color:"{{accent-color-0.87}}"}md-checkbox.md-THEME_NAME-theme.md-checked .md-icon:after{border-color:"{{accent-contrast-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-ripple{color:"{{primary-600}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ripple{color:"{{background-600}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-ink-ripple{color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple{color:"{{primary-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary:not(.md-checked) .md-icon{border-color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon{background-color:"{{primary-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked.md-focused .md-container:before{background-color:"{{primary-color-0.26}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon:after{border-color:"{{primary-contrast-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-indeterminate[disabled] .md-container{color:"{{foreground-3}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-ripple{color:"{{warn-600}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-ink-ripple{color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple{color:"{{warn-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn:not(.md-checked) .md-icon{border-color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon{background-color:"{{warn-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked.md-focused:not([disabled]) .md-container:before{background-color:"{{warn-color-0.26}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon:after{border-color:"{{background-200}}"}md-checkbox.md-THEME_NAME-theme[disabled]:not(.md-checked) .md-icon{border-color:"{{foreground-3}}"}md-checkbox.md-THEME_NAME-theme[disabled].md-checked .md-icon{background-color:"{{foreground-3}}"}md-checkbox.md-THEME_NAME-theme[disabled].md-checked .md-icon:after{border-color:"{{background-200}}"}md-checkbox.md-THEME_NAME-theme[disabled] .md-icon:after{border-color:"{{foreground-3}}"}md-checkbox.md-THEME_NAME-theme[disabled] .md-label{color:"{{foreground-3}}"}md-content.md-THEME_NAME-theme{color:"{{foreground-1}}";background-color:"{{background-default}}"}.md-calendar.md-THEME_NAME-theme{background:"{{background-A100}}";color:"{{background-A200-0.87}}"}.md-calendar.md-THEME_NAME-theme tr:last-child td{border-bottom-color:"{{background-200}}"}.md-THEME_NAME-theme .md-calendar-day-header{background:"{{background-300}}";color:"{{background-A200-0.87}}"}.md-THEME_NAME-theme .md-calendar-date.md-calendar-date-today .md-calendar-date-selection-indicator{border:1px solid "{{primary-500}}"}.md-THEME_NAME-theme .md-calendar-date.md-calendar-date-today.md-calendar-date-disabled{color:"{{primary-500-0.6}}"}.md-calendar-date.md-focus .md-THEME_NAME-theme .md-calendar-date-selection-indicator,.md-THEME_NAME-theme .md-calendar-date-selection-indicator:hover{background:"{{background-300}}"}.md-THEME_NAME-theme .md-calendar-date.md-calendar-selected-date .md-calendar-date-selection-indicator,.md-THEME_NAME-theme .md-calendar-date.md-focus.md-calendar-selected-date .md-calendar-date-selection-indicator{background:"{{primary-500}}";color:"{{primary-500-contrast}}";border-color:transparent}.md-THEME_NAME-theme .md-calendar-date-disabled,.md-THEME_NAME-theme .md-calendar-month-label-disabled{color:"{{background-A200-0.435}}"}.md-THEME_NAME-theme .md-datepicker-input{color:"{{foreground-1}}"}.md-THEME_NAME-theme .md-datepicker-input:-moz-placeholder,.md-THEME_NAME-theme .md-datepicker-input::-moz-placeholder{color:"{{foreground-3}}"}.md-THEME_NAME-theme .md-datepicker-input:-ms-input-placeholder{color:"{{foreground-3}}"}.md-THEME_NAME-theme .md-datepicker-input::-webkit-input-placeholder{color:"{{foreground-3}}"}.md-THEME_NAME-theme .md-datepicker-input-container{border-bottom-color:"{{foreground-4}}"}.md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-focused{border-bottom-color:"{{primary-color}}"}.md-accent .md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-focused{border-bottom-color:"{{accent-color}}"}.md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-invalid,.md-warn .md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-focused{border-bottom-color:"{{warn-A700}}"}.md-THEME_NAME-theme .md-datepicker-calendar-pane{border-color:"{{background-hue-1}}"}.md-THEME_NAME-theme .md-datepicker-triangle-button .md-datepicker-expand-triangle{border-top-color:"{{foreground-2}}"}.md-THEME_NAME-theme .md-datepicker-open .md-datepicker-calendar-icon{color:"{{primary-color}}"}.md-accent .md-THEME_NAME-theme .md-datepicker-open .md-datepicker-calendar-icon,.md-THEME_NAME-theme .md-datepicker-open.md-accent .md-datepicker-calendar-icon{color:"{{accent-color}}"}.md-THEME_NAME-theme .md-datepicker-open.md-warn .md-datepicker-calendar-icon,.md-warn .md-THEME_NAME-theme .md-datepicker-open .md-datepicker-calendar-icon{color:"{{warn-A700}}"}.md-THEME_NAME-theme .md-datepicker-calendar{background:"{{background-A100}}"}.md-THEME_NAME-theme .md-datepicker-input-mask-opaque{box-shadow:0 0 0 9999px "{{background-hue-1}}"}.md-THEME_NAME-theme .md-datepicker-open .md-datepicker-input-container{background:"{{background-hue-1}}"}md-dialog.md-THEME_NAME-theme{border-radius:4px;background-color:"{{background-hue-1}}";color:"{{foreground-1}}"}md-dialog.md-THEME_NAME-theme.md-content-overflow .md-actions,md-dialog.md-THEME_NAME-theme.md-content-overflow md-dialog-actions,md-divider.md-THEME_NAME-theme{border-top-color:"{{foreground-4}}"}.layout-gt-lg-row>md-divider.md-THEME_NAME-theme,.layout-gt-md-row>md-divider.md-THEME_NAME-theme,.layout-gt-sm-row>md-divider.md-THEME_NAME-theme,.layout-gt-xs-row>md-divider.md-THEME_NAME-theme,.layout-lg-row>md-divider.md-THEME_NAME-theme,.layout-md-row>md-divider.md-THEME_NAME-theme,.layout-row>md-divider.md-THEME_NAME-theme,.layout-sm-row>md-divider.md-THEME_NAME-theme,.layout-xl-row>md-divider.md-THEME_NAME-theme,.layout-xs-row>md-divider.md-THEME_NAME-theme{border-right-color:"{{foreground-4}}"}md-icon.md-THEME_NAME-theme{color:"{{foreground-2}}"}md-icon.md-THEME_NAME-theme.md-primary{color:"{{primary-color}}"}md-icon.md-THEME_NAME-theme.md-accent{color:"{{accent-color}}"}md-icon.md-THEME_NAME-theme.md-warn{color:"{{warn-color}}"}md-input-container.md-THEME_NAME-theme .md-input{color:"{{foreground-1}}";border-color:"{{foreground-4}}"}md-input-container.md-THEME_NAME-theme .md-input:-moz-placeholder,md-input-container.md-THEME_NAME-theme .md-input::-moz-placeholder{color:"{{foreground-3}}"}md-input-container.md-THEME_NAME-theme .md-input:-ms-input-placeholder{color:"{{foreground-3}}"}md-input-container.md-THEME_NAME-theme .md-input::-webkit-input-placeholder{color:"{{foreground-3}}"}md-input-container.md-THEME_NAME-theme>md-icon{color:"{{foreground-1}}"}md-input-container.md-THEME_NAME-theme .md-placeholder,md-input-container.md-THEME_NAME-theme label{color:"{{foreground-3}}"}md-input-container.md-THEME_NAME-theme label.md-required:after{color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-focused):not(.md-input-invalid) label.md-required:after{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme .md-input-message-animation,md-input-container.md-THEME_NAME-theme .md-input-messages-animation{color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme .md-input-message-animation .md-char-counter,md-input-container.md-THEME_NAME-theme .md-input-messages-animation .md-char-counter{color:"{{foreground-1}}"}md-input-container.md-THEME_NAME-theme.md-input-focused .md-input:-moz-placeholder,md-input-container.md-THEME_NAME-theme.md-input-focused .md-input::-moz-placeholder{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme.md-input-focused .md-input:-ms-input-placeholder{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme.md-input-focused .md-input::-webkit-input-placeholder{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-has-value label{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused .md-input,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-resized .md-input{border-color:"{{primary-color}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused label,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused md-icon{color:"{{primary-color}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent .md-input{border-color:"{{accent-color}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent label,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent md-icon{color:"{{accent-color}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn .md-input{border-color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn label,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn md-icon{color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme.md-input-invalid .md-input{border-color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme.md-input-invalid .md-char-counter,md-input-container.md-THEME_NAME-theme.md-input-invalid .md-input-message-animation,md-input-container.md-THEME_NAME-theme.md-input-invalid label{color:"{{warn-A700}}"}[disabled] md-input-container.md-THEME_NAME-theme .md-input,md-input-container.md-THEME_NAME-theme .md-input[disabled]{border-bottom-color:transparent;color:"{{foreground-3}}";background-image:linear-gradient(90deg,"{{foreground-3}}" 0,"{{foreground-3}}" 33%,transparent 0);background-image:-ms-linear-gradient(left,transparent 0,"{{foreground-3}}" 100%)}md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text h3,md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text h4,md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text h3,md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text h4{color:"{{foreground-1}}"}md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text p,md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text p{color:"{{foreground-2}}"}md-list.md-THEME_NAME-theme .md-proxy-focus.md-focused div.md-no-style{background-color:"{{background-100}}"}md-list.md-THEME_NAME-theme md-list-item .md-avatar-icon{background-color:"{{foreground-3}}";color:"{{background-color}}"}md-list.md-THEME_NAME-theme md-list-item>md-icon{color:"{{foreground-2}}"}md-list.md-THEME_NAME-theme md-list-item>md-icon.md-highlight{color:"{{primary-color}}"}md-list.md-THEME_NAME-theme md-list-item>md-icon.md-highlight.md-accent{color:"{{accent-color}}"}md-menu-content.md-THEME_NAME-theme{background-color:"{{background-A100}}"}md-menu-content.md-THEME_NAME-theme md-menu-item{color:"{{background-A200-0.87}}"}md-menu-content.md-THEME_NAME-theme md-menu-item md-icon{color:"{{background-A200-0.54}}"}md-menu-content.md-THEME_NAME-theme md-menu-item .md-button[disabled],md-menu-content.md-THEME_NAME-theme md-menu-item .md-button[disabled] md-icon{color:"{{background-A200-0.25}}"}md-menu-content.md-THEME_NAME-theme md-menu-divider{background-color:"{{background-A200-0.11}}"}md-menu-bar.md-THEME_NAME-theme>button.md-button{color:"{{foreground-2}}";border-radius:2px}md-menu-bar.md-THEME_NAME-theme md-menu.md-open>button,md-menu-bar.md-THEME_NAME-theme md-menu>button:focus{outline:none;background:"{{background-200}}"}md-menu-bar.md-THEME_NAME-theme.md-open:not(.md-keyboard-mode) md-menu:hover>button{background-color:"{{ background-500-0.2}}"}md-menu-bar.md-THEME_NAME-theme:not(.md-keyboard-mode):not(.md-open) md-menu button:focus,md-menu-bar.md-THEME_NAME-theme:not(.md-keyboard-mode):not(.md-open) md-menu button:hover{background:transparent}md-menu-content.md-THEME_NAME-theme .md-menu>.md-button:after{color:"{{background-A200-0.54}}"}md-menu-content.md-THEME_NAME-theme .md-menu.md-open>.md-button{background-color:"{{ background-500-0.2}}"}md-toolbar.md-THEME_NAME-theme.md-menu-toolbar{background-color:"{{background-A100}}";color:"{{background-A200}}"}md-toolbar.md-THEME_NAME-theme.md-menu-toolbar md-toolbar-filler{background-color:"{{primary-color}}";color:"{{background-A100-0.87}}"}md-toolbar.md-THEME_NAME-theme.md-menu-toolbar md-toolbar-filler md-icon{color:"{{background-A100-0.87}}"}md-nav-bar.md-THEME_NAME-theme .md-nav-bar{background-color:transparent;border-color:"{{foreground-4}}"}md-nav-bar.md-THEME_NAME-theme .md-button._md-nav-button.md-unselected{color:"{{foreground-2}}"}md-nav-bar.md-THEME_NAME-theme md-nav-ink-bar{color:"{{accent-color}}";background:"{{accent-color}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar{background-color:"{{accent-color}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar .md-button._md-nav-button{color:"{{accent-A100}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar .md-button._md-nav-button.md-active,md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{accent-contrast}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{accent-contrast-0.1}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar md-nav-ink-bar{color:"{{primary-600-1}}";background:"{{primary-600-1}}"}md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar{background-color:"{{warn-color}}"}md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar .md-button._md-nav-button{color:"{{warn-100}}"}md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar .md-button._md-nav-button.md-active,md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{warn-contrast}}"}md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{warn-contrast-0.1}}"}md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar{background-color:"{{primary-color}}"}md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar .md-button._md-nav-button{color:"{{primary-100}}"}md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar .md-button._md-nav-button.md-active,md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{primary-contrast}}"}md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{primary-contrast-0.1}}"}md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar{background-color:"{{primary-color}}"}md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button{color:"{{primary-100}}"}md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-active,md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{primary-contrast}}"}md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{primary-contrast-0.1}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar{background-color:"{{accent-color}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button{color:"{{accent-A100}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-active,md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{accent-contrast}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{accent-contrast-0.1}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar md-nav-ink-bar{color:"{{primary-600-1}}";background:"{{primary-600-1}}"}md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar{background-color:"{{warn-color}}"}md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button{color:"{{warn-100}}"}md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-active,md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{warn-contrast}}"}md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{warn-contrast-0.1}}"}._md-panel-backdrop.md-THEME_NAME-theme{background-color:"{{background-900-1.0}}"}md-progress-circular.md-THEME_NAME-theme path{stroke:"{{primary-color}}"}md-progress-circular.md-THEME_NAME-theme.md-warn path{stroke:"{{warn-color}}"}md-progress-circular.md-THEME_NAME-theme.md-accent path{stroke:"{{accent-color}}"}md-progress-linear.md-THEME_NAME-theme .md-container{background-color:"{{primary-100}}"}md-progress-linear.md-THEME_NAME-theme .md-bar{background-color:"{{primary-color}}"}md-progress-linear.md-THEME_NAME-theme.md-warn .md-container{background-color:"{{warn-100}}"}md-progress-linear.md-THEME_NAME-theme.md-warn .md-bar{background-color:"{{warn-color}}"}md-progress-linear.md-THEME_NAME-theme.md-accent .md-container{background-color:"{{accent-100}}"}md-progress-linear.md-THEME_NAME-theme.md-accent .md-bar{background-color:"{{accent-color}}"}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-primary .md-bar1{background-color:"{{primary-100}}"}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-primary .md-dashed:before{background:radial-gradient("{{primary-100}}" 0,"{{primary-100}}" 16%,transparent 42%)}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-bar1{background-color:"{{warn-100}}"}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-dashed:before{background:radial-gradient("{{warn-100}}" 0,"{{warn-100}}" 16%,transparent 42%)}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-bar1{background-color:"{{accent-100}}"}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-dashed:before{background:radial-gradient("{{accent-100}}" 0,"{{accent-100}}" 16%,transparent 42%)}md-radio-button.md-THEME_NAME-theme .md-off{border-color:"{{foreground-2}}"}md-radio-button.md-THEME_NAME-theme .md-on{background-color:"{{accent-color-0.87}}"}md-radio-button.md-THEME_NAME-theme.md-checked .md-off{border-color:"{{accent-color-0.87}}"}md-radio-button.md-THEME_NAME-theme.md-checked .md-ink-ripple{color:"{{accent-color-0.87}}"}md-radio-button.md-THEME_NAME-theme .md-container .md-ripple{color:"{{accent-A700}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-on,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-on,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-on,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-on{background-color:"{{primary-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-off{border-color:"{{primary-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-ink-ripple{color:"{{primary-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-container .md-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-container .md-ripple{color:"{{primary-600}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-on,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-on,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-on,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-on{background-color:"{{warn-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-off{border-color:"{{warn-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-ink-ripple{color:"{{warn-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-container .md-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-container .md-ripple{color:"{{warn-600}}"}md-radio-button.md-THEME_NAME-theme[disabled],md-radio-group.md-THEME_NAME-theme[disabled]{color:"{{foreground-3}}"}md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-off,md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-on,md-radio-group.md-THEME_NAME-theme[disabled] .md-container .md-off,md-radio-group.md-THEME_NAME-theme[disabled] .md-container .md-on{border-color:"{{foreground-3}}"}md-radio-group.md-THEME_NAME-theme .md-checked .md-ink-ripple{color:"{{accent-color-0.26}}"}md-radio-group.md-THEME_NAME-theme .md-checked:not([disabled]).md-primary .md-ink-ripple,md-radio-group.md-THEME_NAME-theme.md-primary .md-checked:not([disabled]) .md-ink-ripple{color:"{{primary-color-0.26}}"}md-radio-group.md-THEME_NAME-theme .md-checked.md-primary .md-ink-ripple{color:"{{warn-color-0.26}}"}md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked .md-container:before{background-color:"{{accent-color-0.26}}"}md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked.md-primary .md-container:before,md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty).md-primary .md-checked .md-container:before{background-color:"{{primary-color-0.26}}"}md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked.md-warn .md-container:before,md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty).md-warn .md-checked .md-container:before{background-color:"{{warn-color-0.26}}"}md-input-container md-select.md-THEME_NAME-theme .md-select-value span:first-child:after{color:"{{warn-A700}}"}md-input-container:not(.md-input-focused):not(.md-input-invalid) md-select.md-THEME_NAME-theme .md-select-value span:first-child:after{color:"{{foreground-3}}"}md-input-container.md-input-focused:not(.md-input-has-value) md-select.md-THEME_NAME-theme .md-select-value,md-input-container.md-input-focused:not(.md-input-has-value) md-select.md-THEME_NAME-theme .md-select-value.md-select-placeholder{color:"{{primary-color}}"}md-input-container.md-input-invalid md-select.md-THEME_NAME-theme .md-select-value{color:"{{warn-A700}}"!important;border-bottom-color:"{{warn-A700}}"!important}md-input-container.md-input-invalid md-select.md-THEME_NAME-theme.md-no-underline .md-select-value{border-bottom-color:transparent!important}md-select.md-THEME_NAME-theme[disabled] .md-select-value{border-bottom-color:transparent;background-image:linear-gradient(90deg,"{{foreground-3}}" 0,"{{foreground-3}}" 33%,transparent 0);background-image:-ms-linear-gradient(left,transparent 0,"{{foreground-3}}" 100%)}md-select.md-THEME_NAME-theme .md-select-value{border-bottom-color:"{{foreground-4}}"}md-select.md-THEME_NAME-theme .md-select-value.md-select-placeholder{color:"{{foreground-3}}"}md-select.md-THEME_NAME-theme .md-select-value span:first-child:after{color:"{{warn-A700}}"}md-select.md-THEME_NAME-theme.md-no-underline .md-select-value{border-bottom-color:transparent!important}md-select.md-THEME_NAME-theme.ng-invalid.ng-touched .md-select-value{color:"{{warn-A700}}"!important;border-bottom-color:"{{warn-A700}}"!important}md-select.md-THEME_NAME-theme.ng-invalid.ng-touched.md-no-underline .md-select-value{border-bottom-color:transparent!important}md-select.md-THEME_NAME-theme:not([disabled]):focus .md-select-value{border-bottom-color:"{{primary-color}}";color:"{{ foreground-1 }}"}md-select.md-THEME_NAME-theme:not([disabled]):focus .md-select-value.md-select-placeholder{color:"{{ foreground-1 }}"}md-select.md-THEME_NAME-theme:not([disabled]):focus.md-no-underline .md-select-value{border-bottom-color:transparent!important}md-select.md-THEME_NAME-theme:not([disabled]):focus.md-accent .md-select-value{border-bottom-color:"{{accent-color}}"}md-select.md-THEME_NAME-theme:not([disabled]):focus.md-warn .md-select-value{border-bottom-color:"{{warn-color}}"}md-select.md-THEME_NAME-theme[disabled] .md-select-icon,md-select.md-THEME_NAME-theme[disabled] .md-select-value,md-select.md-THEME_NAME-theme[disabled] .md-select-value.md-select-placeholder{color:"{{foreground-3}}"}md-select.md-THEME_NAME-theme .md-select-icon{color:"{{foreground-2}}"}md-select-menu.md-THEME_NAME-theme md-content{background:"{{background-A100}}"}md-select-menu.md-THEME_NAME-theme md-content md-optgroup{color:"{{background-600-0.87}}"}md-select-menu.md-THEME_NAME-theme md-content md-option{color:"{{background-900-0.87}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[disabled] .md-text{color:"{{background-400-0.87}}"}md-select-menu.md-THEME_NAME-theme md-content md-option:not([disabled]):focus,md-select-menu.md-THEME_NAME-theme md-content md-option:not([disabled]):hover{background:"{{background-200}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[selected]{color:"{{primary-500}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[selected]:focus{color:"{{primary-600}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[selected].md-accent{color:"{{accent-color}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[selected].md-accent:focus{color:"{{accent-A700}}"}.md-checkbox-enabled.md-THEME_NAME-theme .md-ripple{color:"{{primary-600}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-ripple{color:"{{background-600}}"}.md-checkbox-enabled.md-THEME_NAME-theme .md-ink-ripple{color:"{{foreground-2}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-ink-ripple{color:"{{primary-color-0.87}}"}.md-checkbox-enabled.md-THEME_NAME-theme:not(.md-checked) .md-icon{border-color:"{{foreground-2}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-icon{background-color:"{{primary-color-0.87}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected].md-focused .md-container:before{background-color:"{{primary-color-0.26}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-icon:after{border-color:"{{primary-contrast-0.87}}"}.md-checkbox-enabled.md-THEME_NAME-theme .md-indeterminate[disabled] .md-container{color:"{{foreground-3}}"}.md-checkbox-enabled.md-THEME_NAME-theme md-option .md-text{color:"{{background-900-0.87}}"}md-sidenav.md-THEME_NAME-theme,md-sidenav.md-THEME_NAME-theme md-content{background-color:"{{background-hue-1}}"}md-slider.md-THEME_NAME-theme .md-track{background-color:"{{foreground-3}}"}md-slider.md-THEME_NAME-theme .md-track-ticks{color:"{{background-contrast}}"}md-slider.md-THEME_NAME-theme .md-focus-ring{background-color:"{{accent-A200-0.2}}"}md-slider.md-THEME_NAME-theme .md-disabled-thumb{border-color:"{{background-color}}";background-color:"{{background-color}}"}md-slider.md-THEME_NAME-theme.md-min .md-thumb:after{background-color:"{{background-color}}";border-color:"{{foreground-3}}"}md-slider.md-THEME_NAME-theme.md-min .md-focus-ring{background-color:"{{foreground-3-0.38}}"}md-slider.md-THEME_NAME-theme.md-min[md-discrete] .md-thumb:after{background-color:"{{background-contrast}}";border-color:transparent}md-slider.md-THEME_NAME-theme.md-min[md-discrete] .md-sign{background-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme.md-min[md-discrete] .md-sign:after{border-top-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme.md-min[md-discrete][md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme .md-track.md-track-fill{background-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme .md-thumb:after{border-color:"{{accent-color}}";background-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme .md-sign{background-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme .md-sign:after{border-top-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme[md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme .md-thumb-text{color:"{{accent-contrast}}"}md-slider.md-THEME_NAME-theme.md-warn .md-focus-ring{background-color:"{{warn-200-0.38}}"}md-slider.md-THEME_NAME-theme.md-warn .md-track.md-track-fill{background-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn .md-thumb:after{border-color:"{{warn-color}}";background-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn .md-sign{background-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn .md-sign:after{border-top-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn[md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn .md-thumb-text{color:"{{warn-contrast}}"}md-slider.md-THEME_NAME-theme.md-primary .md-focus-ring{background-color:"{{primary-200-0.38}}"}md-slider.md-THEME_NAME-theme.md-primary .md-track.md-track-fill{background-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary .md-thumb:after{border-color:"{{primary-color}}";background-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary .md-sign{background-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary .md-sign:after{border-top-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary[md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary .md-thumb-text{color:"{{primary-contrast}}"}md-slider.md-THEME_NAME-theme[disabled] .md-thumb:after{border-color:transparent}md-slider.md-THEME_NAME-theme[disabled]:not(.md-min) .md-thumb:after,md-slider.md-THEME_NAME-theme[disabled][md-discrete] .md-thumb:after{background-color:"{{foreground-3}}";border-color:transparent}md-slider.md-THEME_NAME-theme[disabled][readonly] .md-sign{background-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme[disabled][readonly] .md-sign:after{border-top-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme[disabled][readonly][md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme[disabled][readonly] .md-disabled-thumb{border-color:transparent;background-color:transparent}md-slider-container[disabled]>:first-child:not(md-slider),md-slider-container[disabled]>:last-child:not(md-slider){color:"{{foreground-3}}"}.md-subheader.md-THEME_NAME-theme{color:"{{ foreground-2-0.23 }}";background-color:"{{background-default}}"}.md-subheader.md-THEME_NAME-theme.md-primary{color:"{{primary-color}}"}.md-subheader.md-THEME_NAME-theme.md-accent{color:"{{accent-color}}"}.md-subheader.md-THEME_NAME-theme.md-warn{color:"{{warn-color}}"}md-switch.md-THEME_NAME-theme .md-ink-ripple{color:"{{background-500}}"}md-switch.md-THEME_NAME-theme .md-thumb{background-color:"{{background-50}}"}md-switch.md-THEME_NAME-theme .md-bar{background-color:"{{background-500}}"}md-switch.md-THEME_NAME-theme.md-checked .md-ink-ripple{color:"{{accent-color}}"}md-switch.md-THEME_NAME-theme.md-checked .md-thumb{background-color:"{{accent-color}}"}md-switch.md-THEME_NAME-theme.md-checked .md-bar{background-color:"{{accent-color-0.5}}"}md-switch.md-THEME_NAME-theme.md-checked.md-focused .md-thumb:before{background-color:"{{accent-color-0.26}}"}md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-ink-ripple{color:"{{primary-color}}"}md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-thumb{background-color:"{{primary-color}}"}md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-bar{background-color:"{{primary-color-0.5}}"}md-switch.md-THEME_NAME-theme.md-checked.md-primary.md-focused .md-thumb:before{background-color:"{{primary-color-0.26}}"}md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-ink-ripple{color:"{{warn-color}}"}md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-thumb{background-color:"{{warn-color}}"}md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-bar{background-color:"{{warn-color-0.5}}"}md-switch.md-THEME_NAME-theme.md-checked.md-warn.md-focused .md-thumb:before{background-color:"{{warn-color-0.26}}"}md-switch.md-THEME_NAME-theme[disabled] .md-thumb{background-color:"{{background-400}}"}md-switch.md-THEME_NAME-theme[disabled] .md-bar{background-color:"{{foreground-4}}"}md-tabs.md-THEME_NAME-theme md-tabs-wrapper{background-color:transparent;border-color:"{{foreground-4}}"}md-tabs.md-THEME_NAME-theme .md-paginator md-icon{color:"{{primary-color}}"}md-tabs.md-THEME_NAME-theme md-ink-bar{color:"{{accent-color}}";background:"{{accent-color}}"}md-tabs.md-THEME_NAME-theme .md-tab{color:"{{foreground-2}}"}md-tabs.md-THEME_NAME-theme .md-tab[disabled],md-tabs.md-THEME_NAME-theme .md-tab[disabled] md-icon{color:"{{foreground-3}}"}md-tabs.md-THEME_NAME-theme .md-tab.md-active,md-tabs.md-THEME_NAME-theme .md-tab.md-active md-icon,md-tabs.md-THEME_NAME-theme .md-tab.md-focused,md-tabs.md-THEME_NAME-theme .md-tab.md-focused md-icon{color:"{{primary-color}}"}md-tabs.md-THEME_NAME-theme .md-tab.md-focused{background:"{{primary-color-0.1}}"}md-tabs.md-THEME_NAME-theme .md-tab .md-ripple-container{color:"{{accent-A100}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper{background-color:"{{accent-color}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{accent-A100}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{accent-contrast}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{accent-contrast-0.1}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-ink-bar{color:"{{primary-600-1}}";background:"{{primary-600-1}}"}md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper{background-color:"{{primary-color}}"}md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{primary-100}}"}md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{primary-contrast}}"}md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{primary-contrast-0.1}}"}md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper{background-color:"{{warn-color}}"}md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{warn-100}}"}md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{warn-contrast}}"}md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{warn-contrast-0.1}}"}md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper{background-color:"{{primary-color}}"}md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{primary-100}}"}md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{primary-contrast}}"}md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{primary-contrast-0.1}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper{background-color:"{{accent-color}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{accent-A100}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{accent-contrast}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{accent-contrast-0.1}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-ink-bar{color:"{{primary-600-1}}";background:"{{primary-600-1}}"}md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper{background-color:"{{warn-color}}"}md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{warn-100}}"}md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{warn-contrast}}"}md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{warn-contrast-0.1}}"}md-toast.md-THEME_NAME-theme .md-toast-content{background-color:#323232;color:"{{background-50}}"}md-toast.md-THEME_NAME-theme .md-toast-content .md-button{color:"{{background-50}}"}md-toast.md-THEME_NAME-theme .md-toast-content .md-button.md-highlight{color:"{{accent-color}}"}md-toast.md-THEME_NAME-theme .md-toast-content .md-button.md-highlight.md-primary{color:"{{primary-color}}"}md-toast.md-THEME_NAME-theme .md-toast-content .md-button.md-highlight.md-warn{color:"{{warn-color}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar){background-color:"{{primary-color}}";color:"{{primary-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar) md-icon{color:"{{primary-contrast}}";fill:"{{primary-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar) .md-button[disabled] md-icon{color:"{{primary-contrast-0.26}}";fill:"{{primary-contrast-0.26}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent{background-color:"{{accent-color}}";color:"{{accent-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent .md-ink-ripple{color:"{{accent-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent md-icon{color:"{{accent-contrast}}";fill:"{{accent-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent .md-button[disabled] md-icon{color:"{{accent-contrast-0.26}}";fill:"{{accent-contrast-0.26}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-warn{background-color:"{{warn-color}}";color:"{{warn-contrast}}"}.md-panel.md-tooltip.md-THEME_NAME-theme{color:"{{background-700-contrast}}";background-color:"{{background-700}}"}body.md-THEME_NAME-theme,html.md-THEME_NAME-theme{color:"{{foreground-1}}";background-color:"{{background-color}}"}')}(window,window.angular),window.ngMaterial={version:{full:"1.1.5"}},function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Dygraph=t()}}(function(){return function r(a,s,l){function c(e,t){if(!s[e]){if(!a[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(d)return d(e,!0);var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}var o=s[e]={exports:{}};a[e][0].call(o.exports,function(t){return c(a[e][1][t]||t)},o,o.exports,r,a,s,l)}return s[e].exports}for(var d="function"==typeof require&&require,t=0;t<l.length;t++)c(l[t]);return c}({1:[function(t,e,n){function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function r(e){if(d===setTimeout)return setTimeout(e,0);if((d===i||!d)&&setTimeout)return d=setTimeout,setTimeout(e,0);try{return d(e,0)}catch(t){try{return d.call(null,e,0)}catch(t){return d.call(this,e,0)}}}function a(){m&&p&&(m=!1,p.length?f=p.concat(f):g=-1,f.length&&s())}function s(){if(!m){var t=r(a);m=!0;for(var e=f.length;e;){for(p=f,f=[];++g<e;)p&&p[g].run();g=-1,e=f.length}p=null,m=!1,function(e){if(u===clearTimeout)return clearTimeout(e);if((u===o||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(e);try{u(e)}catch(t){try{return u.call(null,e)}catch(t){return u.call(this,e)}}}(t)}}function l(t,e){this.fun=t,this.array=e}function c(){}var d,u,h=e.exports={};!function(){try{d="function"==typeof setTimeout?setTimeout:i}catch(t){d=i}try{u="function"==typeof clearTimeout?clearTimeout:o}catch(t){u=o}}();var p,f=[],m=!1,g=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];f.push(new l(t,e)),1!==f.length||m||r(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.prependListener=c,h.prependOnceListener=c,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}],2:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,o=t("./bars"),r=(i=o)&&i.__esModule?i:{default:i},a=function(){};(a.prototype=new r.default).extractSeries=function(t,e,n){for(var i,o,r,a=[],s=n.get("logscale"),l=0;l<t.length;l++)i=t[l][0],r=t[l][e],s&&null!==r&&(r[0]<=0||r[1]<=0||r[2]<=0)&&(r=null),null!==r?null===(o=r[1])||isNaN(o)?a.push([i,o,[o,o]]):a.push([i,o,[r[0],r[2]]]):a.push([i,null,[null,null]]);return a},a.prototype.rollingAverage=function(t,e,n){e=Math.min(e,t.length);var i,o,r,a,s,l,c,d=[];for(l=s=r=a=o=0;l<t.length;l++){if(i=t[l][1],c=t[l][2],d[l]=t[l],null===i||isNaN(i)||(o+=c[0],a+=i,r+=c[1],s+=1),0<=l-e){var u=t[l-e];null===u[1]||isNaN(u[1])||(o-=u[2][0],a-=u[1],r-=u[2][1],s-=1)}d[l]=s?[t[l][0],1*a/s,[1*o/s,1*r/s]]:[t[l][0],null,[null,null]]}return d},n.default=a,e.exports=n.default},{"./bars":5}],3:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,o=t("./bars"),r=(i=o)&&i.__esModule?i:{default:i},a=function(){};(a.prototype=new r.default).extractSeries=function(t,e,n){for(var i,o,r,a,s=[],l=n.get("sigma"),c=n.get("logscale"),d=0;d<t.length;d++)i=t[d][0],a=t[d][e],c&&null!==a&&(a[0]<=0||a[0]-l*a[1]<=0)&&(a=null),null!==a?null===(o=a[0])||isNaN(o)?s.push([i,o,[o,o,o]]):(r=l*a[1],s.push([i,o,[o-r,o+r,a[1]]])):s.push([i,null,[null,null,null]]);return s},a.prototype.rollingAverage=function(t,e,n){e=Math.min(e,t.length);var i,o,r,a,s,l,c,d,u,h=[],p=n.get("sigma");for(i=0;i<t.length;i++){for(l=d=s=0,o=Math.max(0,i-e+1);o<i+1;o++)null===(r=t[o][1])||isNaN(r)||(l++,s+=r,d+=Math.pow(t[o][2][2],2));h[i]=l?(c=Math.sqrt(d)/l,u=s/l,[t[i][0],u,[u-p*c,u+p*c]]):(a=1==e?t[i][1]:null,[t[i][0],a,[a,a]])}return h},n.default=a,e.exports=n.default},{"./bars":5}],4:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,o=t("./bars"),r=(i=o)&&i.__esModule?i:{default:i},a=function(){};(a.prototype=new r.default).extractSeries=function(t,e,n){for(var i,o,r,a,s,l,c,d=[],u=n.get("sigma"),h=n.get("logscale"),p=0;p<t.length;p++)i=t[p][0],r=t[p][e],h&&null!==r&&(r[0]<=0||r[1]<=0)&&(r=null),null!==r?(a=r[0],s=r[1],null===a||isNaN(a)?d.push([i,a,[a,a,a,s]]):(l=s?a/s:0,c=100*(s?u*Math.sqrt(l*(1-l)/s):1),o=100*l,d.push([i,o,[o-c,o+c,a,s]]))):d.push([i,null,[null,null,null,null]]);return d},a.prototype.rollingAverage=function(t,e,n){e=Math.min(e,t.length);var i,o,r,a,s=[],l=n.get("sigma"),c=n.get("wilsonInterval"),d=0,u=0;for(r=0;r<t.length;r++){d+=t[r][2][2],u+=t[r][2][3],0<=r-e&&(d-=t[r-e][2][2],u-=t[r-e][2][3]);var h=t[r][0],p=u?d/u:0;if(c)if(u){var f=p<0?0:p,m=u,g=l*Math.sqrt(f*(1-f)/m+l*l/(4*m*m)),v=1+l*l/u;i=(f+l*l/(2*u)-g)/v,o=(f+l*l/(2*u)+g)/v,s[r]=[h,100*f,[100*i,100*o]]}else s[r]=[h,0,[0,0]];else a=u?l*Math.sqrt(p*(1-p)/u):1,s[r]=[h,100*p,[100*(p-a),100*(p+a)]]}return s},n.default=a,e.exports=n.default},{"./bars":5}],5:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var r=i(t("./datahandler")),a=i(t("../dygraph-layout")),o=function(){r.default.call(this)};(o.prototype=new r.default).extractSeries=function(t,e,n){},o.prototype.rollingAverage=function(t,e,n){},o.prototype.onPointsCreated_=function(t,e){for(var n=0;n<t.length;++n){var i=t[n],o=e[n];o.y_top=NaN,o.y_bottom=NaN,o.yval_minus=r.default.parseFloat(i[2][0]),o.yval_plus=r.default.parseFloat(i[2][1])}},o.prototype.getExtremeYValues=function(t,e,n){for(var i,o=null,r=null,a=t.length-1,s=0;s<=a;s++)if(null!==(i=t[s][1])&&!isNaN(i)){var l=t[s][2][0],c=t[s][2][1];i<l&&(l=i),c<i&&(c=i),(null===r||r<c)&&(r=c),(null===o||l<o)&&(o=l)}return[o,r]},o.prototype.onLineEvaluated=function(t,e,n){for(var i,o=0;o<t.length;o++)(i=t[o]).y_top=a.default.calcYNormal_(e,i.yval_minus,n),i.y_bottom=a.default.calcYNormal_(e,i.yval_plus,n)},n.default=o,e.exports=n.default},{"../dygraph-layout":13,"./datahandler":6}],6:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){},c=i;c.X=0,c.Y=1,c.EXTRAS=2,c.prototype.extractSeries=function(t,e,n){},c.prototype.seriesToPoints=function(t,e,n){for(var i=[],o=0;o<t.length;++o){var r=t[o],a=r[1],s=null===a?null:c.parseFloat(a),l={x:NaN,y:NaN,xval:c.parseFloat(r[0]),yval:s,name:e,idx:o+n};i.push(l)}return this.onPointsCreated_(t,i),i},c.prototype.onPointsCreated_=function(t,e){},c.prototype.rollingAverage=function(t,e,n){},c.prototype.getExtremeYValues=function(t,e,n){},c.prototype.onLineEvaluated=function(t,e,n){},c.parseFloat=function(t){return null===t?NaN:t},n.default=i,e.exports=n.default},{}],7:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var o=i((i(t("./datahandler")),t("./default"))),r=function(){};(r.prototype=new o.default).extractSeries=function(t,e,n){for(var i,o,r,a,s,l=[],c=n.get("logscale"),d=0;d<t.length;d++)i=t[d][0],r=t[d][e],c&&null!==r&&(r[0]<=0||r[1]<=0)&&(r=null),null!==r?(a=r[0],s=r[1],null===a||isNaN(a)?l.push([i,a,[a,s]]):(o=100*(s?a/s:0),l.push([i,o,[a,s]]))):l.push([i,null,[null,null]]);return l},r.prototype.rollingAverage=function(t,e,n){e=Math.min(e,t.length);var i,o=[],r=0,a=0;for(i=0;i<t.length;i++){r+=t[i][2][0],a+=t[i][2][1],0<=i-e&&(r-=t[i-e][2][0],a-=t[i-e][2][1]);var s=t[i][0],l=a?r/a:0;o[i]=[s,100*l]}return o},n.default=r,e.exports=n.default},{"./datahandler":6,"./default":8}],8:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,o=t("./datahandler"),r=(i=o)&&i.__esModule?i:{default:i},a=function(){};(a.prototype=new r.default).extractSeries=function(t,e,n){for(var i=[],o=n.get("logscale"),r=0;r<t.length;r++){var a=t[r][0],s=t[r][e];o&&s<=0&&(s=null),i.push([a,s])}return i},a.prototype.rollingAverage=function(t,e,n){var i,o,r,a,s,l=[];if(1==(e=Math.min(e,t.length)))return t;for(i=0;i<t.length;i++){for(s=a=0,o=Math.max(0,i-e+1);o<i+1;o++)null===(r=t[o][1])||isNaN(r)||(s++,a+=t[o][1]);l[i]=s?[t[i][0],a/s]:[t[i][0],null]}return l},a.prototype.getExtremeYValues=function(t,e,n){for(var i,o=null,r=null,a=t.length-1,s=0;s<=a;s++)null===(i=t[s][1])||isNaN(i)||((null===r||r<i)&&(r=i),(null===o||i<o)&&(o=i));return[o,r]},n.default=a,e.exports=n.default},{"./datahandler":6}],9:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,N=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("./dygraph-utils")),o=t("./dygraph"),L=(i=o)&&i.__esModule?i:{default:i},I=function(t,e,n,i){if(this.dygraph_=t,this.layout=i,this.element=e,this.elementContext=n,this.height=t.height_,this.width=t.width_,!N.isCanvasSupported(this.element))throw"Canvas is not supported.";this.area=i.getPlotArea();var o=this.dygraph_.canvas_ctx_;o.beginPath(),o.rect(this.area.x,this.area.y,this.area.w,this.area.h),o.clip(),(o=this.dygraph_.hidden_ctx_).beginPath(),o.rect(this.area.x,this.area.y,this.area.w,this.area.h),o.clip()};I.prototype.clear=function(){this.elementContext.clearRect(0,0,this.width,this.height)},I.prototype.render=function(){this._updatePoints(),this._renderLineChart()},I._getIteratorPredicate=function(t){return t?I._predicateThatSkipsEmptyPoints:null},I._predicateThatSkipsEmptyPoints=function(t,e){return null!==t[e].yval},I._drawStyledLine=function(t,e,n,i,o,r,a){var s=t.dygraph,l=s.getBooleanOption("stepPlot",t.setName);N.isArrayLike(i)||(i=null);var c=s.getBooleanOption("drawGapEdgePoints",t.setName),d=t.points,u=t.setName,h=N.createIterator(d,0,d.length,I._getIteratorPredicate(s.getBooleanOption("connectSeparatedPoints",u))),p=i&&2<=i.length,f=t.drawingContext;f.save(),p&&f.setLineDash&&f.setLineDash(i);var m=I._drawSeries(t,h,n,a,o,c,l,e);I._drawPointsOnLine(t,m,r,e,a),p&&f.setLineDash&&f.setLineDash([]),f.restore()},I._drawSeries=function(t,e,n,i,o,r,a,s){var l,c,d=null,u=null,h=null,p=[],f=!0,m=t.drawingContext;m.beginPath(),m.strokeStyle=s,m.lineWidth=n;for(var g=e.array_,v=e.end_,y=e.predicate_,b=e.start_;b<v;b++){if(c=g[b],y){for(;b<v&&!y(g,b);)b++;if(b==v)break;c=g[b]}if(null===c.canvasy||c.canvasy!=c.canvasy)a&&null!==d&&(m.moveTo(d,u),m.lineTo(c.canvasx,u)),d=u=null;else{if(l=!1,r||null===d){e.nextIdx_=b,e.next();var _=null===(h=e.hasNext?e.peek.canvasy:null)||h!=h;l=null===d&&_,r&&(!f&&null===d||e.hasNext&&_)&&(l=!0)}null!==d?n&&(a&&(m.moveTo(d,u),m.lineTo(c.canvasx,u)),m.lineTo(c.canvasx,c.canvasy)):m.moveTo(c.canvasx,c.canvasy),(o||l)&&p.push([c.canvasx,c.canvasy,c.idx]),d=c.canvasx,u=c.canvasy}f=!1}return m.stroke(),p},I._drawPointsOnLine=function(t,e,n,i,o){for(var r=t.drawingContext,a=0;a<e.length;a++){var s=e[a];r.save(),n.call(t.dygraph,t.dygraph,t.setName,r,s[0],s[1],i,o,s[2]),r.restore()}},I.prototype._updatePoints=function(){for(var t=this.layout.points,e=t.length;e--;)for(var n=t[e],i=n.length;i--;){var o=n[i];o.canvasx=this.area.w*o.x+this.area.x,o.canvasy=this.area.h*o.y+this.area.y}},I.prototype._renderLineChart=function(t,e){var n,i,o=e||this.elementContext,r=this.layout.points,a=this.layout.setNames;this.colors=this.dygraph_.colorsMap_;var s=this.dygraph_.getOption("plotter"),l=s;N.isArrayLike(l)||(l=[l]);var c={};for(n=0;n<a.length;n++){i=a[n];var d=this.dygraph_.getOption("plotter",i);d!=s&&(c[i]=d)}for(n=0;n<l.length;n++)for(var u=l[n],h=n==l.length-1,p=0;p<r.length;p++)if(i=a[p],!t||i==t){var f=r[p],m=u;if(i in c){if(!h)continue;m=c[i]}var g=this.colors[i],v=this.dygraph_.getOption("strokeWidth",i);o.save(),o.strokeStyle=g,o.lineWidth=v,m({points:f,setName:i,drawingContext:o,color:g,strokeWidth:v,dygraph:this.dygraph_,axis:this.dygraph_.axisPropertiesForSeries(i),plotArea:this.area,seriesIndex:p,seriesCount:r.length,singleSeriesName:t,allSeriesPoints:r}),o.restore()}},I._Plotters={linePlotter:function(t){I._linePlotter(t)},fillPlotter:function(t){I._fillPlotter(t)},errorPlotter:function(t){I._errorPlotter(t)}},I._linePlotter=function(t){var e=t.dygraph,n=t.setName,i=t.strokeWidth,o=e.getNumericOption("strokeBorderWidth",n),r=e.getOption("drawPointCallback",n)||N.Circles.DEFAULT,a=e.getOption("strokePattern",n),s=e.getBooleanOption("drawPoints",n),l=e.getNumericOption("pointSize",n);o&&i&&I._drawStyledLine(t,e.getOption("strokeBorderColor",n),i+2*o,a,s,r,l),I._drawStyledLine(t,t.color,i,a,s,r,l)},I._errorPlotter=function(t){var e=t.dygraph,n=t.setName;if(e.getBooleanOption("errorBars")||e.getBooleanOption("customBars")){e.getBooleanOption("fillGraph",n)&&console.warn("Can't use fillGraph option with error bars");var i,o=t.drawingContext,r=t.color,a=e.getNumericOption("fillAlpha",n),s=e.getBooleanOption("stepPlot",n),l=t.points,c=N.createIterator(l,0,l.length,I._getIteratorPredicate(e.getBooleanOption("connectSeparatedPoints",n))),d=NaN,u=NaN,h=[-1,-1],p=N.toRGB_(r),f="rgba("+p.r+","+p.g+","+p.b+","+a+")";o.fillStyle=f,o.beginPath();for(var m=function(t){return null==t||isNaN(t)};c.hasNext;){var g=c.next();d=!s&&m(g.y)||s&&!isNaN(u)&&m(u)?NaN:(i=[g.y_bottom,g.y_top],s&&(u=g.y),isNaN(i[0])&&(i[0]=g.y),isNaN(i[1])&&(i[1]=g.y),i[0]=t.plotArea.h*i[0]+t.plotArea.y,i[1]=t.plotArea.h*i[1]+t.plotArea.y,isNaN(d)||(s?(o.moveTo(d,h[0]),o.lineTo(g.canvasx,h[0]),o.lineTo(g.canvasx,h[1])):(o.moveTo(d,h[0]),o.lineTo(g.canvasx,i[0]),o.lineTo(g.canvasx,i[1])),o.lineTo(d,h[1]),o.closePath()),h=i,g.canvasx)}o.fill()}},I._fastCanvasProxy=function(o){var d=[],r=null,a=null,s=0,l=function(t){!function(t){if(!(d.length<=1)){for(var e=d.length-1;0<e;e--)if(2==(a=d[e])[0]){var n=d[e-1];n[1]==a[1]&&n[2]==a[2]&&d.splice(e,1)}for(e=0;e<d.length-1;)2==(a=d[e])[0]&&2==d[e+1][0]?d.splice(e,1):e++;if(2<d.length&&!t){var i=0;2==d[0][0]&&i++;var o=null,r=null;for(e=i;e<d.length;e++){var a;if(1==(a=d[e])[0])if(null===o&&null===r)r=o=e;else{var s=a[2];s<d[o][2]?o=e:s>d[r][2]&&(r=e)}}var l=d[o],c=d[r];d.splice(i,d.length-i),o<r?(d.push(l),d.push(c)):(r<o&&d.push(c),d.push(l))}}}(t);for(var e=0,n=d.length;e<n;e++){var i=d[e];1==i[0]?o.lineTo(i[1],i[2]):2==i[0]&&o.moveTo(i[1],i[2])}d.length&&(a=d[d.length-1][1]),s+=d.length,d=[]},n=function(t,e,n){var i=Math.round(e);null!==r&&i==r||(l(1<r-a||1<i-r),r=i);d.push([t,e,n])};return{moveTo:function(t,e){n(2,t,e)},lineTo:function(t,e){n(1,t,e)},stroke:function(){l(!0),o.stroke()},fill:function(){l(!0),o.fill()},beginPath:function(){l(!0),o.beginPath()},closePath:function(){l(!0),o.closePath()},_count:function(){return s}}},I._fillPlotter=function(t){if(!t.singleSeriesName&&0===t.seriesIndex){for(var e=t.dygraph,n=e.getLabels().slice(1),i=n.length;0<=i;i--)e.visibility()[i]||n.splice(i,1);if(function(){for(var t=0;t<n.length;t++)if(e.getBooleanOption("fillGraph",n[t]))return!0;return!1}())for(var o,r,a=t.plotArea,s=t.allSeriesPoints,l=s.length,c=e.getBooleanOption("stackedGraph"),d=e.getColors(),u={},h=function(t,e,n,i){if(t.lineTo(e,n),c)for(var o=i.length-1;0<=o;o--){var r=i[o];t.lineTo(r[0],r[1])}},p=l-1;0<=p;p--){var f=t.drawingContext,m=n[p];if(e.getBooleanOption("fillGraph",m)){var g=e.getNumericOption("fillAlpha",m),v=e.getBooleanOption("stepPlot",m),y=d[p],b=e.axisPropertiesForSeries(m),_=1+b.minyval*b.yscale;_<0?_=0:1<_&&(_=1),_=a.h*_+a.y;var x,w=s[p],E=N.createIterator(w,0,w.length,I._getIteratorPredicate(e.getBooleanOption("connectSeparatedPoints",m))),M=NaN,T=[-1,-1],C=N.toRGB_(y),S="rgba("+C.r+","+C.g+","+C.b+","+g+")";f.fillStyle=S,f.beginPath();var A,k=!0;(w.length>2*e.width_||L.default.FORCE_FAST_PROXY)&&(f=I._fastCanvasProxy(f));for(var D,O=[];E.hasNext;)if(D=E.next(),N.isOK(D.y)||v){if(c){if(!k&&A==D.xval)continue;var P;k=!1,A=D.xval,P=void 0===(o=u[D.canvasx])?_:r?o[0]:o,x=[D.canvasy,P],v?-1===T[0]?u[D.canvasx]=[D.canvasy,_]:u[D.canvasx]=[D.canvasy,T[0]]:u[D.canvasx]=D.canvasy}else x=isNaN(D.canvasy)&&v?[a.y+a.h,_]:[D.canvasy,_];isNaN(M)?(f.moveTo(D.canvasx,x[1]),f.lineTo(D.canvasx,x[0])):(v&&f.lineTo(D.canvasx,T[0]),f.lineTo(D.canvasx,x[0]),c&&(O.push([M,T[1]]),r&&o?O.push([D.canvasx,o[1]]):O.push([D.canvasx,x[1]]))),T=x,M=D.canvasx}else h(f,M,T[1],O),O=[],M=NaN,null===D.y_stacked||isNaN(D.y_stacked)||(u[D.canvasx]=a.h*D.y_stacked+a.y);r=v,x&&D&&(h(f,D.canvasx,x[1],O),O=[]),f.fill()}}}},n.default=I,e.exports=n.default},{"./dygraph":18,"./dygraph-utils":17}],10:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}Object.defineProperty(n,"__esModule",{value:!0});var r=o(t("./dygraph-tickers")),a=i(t("./dygraph-interaction-model")),s=i(t("./dygraph-canvas")),l=o(t("./dygraph-utils")),c={highlightCircleSize:3,highlightSeriesOpts:null,highlightSeriesBackgroundAlpha:.5,highlightSeriesBackgroundColor:"rgb(255, 255, 255)",labelsSeparateLines:!1,labelsShowZeroValues:!0,labelsKMB:!1,labelsKMG2:!1,showLabelsOnHighlight:!0,digitsAfterDecimal:2,maxNumberWidth:6,sigFigs:null,strokeWidth:1,strokeBorderWidth:0,strokeBorderColor:"white",axisTickSize:3,axisLabelFontSize:14,rightGap:5,showRoller:!1,xValueParser:void 0,delimiter:",",sigma:2,errorBars:!1,fractions:!1,wilsonInterval:!0,customBars:!1,fillGraph:!1,fillAlpha:.15,connectSeparatedPoints:!1,stackedGraph:!1,stackedGraphNaNFill:"all",hideOverlayOnMouseOut:!0,legend:"onmouseover",stepPlot:!1,xRangePad:0,yRangePad:null,drawAxesAtZero:!1,titleHeight:28,xLabelHeight:18,yLabelWidth:18,axisLineColor:"black",axisLineWidth:.3,gridLineWidth:.3,axisLabelWidth:50,gridLineColor:"rgb(128,128,128)",interactionModel:a.default.defaultModel,animatedZooms:!1,showRangeSelector:!1,rangeSelectorHeight:40,rangeSelectorPlotStrokeColor:"#808FAB",rangeSelectorPlotFillGradientColor:"white",rangeSelectorPlotFillColor:"#A7B1C4",rangeSelectorBackgroundStrokeColor:"gray",rangeSelectorBackgroundLineWidth:1,rangeSelectorPlotLineWidth:1.5,rangeSelectorForegroundStrokeColor:"black",rangeSelectorForegroundLineWidth:1,rangeSelectorAlpha:.6,showInRangeSelector:null,plotter:[s.default._fillPlotter,s.default._errorPlotter,s.default._linePlotter],plugins:[],axes:{x:{pixelsPerLabel:70,axisLabelWidth:60,axisLabelFormatter:l.dateAxisLabelFormatter,valueFormatter:l.dateValueFormatter,drawGrid:!0,drawAxis:!0,independentTicks:!0,ticker:r.dateTicker},y:{axisLabelWidth:50,pixelsPerLabel:30,valueFormatter:l.numberValueFormatter,axisLabelFormatter:l.numberAxisLabelFormatter,drawGrid:!0,drawAxis:!0,independentTicks:!0,ticker:r.numericTicks},y2:{axisLabelWidth:50,pixelsPerLabel:30,valueFormatter:l.numberValueFormatter,axisLabelFormatter:l.numberAxisLabelFormatter,drawAxis:!0,drawGrid:!1,independentTicks:!1,ticker:r.numericTicks}}};n.default=c,e.exports=n.default},{"./dygraph-canvas":9,"./dygraph-interaction-model":12,"./dygraph-tickers":16,"./dygraph-utils":17}],11:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,o=t("./dygraph"),r=(i=o)&&i.__esModule?i:{default:i},a=function(t){this.container=t};a.prototype.draw=function(t,e){this.container.innerHTML="",void 0!==this.date_graph&&this.date_graph.destroy(),this.date_graph=new r.default(this.container,t,e)},a.prototype.setSelection=function(t){var e=!1;t.length&&(e=t[0].row),this.date_graph.setSelection(e)},a.prototype.getSelection=function(){var t=[],e=this.date_graph.getSelection();if(e<0)return t;for(var n=this.date_graph.layout_.points,i=0;i<n.length;++i)t.push({row:e,column:i+1});return t},n.default=a,e.exports=n.default},{"./dygraph":18}],12:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var x=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("./dygraph-utils")),d={maybeTreatMouseOpAsClick:function(t,e,n){n.dragEndX=x.dragGetX_(t,n),n.dragEndY=x.dragGetY_(t,n);var i=Math.abs(n.dragEndX-n.dragStartX),o=Math.abs(n.dragEndY-n.dragStartY);i<2&&o<2&&void 0!==e.lastx_&&-1!=e.lastx_&&d.treatMouseOpAsClick(e,t,n),n.regionWidth=i,n.regionHeight=o},startPan:function(t,e,n){var i,o;n.isPanning=!0;var r=e.xAxisRange();if(e.getOptionForAxis("logscale","x")?(n.initialLeftmostDate=x.log10(r[0]),n.dateRange=x.log10(r[1])-x.log10(r[0])):(n.initialLeftmostDate=r[0],n.dateRange=r[1]-r[0]),n.xUnitsPerPixel=n.dateRange/(e.plotter_.area.w-1),e.getNumericOption("panEdgeFraction")){var a=e.width_*e.getNumericOption("panEdgeFraction"),s=e.xAxisExtremes(),l=e.toDomXCoord(s[0])-a,c=e.toDomXCoord(s[1])+a,d=e.toDataXCoord(l),u=e.toDataXCoord(c);n.boundedDates=[d,u];var h=[],p=e.height_*e.getNumericOption("panEdgeFraction");for(i=0;i<e.axes_.length;i++){var f=(o=e.axes_[i]).extremeRange,m=e.toDomYCoord(f[0],i)+p,g=e.toDomYCoord(f[1],i)-p,v=e.toDataYCoord(m,i),y=e.toDataYCoord(g,i);h[i]=[v,y]}n.boundedValues=h}for(n.is2DPan=!1,n.axes=[],i=0;i<e.axes_.length;i++){o=e.axes_[i];var b={},_=e.yAxisRange(i);e.attributes_.getForAxis("logscale",i)?(b.initialTopValue=x.log10(_[1]),b.dragValueRange=x.log10(_[1])-x.log10(_[0])):(b.initialTopValue=_[1],b.dragValueRange=_[1]-_[0]),b.unitsPerPixel=b.dragValueRange/(e.plotter_.area.h-1),n.axes.push(b),o.valueRange&&(n.is2DPan=!0)}},movePan:function(t,e,n){n.dragEndX=x.dragGetX_(t,n),n.dragEndY=x.dragGetY_(t,n);var i=n.initialLeftmostDate-(n.dragEndX-n.dragStartX)*n.xUnitsPerPixel;n.boundedDates&&(i=Math.max(i,n.boundedDates[0]));var o=i+n.dateRange;if(n.boundedDates&&o>n.boundedDates[1]&&(o=(i-=o-n.boundedDates[1])+n.dateRange),e.getOptionForAxis("logscale","x")?e.dateWindow_=[Math.pow(x.LOG_SCALE,i),Math.pow(x.LOG_SCALE,o)]:e.dateWindow_=[i,o],n.is2DPan)for(var r=n.dragEndY-n.dragStartY,a=0;a<e.axes_.length;a++){var s=e.axes_[a],l=n.axes[a],c=r*l.unitsPerPixel,d=n.boundedValues?n.boundedValues[a]:null,u=l.initialTopValue+c;d&&(u=Math.min(u,d[1]));var h=u-l.dragValueRange;d&&h<d[0]&&(h=(u-=h-d[0])-l.dragValueRange),e.attributes_.getForAxis("logscale",a)?s.valueRange=[Math.pow(x.LOG_SCALE,h),Math.pow(x.LOG_SCALE,u)]:s.valueRange=[h,u]}e.drawGraph_(!1)}};d.endPan=d.maybeTreatMouseOpAsClick,d.startZoom=function(t,e,n){n.isZooming=!0,n.zoomMoved=!1},d.moveZoom=function(t,e,n){n.zoomMoved=!0,n.dragEndX=x.dragGetX_(t,n),n.dragEndY=x.dragGetY_(t,n);var i=Math.abs(n.dragStartX-n.dragEndX),o=Math.abs(n.dragStartY-n.dragEndY);n.dragDirection=i<o/2?x.VERTICAL:x.HORIZONTAL,e.drawZoomRect_(n.dragDirection,n.dragStartX,n.dragEndX,n.dragStartY,n.dragEndY,n.prevDragDirection,n.prevEndX,n.prevEndY),n.prevEndX=n.dragEndX,n.prevEndY=n.dragEndY,n.prevDragDirection=n.dragDirection},d.treatMouseOpAsClick=function(t,e,n){for(var i=t.getFunctionOption("clickCallback"),o=t.getFunctionOption("pointClickCallback"),r=null,a=-1,s=Number.MAX_VALUE,l=0;l<t.selPoints_.length;l++){var c=t.selPoints_[l],d=Math.pow(c.canvasx-n.dragEndX,2)+Math.pow(c.canvasy-n.dragEndY,2);!isNaN(d)&&(-1==a||d<s)&&(s=d,a=l)}var u=t.getNumericOption("highlightCircleSize")+2;if(s<=u*u&&(r=t.selPoints_[a]),r){var h={cancelable:!0,point:r,canvasx:n.dragEndX,canvasy:n.dragEndY};if(t.cascadeEvents_("pointClick",h))return;o&&o.call(t,e,r)}h={cancelable:!0,xval:t.lastx_,pts:t.selPoints_,canvasx:n.dragEndX,canvasy:n.dragEndY};t.cascadeEvents_("click",h)||i&&i.call(t,e,t.lastx_,t.selPoints_)},d.endZoom=function(t,e,n){e.clearZoomRect_(),n.isZooming=!1,d.maybeTreatMouseOpAsClick(t,e,n);var i=e.getArea();if(10<=n.regionWidth&&n.dragDirection==x.HORIZONTAL){var o=Math.min(n.dragStartX,n.dragEndX),r=Math.max(n.dragStartX,n.dragEndX);(o=Math.max(o,i.x))<(r=Math.min(r,i.x+i.w))&&e.doZoomX_(o,r),n.cancelNextDblclick=!0}else if(10<=n.regionHeight&&n.dragDirection==x.VERTICAL){var a=Math.min(n.dragStartY,n.dragEndY),s=Math.max(n.dragStartY,n.dragEndY);(a=Math.max(a,i.y))<(s=Math.min(s,i.y+i.h))&&e.doZoomY_(a,s),n.cancelNextDblclick=!0}n.dragStartX=null,n.dragStartY=null},d.startTouch=function(t,e,n){t.preventDefault(),1<t.touches.length&&(n.startTimeForDoubleTapMs=null);for(var i=[],o=0;o<t.touches.length;o++){var r=t.touches[o];i.push({pageX:r.pageX,pageY:r.pageY,dataX:e.toDataXCoord(r.pageX),dataY:e.toDataYCoord(r.pageY)})}if(1==(n.initialTouches=i).length)n.initialPinchCenter=i[0],n.touchDirections={x:!0,y:!0};else if(2<=i.length){n.initialPinchCenter={pageX:.5*(i[0].pageX+i[1].pageX),pageY:.5*(i[0].pageY+i[1].pageY),dataX:.5*(i[0].dataX+i[1].dataX),dataY:.5*(i[0].dataY+i[1].dataY)};var a=180/Math.PI*Math.atan2(n.initialPinchCenter.pageY-i[0].pageY,i[0].pageX-n.initialPinchCenter.pageX);90<(a=Math.abs(a))&&(a=90-a),n.touchDirections={x:a<67.5,y:22.5<a}}n.initialRange={x:e.xAxisRange(),y:e.yAxisRange()}},d.moveTouch=function(t,e,n){n.startTimeForDoubleTapMs=null;var i,o=[];for(i=0;i<t.touches.length;i++){var r=t.touches[i];o.push({pageX:r.pageX,pageY:r.pageY})}var a,s,l,c=n.initialTouches,d=n.initialPinchCenter,u={pageX:(a=1==o.length?o[0]:{pageX:.5*(o[0].pageX+o[1].pageX),pageY:.5*(o[0].pageY+o[1].pageY)}).pageX-d.pageX,pageY:a.pageY-d.pageY},h=n.initialRange.x[1]-n.initialRange.x[0],p=n.initialRange.y[0]-n.initialRange.y[1];if(u.dataX=u.pageX/e.plotter_.area.w*h,u.dataY=u.pageY/e.plotter_.area.h*p,1==o.length)l=s=1;else if(2<=o.length){var f=c[1].pageX-d.pageX;s=(o[1].pageX-a.pageX)/f;var m=c[1].pageY-d.pageY;l=(o[1].pageY-a.pageY)/m}s=Math.min(8,Math.max(.125,s)),l=Math.min(8,Math.max(.125,l));var g=!1;if(n.touchDirections.x&&(e.dateWindow_=[d.dataX-u.dataX+(n.initialRange.x[0]-d.dataX)/s,d.dataX-u.dataX+(n.initialRange.x[1]-d.dataX)/s],g=!0),n.touchDirections.y)for(i=0;i<1;i++){var v=e.axes_[i];e.attributes_.getForAxis("logscale",i)||(v.valueRange=[d.dataY-u.dataY+(n.initialRange.y[0]-d.dataY)/l,d.dataY-u.dataY+(n.initialRange.y[1]-d.dataY)/l],g=!0)}if(e.drawGraph_(!1),g&&1<o.length&&e.getFunctionOption("zoomCallback")){var y=e.xAxisRange();e.getFunctionOption("zoomCallback").call(e,y[0],y[1],e.yAxisRanges())}},d.endTouch=function(t,e,n){if(0!==t.touches.length)d.startTouch(t,e,n);else if(1==t.changedTouches.length){var i=(new Date).getTime(),o=t.changedTouches[0];n.startTimeForDoubleTapMs&&i-n.startTimeForDoubleTapMs<500&&n.doubleTapX&&Math.abs(n.doubleTapX-o.screenX)<50&&n.doubleTapY&&Math.abs(n.doubleTapY-o.screenY)<50?e.resetZoom():(n.startTimeForDoubleTapMs=i,n.doubleTapX=o.screenX,n.doubleTapY=o.screenY)}};var u=function(t,e,n){return t<e?e-t:n<t?t-n:0};d.defaultModel={mousedown:function(t,l,c){if(!t.button||2!=t.button){c.initializeMouseDown(t,l,c),t.altKey||t.shiftKey?d.startPan(t,l,c):d.startZoom(t,l,c);var n=function(t){var e,n,i,o,r,a,s;c.isZooming?(e=t,n=l,i=x.findPos(n.canvas_),o={left:i.x,right:i.x+n.canvas_.offsetWidth,top:i.y,bottom:i.y+n.canvas_.offsetHeight},r={x:x.pageX(e),y:x.pageY(e)},a=u(r.x,o.left,o.right),s=u(r.y,o.top,o.bottom),Math.max(a,s)<100?d.moveZoom(t,l,c):null!==c.dragEndX&&(c.dragEndX=null,c.dragEndY=null,l.clearZoomRect_())):c.isPanning&&d.movePan(t,l,c)};l.addAndTrackEvent(document,"mousemove",n),l.addAndTrackEvent(document,"mouseup",function t(e){c.isZooming?null!==c.dragEndX?d.endZoom(e,l,c):d.maybeTreatMouseOpAsClick(e,l,c):c.isPanning&&d.endPan(e,l,c),x.removeEvent(document,"mousemove",n),x.removeEvent(document,"mouseup",t),c.destroy()})}},willDestroyContextMyself:!0,touchstart:function(t,e,n){d.startTouch(t,e,n)},touchmove:function(t,e,n){d.moveTouch(t,e,n)},touchend:function(t,e,n){d.endTouch(t,e,n)},dblclick:function(t,e,n){if(n.cancelNextDblclick)n.cancelNextDblclick=!1;else{var i={canvasx:n.dragEndX,canvasy:n.dragEndY,cancelable:!0};e.cascadeEvents_("dblclick",i)||t.altKey||t.shiftKey||e.resetZoom()}}},d.nonInteractiveModel_={mousedown:function(t,e,n){n.initializeMouseDown(t,e,n)},mouseup:d.maybeTreatMouseOpAsClick},d.dragIsPanInteractionModel={mousedown:function(t,e,n){n.initializeMouseDown(t,e,n),d.startPan(t,e,n)},mousemove:function(t,e,n){n.isPanning&&d.movePan(t,e,n)},mouseup:function(t,e,n){n.isPanning&&d.endPan(t,e,n)}},n.default=d,e.exports=n.default},{"./dygraph-utils":17}],13:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("./dygraph-utils")),u=function(t){this.dygraph_=t,this.points=[],this.setNames=[],this.annotations=[],this.yAxes_=null,this.xTicks_=null,this.yTicks_=null};u.prototype.addDataset=function(t,e){this.points.push(e),this.setNames.push(t)},u.prototype.getPlotArea=function(){return this.area_},u.prototype.computePlotArea=function(){var n={x:0,y:0};n.w=this.dygraph_.width_-n.x-this.dygraph_.getOption("rightGap"),n.h=this.dygraph_.height_;var t={chart_div:this.dygraph_.graphDiv,reserveSpaceLeft:function(t){var e={x:n.x,y:n.y,w:t,h:n.h};return n.x+=t,n.w-=t,e},reserveSpaceRight:function(t){var e={x:n.x+n.w-t,y:n.y,w:t,h:n.h};return n.w-=t,e},reserveSpaceTop:function(t){var e={x:n.x,y:n.y,w:n.w,h:t};return n.y+=t,n.h-=t,e},reserveSpaceBottom:function(t){var e={x:n.x,y:n.y+n.h-t,w:n.w,h:t};return n.h-=t,e},chartRect:function(){return{x:n.x,y:n.y,w:n.w,h:n.h}}};this.dygraph_.cascadeEvents_("layout",t),this.area_=n},u.prototype.setAnnotations=function(t){this.annotations=[];for(var e=this.dygraph_.getOption("xValueParser")||function(t){return t},n=0;n<t.length;n++){var i={};if(!t[n].xval&&void 0===t[n].x)return void console.error("Annotations must have an 'x' property");if(t[n].icon&&(!t[n].hasOwnProperty("width")||!t[n].hasOwnProperty("height")))return void console.error("Must set width and height when setting annotation.icon property");o.update(i,t[n]),i.xval||(i.xval=e(i.x)),this.annotations.push(i)}},u.prototype.setXTicks=function(t){this.xTicks_=t},u.prototype.setYAxes=function(t){this.yAxes_=t},u.prototype.evaluate=function(){this._xAxis={},this._evaluateLimits(),this._evaluateLineCharts(),this._evaluateLineTicks(),this._evaluateAnnotations()},u.prototype._evaluateLimits=function(){var t=this.dygraph_.xAxisRange();this._xAxis.minval=t[0],this._xAxis.maxval=t[1];var e=t[1]-t[0];this._xAxis.scale=0!==e?1/e:1,this.dygraph_.getOptionForAxis("logscale","x")&&(this._xAxis.xlogrange=o.log10(this._xAxis.maxval)-o.log10(this._xAxis.minval),this._xAxis.xlogscale=0!==this._xAxis.xlogrange?1/this._xAxis.xlogrange:1);for(var n=0;n<this.yAxes_.length;n++){var i=this.yAxes_[n];i.minyval=i.computedValueRange[0],i.maxyval=i.computedValueRange[1],i.yrange=i.maxyval-i.minyval,i.yscale=0!==i.yrange?1/i.yrange:1,this.dygraph_.getOption("logscale")&&(i.ylogrange=o.log10(i.maxyval)-o.log10(i.minyval),i.ylogscale=0!==i.ylogrange?1/i.ylogrange:1,isFinite(i.ylogrange)&&!isNaN(i.ylogrange)||console.error("axis "+n+" of graph at "+i.g+" can't be displayed in log scale for range ["+i.minyval+" - "+i.maxyval+"]"))}},u.calcXNormal_=function(t,e,n){return n?(o.log10(t)-o.log10(e.minval))*e.xlogscale:(t-e.minval)*e.scale},u.calcYNormal_=function(t,e,n){if(n){var i=1-(o.log10(e)-o.log10(t.minyval))*t.ylogscale;return isFinite(i)?i:NaN}return 1-(e-t.minyval)*t.yscale},u.prototype._evaluateLineCharts=function(){for(var t=this.dygraph_.getOption("stackedGraph"),e=this.dygraph_.getOptionForAxis("logscale","x"),n=0;n<this.points.length;n++){for(var i=this.points[n],o=this.setNames[n],r=this.dygraph_.getOption("connectSeparatedPoints",o),a=this.dygraph_.axisPropertiesForSeries(o),s=this.dygraph_.attributes_.getForSeries("logscale",o),l=0;l<i.length;l++){var c=i[l];c.x=u.calcXNormal_(c.xval,this._xAxis,e);var d=c.yval;t&&(c.y_stacked=u.calcYNormal_(a,c.yval_stacked,s),null===d||isNaN(d)||(d=c.yval_stacked)),null===d&&(d=NaN,r||(c.yval=NaN)),c.y=u.calcYNormal_(a,d,s)}this.dygraph_.dataHandler_.onLineEvaluated(i,a,s)}},u.prototype._evaluateLineTicks=function(){var t,e,n,i,o,r;for(this.xticks=[],t=0;t<this.xTicks_.length;t++)n=(e=this.xTicks_[t]).label,o=(r=!("label_v"in e))?e.v:e.label_v,0<=(i=this.dygraph_.toPercentXCoord(o))&&i<1&&this.xticks.push({pos:i,label:n,has_tick:r});for(this.yticks=[],t=0;t<this.yAxes_.length;t++)for(var a=this.yAxes_[t],s=0;s<a.ticks.length;s++)n=(e=a.ticks[s]).label,o=(r=!("label_v"in e))?e.v:e.label_v,0<(i=this.dygraph_.toPercentYCoord(o,t))&&i<=1&&this.yticks.push({axis:t,pos:i,label:n,has_tick:r})},u.prototype._evaluateAnnotations=function(){var t,e={};for(t=0;t<this.annotations.length;t++){var n=this.annotations[t];e[n.xval+","+n.series]=n}if(this.annotated_points=[],this.annotations&&this.annotations.length)for(var i=0;i<this.points.length;i++){var o=this.points[i];for(t=0;t<o.length;t++){var r=o[t],a=r.xval+","+r.name;a in e&&(r.annotation=e[a],this.annotated_points.push(r))}}},u.prototype.removeAllDatasets=function(){delete this.points,delete this.setNames,delete this.setPointsLengths,delete this.setPointsOffsets,this.points=[],this.setNames=[],this.setPointsLengths=[],this.setPointsOffsets=[]},n.default=u,e.exports=n.default},{"./dygraph-utils":17}],14:[function(t,e,n){(function(t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default=null,e.exports=n.default}).call(this,t("_process"))},{_process:1}],15:[function(n,i,o){(function(t){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(o,"__esModule",{value:!0});var s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n("./dygraph-utils")),l=e(n("./dygraph-default-attrs")),c=(e(n("./dygraph-options-reference")),function(t){this.dygraph_=t,this.yAxes_=[],this.xAxis_={},this.series_={},this.global_=this.dygraph_.attrs_,this.user_=this.dygraph_.user_attrs_||{},this.labels_=[],this.highlightSeries_=this.get("highlightSeriesOpts")||{},this.reparseSeries()});c.AXIS_STRING_MAPPINGS_={y:0,Y:0,y1:0,Y1:0,y2:1,Y2:1},c.axisToIndex_=function(t){if("string"==typeof t){if(c.AXIS_STRING_MAPPINGS_.hasOwnProperty(t))return c.AXIS_STRING_MAPPINGS_[t];throw"Unknown axis : "+t}if("number"==typeof t){if(0===t||1===t)return t;throw"Dygraphs only supports two y-axes, indexed from 0-1."}if(t)throw"Unknown axis : "+t;return 0},c.prototype.reparseSeries=function(){var t=this.get("labels");if(t){this.labels_=t.slice(1),this.yAxes_=[{series:[],options:{}}],this.xAxis_={options:{}},this.series_={};for(var e=this.user_.series||{},n=0;n<this.labels_.length;n++){var i=this.labels_[n],o=e[i]||{},r=c.axisToIndex_(o.axis);this.series_[i]={idx:n,yAxis:r,options:o},this.yAxes_[r]?this.yAxes_[r].series.push(i):this.yAxes_[r]={series:[i],options:{}}}var a=this.user_.axes||{};s.update(this.yAxes_[0].options,a.y||{}),1<this.yAxes_.length&&s.update(this.yAxes_[1].options,a.y2||{}),s.update(this.xAxis_.options,a.x||{})}},c.prototype.get=function(t){var e=this.getGlobalUser_(t);return null!==e?e:this.getGlobalDefault_(t)},c.prototype.getGlobalUser_=function(t){return this.user_.hasOwnProperty(t)?this.user_[t]:null},c.prototype.getGlobalDefault_=function(t){return this.global_.hasOwnProperty(t)?this.global_[t]:l.default.hasOwnProperty(t)?l.default[t]:null},c.prototype.getForAxis=function(t,e){var n,i;if("number"==typeof e)i=0===(n=e)?"y":"y2";else{if("y1"==e&&(e="y"),"y"==e)n=0;else if("y2"==e)n=1;else{if("x"!=e)throw"Unknown axis "+e;n=-1}i=e}var o=-1==n?this.xAxis_:this.yAxes_[n];if(o){var r=o.options;if(r.hasOwnProperty(t))return r[t]}if("x"!==e||"logscale"!==t){var a=this.getGlobalUser_(t);if(null!==a)return a}var s=l.default.axes[i];return s.hasOwnProperty(t)?s[t]:this.getGlobalDefault_(t)},c.prototype.getForSeries=function(t,e){if(e===this.dygraph_.getHighlightSeries()&&this.highlightSeries_.hasOwnProperty(t))return this.highlightSeries_[t];if(!this.series_.hasOwnProperty(e))throw"Unknown series: "+e;var n=this.series_[e],i=n.options;return i.hasOwnProperty(t)?i[t]:this.getForAxis(t,n.yAxis)},c.prototype.numAxes=function(){return this.yAxes_.length},c.prototype.axisForSeries=function(t){return this.series_[t].yAxis},c.prototype.axisOptions=function(t){return this.yAxes_[t].options},c.prototype.seriesForAxis=function(t){return this.yAxes_[t].series},c.prototype.seriesNames=function(){return this.labels_},o.default=c,i.exports=o.default}).call(this,n("_process"))},{"./dygraph-default-attrs":10,"./dygraph-options-reference":14,"./dygraph-utils":17,_process:1}],16:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var k=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("./dygraph-utils"));n.numericLinearTicks=function(t,e,n,i,o,r){return a(t,e,n,function(t){return"logscale"!==t&&i(t)},o,r)};var a=function(t,e,n,i,o,r){var a,s,l,c,d=i("pixelsPerLabel"),u=[];if(r)for(a=0;a<r.length;a++)u.push({v:r[a]});else{if(i("logscale")){c=Math.floor(n/d);var h=k.binarySearch(t,D,1),p=k.binarySearch(e,D,-1);-1==h&&(h=0),-1==p&&(p=D.length-1);var f=null;if(c/4<=p-h){for(var m=p;h<=m;m--){var g=D[m],v=Math.log(g/t)/Math.log(e/t)*n,y={v:g};null===f?f={tickValue:g,pixel_coord:v}:Math.abs(v-f.pixel_coord)>=d?f={tickValue:g,pixel_coord:v}:y.label="",u.push(y)}u.reverse()}}if(0===u.length){var b,_;_=i("labelsKMG2")?(b=[1,2,4,8,16,32,64,128,256],16):(b=[1,2,5,10,20,50,100],10);var x,w,E,M=Math.ceil(n/d),T=Math.abs(e-t)/M,C=Math.floor(Math.log(T)/Math.log(_)),S=Math.pow(_,C);for(s=0;s<b.length&&(x=S*b[s],w=Math.floor(t/x)*x,E=Math.ceil(e/x)*x,!(d<n/(c=Math.abs(E-w)/x)));s++);for(E<w&&(x*=-1),a=0;a<=c;a++)l=w+a*x,u.push({v:l})}}var A=i("axisLabelFormatter");for(a=0;a<u.length;a++)void 0===u[a].label&&(u[a].label=A.call(o,u[a].v,0,i,o));return u};n.numericTicks=a;n.dateTicker=function(t,e,n,i,o,r){var a=s(t,e,n,i);return 0<=a?c(t,e,a,i,o):[]};var v={MILLISECONDLY:0,TWO_MILLISECONDLY:1,FIVE_MILLISECONDLY:2,TEN_MILLISECONDLY:3,FIFTY_MILLISECONDLY:4,HUNDRED_MILLISECONDLY:5,FIVE_HUNDRED_MILLISECONDLY:6,SECONDLY:7,TWO_SECONDLY:8,FIVE_SECONDLY:9,TEN_SECONDLY:10,THIRTY_SECONDLY:11,MINUTELY:12,TWO_MINUTELY:13,FIVE_MINUTELY:14,TEN_MINUTELY:15,THIRTY_MINUTELY:16,HOURLY:17,TWO_HOURLY:18,SIX_HOURLY:19,DAILY:20,TWO_DAILY:21,WEEKLY:22,MONTHLY:23,QUARTERLY:24,BIANNUAL:25,ANNUAL:26,DECADAL:27,CENTENNIAL:28,NUM_GRANULARITIES:29};n.Granularity=v;var y=0,b=1,_=2,x=3,w=4,E=5,M=6,T=7,C=[];C[v.MILLISECONDLY]={datefield:M,step:1,spacing:1},C[v.TWO_MILLISECONDLY]={datefield:M,step:2,spacing:2},C[v.FIVE_MILLISECONDLY]={datefield:M,step:5,spacing:5},C[v.TEN_MILLISECONDLY]={datefield:M,step:10,spacing:10},C[v.FIFTY_MILLISECONDLY]={datefield:M,step:50,spacing:50},C[v.HUNDRED_MILLISECONDLY]={datefield:M,step:100,spacing:100},C[v.FIVE_HUNDRED_MILLISECONDLY]={datefield:M,step:500,spacing:500},C[v.SECONDLY]={datefield:E,step:1,spacing:1e3},C[v.TWO_SECONDLY]={datefield:E,step:2,spacing:2e3},C[v.FIVE_SECONDLY]={datefield:E,step:5,spacing:5e3},C[v.TEN_SECONDLY]={datefield:E,step:10,spacing:1e4},C[v.THIRTY_SECONDLY]={datefield:E,step:30,spacing:3e4},C[v.MINUTELY]={datefield:w,step:1,spacing:6e4},C[v.TWO_MINUTELY]={datefield:w,step:2,spacing:12e4},C[v.FIVE_MINUTELY]={datefield:w,step:5,spacing:3e5},C[v.TEN_MINUTELY]={datefield:w,step:10,spacing:6e5},C[v.THIRTY_MINUTELY]={datefield:w,step:30,spacing:18e5},C[v.HOURLY]={datefield:x,step:1,spacing:36e5},C[v.TWO_HOURLY]={datefield:x,step:2,spacing:72e5},C[v.SIX_HOURLY]={datefield:x,step:6,spacing:216e5},C[v.DAILY]={datefield:_,step:1,spacing:864e5},C[v.TWO_DAILY]={datefield:_,step:2,spacing:1728e5},C[v.WEEKLY]={datefield:_,step:7,spacing:6048e5},C[v.MONTHLY]={datefield:b,step:1,spacing:2629817280},C[v.QUARTERLY]={datefield:b,step:3,spacing:216e5*365.2524},C[v.BIANNUAL]={datefield:b,step:6,spacing:432e5*365.2524},C[v.ANNUAL]={datefield:y,step:1,spacing:864e5*365.2524},C[v.DECADAL]={datefield:y,step:10,spacing:315578073600},C[v.CENTENNIAL]={datefield:y,step:100,spacing:3155780736e3};var D=function(){for(var t=[],e=-39;e<=39;e++)for(var n=Math.pow(10,e),i=1;i<=9;i++){var o=n*i;t.push(o)}return t}(),s=function(t,e,n,i){for(var o=i("pixelsPerLabel"),r=0;r<v.NUM_GRANULARITIES;r++)if(n/l(t,e,r)>=o)return r;return-1},l=function(t,e,n){var i=C[n].spacing;return Math.round(1*(e-t)/i)},c=function(t,e,n,i,o){var r=i("axisLabelFormatter"),a=i("labelsUTC")?k.DateAccessorsUTC:k.DateAccessorsLocal,s=C[n].datefield,l=C[n].step,c=C[n].spacing,d=new Date(t),u=[];u[y]=a.getFullYear(d),u[b]=a.getMonth(d),u[_]=a.getDate(d),u[x]=a.getHours(d),u[w]=a.getMinutes(d),u[E]=a.getSeconds(d),u[M]=a.getMilliseconds(d);var h=u[s]%l;n==v.WEEKLY&&(h=a.getDay(d)),u[s]-=h;for(var p=s+1;p<T;p++)u[p]=p===_?1:0;var f=[],m=a.makeDate.apply(null,u),g=m.getTime();if(n<=v.HOURLY)for(g<t&&(g+=c,m=new Date(g));g<=e;)f.push({v:g,label:r.call(o,m,n,i,o)}),g+=c,m=new Date(g);else for(g<t&&(u[s]+=l,g=(m=a.makeDate.apply(null,u)).getTime());g<=e;)(v.DAILY<=n||a.getHours(m)%l==0)&&f.push({v:g,label:r.call(o,m,n,i,o)}),u[s]+=l,g=(m=a.makeDate.apply(null,u)).getTime();return f};n.getDateAxis=c},{"./dygraph-utils":17}],17:[function(t,e,n){"use strict";function i(t){return!t.pageX||t.pageX<0?0:t.pageX}function o(t){return!t.pageY||t.pageY<0?0:t.pageY}function m(t,e){var n=Math.min(Math.max(1,e||2),21);return Math.abs(t)<.001&&0!==t?t.toExponential(n-1):t.toPrecision(n)}function h(t){return t<10?"0"+t:""+t}function p(t,e,n,i){var o=h(t)+":"+h(e);if(n&&(o+=":"+h(n),i)){var r=""+i;o+="."+("000"+r).substring(r.length)}return o}function r(t,e){var n=e?_:b,i=new Date(t),o=n.getFullYear(i),r=n.getMonth(i),a=n.getDate(i),s=n.getHours(i),l=n.getMinutes(i),c=n.getSeconds(i),d=n.getMilliseconds(i),u=""+o+"/"+h(r+1)+"/"+h(a);return 3600*s+60*l+c+.001*d&&(u+=" "+p(s,l,c,d)),u}function g(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n}function a(t){return new Date(t).getTime()}function s(t){var e=typeof t;return("object"==e||"function"==e&&"function"==typeof t.item)&&null!==t&&"number"==typeof t.length&&3!==t.nodeType}function l(t,e,n,i){e=e||0,n=n||t.length,this.hasNext=!0,this.peek=null,this.start_=e,this.array_=t,this.predicate_=i,this.end_=Math.min(t.length,e+n),this.nextIdx_=e-1,this.next()}function v(t,e){return e<0?1/Math.pow(t,-e):Math.pow(t,e)}function c(t){var e=M.exec(t);if(!e)return null;var n=parseInt(e[1],10),i=parseInt(e[2],10),o=parseInt(e[3],10);return e[4]?{r:n,g:i,b:o,a:parseFloat(e[4])}:{r:n,g:i,b:o}}function d(t,e){var n=e("sigFigs");if(null!==n)return m(t,n);var i,o=e("digitsAfterDecimal"),r=e("maxNumberWidth"),a=e("labelsKMB"),s=e("labelsKMG2");if(i=0!==t&&(Math.abs(t)>=Math.pow(10,r)||Math.abs(t)<Math.pow(10,-o))?t.toExponential(o):""+g(t,o),a||s){var l,c=[],d=[];a&&(l=1e3,c=T),s&&(a&&console.warn("Setting both labelsKMB and labelsKMG2. Pick one!"),l=1024,c=C,d=S);for(var u=Math.abs(t),h=v(l,c.length),p=c.length-1;0<=p;p--,h/=l)if(h<=u){i=g(t/h,o)+c[p];break}if(s){var f=String(t.toExponential()).split("e-");2===f.length&&3<=f[1]&&f[1]<=24&&(i=0<f[1]%3?g(f[0]/v(10,f[1]%3),o):Number(f[0]).toFixed(2),i+=d[Math.floor(f[1]/3)-1])}}return i}Object.defineProperty(n,"__esModule",{value:!0}),n.removeEvent=function(t,e,n){t.removeEventListener(e,n,!1)},n.cancelEvent=function(t){return(t=t||window.event).stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,t.cancel=!0,t.returnValue=!1},n.hsvToRGB=function(t,e,n){var i,o,r;if(0===e)r=o=i=n;else{var a=Math.floor(6*t),s=6*t-a,l=n*(1-e),c=n*(1-e*s),d=n*(1-e*(1-s));switch(a){case 1:i=c,o=n,r=l;break;case 2:i=l,o=n,r=d;break;case 3:i=l,o=c,r=n;break;case 4:i=d,o=l,r=n;break;case 5:i=n,o=l,r=c;break;case 6:case 0:i=n,o=d,r=l}}return"rgb("+(i=Math.floor(255*i+.5))+","+(o=Math.floor(255*o+.5))+","+(r=Math.floor(255*r+.5))+")"},n.findPos=function(t){var e=t.getBoundingClientRect(),n=window,i=document.documentElement;return{x:e.left+(n.pageXOffset||i.scrollLeft),y:e.top+(n.pageYOffset||i.scrollTop)}},n.pageX=i,n.pageY=o,n.dragGetX_=function(t,e){return i(t)-e.px},n.dragGetY_=function(t,e){return o(t)-e.py},n.isOK=function(t){return!!t&&!isNaN(t)},n.isValidPoint=function(t,e){return!!t&&null!==t.yval&&null!==t.x&&void 0!==t.x&&null!==t.y&&void 0!==t.y&&!(isNaN(t.x)||!e&&isNaN(t.y))},n.floatFormat=m,n.zeropad=h,n.hmsString_=p,n.dateString_=r,n.round_=g,n.binarySearch=function(t,e,n,i,o){for(var r=!0;r;){var a=t,s=e,l=n,c=i,d=o;if(r=!1,null!=c&&null!=d||(c=0,d=s.length-1),d<c)return-1;null!=l||(l=0);var u,h=function(t){return 0<=t&&t<s.length},p=parseInt((c+d)/2,10),f=s[p];if(f==a)return p;if(a<f){if(0<l&&h(u=p-1)&&s[u]<a)return p;t=a,e=s,n=l,i=c,o=p-1,r=!0,h=p=f=u=void 0}else{if(!(f<a))return-1;if(l<0&&h(u=p+1)&&s[u]>a)return p;t=a,e=s,n=l,i=p+1,o=d,r=!0,h=p=f=u=void 0}}},n.dateParser=function(t){var e,n;if((-1==t.search("-")||-1!=t.search("T")||-1!=t.search("Z"))&&(n=a(t))&&!isNaN(n))return n;if(-1!=t.search("-")){for(e=t.replace("-","/","g");-1!=e.search("-");)e=e.replace("-","/");n=a(e)}else n=8==t.length?a(e=t.substr(0,4)+"/"+t.substr(4,2)+"/"+t.substr(6,2)):a(t);return n&&!isNaN(n)||console.error("Couldn't parse "+t+" as a date"),n},n.dateStrToMillis=a,n.update=function(t,e){if(null!=e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},n.updateDeep=function t(e,n){if(null!=n)for(var i in n)n.hasOwnProperty(i)&&(null===n[i]?e[i]=null:s(n[i])?e[i]=n[i].slice():(o=n[i],("object"==typeof Node?o instanceof Node:"object"==typeof o&&"number"==typeof o.nodeType&&"string"==typeof o.nodeName)||"object"!=typeof n[i]?e[i]=n[i]:("object"==typeof e[i]&&null!==e[i]||(e[i]={}),t(e[i],n[i]))));var o;return e},n.isArrayLike=s,n.isDateLike=function(t){return"object"==typeof t&&null!==t&&"function"==typeof t.getTime},n.clone=function t(e){for(var n=[],i=0;i<e.length;i++)s(e[i])?n.push(t(e[i])):n.push(e[i]);return n},n.createCanvas=function(){return document.createElement("canvas")},n.getContextPixelRatio=function(t){try{var e=window.devicePixelRatio,n=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return void 0!==e?e/n:1}catch(t){return 1}},n.Iterator=l,n.createIterator=function(t,e,n,i){return new l(t,e,n,i)},n.repeatAndCleanup=function(i,t,o,r){var a,s=0,l=(new Date).getTime();if(i(s),1!=t){var c=t-1;!function n(){t<=s||x.call(window,function(){var t=(new Date).getTime()-l;a=s;var e=(s=Math.floor(t/o))-a;c<s+e||c<=s?(i(c),r()):(0!==e&&i(s),n())})}()}else r()},n.isPixelChangingOptionList=function(t,e){var n={};if(t)for(var i=1;i<t.length;i++)n[t[i]]=!0;var o=function(t){for(var e in t)if(t.hasOwnProperty(e)&&!w[e])return!0;return!1};for(var r in e)if(e.hasOwnProperty(r))if("highlightSeriesOpts"==r||n[r]&&!e.series){if(o(e[r]))return!0}else if("series"==r||"axes"==r){var a=e[r];for(var s in a)if(a.hasOwnProperty(s)&&o(a[s]))return!0}else if(!w[r])return!0;return!1},n.detectLineDelimiter=function(t){for(var e=0;e<t.length;e++){var n=t.charAt(e);if("\r"===n)return e+1<t.length&&"\n"===t.charAt(e+1)?"\r\n":n;if("\n"===n)return e+1<t.length&&"\r"===t.charAt(e+1)?"\n\r":n}return null},n.isNodeContainedBy=function(t,e){if(null===e||null===t)return!1;for(var n=t;n&&n!==e;)n=n.parentNode;return n===e},n.pow=v,n.toRGB_=function(t){var e=c(t);if(e)return e;var n=document.createElement("div");n.style.backgroundColor=t,n.style.visibility="hidden",document.body.appendChild(n);var i=window.getComputedStyle(n,null).backgroundColor;return document.body.removeChild(n),c(i)},n.isCanvasSupported=function(t){try{(t||document.createElement("canvas")).getContext("2d")}catch(t){return!1}return!0},n.parseFloat_=function(t,e,n){var i=parseFloat(t);if(!isNaN(i))return i;if(/^ *$/.test(t))return null;if(/^ *nan *$/i.test(t))return NaN;var o="Unable to parse '"+t+"' as a number";return void 0!==n&&void 0!==e&&(o+=" on line "+(1+(e||0))+" ('"+n+"') of CSV."),console.error(o),null},n.numberValueFormatter=d,n.numberAxisLabelFormatter=function(t,e,n){return d.call(this,t,n)},n.dateAxisLabelFormatter=function(t,e,n){var i=n("labelsUTC")?_:b,o=i.getFullYear(t),r=i.getMonth(t),a=i.getDate(t),s=i.getHours(t),l=i.getMinutes(t),c=i.getSeconds(t),d=i.getMilliseconds(t);if(e>=f.Granularity.DECADAL)return""+o;if(e>=f.Granularity.MONTHLY)return A[r]+"&#160;"+o;if(0===3600*s+60*l+c+.001*d||e>=f.Granularity.DAILY)return h(a)+"&#160;"+A[r];if(e<f.Granularity.SECONDLY){var u=""+d;return h(c)+"."+("000"+u).substring(u.length)}return e>f.Granularity.MINUTELY?p(s,l,c,0):p(s,l,c,d)},n.dateValueFormatter=function(t,e){return r(t,e("labelsUTC"))};var f=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("./dygraph-tickers"));n.LOG_SCALE=10;var u=Math.log(10);n.LN_TEN=u;var y=function(t){return Math.log(t)/u};n.log10=y;n.logRangeFraction=function(t,e,n){var i=y(t),o=i+n*(y(e)-i);return Math.pow(10,o)};n.DOTTED_LINE=[2,2];n.DASHED_LINE=[7,3];n.DOT_DASH_LINE=[7,2,2,2],n.HORIZONTAL=1,n.VERTICAL=2;n.getContext=function(t){return t.getContext("2d")};n.addEvent=function(t,e,n){t.addEventListener(e,n,!1)};var b={getFullYear:function(t){return t.getFullYear()},getMonth:function(t){return t.getMonth()},getDate:function(t){return t.getDate()},getHours:function(t){return t.getHours()},getMinutes:function(t){return t.getMinutes()},getSeconds:function(t){return t.getSeconds()},getMilliseconds:function(t){return t.getMilliseconds()},getDay:function(t){return t.getDay()},makeDate:function(t,e,n,i,o,r,a){return new Date(t,e,n,i,o,r,a)}};n.DateAccessorsLocal=b;var _={getFullYear:function(t){return t.getUTCFullYear()},getMonth:function(t){return t.getUTCMonth()},getDate:function(t){return t.getUTCDate()},getHours:function(t){return t.getUTCHours()},getMinutes:function(t){return t.getUTCMinutes()},getSeconds:function(t){return t.getUTCSeconds()},getMilliseconds:function(t){return t.getUTCMilliseconds()},getDay:function(t){return t.getUTCDay()},makeDate:function(t,e,n,i,o,r,a){return new Date(Date.UTC(t,e,n,i,o,r,a))}};n.DateAccessorsUTC=_,l.prototype.next=function(){if(!this.hasNext)return null;for(var t=this.peek,e=this.nextIdx_+1,n=!1;e<this.end_;){if(!this.predicate_||this.predicate_(this.array_,e)){this.peek=this.array_[e],n=!0;break}e++}return this.nextIdx_=e,n||(this.hasNext=!1,this.peek=null),t};var x=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};n.requestAnimFrame=x;var w={annotationClickHandler:!0,annotationDblClickHandler:!0,annotationMouseOutHandler:!0,annotationMouseOverHandler:!0,axisLineColor:!0,axisLineWidth:!0,clickCallback:!0,drawCallback:!0,drawHighlightPointCallback:!0,drawPoints:!0,drawPointCallback:!0,drawGrid:!0,fillAlpha:!0,gridLineColor:!0,gridLineWidth:!0,hideOverlayOnMouseOut:!0,highlightCallback:!0,highlightCircleSize:!0,interactionModel:!0,labelsDiv:!0,labelsKMB:!0,labelsKMG2:!0,labelsSeparateLines:!0,labelsShowZeroValues:!0,legend:!0,panEdgeFraction:!0,pixelsPerYLabel:!0,pointClickCallback:!0,pointSize:!0,rangeSelectorPlotFillColor:!0,rangeSelectorPlotFillGradientColor:!0,rangeSelectorPlotStrokeColor:!0,rangeSelectorBackgroundStrokeColor:!0,rangeSelectorBackgroundLineWidth:!0,rangeSelectorPlotLineWidth:!0,rangeSelectorForegroundStrokeColor:!0,rangeSelectorForegroundLineWidth:!0,rangeSelectorAlpha:!0,showLabelsOnHighlight:!0,showRoller:!0,strokeWidth:!0,underlayCallback:!0,unhighlightCallback:!0,zoomCallback:!0},E={DEFAULT:function(t,e,n,i,o,r,a){n.beginPath(),n.fillStyle=r,n.arc(i,o,a,0,2*Math.PI,!1),n.fill()}};n.Circles=E;var M=/^rgba?\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})(?:,\s*([01](?:\.\d+)?))?\)$/,T=["K","M","B","T","Q"],C=["k","M","G","T","P","E","Z","Y"],S=["m","u","n","p","f","a","z","y"],A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},{"./dygraph-tickers":16}],18:[function(T,C,S){(function(t){"use strict";function e(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(S,"__esModule",{value:!0});var f=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){o=!0,r=t}finally{try{!i&&s.return&&s.return()}finally{if(o)throw r}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=n(T("./dygraph-layout")),r=n(T("./dygraph-canvas")),p=n(T("./dygraph-options")),i=n(T("./dygraph-interaction-model")),b=e(T("./dygraph-tickers")),L=e(T("./dygraph-utils")),m=n(T("./dygraph-default-attrs")),a=n((n(T("./dygraph-options-reference")),T("./iframe-tarp"))),s=n(T("./datahandler/default")),l=n(T("./datahandler/bars-error")),c=n(T("./datahandler/bars-custom")),d=n(T("./datahandler/default-fractions")),u=n(T("./datahandler/bars-fractions")),h=n(T("./datahandler/bars")),g=n(T("./plugins/annotations")),v=n(T("./plugins/axes")),y=n(T("./plugins/chart-labels")),_=n(T("./plugins/grid")),x=n(T("./plugins/legend")),w=n(T("./plugins/range-selector")),E=n(T("./dygraph-gviz")),M=function(t,e,n){this.__init__(t,e,n)};M.NAME="Dygraph",M.VERSION="2.0.0",M.DEFAULT_ROLL_PERIOD=1,M.DEFAULT_WIDTH=480,M.DEFAULT_HEIGHT=320,M.ANIMATION_STEPS=12,M.ANIMATION_DURATION=200,M.Plotters=r.default._Plotters,M.addedAnnotationCSS=!1,M.prototype.__init__=function(t,e,n){if(this.is_initial_draw_=!0,this.readyFns_=[],null!=n||(n={}),n=M.copyUserAttrs_(n),"string"==typeof t&&(t=document.getElementById(t)),!t)throw new Error("Constructing dygraph with a non-existent div!");this.maindiv_=t,this.file_=e,this.rollPeriod_=n.rollPeriod||M.DEFAULT_ROLL_PERIOD,this.previousVerticalX_=-1,this.fractions_=n.fractions||!1,this.dateWindow_=n.dateWindow||null,this.annotations_=[],(t.innerHTML="")===t.style.width&&n.width&&(t.style.width=n.width+"px"),""===t.style.height&&n.height&&(t.style.height=n.height+"px"),""===t.style.height&&0===t.clientHeight&&(t.style.height=M.DEFAULT_HEIGHT+"px",""===t.style.width&&(t.style.width=M.DEFAULT_WIDTH+"px")),this.width_=t.clientWidth||n.width||0,this.height_=t.clientHeight||n.height||0,n.stackedGraph&&(n.fillGraph=!0),this.user_attrs_={},L.update(this.user_attrs_,n),this.attrs_={},L.updateDeep(this.attrs_,m.default),this.boundaryIds_=[],this.setIndexByName_={},this.datasetIndex_=[],this.registeredEvents_=[],this.eventListeners_={},this.attributes_=new p.default(this),this.createInterface_(),this.plugins_=[];for(var i=M.PLUGINS.concat(this.getOption("plugins")),o=0;o<i.length;o++){var r,a=i[o],s={plugin:r=void 0!==a.activate?a:new a,events:{},options:{},pluginOptions:{}},l=r.activate(this);for(var c in l)l.hasOwnProperty(c)&&(s.events[c]=l[c]);this.plugins_.push(s)}for(o=0;o<this.plugins_.length;o++){var d=this.plugins_[o];for(var c in d.events)if(d.events.hasOwnProperty(c)){var u=d.events[c],h=[d.plugin,u];c in this.eventListeners_?this.eventListeners_[c].push(h):this.eventListeners_[c]=[h]}}this.createDragInterface_(),this.start_()},M.prototype.cascadeEvents_=function(t,e){if(!(t in this.eventListeners_))return!1;var n={dygraph:this,cancelable:!1,defaultPrevented:!1,preventDefault:function(){if(!n.cancelable)throw"Cannot call preventDefault on non-cancelable event.";n.defaultPrevented=!0},propagationStopped:!1,stopPropagation:function(){n.propagationStopped=!0}};L.update(n,e);var i=this.eventListeners_[t];if(i)for(var o=i.length-1;0<=o;o--){var r=i[o][0];if(i[o][1].call(r,n),n.propagationStopped)break}return n.defaultPrevented},M.prototype.getPluginInstance_=function(t){for(var e=0;e<this.plugins_.length;e++){var n=this.plugins_[e];if(n.plugin instanceof t)return n.plugin}return null},M.prototype.isZoomed=function(t){var e=!!this.dateWindow_;if("x"===t)return e;var n=0<=this.axes_.map(function(t){return!!t.valueRange}).indexOf(!0);if(null==t)return e||n;if("y"===t)return n;throw new Error("axis parameter is ["+t+"] must be null, 'x' or 'y'.")},M.prototype.toString=function(){var t=this.maindiv_;return"[Dygraph "+(t&&t.id?t.id:t)+"]"},M.prototype.attr_=function(t,e){return e?this.attributes_.getForSeries(t,e):this.attributes_.get(t)},M.prototype.getOption=function(t,e){return this.attr_(t,e)},M.prototype.getNumericOption=function(t,e){return this.getOption(t,e)},M.prototype.getStringOption=function(t,e){return this.getOption(t,e)},M.prototype.getBooleanOption=function(t,e){return this.getOption(t,e)},M.prototype.getFunctionOption=function(t,e){return this.getOption(t,e)},M.prototype.getOptionForAxis=function(t,e){return this.attributes_.getForAxis(t,e)},M.prototype.optionsViewForAxis_=function(n){var i=this;return function(t){var e=i.user_attrs_.axes;return e&&e[n]&&e[n].hasOwnProperty(t)?e[n][t]:("x"!==n||"logscale"!==t)&&(void 0!==i.user_attrs_[t]?i.user_attrs_[t]:(e=i.attrs_.axes)&&e[n]&&e[n].hasOwnProperty(t)?e[n][t]:"y"==n&&i.axes_[0].hasOwnProperty(t)?i.axes_[0][t]:"y2"==n&&i.axes_[1].hasOwnProperty(t)?i.axes_[1][t]:i.attr_(t))}},M.prototype.rollPeriod=function(){return this.rollPeriod_},M.prototype.xAxisRange=function(){return this.dateWindow_?this.dateWindow_:this.xAxisExtremes()},M.prototype.xAxisExtremes=function(){var t=this.getNumericOption("xRangePad")/this.plotter_.area.w;if(0===this.numRows())return[0-t,1+t];var e=this.rawData_[0][0],n=this.rawData_[this.rawData_.length-1][0];if(t){var i=n-e;e-=i*t,n+=i*t}return[e,n]},M.prototype.yAxisExtremes=function(){var t=this.gatherDatasets_(this.rolledSeries_,null).extremes,e=this.axes_;this.computeYAxisRanges_(t);var n=this.axes_;return this.axes_=e,n.map(function(t){return t.extremeRange})},M.prototype.yAxisRange=function(t){if(void 0===t&&(t=0),t<0||t>=this.axes_.length)return null;var e=this.axes_[t];return[e.computedValueRange[0],e.computedValueRange[1]]},M.prototype.yAxisRanges=function(){for(var t=[],e=0;e<this.axes_.length;e++)t.push(this.yAxisRange(e));return t},M.prototype.toDomCoords=function(t,e,n){return[this.toDomXCoord(t),this.toDomYCoord(e,n)]},M.prototype.toDomXCoord=function(t){if(null===t)return null;var e=this.plotter_.area,n=this.xAxisRange();return e.x+(t-n[0])/(n[1]-n[0])*e.w},M.prototype.toDomYCoord=function(t,e){var n=this.toPercentYCoord(t,e);if(null===n)return null;var i=this.plotter_.area;return i.y+n*i.h},M.prototype.toDataCoords=function(t,e,n){return[this.toDataXCoord(t),this.toDataYCoord(e,n)]},M.prototype.toDataXCoord=function(t){if(null===t)return null;var e=this.plotter_.area,n=this.xAxisRange();if(this.attributes_.getForAxis("logscale","x")){var i=(t-e.x)/e.w;return L.logRangeFraction(n[0],n[1],i)}return n[0]+(t-e.x)/e.w*(n[1]-n[0])},M.prototype.toDataYCoord=function(t,e){if(null===t)return null;var n=this.plotter_.area,i=this.yAxisRange(e);if(void 0===e&&(e=0),this.attributes_.getForAxis("logscale",e)){var o=(t-n.y)/n.h;return L.logRangeFraction(i[1],i[0],o)}return i[0]+(n.y+n.h-t)/n.h*(i[1]-i[0])},M.prototype.toPercentYCoord=function(t,e){if(null===t)return null;void 0===e&&(e=0);var n,i=this.yAxisRange(e);if(this.attributes_.getForAxis("logscale",e)){var o=L.log10(i[0]),r=L.log10(i[1]);n=(r-L.log10(t))/(r-o)}else n=(i[1]-t)/(i[1]-i[0]);return n},M.prototype.toPercentXCoord=function(t){if(null===t)return null;var e,n=this.xAxisRange();if(!0===this.attributes_.getForAxis("logscale","x")){var i=L.log10(n[0]),o=L.log10(n[1]);e=(L.log10(t)-i)/(o-i)}else e=(t-n[0])/(n[1]-n[0]);return e},M.prototype.numColumns=function(){return this.rawData_?this.rawData_[0]?this.rawData_[0].length:this.attr_("labels").length:0},M.prototype.numRows=function(){return this.rawData_?this.rawData_.length:0},M.prototype.getValue=function(t,e){return t<0||t>this.rawData_.length?null:e<0||e>this.rawData_[t].length?null:this.rawData_[t][e]},M.prototype.createInterface_=function(){var t=this.maindiv_;this.graphDiv=document.createElement("div"),this.graphDiv.style.textAlign="left",this.graphDiv.style.position="relative",t.appendChild(this.graphDiv),this.canvas_=L.createCanvas(),this.canvas_.style.position="absolute",this.hidden_=this.createPlotKitCanvas_(this.canvas_),this.canvas_ctx_=L.getContext(this.canvas_),this.hidden_ctx_=L.getContext(this.hidden_),this.resizeElements_(),this.graphDiv.appendChild(this.hidden_),this.graphDiv.appendChild(this.canvas_),this.mouseEventElement_=this.createMouseEventElement_(),this.layout_=new o.default(this);var i=this;this.mouseMoveHandler_=function(t){i.mouseMove_(t)},this.mouseOutHandler_=function(t){var e=t.target||t.fromElement,n=t.relatedTarget||t.toElement;L.isNodeContainedBy(e,i.graphDiv)&&!L.isNodeContainedBy(n,i.graphDiv)&&i.mouseOut_(t)},this.addAndTrackEvent(window,"mouseout",this.mouseOutHandler_),this.addAndTrackEvent(this.mouseEventElement_,"mousemove",this.mouseMoveHandler_),this.resizeHandler_||(this.resizeHandler_=function(t){i.resize()},this.addAndTrackEvent(window,"resize",this.resizeHandler_))},M.prototype.resizeElements_=function(){this.graphDiv.style.width=this.width_+"px",this.graphDiv.style.height=this.height_+"px";var t=this.getNumericOption("pixelRatio"),e=t||L.getContextPixelRatio(this.canvas_ctx_);this.canvas_.width=this.width_*e,this.canvas_.height=this.height_*e,this.canvas_.style.width=this.width_+"px",this.canvas_.style.height=this.height_+"px",1!==e&&this.canvas_ctx_.scale(e,e);var n=t||L.getContextPixelRatio(this.hidden_ctx_);this.hidden_.width=this.width_*n,this.hidden_.height=this.height_*n,this.hidden_.style.width=this.width_+"px",this.hidden_.style.height=this.height_+"px",1!==n&&this.hidden_ctx_.scale(n,n)},M.prototype.destroy=function(){this.canvas_ctx_.restore(),this.hidden_ctx_.restore();for(var t=this.plugins_.length-1;0<=t;t--){var e=this.plugins_.pop();e.plugin.destroy&&e.plugin.destroy()}this.removeTrackedEvents_(),L.removeEvent(window,"mouseout",this.mouseOutHandler_),L.removeEvent(this.mouseEventElement_,"mousemove",this.mouseMoveHandler_),L.removeEvent(window,"resize",this.resizeHandler_),this.resizeHandler_=null,function t(e){for(;e.hasChildNodes();)t(e.firstChild),e.removeChild(e.firstChild)}(this.maindiv_);var n=function(t){for(var e in t)"object"==typeof t[e]&&(t[e]=null)};n(this.layout_),n(this.plotter_),n(this)},M.prototype.createPlotKitCanvas_=function(t){var e=L.createCanvas();return e.style.position="absolute",e.style.top=t.style.top,e.style.left=t.style.left,e.width=this.width_,e.height=this.height_,e.style.width=this.width_+"px",e.style.height=this.height_+"px",e},M.prototype.createMouseEventElement_=function(){return this.canvas_},M.prototype.setColors_=function(){var t=this.getLabels(),e=t.length-1;this.colors_=[],this.colorsMap_={};for(var n=this.getNumericOption("colorSaturation")||1,i=this.getNumericOption("colorValue")||.5,o=Math.ceil(e/2),r=this.getOption("colors"),a=this.visibility(),s=0;s<e;s++)if(a[s]){var l=t[s+1],c=this.attributes_.getForSeries("color",l);if(!c)if(r)c=r[s%r.length];else{var d=1*(s%2?o+(s+1)/2:Math.ceil((s+1)/2))/(1+e);c=L.hsvToRGB(d,n,i)}this.colors_.push(c),this.colorsMap_[l]=c}},M.prototype.getColors=function(){return this.colors_},M.prototype.getPropertiesForSeries=function(t){for(var e=-1,n=this.getLabels(),i=1;i<n.length;i++)if(n[i]==t){e=i;break}return-1==e?null:{name:t,column:e,visible:this.visibility()[e-1],color:this.colorsMap_[t],axis:1+this.attributes_.axisForSeries(t)}},M.prototype.createRollInterface_=function(){var t=this,e=this.roller_;e||(this.roller_=e=document.createElement("input"),e.type="text",e.style.display="none",e.className="dygraph-roller",this.graphDiv.appendChild(e));var n=this.getBooleanOption("showRoller")?"block":"none",i=this.getArea(),o={top:i.y+i.h-25+"px",left:i.x+1+"px",display:n};e.size="2",e.value=this.rollPeriod_,L.update(e.style,o),e.onchange=function(){return t.adjustRoll(e.value)}},M.prototype.createDragInterface_=function(){var n={isZooming:!1,isPanning:!1,is2DPan:!1,dragStartX:null,dragStartY:null,dragEndX:null,dragEndY:null,dragDirection:null,prevEndX:null,prevEndY:null,prevDragDirection:null,cancelNextDblclick:!1,initialLeftmostDate:null,xUnitsPerPixel:null,dateRange:null,px:0,py:0,boundedDates:null,boundedValues:null,tarp:new a.default,initializeMouseDown:function(t,e,n){t.preventDefault?t.preventDefault():(t.returnValue=!1,t.cancelBubble=!0);var i=L.findPos(e.canvas_);n.px=i.x,n.py=i.y,n.dragStartX=L.dragGetX_(t,n),n.dragStartY=L.dragGetY_(t,n),n.cancelNextDblclick=!1,n.tarp.cover()},destroy:function(){var t=this;if((t.isZooming||t.isPanning)&&(t.isZooming=!1,t.dragStartX=null,t.dragStartY=null),t.isPanning){t.isPanning=!1,t.draggingDate=null,t.dateRange=null;for(var e=0;e<i.axes_.length;e++)delete i.axes_[e].draggingValue,delete i.axes_[e].dragValueRange}t.tarp.uncover()}},t=this.getOption("interactionModel"),i=this;for(var e in t)t.hasOwnProperty(e)&&this.addAndTrackEvent(this.mouseEventElement_,e,function(e){return function(t){e(t,i,n)}}(t[e]));if(!t.willDestroyContextMyself){this.addAndTrackEvent(document,"mouseup",function(t){n.destroy()})}},M.prototype.drawZoomRect_=function(t,e,n,i,o,r,a,s){var l=this.canvas_ctx_;r==L.HORIZONTAL?l.clearRect(Math.min(e,a),this.layout_.getPlotArea().y,Math.abs(e-a),this.layout_.getPlotArea().h):r==L.VERTICAL&&l.clearRect(this.layout_.getPlotArea().x,Math.min(i,s),this.layout_.getPlotArea().w,Math.abs(i-s)),t==L.HORIZONTAL?n&&e&&(l.fillStyle="rgba(128,128,128,0.33)",l.fillRect(Math.min(e,n),this.layout_.getPlotArea().y,Math.abs(n-e),this.layout_.getPlotArea().h)):t==L.VERTICAL&&o&&i&&(l.fillStyle="rgba(128,128,128,0.33)",l.fillRect(this.layout_.getPlotArea().x,Math.min(i,o),this.layout_.getPlotArea().w,Math.abs(o-i)))},M.prototype.clearZoomRect_=function(){this.currentZoomRectArgs_=null,this.canvas_ctx_.clearRect(0,0,this.width_,this.height_)},M.prototype.doZoomX_=function(t,e){this.currentZoomRectArgs_=null;var n=this.toDataXCoord(t),i=this.toDataXCoord(e);this.doZoomXDates_(n,i)},M.prototype.doZoomXDates_=function(t,e){var n=this,i=this.xAxisRange(),o=[t,e],r=this.getFunctionOption("zoomCallback");this.doAnimatedZoom(i,o,null,null,function(){r&&r.call(n,t,e,n.yAxisRanges())})},M.prototype.doZoomY_=function(t,e){var o=this;this.currentZoomRectArgs_=null;for(var n=this.yAxisRanges(),i=[],r=0;r<this.axes_.length;r++){var a=this.toDataYCoord(t,r),s=this.toDataYCoord(e,r);i.push([s,a])}var l=this.getFunctionOption("zoomCallback");this.doAnimatedZoom(null,null,n,i,function(){if(l){var t=o.xAxisRange(),e=f(t,2),n=e[0],i=e[1];l.call(o,n,i,o.yAxisRanges())}})},M.zoomAnimationFunction=function(t,e){return(1-Math.pow(1.5,-t))/(1-Math.pow(1.5,-e))},M.prototype.resetZoom=function(){var t=this,e=this.isZoomed("x"),n=this.isZoomed("y"),i=e||n;if(this.clearSelection(),i){var o=this.xAxisExtremes(),r=f(o,2),a=r[0],s=r[1],l=this.getBooleanOption("animatedZooms"),c=this.getFunctionOption("zoomCallback");if(!l)return this.dateWindow_=null,this.axes_.forEach(function(t){t.valueRange&&delete t.valueRange}),this.drawGraph_(),void(c&&c.call(this,a,s,this.yAxisRanges()));var d=null,u=null,h=null,p=null;e&&(d=this.xAxisRange(),u=[a,s]),n&&(h=this.yAxisRanges(),p=this.yAxisExtremes()),this.doAnimatedZoom(d,u,h,p,function(){t.dateWindow_=null,t.axes_.forEach(function(t){t.valueRange&&delete t.valueRange}),c&&c.call(t,a,s,t.yAxisRanges())})}},M.prototype.doAnimatedZoom=function(t,e,n,i,o){var r,a,s=this,l=this.getBooleanOption("animatedZooms")?M.ANIMATION_STEPS:1,c=[],d=[];if(null!==t&&null!==e)for(r=1;r<=l;r++)a=M.zoomAnimationFunction(r,l),c[r-1]=[t[0]*(1-a)+a*e[0],t[1]*(1-a)+a*e[1]];if(null!==n&&null!==i)for(r=1;r<=l;r++){a=M.zoomAnimationFunction(r,l);for(var u=[],h=0;h<this.axes_.length;h++)u.push([n[h][0]*(1-a)+a*i[h][0],n[h][1]*(1-a)+a*i[h][1]]);d[r-1]=u}L.repeatAndCleanup(function(t){if(d.length)for(var e=0;e<s.axes_.length;e++){var n=d[t][e];s.axes_[e].valueRange=[n[0],n[1]]}c.length&&(s.dateWindow_=c[t]),s.drawGraph_()},l,M.ANIMATION_DURATION/l,o)},M.prototype.getArea=function(){return this.plotter_.area},M.prototype.eventToDomCoords=function(t){if(t.offsetX&&t.offsetY)return[t.offsetX,t.offsetY];var e=L.findPos(this.mouseEventElement_);return[L.pageX(t)-e.x,L.pageY(t)-e.y]},M.prototype.findClosestRow=function(t){for(var e=1/0,n=-1,i=this.layout_.points,o=0;o<i.length;o++)for(var r=i[o],a=r.length,s=0;s<a;s++){var l=r[s];if(L.isValidPoint(l,!0)){var c=Math.abs(l.canvasx-t);c<e&&(e=c,n=l.idx)}}return n},M.prototype.findClosestPoint=function(t,e){for(var n,i,o,r,a,s,l,c=1/0,d=this.layout_.points.length-1;0<=d;--d)for(var u=this.layout_.points[d],h=0;h<u.length;++h)r=u[h],L.isValidPoint(r)&&((n=(i=r.canvasx-t)*i+(o=r.canvasy-e)*o)<c&&(c=n,s=d,l=(a=r).idx));return{row:l,seriesName:this.layout_.setNames[s],point:a}},M.prototype.findStackedPoint=function(t,e){for(var n,i,o=this.findClosestRow(t),r=0;r<this.layout_.points.length;++r){var a=o-this.getLeftBoundary_(r),s=this.layout_.points[r];if(!(a>=s.length)){var l=s[a];if(L.isValidPoint(l)){var c=l.canvasy;if(t>l.canvasx&&a+1<s.length){var d=s[a+1];if(L.isValidPoint(d))if(0<(u=d.canvasx-l.canvasx))c+=(t-l.canvasx)/u*(d.canvasy-l.canvasy)}else if(t<l.canvasx&&0<a){var u,h=s[a-1];if(L.isValidPoint(h))if(0<(u=l.canvasx-h.canvasx))c+=(l.canvasx-t)/u*(h.canvasy-l.canvasy)}(0===r||c<e)&&(n=l,i=r)}}}return{row:o,seriesName:this.layout_.setNames[i],point:n}},M.prototype.mouseMove_=function(t){var e=this.layout_.points;if(null!=e){var n=this.eventToDomCoords(t),i=n[0],o=n[1],r=!1;if(this.getOption("highlightSeriesOpts")&&!this.isSeriesLocked()){var a;a=this.getBooleanOption("stackedGraph")?this.findStackedPoint(i,o):this.findClosestPoint(i,o),r=this.setSelection(a.row,a.seriesName)}else{var s=this.findClosestRow(i);r=this.setSelection(s)}var l=this.getFunctionOption("highlightCallback");l&&r&&l.call(this,t,this.lastx_,this.selPoints_,this.lastRow_,this.highlightSet_)}},M.prototype.getLeftBoundary_=function(t){if(this.boundaryIds_[t])return this.boundaryIds_[t][0];for(var e=0;e<this.boundaryIds_.length;e++)if(void 0!==this.boundaryIds_[e])return this.boundaryIds_[e][0];return 0},M.prototype.animateSelection_=function(e){void 0===this.fadeLevel&&(this.fadeLevel=0),void 0===this.animateId&&(this.animateId=0);var t=this.fadeLevel,n=e<0?t:10-t;if(n<=0)this.fadeLevel&&this.updateSelection_(1);else{var i=++this.animateId,o=this;L.repeatAndCleanup(function(t){o.animateId==i&&(o.fadeLevel+=e,0===o.fadeLevel?o.clearSelection():o.updateSelection_(o.fadeLevel/10))},n,30,function(){0!==o.fadeLevel&&e<0&&(o.fadeLevel=0,o.clearSelection())})}},M.prototype.updateSelection_=function(t){this.cascadeEvents_("select",{selectedRow:-1===this.lastRow_?void 0:this.lastRow_,selectedX:-1===this.lastx_?void 0:this.lastx_,selectedPoints:this.selPoints_});var e,n=this.canvas_ctx_;if(this.getOption("highlightSeriesOpts")){n.clearRect(0,0,this.width_,this.height_);var i=1-this.getNumericOption("highlightSeriesBackgroundAlpha"),o=L.toRGB_(this.getOption("highlightSeriesBackgroundColor"));if(i){if(void 0===t)return void this.animateSelection_(1);i*=t,n.fillStyle="rgba("+o.r+","+o.g+","+o.b+","+i+")",n.fillRect(0,0,this.width_,this.height_)}this.plotter_._renderLineChart(this.highlightSet_,n)}else if(0<=this.previousVerticalX_){var r=0,a=this.attr_("labels");for(e=1;e<a.length;e++){var s=this.getNumericOption("highlightCircleSize",a[e]);r<s&&(r=s)}var l=this.previousVerticalX_;n.clearRect(l-r-1,0,2*r+2,this.height_)}if(0<this.selPoints_.length){var c=this.selPoints_[0].canvasx;for(n.save(),e=0;e<this.selPoints_.length;e++){var d=this.selPoints_[e];if(!isNaN(d.canvasy)){var u=this.getNumericOption("highlightCircleSize",d.name),h=this.getFunctionOption("drawHighlightPointCallback",d.name),p=this.plotter_.colors[d.name];h||(h=L.Circles.DEFAULT),n.lineWidth=this.getNumericOption("strokeWidth",d.name),n.strokeStyle=p,n.fillStyle=p,h.call(this,this,d.name,n,c,d.canvasy,p,u,d.idx)}}n.restore(),this.previousVerticalX_=c}},M.prototype.setSelection=function(t,e,n){var i=!(this.selPoints_=[]);if(!1!==t&&0<=t){t!=this.lastRow_&&(i=!0),this.lastRow_=t;for(var o=0;o<this.layout_.points.length;++o){var r=this.layout_.points[o],a=t-this.getLeftBoundary_(o);if(0<=a&&a<r.length&&r[a].idx==t)null!==(l=r[a]).yval&&this.selPoints_.push(l);else for(var s=0;s<r.length;++s){var l;if((l=r[s]).idx==t){null!==l.yval&&this.selPoints_.push(l);break}}}}else 0<=this.lastRow_&&(i=!0),this.lastRow_=-1;return this.selPoints_.length?this.lastx_=this.selPoints_[0].xval:this.lastx_=-1,void 0!==e&&(this.highlightSet_!==e&&(i=!0),this.highlightSet_=e),void 0!==n&&(this.lockedSet_=n),i&&this.updateSelection_(void 0),i},M.prototype.mouseOut_=function(t){this.getFunctionOption("unhighlightCallback")&&this.getFunctionOption("unhighlightCallback").call(this,t),this.getBooleanOption("hideOverlayOnMouseOut")&&!this.lockedSet_&&this.clearSelection()},M.prototype.clearSelection=function(){this.cascadeEvents_("deselect",{}),this.lockedSet_=!1,this.fadeLevel?this.animateSelection_(-1):(this.canvas_ctx_.clearRect(0,0,this.width_,this.height_),this.fadeLevel=0,this.selPoints_=[],this.lastx_=-1,this.lastRow_=-1,this.highlightSet_=null)},M.prototype.getSelection=function(){if(!this.selPoints_||this.selPoints_.length<1)return-1;for(var t=0;t<this.layout_.points.length;t++)for(var e=this.layout_.points[t],n=0;n<e.length;n++)if(e[n].x==this.selPoints_[0].x)return e[n].idx;return-1},M.prototype.getHighlightSeries=function(){return this.highlightSet_},M.prototype.isSeriesLocked=function(){return this.lockedSet_},M.prototype.loadedEvent_=function(t){this.rawData_=this.parseCSV_(t),this.cascadeDataDidUpdateEvent_(),this.predraw_()},M.prototype.addXTicks_=function(){var t;t=this.dateWindow_?[this.dateWindow_[0],this.dateWindow_[1]]:this.xAxisExtremes();var e=this.optionsViewForAxis_("x"),n=e("ticker")(t[0],t[1],this.plotter_.area.w,e,this);this.layout_.setXTicks(n)},M.prototype.getHandlerClass_=function(){return this.attr_("dataHandler")?this.attr_("dataHandler"):this.fractions_?this.getBooleanOption("errorBars")?u.default:d.default:this.getBooleanOption("customBars")?c.default:this.getBooleanOption("errorBars")?l.default:s.default},M.prototype.predraw_=function(){var t=new Date;this.dataHandler_=new(this.getHandlerClass_()),this.layout_.computePlotArea(),this.computeYAxes_(),this.is_initial_draw_||(this.canvas_ctx_.restore(),this.hidden_ctx_.restore()),this.canvas_ctx_.save(),this.hidden_ctx_.save(),this.plotter_=new r.default(this,this.hidden_,this.hidden_ctx_,this.layout_),this.createRollInterface_(),this.cascadeEvents_("predraw"),this.rolledSeries_=[null];for(var e=1;e<this.numColumns();e++){var n=this.dataHandler_.extractSeries(this.rawData_,e,this.attributes_);1<this.rollPeriod_&&(n=this.dataHandler_.rollingAverage(n,this.rollPeriod_,this.attributes_)),this.rolledSeries_.push(n)}this.drawGraph_();var i=new Date;this.drawingTimeMs_=i-t},M.PointType=void 0,M.stackPoints_=function(n,t,e,i){for(var o=null,r=null,a=null,s=-1,l=0;l<n.length;++l){var c=n[l],d=c.xval;void 0===t[d]&&(t[d]=0);var u=c.yval;isNaN(u)||null===u?u="none"==i?0:(function(t){if(!(l<=s))for(var e=l;e<n.length;++e)if(a=null,!isNaN(n[e].yval)&&null!==n[e].yval){a=n[s=e];break}}(),r&&a&&"none"!=i?r.yval+(a.yval-r.yval)*((d-r.xval)/(a.xval-r.xval)):r&&"all"==i?r.yval:a&&"all"==i?a.yval:0):r=c;var h=t[d];o!=d&&(h+=u,t[d]=h),o=d,(c.yval_stacked=h)>e[1]&&(e[1]=h),h<e[0]&&(e[0]=h)}},M.prototype.gatherDatasets_=function(t,e){var n,i,o,r,a,s,l=[],c=[],d=[],u={};for(n=t.length-1;1<=n;n--)if(this.visibility()[n-1]){if(e){s=t[n];var h=e[0],p=e[1];for(r=o=null,i=0;i<s.length;i++)s[i][0]>=h&&null===o&&(o=i),s[i][0]<=p&&(r=i);null===o&&(o=0);for(var f=o,m=!0;m&&0<f;)m=null===s[--f][1];null===r&&(r=s.length-1);var g=r;for(m=!0;m&&g<s.length-1;)m=null===s[++g][1];f!==o&&(o=f),g!==r&&(r=g),l[n-1]=[o,r],s=s.slice(o,r+1)}else s=t[n],l[n-1]=[0,s.length-1];var v=this.attr_("labels")[n],y=this.dataHandler_.getExtremeYValues(s,e,this.getBooleanOption("stepPlot",v)),b=this.dataHandler_.seriesToPoints(s,v,l[n-1][0]);this.getBooleanOption("stackedGraph")&&(void 0===d[a=this.attributes_.axisForSeries(v)]&&(d[a]=[]),M.stackPoints_(b,d[a],y,this.getBooleanOption("stackedGraphNaNFill"))),u[v]=y,c[n]=b}return{points:c,extremes:u,boundaryIds:l}},M.prototype.drawGraph_=function(){var t=new Date,e=this.is_initial_draw_;this.is_initial_draw_=!1,this.layout_.removeAllDatasets(),this.setColors_(),this.attrs_.pointSize=.5*this.getNumericOption("highlightCircleSize");var n=this.gatherDatasets_(this.rolledSeries_,this.dateWindow_),i=n.points,o=n.extremes;this.boundaryIds_=n.boundaryIds,this.setIndexByName_={};for(var r=this.attr_("labels"),a=0,s=1;s<i.length;s++)this.visibility()[s-1]&&(this.layout_.addDataset(r[s],i[s]),this.datasetIndex_[s]=a++);for(s=0;s<r.length;s++)this.setIndexByName_[r[s]]=s;if(this.computeYAxisRanges_(o),this.layout_.setYAxes(this.axes_),this.addXTicks_(),this.layout_.evaluate(),this.renderGraph_(e),this.getStringOption("timingName")){var l=new Date;console.log(this.getStringOption("timingName")+" - drawGraph: "+(l-t)+"ms")}},M.prototype.renderGraph_=function(t){this.cascadeEvents_("clearChart"),this.plotter_.clear();var e=this.getFunctionOption("underlayCallback");e&&e.call(this,this.hidden_ctx_,this.layout_.getPlotArea(),this,this);var n={canvas:this.hidden_,drawingContext:this.hidden_ctx_};this.cascadeEvents_("willDrawChart",n),this.plotter_.render(),this.cascadeEvents_("didDrawChart",n),this.lastRow_=-1,this.canvas_.getContext("2d").clearRect(0,0,this.width_,this.height_);var i=this.getFunctionOption("drawCallback");if(null!==i&&i.call(this,this,t),t)for(this.readyFired_=!0;0<this.readyFns_.length;){this.readyFns_.pop()(this)}},M.prototype.computeYAxes_=function(){var t,e,n;for(this.axes_=[],t=0;t<this.attributes_.numAxes();t++)e={g:this},L.update(e,this.attributes_.axisOptions(t)),this.axes_[t]=e;for(t=0;t<this.axes_.length;t++)if(0===t)(n=(e=this.optionsViewForAxis_("y"+(t?"2":"")))("valueRange"))&&(this.axes_[t].valueRange=n);else{var i=this.user_attrs_.axes;i&&i.y2&&(n=i.y2.valueRange)&&(this.axes_[t].valueRange=n)}},M.prototype.numAxes=function(){return this.attributes_.numAxes()},M.prototype.axisPropertiesForSeries=function(t){return this.axes_[this.attributes_.axisForSeries(t)]},M.prototype.computeYAxisRanges_=function(t){for(var e,n,i,o,r,a=function(t){return isNaN(parseFloat(t))},s=this.attributes_.numAxes(),l=0;l<s;l++){var c=this.axes_[l],d=this.attributes_.getForAxis("logscale",l),u=this.attributes_.getForAxis("includeZero",l),h=this.attributes_.getForAxis("independentTicks",l);i=this.attributes_.seriesForAxis(l),e=!0,o=.1;var p=this.getNumericOption("yRangePad");if(null!==p&&(e=!1,o=p/this.plotter_.area.h),0===i.length)c.extremeRange=[0,1];else{for(var f,m,g=1/0,v=-1/0,y=0;y<i.length;y++)t.hasOwnProperty(i[y])&&(null!==(f=t[i[y]][0])&&(g=Math.min(f,g)),null!==(m=t[i[y]][1])&&(v=Math.max(m,v)));u&&!d&&(0<g&&(g=0),v<0&&(v=0)),g==1/0&&(g=0),v==-1/0&&(v=1),0===(n=v-g)&&(n=0!==v?Math.abs(v):v=1);var b=v,_=g;e&&(d?(b=v+o*n,_=g):((_=g-o*n)<0&&0<=g&&(_=0),0<(b=v+o*n)&&v<=0&&(b=0))),c.extremeRange=[_,b]}if(c.valueRange){var x=a(c.valueRange[0])?c.extremeRange[0]:c.valueRange[0],w=a(c.valueRange[1])?c.extremeRange[1]:c.valueRange[1];c.computedValueRange=[x,w]}else c.computedValueRange=c.extremeRange;if(!e)if(d){x=c.computedValueRange[0],w=c.computedValueRange[1];var E=o/(2*o-1),M=(o-1)/(2*o-1);c.computedValueRange[0]=L.logRangeFraction(x,w,E),c.computedValueRange[1]=L.logRangeFraction(x,w,M)}else x=c.computedValueRange[0],n=(w=c.computedValueRange[1])-x,c.computedValueRange[0]=x-n*o,c.computedValueRange[1]=w+n*o;if(h){c.independentTicks=h;var T=(C=this.optionsViewForAxis_("y"+(l?"2":"")))("ticker");c.ticks=T(c.computedValueRange[0],c.computedValueRange[1],this.plotter_.area.h,C,this),r||(r=c)}}if(void 0===r)throw'Configuration Error: At least one axis has to have the "independentTicks" option activated.';for(l=0;l<s;l++){if(!(c=this.axes_[l]).independentTicks){T=(C=this.optionsViewForAxis_("y"+(l?"2":"")))("ticker");for(var C,S=r.ticks,A=r.computedValueRange[1]-r.computedValueRange[0],k=c.computedValueRange[1]-c.computedValueRange[0],D=[],O=0;O<S.length;O++){var P=(S[O].v-r.computedValueRange[0])/A,N=c.computedValueRange[0]+P*k;D.push(N)}c.ticks=T(c.computedValueRange[0],c.computedValueRange[1],this.plotter_.area.h,C,this,D)}}},M.prototype.detectTypeFromString_=function(t){var e=!1,n=t.indexOf("-");0<n&&"e"!=t[n-1]&&"E"!=t[n-1]||0<=t.indexOf("/")||isNaN(parseFloat(t))?e=!0:8==t.length&&"19700101"<t&&t<"20371231"&&(e=!0),this.setXAxisOptions_(e)},M.prototype.setXAxisOptions_=function(t){this.attrs_.axes.x.axisLabelFormatter=t?(this.attrs_.xValueParser=L.dateParser,this.attrs_.axes.x.valueFormatter=L.dateValueFormatter,this.attrs_.axes.x.ticker=b.dateTicker,L.dateAxisLabelFormatter):(this.attrs_.xValueParser=function(t){return parseFloat(t)},this.attrs_.axes.x.valueFormatter=function(t){return t},this.attrs_.axes.x.ticker=b.numericTicks,this.attrs_.axes.x.valueFormatter)},M.prototype.parseCSV_=function(t){var e,n,i=[],o=L.detectLineDelimiter(t),r=t.split(o||"\n"),a=this.getStringOption("delimiter");-1==r[0].indexOf(a)&&0<=r[0].indexOf("\t")&&(a="\t");var s=0;"labels"in this.user_attrs_||(s=1,this.attrs_.labels=r[0].split(a),this.attributes_.reparseSeries());for(var l,c=!1,d=this.attr_("labels").length,u=!1,h=s;h<r.length;h++){var p=r[h];if(0!==p.length&&"#"!=p[0]){var f=p.split(a);if(!(f.length<2)){var m=[];if(c||(this.detectTypeFromString_(f[0]),l=this.getFunctionOption("xValueParser"),c=!0),m[0]=l(f[0],this),this.fractions_)for(n=1;n<f.length;n++)2!=(e=f[n].split("/")).length?(console.error('Expected fractional "num/den" values in CSV data but found a value \''+f[n]+"' on line "+(1+h)+" ('"+p+"') which is not of this form."),m[n]=[0,0]):m[n]=[L.parseFloat_(e[0],h,p),L.parseFloat_(e[1],h,p)];else if(this.getBooleanOption("errorBars"))for(f.length%2!=1&&console.error("Expected alternating (value, stdev.) pairs in CSV data but line "+(1+h)+" has an odd number of values ("+(f.length-1)+"): '"+p+"'"),n=1;n<f.length;n+=2)m[(n+1)/2]=[L.parseFloat_(f[n],h,p),L.parseFloat_(f[n+1],h,p)];else if(this.getBooleanOption("customBars"))for(n=1;n<f.length;n++){var g=f[n];/^ *$/.test(g)?m[n]=[null,null,null]:3==(e=g.split(";")).length?m[n]=[L.parseFloat_(e[0],h,p),L.parseFloat_(e[1],h,p),L.parseFloat_(e[2],h,p)]:console.warn('When using customBars, values must be either blank or "low;center;high" tuples (got "'+g+'" on line '+(1+h))}else for(n=1;n<f.length;n++)m[n]=L.parseFloat_(f[n],h,p);if(0<i.length&&m[0]<i[i.length-1][0]&&(u=!0),m.length!=d&&console.error("Number of columns in line "+h+" ("+m.length+") does not agree with number of labels ("+d+") "+p),0===h&&this.attr_("labels")){var v=!0;for(n=0;v&&n<m.length;n++)m[n]&&(v=!1);if(v){console.warn("The dygraphs 'labels' option is set, but the first row of CSV data ('"+p+"') appears to also contain labels. Will drop the CSV labels and use the option labels.");continue}}i.push(m)}}}return u&&(console.warn("CSV is out of order; order it correctly to speed loading."),i.sort(function(t,e){return t[0]-e[0]})),i},M.prototype.parseArray_=function(t){if(0===t.length)return console.error("Can't plot empty data set"),null;if(0===t[0].length)return console.error("Data set cannot contain an empty row"),null;var e;if(function(t){var e=t[0],n=e[0];if("number"!=typeof n&&!L.isDateLike(n))throw new Error("Expected number or date but got "+typeof n+": "+n+".");for(var i=1;i<e.length;i++){var o=e[i];if(null!=o&&"number"!=typeof o&&!L.isArrayLike(o))throw new Error("Expected number or array but got "+typeof o+": "+o+".")}}(t),null===this.attr_("labels")){for(console.warn("Using default labels. Set labels explicitly via 'labels' in the options parameter"),this.attrs_.labels=["X"],e=1;e<t[0].length;e++)this.attrs_.labels.push("Y"+e);this.attributes_.reparseSeries()}else{var n=this.attr_("labels");if(n.length!=t[0].length)return console.error("Mismatch between number of labels ("+n+") and number of columns in array ("+t[0].length+")"),null}if(L.isDateLike(t[0][0])){this.attrs_.axes.x.valueFormatter=L.dateValueFormatter,this.attrs_.axes.x.ticker=b.dateTicker,this.attrs_.axes.x.axisLabelFormatter=L.dateAxisLabelFormatter;var i=L.clone(t);for(e=0;e<t.length;e++){if(0===i[e].length)return console.error("Row "+(1+e)+" of data is empty"),null;if(null===i[e][0]||"function"!=typeof i[e][0].getTime||isNaN(i[e][0].getTime()))return console.error("x value in row "+(1+e)+" is not a Date"),null;i[e][0]=i[e][0].getTime()}return i}return this.attrs_.axes.x.valueFormatter=function(t){return t},this.attrs_.axes.x.ticker=b.numericTicks,this.attrs_.axes.x.axisLabelFormatter=L.numberAxisLabelFormatter,t},M.prototype.parseDataTable_=function(t){var e=t.getNumberOfColumns(),n=t.getNumberOfRows(),i=t.getColumnType(0);if("date"==i||"datetime"==i)this.attrs_.xValueParser=L.dateParser,this.attrs_.axes.x.valueFormatter=L.dateValueFormatter,this.attrs_.axes.x.ticker=b.dateTicker,this.attrs_.axes.x.axisLabelFormatter=L.dateAxisLabelFormatter;else{if("number"!=i)throw new Error("only 'date', 'datetime' and 'number' types are supported for column 1 of DataTable input (Got '"+i+"')");this.attrs_.xValueParser=function(t){return parseFloat(t)},this.attrs_.axes.x.valueFormatter=function(t){return t},this.attrs_.axes.x.ticker=b.numericTicks,this.attrs_.axes.x.axisLabelFormatter=this.attrs_.axes.x.valueFormatter}var o,r,a=[],s={},l=!1;for(o=1;o<e;o++){var c=t.getColumnType(o);if("number"==c)a.push(o);else{if("string"!=c||!this.getBooleanOption("displayAnnotations"))throw new Error("Only 'number' is supported as a dependent type with Gviz. 'string' is only supported if displayAnnotations is true");var d=a[a.length-1];s.hasOwnProperty(d)?s[d].push(o):s[d]=[o],l=!0}}var u=[t.getColumnLabel(0)];for(o=0;o<a.length;o++)u.push(t.getColumnLabel(a[o])),this.getBooleanOption("errorBars")&&(o+=1);e=(this.attrs_.labels=u).length;var h=[],p=!1,f=[];for(o=0;o<n;o++){var m=[];if(void 0!==t.getValue(o,0)&&null!==t.getValue(o,0)){if("date"==i||"datetime"==i?m.push(t.getValue(o,0).getTime()):m.push(t.getValue(o,0)),this.getBooleanOption("errorBars"))for(r=0;r<e-1;r++)m.push([t.getValue(o,1+2*r),t.getValue(o,2+2*r)]);else{for(r=0;r<a.length;r++){var g=a[r];if(m.push(t.getValue(o,g)),l&&s.hasOwnProperty(g)&&null!==t.getValue(o,s[g][0])){var v={};v.series=t.getColumnLabel(g),v.xval=m[0],v.shortText=function(t){var e=String.fromCharCode(65+t%26);for(t=Math.floor(t/26);0<t;)e=String.fromCharCode(65+(t-1)%26)+e.toLowerCase(),t=Math.floor((t-1)/26);return e}(f.length),v.text="";for(var y=0;y<s[g].length;y++)y&&(v.text+="\n"),v.text+=t.getValue(o,s[g][y]);f.push(v)}}for(r=0;r<m.length;r++)isFinite(m[r])||(m[r]=null)}0<h.length&&m[0]<h[h.length-1][0]&&(p=!0),h.push(m)}else console.warn("Ignoring row "+o+" of DataTable because of undefined or null first column.")}p&&(console.warn("DataTable is out of order; order it correctly to speed loading."),h.sort(function(t,e){return t[0]-e[0]})),this.rawData_=h,0<f.length&&this.setAnnotations(f,!0),this.attributes_.reparseSeries()},M.prototype.cascadeDataDidUpdateEvent_=function(){this.cascadeEvents_("dataDidUpdate",{})},M.prototype.start_=function(){var t=this.file_;if("function"==typeof t&&(t=t()),L.isArrayLike(t))this.rawData_=this.parseArray_(t),this.cascadeDataDidUpdateEvent_(),this.predraw_();else if("object"==typeof t&&"function"==typeof t.getColumnRange)this.parseDataTable_(t),this.cascadeDataDidUpdateEvent_(),this.predraw_();else if("string"==typeof t){if(L.detectLineDelimiter(t))this.loadedEvent_(t);else{var e;e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");var n=this;e.onreadystatechange=function(){4==e.readyState&&(200!==e.status&&0!==e.status||n.loadedEvent_(e.responseText))},e.open("GET",t,!0),e.send(null)}}else console.error("Unknown data format: "+typeof t)},M.prototype.updateOptions=function(t,e){void 0===e&&(e=!1);var n=t.file,i=M.copyUserAttrs_(t);"rollPeriod"in i&&(this.rollPeriod_=i.rollPeriod),"dateWindow"in i&&(this.dateWindow_=i.dateWindow);var o=L.isPixelChangingOptionList(this.attr_("labels"),i);L.updateDeep(this.user_attrs_,i),this.attributes_.reparseSeries(),n?(this.cascadeEvents_("dataWillUpdate",{}),this.file_=n,e||this.start_()):e||(o?this.predraw_():this.renderGraph_(!1))},M.copyUserAttrs_=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&"file"!=n&&t.hasOwnProperty(n)&&(e[n]=t[n]);return e},M.prototype.resize=function(t,e){if(!this.resize_lock){this.resize_lock=!0,null===t!=(null===e)&&(console.warn("Dygraph.resize() should be called with zero parameters or two non-NULL parameters. Pretending it was zero."),t=e=null);var n=this.width_,i=this.height_;this.height_=t?(this.maindiv_.style.width=t+"px",this.maindiv_.style.height=e+"px",this.width_=t,e):(this.width_=this.maindiv_.clientWidth,this.maindiv_.clientHeight),n==this.width_&&i==this.height_||(this.resizeElements_(),this.predraw_()),this.resize_lock=!1}},M.prototype.adjustRoll=function(t){this.rollPeriod_=t,this.predraw_()},M.prototype.visibility=function(){for(this.getOption("visibility")||(this.attrs_.visibility=[]);this.getOption("visibility").length<this.numColumns()-1;)this.attrs_.visibility.push(!0);return this.getOption("visibility")},M.prototype.setVisibility=function(t,e){var n=this.visibility(),i=!1;if(Array.isArray(t)||(null!==t&&"object"==typeof t?i=!0:t=[t]),i)for(var o in t)t.hasOwnProperty(o)&&(o<0||o>=n.length?console.warn("Invalid series number in setVisibility: "+o):n[o]=t[o]);else for(o=0;o<t.length;o++)"boolean"==typeof t[o]?o>=n.length?console.warn("Invalid series number in setVisibility: "+o):n[o]=t[o]:t[o]<0||t[o]>=n.length?console.warn("Invalid series number in setVisibility: "+t[o]):n[t[o]]=e;this.predraw_()},M.prototype.size=function(){return{width:this.width_,height:this.height_}},M.prototype.setAnnotations=function(t,e){this.annotations_=t,this.layout_?(this.layout_.setAnnotations(this.annotations_),e||this.predraw_()):console.warn("Tried to setAnnotations before dygraph was ready. Try setting them in a ready() block. See dygraphs.com/tests/annotation.html")},M.prototype.annotations=function(){return this.annotations_},M.prototype.getLabels=function(){var t=this.attr_("labels");return t?t.slice():null},M.prototype.indexFromSetName=function(t){return this.setIndexByName_[t]},M.prototype.getRowForX=function(t){for(var e=0,n=this.numRows()-1;e<=n;){var i=n+e>>1,o=this.getValue(i,0);if(o<t)e=i+1;else if(t<o)n=i-1;else{if(e==i)return i;n=i}}return null},M.prototype.ready=function(t){this.is_initial_draw_?this.readyFns_.push(t):t.call(this,this)},M.prototype.addAndTrackEvent=function(t,e,n){L.addEvent(t,e,n),this.registeredEvents_.push({elem:t,type:e,fn:n})},M.prototype.removeTrackedEvents_=function(){if(this.registeredEvents_)for(var t=0;t<this.registeredEvents_.length;t++){var e=this.registeredEvents_[t];L.removeEvent(e.elem,e.type,e.fn)}this.registeredEvents_=[]},M.PLUGINS=[x.default,v.default,w.default,y.default,g.default,_.default],M.GVizChart=E.default,M.DASHED_LINE=L.DASHED_LINE,M.DOT_DASH_LINE=L.DOT_DASH_LINE,M.dateAxisLabelFormatter=L.dateAxisLabelFormatter,M.toRGB_=L.toRGB_,M.findPos=L.findPos,M.pageX=L.pageX,M.pageY=L.pageY,M.dateString_=L.dateString_,M.defaultInteractionModel=i.default.defaultModel,M.nonInteractiveModel=M.nonInteractiveModel_=i.default.nonInteractiveModel_,M.Circles=L.Circles,M.Plugins={Legend:x.default,Axes:v.default,Annotations:g.default,ChartLabels:y.default,Grid:_.default,RangeSelector:w.default},M.DataHandlers={DefaultHandler:s.default,BarsHandler:h.default,CustomBarsHandler:c.default,DefaultFractionHandler:d.default,ErrorBarsHandler:l.default,FractionsBarsHandler:u.default},M.startPan=i.default.startPan,M.startZoom=i.default.startZoom,M.movePan=i.default.movePan,M.moveZoom=i.default.moveZoom,M.endPan=i.default.endPan,M.endZoom=i.default.endZoom,M.numericLinearTicks=b.numericLinearTicks,M.numericTicks=b.numericTicks,M.dateTicker=b.dateTicker,M.Granularity=b.Granularity,M.getDateAxis=b.getDateAxis,M.floatFormat=L.floatFormat,S.default=M,C.exports=S.default}).call(this,T("_process"))},{"./datahandler/bars":5,"./datahandler/bars-custom":2,"./datahandler/bars-error":3,"./datahandler/bars-fractions":4,"./datahandler/default":8,"./datahandler/default-fractions":7,"./dygraph-canvas":9,"./dygraph-default-attrs":10,"./dygraph-gviz":11,"./dygraph-interaction-model":12,"./dygraph-layout":13,"./dygraph-options":15,"./dygraph-options-reference":14,"./dygraph-tickers":16,"./dygraph-utils":17,"./iframe-tarp":19,"./plugins/annotations":20,"./plugins/axes":21,"./plugins/chart-labels":22,"./plugins/grid":23,"./plugins/legend":24,"./plugins/range-selector":25,_process:1}],19:[function(t,e,n){"use strict";function i(){this.tarps=[]}Object.defineProperty(n,"__esModule",{value:!0});var c=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("./dygraph-utils"));i.prototype.cover=function(){for(var t=document.getElementsByTagName("iframe"),e=0;e<t.length;e++){var n=t[e],i=c.findPos(n),o=i.x,r=i.y,a=n.offsetWidth,s=n.offsetHeight,l=document.createElement("div");l.style.position="absolute",l.style.left=o+"px",l.style.top=r+"px",l.style.width=a+"px",l.style.height=s+"px",l.style.zIndex=999,document.body.appendChild(l),this.tarps.push(l)}},i.prototype.uncover=function(){for(var t=0;t<this.tarps.length;t++)this.tarps[t].parentNode.removeChild(this.tarps[t]);this.tarps=[]},n.default=i,e.exports=n.default},{"./dygraph-utils":17}],20:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){this.annotations_=[]};i.prototype.toString=function(){return"Annotations Plugin"},i.prototype.activate=function(t){return{clearChart:this.clearChart,didDrawChart:this.didDrawChart}},i.prototype.detachLabels=function(){for(var t=0;t<this.annotations_.length;t++){var e=this.annotations_[t];e.parentNode&&e.parentNode.removeChild(e),this.annotations_[t]=null}this.annotations_=[]},i.prototype.clearChart=function(t){this.detachLabels()},i.prototype.didDrawChart=function(t){var r=t.dygraph,e=r.layout_.annotated_points;if(e&&0!==e.length)for(var n=t.canvas.parentNode,i=function(n,i,o){return function(t){var e=o.annotation;e.hasOwnProperty(n)?e[n](e,o,r,t):r.getOption(i)&&r.getOption(i)(e,o,r,t)}},o=t.dygraph.getArea(),a={},s=0;s<e.length;s++){var l=e[s];if(!(l.canvasx<o.x||l.canvasx>o.x+o.w||l.canvasy<o.y||l.canvasy>o.y+o.h)){var c=l.annotation,d=6;c.hasOwnProperty("tickHeight")&&(d=c.tickHeight);var u=document.createElement("div");u.style.fontSize=r.getOption("axisLabelFontSize")+"px";var h="dygraph-annotation";c.hasOwnProperty("icon")||(h+=" dygraphDefaultAnnotation dygraph-default-annotation"),c.hasOwnProperty("cssClass")&&(h+=" "+c.cssClass),u.className=h;var p=c.hasOwnProperty("width")?c.width:16,f=c.hasOwnProperty("height")?c.height:16;if(c.hasOwnProperty("icon")){var m=document.createElement("img");m.src=c.icon,m.width=p,m.height=f,u.appendChild(m)}else l.annotation.hasOwnProperty("shortText")&&u.appendChild(document.createTextNode(l.annotation.shortText));var g=l.canvasx-p/2;u.style.left=g+"px";var v=0;if(c.attachAtBottom){var y=o.y+o.h-f-d;a[g]?y-=a[g]:a[g]=0,a[g]+=d+f,v=y}else v=l.canvasy-f-d;u.style.top=v+"px",u.style.width=p+"px",u.style.height=f+"px",u.title=l.annotation.text,u.style.color=r.colorsMap_[l.name],u.style.borderColor=r.colorsMap_[l.name],c.div=u,r.addAndTrackEvent(u,"click",i("clickHandler","annotationClickHandler",l)),r.addAndTrackEvent(u,"mouseover",i("mouseOverHandler","annotationMouseOverHandler",l)),r.addAndTrackEvent(u,"mouseout",i("mouseOutHandler","annotationMouseOutHandler",l)),r.addAndTrackEvent(u,"dblclick",i("dblClickHandler","annotationDblClickHandler",l)),n.appendChild(u),this.annotations_.push(u);var b=t.drawingContext;if(b.save(),b.strokeStyle=c.hasOwnProperty("tickColor")?c.tickColor:r.colorsMap_[l.name],b.lineWidth=c.hasOwnProperty("tickWidth")?c.tickWidth:r.getOption("strokeWidth"),b.beginPath(),c.attachAtBottom){y=v+f;b.moveTo(l.canvasx,y),b.lineTo(l.canvasx,y+d)}else b.moveTo(l.canvasx,l.canvasy),b.lineTo(l.canvasx,l.canvasy-2-d);b.closePath(),b.stroke(),b.restore()}}},i.prototype.destroy=function(){this.detachLabels()},n.default=i,e.exports=n.default},{}],21:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var C=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("../dygraph-utils")),i=function(){this.xlabels_=[],this.ylabels_=[]};i.prototype.toString=function(){return"Axes Plugin"},i.prototype.activate=function(t){return{layout:this.layout,clearChart:this.clearChart,willDrawChart:this.willDrawChart}},i.prototype.layout=function(t){var e,n=t.dygraph;if(n.getOptionForAxis("drawAxis","y")){var i=n.getOptionForAxis("axisLabelWidth","y")+2*n.getOptionForAxis("axisTickSize","y");t.reserveSpaceLeft(i)}n.getOptionForAxis("drawAxis","x")&&(e=n.getOption("xAxisHeight")?n.getOption("xAxisHeight"):n.getOptionForAxis("axisLabelFontSize","x")+2*n.getOptionForAxis("axisTickSize","x"),t.reserveSpaceBottom(e));if(2==n.numAxes()){if(n.getOptionForAxis("drawAxis","y2")){i=n.getOptionForAxis("axisLabelWidth","y2")+2*n.getOptionForAxis("axisTickSize","y2");t.reserveSpaceRight(i)}}else 2<n.numAxes()&&n.error("Only two y-axes are supported at this time. (Trying to use "+n.numAxes()+")")},i.prototype.detachLabels=function(){function t(t){for(var e=0;e<t.length;e++){var n=t[e];n.parentNode&&n.parentNode.removeChild(n)}}t(this.xlabels_),t(this.ylabels_),this.xlabels_=[],this.ylabels_=[]},i.prototype.clearChart=function(t){this.detachLabels()},i.prototype.willDrawChart=function(t){function e(t){return Math.round(t)+.5}function n(t){return Math.round(t)-.5}var r=this,i=t.dygraph;if(i.getOptionForAxis("drawAxis","x")||i.getOptionForAxis("drawAxis","y")||i.getOptionForAxis("drawAxis","y2")){var a,s,l,o=t.drawingContext,c=t.canvas.parentNode,d=i.width_,u=i.height_,h=function(t){return{position:"absolute",fontSize:i.getOptionForAxis("axisLabelFontSize",t)+"px",width:i.getOptionForAxis("axisLabelWidth",t)+"px"}},p={x:h("x"),y:h("y"),y2:h("y2")},f=function(t,e,n){var i=document.createElement("div"),o=p["y2"==n?"y2":e];C.update(i.style,o);var r=document.createElement("div");return r.className="dygraph-axis-label dygraph-axis-label-"+e+(n?" dygraph-axis-label-"+n:""),r.innerHTML=t,i.appendChild(r),i};o.save();var m=i.layout_,g=t.dygraph.plotter_.area,v=function(e){return function(t){return i.getOptionForAxis(t,e)}};if(i.getOptionForAxis("drawAxis","y")){if(m.yticks&&0<m.yticks.length){var y=i.numAxes(),b=[v("y"),v("y2")];m.yticks.forEach(function(t){if(void 0!==t.label){s=g.x;var e="y1",n=b[0];1==t.axis&&(s=g.x+g.w,e="y2",n=b[1]);var i=n("axisLabelFontSize");l=g.y+t.pos*g.h,a=f(t.label,"y",2==y?e:null);var o=l-i/2;o<0&&(o=0),u<o+i+3?a.style.bottom="0":a.style.top=o+"px",0===t.axis?(a.style.left=g.x-n("axisLabelWidth")-n("axisTickSize")+"px",a.style.textAlign="right"):1==t.axis&&(a.style.left=g.x+g.w+n("axisTickSize")+"px",a.style.textAlign="left"),a.style.width=n("axisLabelWidth")+"px",c.appendChild(a),r.ylabels_.push(a)}});var _=this.ylabels_[0],x=i.getOptionForAxis("axisLabelFontSize","y");parseInt(_.style.top,10)+x>u-x&&(_.style.top=parseInt(_.style.top,10)-x/2+"px")}var w;if(i.getOption("drawAxesAtZero"))(1<(T=i.toPercentXCoord(0))||T<0||isNaN(T))&&(T=0),w=e(g.x+T*g.w);else w=e(g.x);o.strokeStyle=i.getOptionForAxis("axisLineColor","y"),o.lineWidth=i.getOptionForAxis("axisLineWidth","y"),o.beginPath(),o.moveTo(w,n(g.y)),o.lineTo(w,n(g.y+g.h)),o.closePath(),o.stroke(),2==i.numAxes()&&(o.strokeStyle=i.getOptionForAxis("axisLineColor","y2"),o.lineWidth=i.getOptionForAxis("axisLineWidth","y2"),o.beginPath(),o.moveTo(n(g.x+g.w),n(g.y)),o.lineTo(n(g.x+g.w),n(g.y+g.h)),o.closePath(),o.stroke())}if(i.getOptionForAxis("drawAxis","x")){if(m.xticks){var E=v("x");m.xticks.forEach(function(t){if(void 0!==t.label){s=g.x+t.pos*g.w,l=g.y+g.h,(a=f(t.label,"x")).style.textAlign="center",a.style.top=l+E("axisTickSize")+"px";var e=s-E("axisLabelWidth")/2;e+E("axisLabelWidth")>d&&(e=d-E("axisLabelWidth"),a.style.textAlign="right"),e<0&&(e=0,a.style.textAlign="left"),a.style.left=e+"px",a.style.width=E("axisLabelWidth")+"px",c.appendChild(a),r.xlabels_.push(a)}})}var M,T;if(o.strokeStyle=i.getOptionForAxis("axisLineColor","x"),o.lineWidth=i.getOptionForAxis("axisLineWidth","x"),o.beginPath(),i.getOption("drawAxesAtZero"))(1<(T=i.toPercentYCoord(0,0))||T<0)&&(T=1),M=n(g.y+T*g.h);else M=n(g.y+g.h);o.moveTo(e(g.x),M),o.lineTo(e(g.x+g.w),M),o.closePath(),o.stroke()}o.restore()}},n.default=i,e.exports=n.default},{"../dygraph-utils":17}],22:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){this.title_div_=null,this.xlabel_div_=null,this.ylabel_div_=null,this.y2label_div_=null};i.prototype.toString=function(){return"ChartLabels Plugin"},i.prototype.activate=function(t){return{layout:this.layout,didDrawChart:this.didDrawChart}};var l=function(t){var e=document.createElement("div");return e.style.position="absolute",e.style.left=t.x+"px",e.style.top=t.y+"px",e.style.width=t.w+"px",e.style.height=t.h+"px",e};i.prototype.detachLabels_=function(){for(var t=[this.title_div_,this.xlabel_div_,this.ylabel_div_,this.y2label_div_],e=0;e<t.length;e++){var n=t[e];n&&n.parentNode&&n.parentNode.removeChild(n)}this.title_div_=null,this.xlabel_div_=null,this.ylabel_div_=null,this.y2label_div_=null};var c=function(t,e,n,i,o){var r=document.createElement("div");r.style.position="absolute",r.style.left=1==n?"0px":e.x+"px",r.style.top=e.y+"px",r.style.width=e.w+"px",r.style.height=e.h+"px",r.style.fontSize=t.getOption("yLabelWidth")-2+"px";var a=document.createElement("div");a.style.position="absolute",a.style.width=e.h+"px",a.style.height=e.w+"px",a.style.top=e.h/2-e.w/2+"px",a.style.left=e.w/2-e.h/2+"px",a.className="dygraph-label-rotate-"+(1==n?"right":"left");var s=document.createElement("div");return s.className=i,s.innerHTML=o,a.appendChild(s),r.appendChild(a),r};i.prototype.layout=function(t){this.detachLabels_();var e=t.dygraph,n=t.chart_div;if(e.getOption("title")){var i=t.reserveSpaceTop(e.getOption("titleHeight"));this.title_div_=l(i),this.title_div_.style.fontSize=e.getOption("titleHeight")-8+"px",(o=document.createElement("div")).className="dygraph-label dygraph-title",o.innerHTML=e.getOption("title"),this.title_div_.appendChild(o),n.appendChild(this.title_div_)}if(e.getOption("xlabel")){var o,r=t.reserveSpaceBottom(e.getOption("xLabelHeight"));this.xlabel_div_=l(r),this.xlabel_div_.style.fontSize=e.getOption("xLabelHeight")-2+"px",(o=document.createElement("div")).className="dygraph-label dygraph-xlabel",o.innerHTML=e.getOption("xlabel"),this.xlabel_div_.appendChild(o),n.appendChild(this.xlabel_div_)}if(e.getOption("ylabel")){var a=t.reserveSpaceLeft(0);this.ylabel_div_=c(e,a,1,"dygraph-label dygraph-ylabel",e.getOption("ylabel")),n.appendChild(this.ylabel_div_)}if(e.getOption("y2label")&&2==e.numAxes()){var s=t.reserveSpaceRight(0);this.y2label_div_=c(e,s,2,"dygraph-label dygraph-y2label",e.getOption("y2label")),n.appendChild(this.y2label_div_)}},i.prototype.didDrawChart=function(t){var e=t.dygraph;this.title_div_&&(this.title_div_.children[0].innerHTML=e.getOption("title")),this.xlabel_div_&&(this.xlabel_div_.children[0].innerHTML=e.getOption("xlabel")),this.ylabel_div_&&(this.ylabel_div_.children[0].children[0].innerHTML=e.getOption("ylabel")),this.y2label_div_&&(this.y2label_div_.children[0].children[0].innerHTML=e.getOption("y2label"))},i.prototype.clearChart=function(){},i.prototype.destroy=function(){this.detachLabels_()},n.default=i,e.exports=n.default},{}],23:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){};i.prototype.toString=function(){return"Gridline Plugin"},i.prototype.activate=function(t){return{willDrawChart:this.willDrawChart}},i.prototype.willDrawChart=function(t){function n(t){return Math.round(t)+.5}function i(t){return Math.round(t)-.5}var o,r,e,a=t.dygraph,s=t.drawingContext,l=a.layout_,c=t.dygraph.plotter_.area;if(a.getOptionForAxis("drawGrid","y")){for(var d=["y","y2"],u=[],h=[],p=[],f=[],m=[],g=0;g<d.length;g++)p[g]=a.getOptionForAxis("drawGrid",d[g]),p[g]&&(u[g]=a.getOptionForAxis("gridLineColor",d[g]),h[g]=a.getOptionForAxis("gridLineWidth",d[g]),m[g]=a.getOptionForAxis("gridLinePattern",d[g]),f[g]=m[g]&&2<=m[g].length);e=l.yticks,s.save(),e.forEach(function(t){if(t.has_tick){var e=t.axis;p[e]&&(s.save(),f[e]&&s.setLineDash&&s.setLineDash(m[e]),s.strokeStyle=u[e],s.lineWidth=h[e],o=n(c.x),r=i(c.y+t.pos*c.h),s.beginPath(),s.moveTo(o,r),s.lineTo(o+c.w,r),s.stroke(),s.restore())}}),s.restore()}if(a.getOptionForAxis("drawGrid","x")){e=l.xticks,s.save();m=a.getOptionForAxis("gridLinePattern","x");(f=m&&2<=m.length)&&s.setLineDash&&s.setLineDash(m),s.strokeStyle=a.getOptionForAxis("gridLineColor","x"),s.lineWidth=a.getOptionForAxis("gridLineWidth","x"),e.forEach(function(t){t.has_tick&&(o=n(c.x+t.pos*c.w),r=i(c.y+c.h),s.beginPath(),s.moveTo(o,r),s.lineTo(o,c.y),s.closePath(),s.stroke())}),f&&s.setLineDash&&s.setLineDash([]),s.restore()}},i.prototype.destroy=function(){},n.default=i,e.exports=n.default},{}],24:[function(t,e,n){"use strict";function x(t,e,n){if(!t||t.length<=1)return'<div class="dygraph-legend-line" style="border-bottom-color: '+e+';"></div>';var i,o,r,a,s=0,l=0,c=[];for(i=0;i<=t.length;i++)s+=t[i%t.length];if(1<(a=Math.floor(n/(s-t[0])))){for(i=0;i<t.length;i++)c[i]=t[i]/n;l=c.length}else{for(a=1,i=0;i<t.length;i++)c[i]=t[i]/s;l=c.length+1}var d="";for(o=0;o<a;o++)for(i=0;i<l;i+=2)r=c[i%c.length],d+='<div class="dygraph-legend-dash" style="margin-right: '+(i<t.length?c[(i+1)%c.length]:0)+"em; padding-left: "+r+'em;"></div>';return d}Object.defineProperty(n,"__esModule",{value:!0});var w=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("../dygraph-utils")),E=function(){this.legend_div_=null,this.is_generated_div_=!1};E.prototype.toString=function(){return"Legend Plugin"},E.prototype.activate=function(t){var e,n=t.getOption("labelsDiv");return n&&null!==n?e="string"==typeof n||n instanceof String?document.getElementById(n):n:((e=document.createElement("div")).className="dygraph-legend",t.graphDiv.appendChild(e),this.is_generated_div_=!0),this.legend_div_=e,this.one_em_width_=10,{select:this.select,deselect:this.deselect,predraw:this.predraw,didDrawChart:this.didDrawChart}};E.prototype.select=function(t){var e=t.selectedX,n=t.selectedPoints,i=t.selectedRow,o=t.dygraph.getOption("legend");if("never"!==o){if("follow"===o){var r=t.dygraph.plotter_.area,a=this.legend_div_.offsetWidth,s=t.dygraph.getOptionForAxis("axisLabelWidth","y"),l=n[0].x*r.w+50,c=n[0].y*r.h-50;l+a+1>r.w&&(l=l-100-a-(s-r.x)),t.dygraph.graphDiv.appendChild(this.legend_div_),this.legend_div_.style.left=s+l+"px",this.legend_div_.style.top=c+"px"}var d=E.generateLegendHTML(t.dygraph,e,n,this.one_em_width_,i);this.legend_div_.innerHTML=d,this.legend_div_.style.display=""}else this.legend_div_.style.display="none"},E.prototype.deselect=function(t){"always"!==t.dygraph.getOption("legend")&&(this.legend_div_.style.display="none");var e=function(t){var e=document.createElement("span");e.setAttribute("style","margin: 0; padding: 0 0 0 1em; border: 0;"),t.appendChild(e);var n=e.offsetWidth;return t.removeChild(e),n}(this.legend_div_);this.one_em_width_=e;var n=E.generateLegendHTML(t.dygraph,void 0,void 0,e,null);this.legend_div_.innerHTML=n},E.prototype.didDrawChart=function(t){this.deselect(t)},E.prototype.predraw=function(t){if(this.is_generated_div_){t.dygraph.graphDiv.appendChild(this.legend_div_);var e=t.dygraph.getArea(),n=this.legend_div_.offsetWidth;this.legend_div_.style.left=e.x+e.w-n-1+"px",this.legend_div_.style.top=e.y+"px"}},E.prototype.destroy=function(){this.legend_div_=null},E.generateLegendHTML=function(t,e,n,i,o){var r,a={dygraph:t,x:e,series:[]},s={},l=t.getLabels();if(l)for(var c=1;c<l.length;c++){var d=t.getPropertiesForSeries(l[c]),u={dashHTML:x(t.getOption("strokePattern",l[c]),d.color,i),label:l[c],labelHTML:(r=l[c],r.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),isVisible:d.visible,color:d.color};a.series.push(u),s[l[c]]=u}if(void 0!==e){var h=t.optionsViewForAxis_("x"),p=h("valueFormatter");a.xHTML=p.call(t,e,h,l[0],t,o,0);var f=[],m=t.numAxes();for(c=0;c<m;c++)f[c]=t.optionsViewForAxis_("y"+(c?1+c:""));var g=t.getOption("labelsShowZeroValues"),v=t.getHighlightSeries();for(c=0;c<n.length;c++){var y=n[c];if((u=s[y.name]).y=y.yval,0===y.yval&&!g||isNaN(y.canvasy))u.isVisible=!1;else{var b=f[(d=t.getPropertiesForSeries(y.name)).axis-1],_=b("valueFormatter").call(t,y.yval,b,y.name,t,o,l.indexOf(y.name));w.update(u,{yHTML:_}),y.name==v&&(u.isHighlighted=!0)}}}return(t.getOption("legendFormatter")||E.defaultFormatter).call(t,a)},E.defaultFormatter=function(t){var e=t.dygraph;if(!0!==e.getOption("showLabelsOnHighlight"))return"";var n,i=e.getOption("labelsSeparateLines");if(void 0===t.x){if("always"!=e.getOption("legend"))return"";n="";for(var o=0;o<t.series.length;o++){(r=t.series[o]).isVisible&&(""!==n&&(n+=i?"<br/>":" "),n+="<span style='font-weight: bold; color: "+r.color+";'>"+r.dashHTML+" "+r.labelHTML+"</span>")}return n}n=t.xHTML+":";for(o=0;o<t.series.length;o++){var r;(r=t.series[o]).isVisible&&(i&&(n+="<br>"),n+="<span"+(r.isHighlighted?' class="highlight"':"")+"> <b><span style='color: "+r.color+";'>"+r.labelHTML+"</span></b>:&#160;"+r.yHTML+"</span>")}return n},n.default=E,e.exports=n.default},{"../dygraph-utils":17}],25:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var M=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("../dygraph-utils")),E=i(t("../dygraph-interaction-model")),T=i(t("../iframe-tarp")),o=function(){this.hasTouchInterface_="undefined"!=typeof TouchEvent,this.isMobileDevice_=/mobile|android/gi.test(navigator.appVersion),this.interfaceCreated_=!1};o.prototype.toString=function(){return"RangeSelector Plugin"},o.prototype.activate=function(t){return this.dygraph_=t,this.getOption_("showRangeSelector")&&this.createInterface_(),{layout:this.reserveSpace_,predraw:this.renderStaticLayer_,didDrawChart:this.renderInteractiveLayer_}},o.prototype.destroy=function(){this.bgcanvas_=null,this.fgcanvas_=null,this.leftZoomHandle_=null,this.rightZoomHandle_=null},o.prototype.getOption_=function(t,e){return this.dygraph_.getOption(t,e)},o.prototype.setDefaultOption_=function(t,e){this.dygraph_.attrs_[t]=e},o.prototype.createInterface_=function(){this.createCanvases_(),this.createZoomHandles_(),this.initInteraction_(),this.getOption_("animatedZooms")&&(console.warn("Animated zooms and range selector are not compatible; disabling animatedZooms."),this.dygraph_.updateOptions({animatedZooms:!1},!0)),this.interfaceCreated_=!0,this.addToGraph_()},o.prototype.addToGraph_=function(){var t=this.graphDiv_=this.dygraph_.graphDiv;t.appendChild(this.bgcanvas_),t.appendChild(this.fgcanvas_),t.appendChild(this.leftZoomHandle_),t.appendChild(this.rightZoomHandle_)},o.prototype.removeFromGraph_=function(){var t=this.graphDiv_;t.removeChild(this.bgcanvas_),t.removeChild(this.fgcanvas_),t.removeChild(this.leftZoomHandle_),t.removeChild(this.rightZoomHandle_),this.graphDiv_=null},o.prototype.reserveSpace_=function(t){this.getOption_("showRangeSelector")&&t.reserveSpaceBottom(this.getOption_("rangeSelectorHeight")+4)},o.prototype.renderStaticLayer_=function(){this.updateVisibility_()&&(this.resize_(),this.drawStaticLayer_())},o.prototype.renderInteractiveLayer_=function(){this.updateVisibility_()&&!this.isChangingRange_&&(this.placeZoomHandles_(),this.drawInteractiveLayer_())},o.prototype.updateVisibility_=function(){var t=this.getOption_("showRangeSelector");if(t)this.interfaceCreated_?this.graphDiv_&&this.graphDiv_.parentNode||this.addToGraph_():this.createInterface_();else if(this.graphDiv_){this.removeFromGraph_();var e=this.dygraph_;setTimeout(function(){e.width_=0,e.resize()},1)}return t},o.prototype.resize_=function(){function t(t,e,n,i){var o=i||M.getContextPixelRatio(e);t.style.top=n.y+"px",t.style.left=n.x+"px",t.width=n.w*o,t.height=n.h*o,t.style.width=n.w+"px",t.style.height=n.h+"px",1!=o&&e.scale(o,o)}var e=this.dygraph_.layout_.getPlotArea(),n=0;this.dygraph_.getOptionForAxis("drawAxis","x")&&(n=this.getOption_("xAxisHeight")||this.getOption_("axisLabelFontSize")+2*this.getOption_("axisTickSize")),this.canvasRect_={x:e.x,y:e.y+e.h+n+4,w:e.w,h:this.getOption_("rangeSelectorHeight")};var i=this.dygraph_.getNumericOption("pixelRatio");t(this.bgcanvas_,this.bgcanvas_ctx_,this.canvasRect_,i),t(this.fgcanvas_,this.fgcanvas_ctx_,this.canvasRect_,i)},o.prototype.createCanvases_=function(){this.bgcanvas_=M.createCanvas(),this.bgcanvas_.className="dygraph-rangesel-bgcanvas",this.bgcanvas_.style.position="absolute",this.bgcanvas_.style.zIndex=9,this.bgcanvas_ctx_=M.getContext(this.bgcanvas_),this.fgcanvas_=M.createCanvas(),this.fgcanvas_.className="dygraph-rangesel-fgcanvas",this.fgcanvas_.style.position="absolute",this.fgcanvas_.style.zIndex=9,this.fgcanvas_.style.cursor="default",this.fgcanvas_ctx_=M.getContext(this.fgcanvas_)},o.prototype.createZoomHandles_=function(){var t=new Image;t.className="dygraph-rangesel-zoomhandle",t.style.position="absolute",t.style.zIndex=10,t.style.visibility="hidden",t.style.cursor="col-resize",t.width=9,t.height=16,t.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAQCAYAAADESFVDAAAAAXNSR0IArs4c6QAAAAZiS0dEANAAzwDP4Z7KegAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAAd0SU1FB9sHGw0cMqdt1UwAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAaElEQVQoz+3SsRFAQBCF4Z9WJM8KCDVwownl6YXsTmCUsyKGkZzcl7zkz3YLkypgAnreFmDEpHkIwVOMfpdi9CEEN2nGpFdwD03yEqDtOgCaun7sqSTDH32I1pQA2Pb9sZecAxc5r3IAb21d6878xsAAAAAASUVORK5CYII=",this.isMobileDevice_&&(t.width*=2,t.height*=2),this.leftZoomHandle_=t,this.rightZoomHandle_=t.cloneNode(!1)},o.prototype.initInteraction_=function(){var n,e,i,o,r,a,s,l,c,d,t,u,h,p,f=this,m=document,g=0,v=null,y=!1,b=!1,_=!this.isMobileDevice_,x=new T.default;n=function(t){var e=f.dygraph_.xAxisExtremes(),n=(e[1]-e[0])/f.canvasRect_.w;return[e[0]+(t.leftHandlePos-f.canvasRect_.x)*n,e[0]+(t.rightHandlePos-f.canvasRect_.x)*n]},e=function(t){return M.cancelEvent(t),y=!0,g=t.clientX,v=t.target?t.target:t.srcElement,"mousedown"!==t.type&&"dragstart"!==t.type||(M.addEvent(m,"mousemove",i),M.addEvent(m,"mouseup",o)),f.fgcanvas_.style.cursor="col-resize",x.cover(),!0},i=function(t){if(!y)return!1;M.cancelEvent(t);var e=t.clientX-g;if(Math.abs(e)<4)return!0;g=t.clientX;var n,i=f.getZoomHandleStatus_();n=v==f.leftZoomHandle_?(n=i.leftHandlePos+e,n=Math.min(n,i.rightHandlePos-v.width-3),Math.max(n,f.canvasRect_.x)):(n=i.rightHandlePos+e,n=Math.min(n,f.canvasRect_.x+f.canvasRect_.w),Math.max(n,i.leftHandlePos+v.width+3));var o=v.width/2;return v.style.left=n-o+"px",f.drawInteractiveLayer_(),_&&r(),!0},o=function(t){return!!y&&(y=!1,x.uncover(),M.removeEvent(m,"mousemove",i),M.removeEvent(m,"mouseup",o),f.fgcanvas_.style.cursor="default",_||r(),!0)},r=function(){try{var t=f.getZoomHandleStatus_();if(f.isChangingRange_=!0,t.isZoomed){var e=n(t);f.dygraph_.doZoomXDates_(e[0],e[1])}else f.dygraph_.resetZoom()}finally{f.isChangingRange_=!1}},a=function(t){var e=f.leftZoomHandle_.getBoundingClientRect(),n=e.left+e.width/2,i=(e=f.rightZoomHandle_.getBoundingClientRect()).left+e.width/2;return t.clientX>n&&t.clientX<i},s=function(t){return!(b||!a(t)||!f.getZoomHandleStatus_().isZoomed||(M.cancelEvent(t),b=!0,g=t.clientX,"mousedown"===t.type&&(M.addEvent(m,"mousemove",l),M.addEvent(m,"mouseup",c)),0))},l=function(t){if(!b)return!1;M.cancelEvent(t);var e=t.clientX-g;if(Math.abs(e)<4)return!0;g=t.clientX;var n=f.getZoomHandleStatus_(),i=n.leftHandlePos,o=n.rightHandlePos,r=o-i;i+e<=f.canvasRect_.x?o=(i=f.canvasRect_.x)+r:o+e>=f.canvasRect_.x+f.canvasRect_.w?i=(o=f.canvasRect_.x+f.canvasRect_.w)-r:(i+=e,o+=e);var a=f.leftZoomHandle_.width/2;return f.leftZoomHandle_.style.left=i-a+"px",f.rightZoomHandle_.style.left=o-a+"px",f.drawInteractiveLayer_(),_&&d(),!0},c=function(t){return!!b&&(b=!1,M.removeEvent(m,"mousemove",l),M.removeEvent(m,"mouseup",c),_||d(),!0)},d=function(){try{f.isChangingRange_=!0,f.dygraph_.dateWindow_=n(f.getZoomHandleStatus_()),f.dygraph_.drawGraph_(!1)}finally{f.isChangingRange_=!1}},t=function(t){if(!y&&!b){var e=a(t)?"move":"default";e!=f.fgcanvas_.style.cursor&&(f.fgcanvas_.style.cursor=e)}},u=function(t){"touchstart"==t.type&&1==t.targetTouches.length?e(t.targetTouches[0])&&M.cancelEvent(t):"touchmove"==t.type&&1==t.targetTouches.length?i(t.targetTouches[0])&&M.cancelEvent(t):o(t)},h=function(t){"touchstart"==t.type&&1==t.targetTouches.length?s(t.targetTouches[0])&&M.cancelEvent(t):"touchmove"==t.type&&1==t.targetTouches.length?l(t.targetTouches[0])&&M.cancelEvent(t):c(t)},p=function(t,e){for(var n=["touchstart","touchend","touchmove","touchcancel"],i=0;i<n.length;i++)f.dygraph_.addAndTrackEvent(t,n[i],e)},this.setDefaultOption_("interactionModel",E.default.dragIsPanInteractionModel),this.setDefaultOption_("panEdgeFraction",1e-4);var w=window.opera?"mousedown":"dragstart";this.dygraph_.addAndTrackEvent(this.leftZoomHandle_,w,e),this.dygraph_.addAndTrackEvent(this.rightZoomHandle_,w,e),this.dygraph_.addAndTrackEvent(this.fgcanvas_,"mousedown",s),this.dygraph_.addAndTrackEvent(this.fgcanvas_,"mousemove",t),this.hasTouchInterface_&&(p(this.leftZoomHandle_,u),p(this.rightZoomHandle_,u),p(this.fgcanvas_,h))},o.prototype.drawStaticLayer_=function(){var t=this.bgcanvas_ctx_;t.clearRect(0,0,this.canvasRect_.w,this.canvasRect_.h);try{this.drawMiniPlot_()}catch(t){console.warn(t)}this.bgcanvas_ctx_.lineWidth=this.getOption_("rangeSelectorBackgroundLineWidth"),t.strokeStyle=this.getOption_("rangeSelectorBackgroundStrokeColor"),t.beginPath(),t.moveTo(.5,.5),t.lineTo(.5,this.canvasRect_.h-.5),t.lineTo(this.canvasRect_.w-.5,this.canvasRect_.h-.5),t.lineTo(this.canvasRect_.w-.5,.5),t.stroke()},o.prototype.drawMiniPlot_=function(){var t=this.getOption_("rangeSelectorPlotFillColor"),e=this.getOption_("rangeSelectorPlotFillGradientColor"),n=this.getOption_("rangeSelectorPlotStrokeColor");if(t||n){var i=this.getOption_("stepPlot"),o=this.computeCombinedSeriesAndLimits_(),r=o.yMax-o.yMin,a=this.bgcanvas_ctx_,s=this.dygraph_.xAxisExtremes(),l=Math.max(s[1]-s[0],1e-30),c=(this.canvasRect_.w-.5)/l,d=(this.canvasRect_.h-.5)/r,u=this.canvasRect_.w-.5,h=this.canvasRect_.h-.5,p=null,f=null;a.beginPath(),a.moveTo(.5,h);for(var m=0;m<o.data.length;m++){var g=o.data[m],v=null!==g[0]?(g[0]-s[0])*c:NaN,y=null!==g[1]?h-(g[1]-o.yMin)*d:NaN;(i||null===p||Math.round(v)!=Math.round(p))&&(isFinite(v)&&isFinite(y)?(null===p?a.lineTo(v,h):i&&a.lineTo(v,f),a.lineTo(v,y),p=v,f=y):(null!==p&&(i?(a.lineTo(v,f),a.lineTo(v,h)):a.lineTo(p,h)),p=f=null))}if(a.lineTo(u,h),a.closePath(),t){var b=this.bgcanvas_ctx_.createLinearGradient(0,0,0,h);e&&b.addColorStop(0,e),b.addColorStop(1,t),this.bgcanvas_ctx_.fillStyle=b,a.fill()}n&&(this.bgcanvas_ctx_.strokeStyle=n,this.bgcanvas_ctx_.lineWidth=this.getOption_("rangeSelectorPlotLineWidth"),a.stroke())}},o.prototype.computeCombinedSeriesAndLimits_=function(){var t,e=this.dygraph_,n=this.getOption_("logscale"),i=e.numColumns(),o=e.getLabels(),r=new Array(i),a=!1,s=e.visibility(),l=[];for(t=1;t<i;t++){var c=this.getOption_("showInRangeSelector",o[t]);l.push(c),null!==c&&(a=!0)}if(a)for(t=1;t<i;t++)r[t]=l[t-1];else for(t=1;t<i;t++)r[t]=s[t-1];var d=[],u=e.dataHandler_,h=e.attributes_;for(t=1;t<e.numColumns();t++)if(r[t]){var p=u.extractSeries(e.rawData_,t,h);1<e.rollPeriod()&&(p=u.rollingAverage(p,e.rollPeriod(),h)),d.push(p)}var f=[];for(t=0;t<d[0].length;t++){for(var m=0,g=0,v=0;v<d.length;v++){var y=d[v][t][1];null===y||isNaN(y)||(g++,m+=y)}f.push([d[0][t][0],m/g])}var b=Number.MAX_VALUE,_=-Number.MAX_VALUE;for(t=0;t<f.length;t++){var x=f[t][1];null!==x&&isFinite(x)&&(!n||0<x)&&(b=Math.min(b,x),_=Math.max(_,x))}if(n)for(_=M.log10(_),_+=.25*_,b=M.log10(b),t=0;t<f.length;t++)f[t][1]=M.log10(f[t][1]);else{var w,E=_-b;_+=w=E<=Number.MIN_VALUE?.25*_:.25*E,b-=w}return{data:f,yMin:b,yMax:_}},o.prototype.placeZoomHandles_=function(){var t=this.dygraph_.xAxisExtremes(),e=this.dygraph_.xAxisRange(),n=t[1]-t[0],i=Math.max(0,(e[0]-t[0])/n),o=Math.max(0,(t[1]-e[1])/n),r=this.canvasRect_.x+this.canvasRect_.w*i,a=this.canvasRect_.x+this.canvasRect_.w*(1-o),s=Math.max(this.canvasRect_.y,this.canvasRect_.y+(this.canvasRect_.h-this.leftZoomHandle_.height)/2),l=this.leftZoomHandle_.width/2;this.leftZoomHandle_.style.left=r-l+"px",this.leftZoomHandle_.style.top=s+"px",this.rightZoomHandle_.style.left=a-l+"px",this.rightZoomHandle_.style.top=this.leftZoomHandle_.style.top,this.leftZoomHandle_.style.visibility="visible",this.rightZoomHandle_.style.visibility="visible"},o.prototype.drawInteractiveLayer_=function(){var t=this.fgcanvas_ctx_;t.clearRect(0,0,this.canvasRect_.w,this.canvasRect_.h);var e=this.canvasRect_.w-1,n=this.canvasRect_.h-1,i=this.getZoomHandleStatus_();if(t.strokeStyle=this.getOption_("rangeSelectorForegroundStrokeColor"),t.lineWidth=this.getOption_("rangeSelectorForegroundLineWidth"),i.isZoomed){var o=Math.max(1,i.leftHandlePos-this.canvasRect_.x),r=Math.min(e,i.rightHandlePos-this.canvasRect_.x);t.fillStyle="rgba(240, 240, 240, "+this.getOption_("rangeSelectorAlpha").toString()+")",t.fillRect(0,0,o,this.canvasRect_.h),t.fillRect(r,0,this.canvasRect_.w-r,this.canvasRect_.h),t.beginPath(),t.moveTo(1,1),t.lineTo(o,1),t.lineTo(o,n),t.lineTo(r,n),t.lineTo(r,1),t.lineTo(e,1),t.stroke()}else t.beginPath(),t.moveTo(1,1),t.lineTo(1,n),t.lineTo(e,n),t.lineTo(e,1),t.stroke()},o.prototype.getZoomHandleStatus_=function(){var t=this.leftZoomHandle_.width/2,e=parseFloat(this.leftZoomHandle_.style.left)+t,n=parseFloat(this.rightZoomHandle_.style.left)+t;return{leftHandlePos:e,rightHandlePos:n,isZoomed:e-1>this.canvasRect_.x||n+1<this.canvasRect_.x+this.canvasRect_.w}},n.default=o,e.exports=n.default},{"../dygraph-interaction-model":12,"../dygraph-utils":17,"../iframe-tarp":19}]},{},[18])(18)}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.d3=t.d3||{})}(this,function(H){"use strict";function M(t,e,n){var i=Math.abs(e-t)/Math.max(0,n),o=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),r=i/o;return ts<=r?o*=10:es<=r?o*=5:ns<=r&&(o*=2),e<t?-o:o}function s(t){return t.length}function l(){}function g(t,e){var n=new l;if(t instanceof l)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var i,o=-1,r=t.length;if(null==e)for(;++o<r;)n.set(o,t[o]);else for(;++o<r;)n.set(e(i=t[o],o,t),i)}else if(t)for(var a in t)n.set(a,t[a]);return n}function n(){return{}}function i(t,e,n){t[e]=n}function o(){return g()}function r(t,e,n){t.set(e,n)}function a(){}function t(t,e){var n=new a;if(t instanceof a)t.each(function(t){n.add(t)});else if(t){var i=-1,o=t.length;if(null==e)for(;++i<o;)n.add(t[i]);else for(;++i<o;)n.add(e(t[i],i,t))}return n}function e(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function c(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}function d(t){return(1-Math.cos(ms*t))/2}function u(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function h(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}function p(t){return(t=+t)<vs?Cs*t*t:t<bs?Cs*(t-=ys)*t+_s:t<ws?Cs*(t-=xs)*t+Es:Cs*(t-=Ms)*t+Ts}function f(t,e){return t[0]-e[0]||t[1]-e[1]}function m(t){for(var e=t.length,n=[0,1],i=2,o=2;o<e;++o){for(;1<i&&(r=t[n[i-2]],a=t[n[i-1]],s=t[o],(a[0]-r[0])*(s[1]-r[1])-(a[1]-r[1])*(s[0]-r[0])<=0);)--i;n[i++]=o}var r,a,s;return n.slice(0,i)}function v(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function et(){return new v}function y(t,e,n,i){if(isNaN(e)||isNaN(n))return t;var o,r,a,s,l,c,d,u,h,p=t._root,f={data:i},m=t._x0,g=t._y0,v=t._x1,y=t._y1;if(!p)return t._root=f,t;for(;p.length;)if((c=e>=(r=(m+v)/2))?m=r:v=r,(d=n>=(a=(g+y)/2))?g=a:y=a,!(p=(o=p)[u=d<<1|c]))return o[u]=f,t;if(s=+t._x.call(null,p.data),l=+t._y.call(null,p.data),e===s&&n===l)return f.next=p,o?o[u]=f:t._root=f,t;for(;o=o?o[u]=new Array(4):t._root=new Array(4),(c=e>=(r=(m+v)/2))?m=r:v=r,(d=n>=(a=(g+y)/2))?g=a:y=a,(u=d<<1|c)==(h=(a<=l)<<1|r<=s););return o[h]=p,o[u]=f,t}function b(t){return t[0]}function _(t){return t[1]}function x(t,e,n){var i=new w(null==e?b:e,null==n?_:n,NaN,NaN,NaN,NaN);return null==t?i:i.addAll(t)}function w(t,e,n,i,o,r){this._x=t,this._y=e,this._x0=n,this._y0=i,this._x1=o,this._y1=r,this._root=void 0}function E(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}function T(t){if(!(1<=t))throw new Error;this._size=t,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function C(e){if(!e._start)try{!function(t){for(;t._start=t._waiting&&t._active<t._size;){var e=t._ended+t._active,n=t._tasks[e],i=n.length-1,o=n[i];n[i]=S(t,e),--t._waiting,++t._active,n=o.apply(null,n),t._tasks[e]&&(t._tasks[e]=n||Hs)}}(e)}catch(t){if(e._tasks[e._ended+e._active-1])A(e,t);else if(!e._data)throw t}}function S(n,i){return function(t,e){n._tasks[i]&&(--n._active,++n._ended,(n._tasks[i]=null)==n._error&&(null!=t?A(n,t):(n._data[i]=e,n._waiting?C(n):k(n))))}}function A(t,e){var n,i=t._tasks.length;for(t._error=e,t._data=void 0,t._waiting=NaN;0<=--i;)if((n=t._tasks[i])&&(t._tasks[i]=null,n.abort))try{n.abort()}catch(t){}t._active=NaN,k(t)}function k(t){if(!t._active&&t._call){var e=t._data;t._data=void 0,t._call(t._error,e)}}function D(t){return new T(arguments.length?+t:1/0)}function O(t){return t.innerRadius}function P(t){return t.outerRadius}function N(t){return t.startAngle}function L(t){return t.endAngle}function I(t){return t&&t.padAngle}function nt(t){return 1<=t?Vs:t<=-1?-Vs:Math.asin(t)}function it(t,e,n,i,o,r,a){var s=t-n,l=e-i,c=(a?r:-r)/Math.sqrt(s*s+l*l),d=c*l,u=-c*s,h=t+d,p=e+u,f=n+d,m=i+u,g=(h+f)/2,v=(p+m)/2,y=f-h,b=m-p,_=y*y+b*b,x=o-r,w=h*m-f*p,E=(b<0?-1:1)*Math.sqrt(Math.max(0,x*x*_-w*w)),M=(w*b-y*E)/_,T=(-w*y-b*E)/_,C=(w*b+y*E)/_,S=(-w*y+b*E)/_,A=M-g,k=T-v,D=C-g,O=S-v;return D*D+O*O<A*A+k*k&&(M=C,T=S),{cx:M,cy:T,x01:-d,y01:-u,x11:M*(o/x-1),y11:T*(o/x-1)}}function R(t){this._context=t}function $(t){return t[0]}function F(t){return t[1]}function z(t){this._curve=t}function B(e){function t(t){return new z(e(t))}return t._curve=e,t}function U(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(B(t)):e()._curve},t}function j(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function V(t){this._context=t}function G(t){this._context=t}function W(t){this._context=t}function Y(t,e){this._basis=new V(t),this._beta=e}function q(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function X(t,e){this._context=t,this._k=(1-e)/6}function Z(t,e){this._context=t,this._k=(1-e)/6}function K(t,e){this._context=t,this._k=(1-e)/6}function Q(t,e,n){var i=t._x1,o=t._y1,r=t._x2,a=t._y2;if(t._l01_a>Us){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,o=(o*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>Us){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,d=3*t._l23_a*(t._l23_a+t._l12_a);r=(r*c+t._x1*t._l23_2a-e*t._l12_2a)/d,a=(a*c+t._y1*t._l23_2a-n*t._l12_2a)/d}t._context.bezierCurveTo(i,o,r,a,t._x2,t._y2)}function J(t,e){this._context=t,this._alpha=e}function tt(t,e){this._context=t,this._alpha=e}function ot(t,e){this._context=t,this._alpha=e}function rt(t){this._context=t}function at(t){return t<0?-1:1}function st(t,e,n){var i=t._x1-t._x0,o=e-t._x1,r=(t._y1-t._y0)/(i||o<0&&-0),a=(n-t._y1)/(o||i<0&&-0),s=(r*o+a*i)/(i+o);return(at(r)+at(a))*Math.min(Math.abs(r),Math.abs(a),.5*Math.abs(s))||0}function lt(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function ct(t,e,n){var i=t._x0,o=t._y0,r=t._x1,a=t._y1,s=(r-i)/3;t._context.bezierCurveTo(i+s,o+s*e,r-s,a-s*n,r,a)}function dt(t){this._context=t}function ut(t){this._context=new ht(t)}function ht(t){this._context=t}function pt(t){this._context=t}function ft(t){var e,n,i=t.length-1,o=new Array(i),r=new Array(i),a=new Array(i);for(r[o[0]=0]=2,a[0]=t[0]+2*t[1],e=1;e<i-1;++e)o[e]=1,r[e]=4,a[e]=4*t[e]+2*t[e+1];for(o[i-1]=2,r[i-1]=7,a[i-1]=8*t[i-1]+t[i],e=1;e<i;++e)n=o[e]/r[e-1],r[e]-=n,a[e]-=n*a[e-1];for(o[i-1]=a[i-1]/r[i-1],e=i-2;0<=e;--e)o[e]=(a[e]-o[e+1])/r[e];for(r[i-1]=(t[i]+o[i-1])/2,e=0;e<i-1;++e)r[e]=2*t[e+1]-o[e+1];return[o,r]}function mt(t,e){this._context=t,this._t=e}function gt(t,e){return t[e]}function vt(t){for(var e,n=0,i=-1,o=t.length;++i<o;)(e=+t[i][1])&&(n+=e);return n}function yt(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function bt(){}function _t(t){var e;return t=(t+"").trim().toLowerCase(),(e=Ol.exec(t))?new Tt((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=Pl.exec(t))?xt(parseInt(e[1],16)):(e=Nl.exec(t))?new Tt(e[1],e[2],e[3],1):(e=Ll.exec(t))?new Tt(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Il.exec(t))?wt(e[1],e[2],e[3],e[4]):(e=Rl.exec(t))?wt(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=$l.exec(t))?Ct(e[1],e[2]/100,e[3]/100,1):(e=Fl.exec(t))?Ct(e[1],e[2]/100,e[3]/100,e[4]):zl.hasOwnProperty(t)?xt(zl[t]):"transparent"===t?new Tt(NaN,NaN,NaN,0):null}function xt(t){return new Tt(t>>16&255,t>>8&255,255&t,1)}function wt(t,e,n,i){return i<=0&&(t=e=n=NaN),new Tt(t,e,n,i)}function Et(t){return t instanceof bt||(t=_t(t)),t?new Tt((t=t.rgb()).r,t.g,t.b,t.opacity):new Tt}function Mt(t,e,n,i){return 1===arguments.length?Et(t):new Tt(t,e,n,null==i?1:i)}function Tt(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function Ct(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||1<=n?t=e=NaN:e<=0&&(t=NaN),new At(t,e,n,i)}function St(t,e,n,i){return 1===arguments.length?function(t){if(t instanceof At)return new At(t.h,t.s,t.l,t.opacity);if(t instanceof bt||(t=_t(t)),!t)return new At;if(t instanceof At)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,o=Math.min(e,n,i),r=Math.max(e,n,i),a=NaN,s=r-o,l=(r+o)/2;return s?(a=e===r?(n-i)/s+6*(n<i):n===r?(i-e)/s+2:(e-n)/s+4,s/=l<.5?r+o:2-r-o,a*=60):s=0<l&&l<1?0:a,new At(a,s,l,t.opacity)}(t):new At(t,e,n,null==i?1:i)}function At(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function kt(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Dt(t){if(t instanceof Pt)return new Pt(t.l,t.a,t.b,t.opacity);if(t instanceof Ft){var e=t.h*Hl;return new Pt(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof Tt||(t=Et(t));var n=Rt(t.r),i=Rt(t.g),o=Rt(t.b),r=Nt((.4124564*n+.3575761*i+.1804375*o)/Ul),a=Nt((.2126729*n+.7151522*i+.072175*o)/jl);return new Pt(116*a-16,500*(r-a),200*(a-Nt((.0193339*n+.119192*i+.9503041*o)/Vl)),t.opacity)}function Ot(t,e,n,i){return 1===arguments.length?Dt(t):new Pt(t,e,n,null==i?1:i)}function Pt(t,e,n,i){this.l=+t,this.a=+e,this.b=+n,this.opacity=+i}function Nt(t){return Yl<t?Math.pow(t,1/3):t/Wl+Gl}function Lt(t){return 6/29<t?t*t*t:Wl*(t-Gl)}function It(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Rt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function $t(t,e,n,i){return 1===arguments.length?function(t){if(t instanceof Ft)return new Ft(t.h,t.c,t.l,t.opacity);t instanceof Pt||(t=Dt(t));var e=Math.atan2(t.b,t.a)*Bl;return new Ft(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new Ft(t,e,n,null==i?1:i)}function Ft(t,e,n,i){this.h=+t,this.c=+e,this.l=+n,this.opacity=+i}function zt(t,e,n,i){return 1===arguments.length?function(t){if(t instanceof Ht)return new Ht(t.h,t.s,t.l,t.opacity);t instanceof Tt||(t=Et(t));var e=t.r/255,n=t.g/255,i=t.b/255,o=(Jl*i+Kl*e-Ql*n)/(Jl+Kl-Ql),r=i-o,a=(Zl*(n-o)-ql*r)/Xl,s=Math.sqrt(a*a+r*r)/(Zl*o*(1-o)),l=s?Math.atan2(a,r)*Bl-120:NaN;return new Ht(l<0?l+360:l,s,o,t.opacity)}(t):new Ht(t,e,n,null==i?1:i)}function Ht(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function Bt(t,e,n,i,o){var r=t*t,a=r*t;return((1-3*t+3*r-a)*e+(4-6*r+3*a)*n+(1+3*t+3*r-3*a)*i+a*o)/6}function Ut(e,n){return function(t){return e+t*n}}function jt(t,e){var n=e-t;return n?Ut(t,180<n||n<-180?n-360*Math.round(n/360):n):ac(isNaN(t)?e:t)}function Vt(r){return 1==(r=+r)?Gt:function(t,e){return e-t?(n=t,i=e,o=r,n=Math.pow(n,o),i=Math.pow(i,o)-n,o=1/o,function(t){return Math.pow(n+t*i,o)}):ac(isNaN(t)?e:t);var n,i,o}}function Gt(t,e){var n=e-t;return n?Ut(t,n):ac(isNaN(t)?e:t)}function Wt(s){return function(t){var e,n,i=t.length,o=new Array(i),r=new Array(i),a=new Array(i);for(e=0;e<i;++e)n=Mt(t[e]),o[e]=n.r||0,r[e]=n.g||0,a[e]=n.b||0;return o=s(o),r=s(r),a=s(a),n.opacity=1,function(t){return n.r=o(t),n.g=r(t),n.b=a(t),n+""}}}function Yt(h,p,f,m){function g(t){return t.length?t.pop()+" ":""}return function(t,e){var n,i,o,r,a,s,l,c,d=[],u=[];return t=h(t),e=h(e),function(t,e,n,i,o,r){if(t!==n||e!==i){var a=o.push("translate(",null,p,null,f);r.push({i:a-4,x:hc(t,n)},{i:a-2,x:hc(e,i)})}else(n||i)&&o.push("translate("+n+p+i+f)}(t.translateX,t.translateY,e.translateX,e.translateY,d,u),a=t.rotate,s=e.rotate,l=d,c=u,a!==s?(180<a-s?s+=360:180<s-a&&(a+=360),c.push({i:l.push(g(l)+"rotate(",null,m)-2,x:hc(a,s)})):s&&l.push(g(l)+"rotate("+s+m),n=t.skewX,i=e.skewX,o=d,r=u,n!==i?r.push({i:o.push(g(o)+"skewX(",null,m)-2,x:hc(n,i)}):i&&o.push(g(o)+"skewX("+i+m),function(t,e,n,i,o,r){if(t!==n||e!==i){var a=o.push(g(o)+"scale(",null,",",null,")");r.push({i:a-4,x:hc(t,n)},{i:a-2,x:hc(e,i)})}else 1===n&&1===i||o.push(g(o)+"scale("+n+","+i+")")}(t.scaleX,t.scaleY,e.scaleX,e.scaleY,d,u),t=e=null,function(t){for(var e,n=-1,i=u.length;++n<i;)d[(e=u[n]).i]=e.x(t);return d.join("")}}}function qt(t){return((t=Math.exp(t))+1/t)/2}function Xt(a){return function(e,t){var n=a((e=St(e)).h,(t=St(t)).h),i=Gt(e.s,t.s),o=Gt(e.l,t.l),r=Gt(e.opacity,t.opacity);return function(t){return e.h=n(t),e.s=i(t),e.l=o(t),e.opacity=r(t),e+""}}}function Zt(a){return function(e,t){var n=a((e=$t(e)).h,(t=$t(t)).h),i=Gt(e.c,t.c),o=Gt(e.l,t.l),r=Gt(e.opacity,t.opacity);return function(t){return e.h=n(t),e.c=i(t),e.l=o(t),e.opacity=r(t),e+""}}}function Kt(s){return function t(a){function e(e,t){var n=s((e=zt(e)).h,(t=zt(t)).h),i=Gt(e.s,t.s),o=Gt(e.l,t.l),r=Gt(e.opacity,t.opacity);return function(t){return e.h=n(t),e.s=i(t),e.l=o(Math.pow(t,a)),e.opacity=r(t),e+""}}return a=+a,e.gamma=t,e}(1)}function Qt(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i)throw new Error("illegal type: "+t);i[t]=[]}return new Jt(i)}function Jt(t){this._=t}function te(t,e){for(var n,i=0,o=t.length;i<o;++i)if((n=t[i]).name===e)return n.value}function ee(t,e,n){for(var i=0,o=t.length;i<o;++i)if(t[i].name===e){t[i]=Pc,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}function ne(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}function ie(){return ad||(cd(oe),ad=ld.now()+sd)}function oe(){ad=0}function re(){this._call=this._time=this._next=null}function ae(t,e,n){var i=new re;return i.restart(t,e,n),i}function se(){ie(),++ed;for(var t,e=Nc;e;)0<=(t=ad-e._time)&&e._call.call(null,t),e=e._next;--ed}function le(){ad=(rd=ld.now())+sd,ed=nd=0;try{se()}finally{ed=0,function(){for(var t,e,n=Nc,i=1/0;n;)n=n._call?(i>n._time&&(i=n._time),(t=n)._next):(e=n._next,n._next=null,t?t._next=e:Nc=e);Lc=t,de(i)}(),ad=0}}function ce(){var t=ld.now(),e=t-rd;od<e&&(sd-=e,rd=t)}function de(t){if(!ed){nd&&(nd=clearTimeout(nd));var e=t-ad;24<e?(t<1/0&&(nd=setTimeout(le,e)),id&&(id=clearInterval(id))):(id||(id=setInterval(ce,od)),ed=1,cd(le))}}function ue(o,r,n,i){function a(t){return o(t=new Date(+t)),t}return(a.floor=a).ceil=function(t){return o(t=new Date(t-1)),r(t,1),o(t),t},a.round=function(t){var e=a(t),n=a.ceil(t);return t-e<n-t?e:n},a.offset=function(t,e){return r(t=new Date(+t),null==e?1:Math.floor(e)),t},a.range=function(t,e,n){var i=[];if(t=a.ceil(t),n=null==n?1:Math.floor(n),!(t<e&&0<n))return i;for(;i.push(new Date(+t)),r(t,n),o(t),t<e;);return i},a.filter=function(n){return ue(function(t){if(t<=t)for(;o(t),!n(t);)t.setTime(t-1)},function(t,e){if(t<=t)for(;0<=--e;)for(;r(t,1),!n(t););})},n&&(a.count=function(t,e){return ud.setTime(+t),hd.setTime(+e),o(ud),o(hd),Math.floor(n(ud,hd))},a.every=function(e){return e=Math.floor(e),isFinite(e)&&0<e?1<e?a.filter(i?function(t){return i(t)%e==0}:function(t){return a.count(0,t)%e==0}):a:null}),a}function he(e){return ue(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5})}function pe(e){return ue(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/6048e5})}function fe(t){if(!(e=gu.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",i=e[2]||">",o=e[3]||"-",r=e[4]||"",a=!!e[5],s=e[6]&&+e[6],l=!!e[7],c=e[8]&&+e[8].slice(1),d=e[9]||"";"n"===d?(l=!0,d="g"):mu[d]||(d=""),(a||"0"===n&&"="===i)&&(a=!0,n="0",i="="),this.fill=n,this.align=i,this.sign=o,this.symbol=r,this.zero=a,this.width=s,this.comma=l,this.precision=c,this.type=d}function me(t){return t}function ge(t){return yu=_u(t),H.format=yu.format,H.formatPrefix=yu.formatPrefix,yu}function ve(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ye(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function be(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function _e(t){function n(l,c){return function(t){var e,n,i,o=[],r=-1,a=0,s=l.length;for(t instanceof Date||(t=new Date(+t));++r<s;)37===l.charCodeAt(r)&&(o.push(l.slice(a,r)),null!=(n=Tu[e=l.charAt(++r)])?e=l.charAt(++r):n="e"===e?" ":"0",(i=c[e])&&(e=i(t,n)),o.push(e),a=r+1);return o.push(l.slice(a,r)),o.join("")}}function i(i,o){return function(t){var e=be(1900);if(r(e,i,t+="",0)!=t.length)return null;if("p"in e&&(e.H=e.H%12+12*e.p),"W"in e||"U"in e){"w"in e||(e.w="W"in e?1:0);var n="Z"in e?ye(be(e.y)).getUTCDay():o(be(e.y)).getDay();e.m=0,e.d="W"in e?(e.w+6)%7+7*e.W-(n+5)%7:e.w+7*e.U-(n+6)%7}return"Z"in e?(e.H+=e.Z/100|0,e.M+=e.Z%100,ye(e)):o(e)}}function r(t,e,n,i){for(var o,r,a=0,s=e.length,l=n.length;a<s;){if(l<=i)return-1;if(37===(o=e.charCodeAt(a++))){if(o=e.charAt(a++),!(r=M[o in Tu?e.charAt(a++):o])||(i=r(t,n,i))<0)return-1}else if(o!=n.charCodeAt(i++))return-1}return i}var o=t.dateTime,a=t.date,s=t.time,e=t.periods,l=t.days,c=t.shortDays,d=t.months,u=t.shortMonths,h=Ee(e),p=Me(e),f=Ee(l),m=Me(l),g=Ee(c),v=Me(c),y=Ee(d),b=Me(d),_=Ee(u),x=Me(u),w={a:function(t){return c[t.getDay()]},A:function(t){return l[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return d[t.getMonth()]},c:null,d:ze,e:ze,H:He,I:Be,j:Ue,L:je,m:Ve,M:Ge,p:function(t){return e[+(12<=t.getHours())]},S:We,U:Ye,w:qe,W:Xe,x:null,X:null,y:Ze,Y:Ke,Z:Qe,"%":fn},E={a:function(t){return c[t.getUTCDay()]},A:function(t){return l[t.getUTCDay()]},b:function(t){return u[t.getUTCMonth()]},B:function(t){return d[t.getUTCMonth()]},c:null,d:Je,e:Je,H:tn,I:en,j:nn,L:on,m:rn,M:an,p:function(t){return e[+(12<=t.getUTCHours())]},S:sn,U:ln,w:cn,W:dn,x:null,X:null,y:un,Y:hn,Z:pn,"%":fn},M={a:function(t,e,n){var i=g.exec(e.slice(n));return i?(t.w=v[i[0].toLowerCase()],n+i[0].length):-1},A:function(t,e,n){var i=f.exec(e.slice(n));return i?(t.w=m[i[0].toLowerCase()],n+i[0].length):-1},b:function(t,e,n){var i=_.exec(e.slice(n));return i?(t.m=x[i[0].toLowerCase()],n+i[0].length):-1},B:function(t,e,n){var i=y.exec(e.slice(n));return i?(t.m=b[i[0].toLowerCase()],n+i[0].length):-1},c:function(t,e,n){return r(t,o,e,n)},d:Pe,e:Pe,H:Le,I:Le,j:Ne,L:$e,m:Oe,M:Ie,p:function(t,e,n){var i=h.exec(e.slice(n));return i?(t.p=p[i[0].toLowerCase()],n+i[0].length):-1},S:Re,U:Ce,w:Te,W:Se,x:function(t,e,n){return r(t,a,e,n)},X:function(t,e,n){return r(t,s,e,n)},y:ke,Y:Ae,Z:De,"%":Fe};return w.x=n(a,w),w.X=n(s,w),w.c=n(o,w),E.x=n(a,E),E.X=n(s,E),E.c=n(o,E),{format:function(t){var e=n(t+="",w);return e.toString=function(){return t},e},parse:function(t){var e=i(t+="",ve);return e.toString=function(){return t},e},utcFormat:function(t){var e=n(t+="",E);return e.toString=function(){return t},e},utcParse:function(t){var e=i(t,ye);return e.toString=function(){return t},e}}}function xe(t,e,n){var i=t<0?"-":"",o=(i?-t:t)+"",r=o.length;return i+(r<n?new Array(n-r+1).join(e)+o:o)}function we(t){return t.replace(Au,"\\$&")}function Ee(t){return new RegExp("^(?:"+t.map(we).join("|")+")","i")}function Me(t){for(var e={},n=-1,i=t.length;++n<i;)e[t[n].toLowerCase()]=n;return e}function Te(t,e,n){var i=Cu.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function Ce(t,e,n){var i=Cu.exec(e.slice(n));return i?(t.U=+i[0],n+i[0].length):-1}function Se(t,e,n){var i=Cu.exec(e.slice(n));return i?(t.W=+i[0],n+i[0].length):-1}function Ae(t,e,n){var i=Cu.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function ke(t,e,n){var i=Cu.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(68<+i[0]?1900:2e3),n+i[0].length):-1}function De(t,e,n){var i=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function Oe(t,e,n){var i=Cu.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function Pe(t,e,n){var i=Cu.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function Ne(t,e,n){var i=Cu.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function Le(t,e,n){var i=Cu.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function Ie(t,e,n){var i=Cu.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function Re(t,e,n){var i=Cu.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function $e(t,e,n){var i=Cu.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function Fe(t,e,n){var i=Su.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function ze(t,e){return xe(t.getDate(),e,2)}function He(t,e){return xe(t.getHours(),e,2)}function Be(t,e){return xe(t.getHours()%12||12,e,2)}function Ue(t,e){return xe(1+xd.count(zd(t),t),e,3)}function je(t,e){return xe(t.getMilliseconds(),e,3)}function Ve(t,e){return xe(t.getMonth()+1,e,2)}function Ge(t,e){return xe(t.getMinutes(),e,2)}function We(t,e){return xe(t.getSeconds(),e,2)}function Ye(t,e){return xe(Ed.count(zd(t),t),e,2)}function qe(t){return t.getDay()}function Xe(t,e){return xe(Md.count(zd(t),t),e,2)}function Ze(t,e){return xe(t.getFullYear()%100,e,2)}function Ke(t,e){return xe(t.getFullYear()%1e4,e,4)}function Qe(t){var e=t.getTimezoneOffset();return(0<e?"-":(e*=-1,"+"))+xe(e/60|0,"0",2)+xe(e%60,"0",2)}function Je(t,e){return xe(t.getUTCDate(),e,2)}function tn(t,e){return xe(t.getUTCHours(),e,2)}function en(t,e){return xe(t.getUTCHours()%12||12,e,2)}function nn(t,e){return xe(1+Gd.count(cu(t),t),e,3)}function on(t,e){return xe(t.getUTCMilliseconds(),e,3)}function rn(t,e){return xe(t.getUTCMonth()+1,e,2)}function an(t,e){return xe(t.getUTCMinutes(),e,2)}function sn(t,e){return xe(t.getUTCSeconds(),e,2)}function ln(t,e){return xe(Yd.count(cu(t),t),e,2)}function cn(t){return t.getUTCDay()}function dn(t,e){return xe(qd.count(cu(t),t),e,2)}function un(t,e){return xe(t.getUTCFullYear()%100,e,2)}function hn(t,e){return xe(t.getUTCFullYear()%1e4,e,4)}function pn(){return"+0000"}function fn(){return"%"}function mn(t){return xu=_e(t),H.timeFormat=xu.format,H.timeParse=xu.parse,H.utcFormat=xu.utcFormat,H.utcParse=xu.utcParse,xu}function gn(i){function r(t){var e=t+"",n=a.get(e);if(!n){if(o!==Iu)return o;a.set(e,n=s.push(t))}return i[(n-1)%i.length]}var a=g(),s=[],o=Iu;return i=null==i?[]:Lu.call(i),r.domain=function(t){if(!arguments.length)return s.slice();s=[],a=g();for(var e,n,i=-1,o=t.length;++i<o;)a.has(n=(e=t[i])+"")||a.set(n,s.push(e));return r},r.range=function(t){return arguments.length?(i=Lu.call(t),r):i.slice()},r.unknown=function(t){return arguments.length?(o=t,r):o},r.copy=function(){return gn().domain(s).range(i).unknown(o)},r}function vn(){function e(){var t=s().length,e=c[1]<c[0],n=c[e-0],i=c[1-e];r=(i-n)/Math.max(1,t-u+2*h),d&&(r=Math.floor(r)),n+=(i-n-r*(t-u))*p,a=r*(1-u),d&&(n=Math.round(n),a=Math.round(a));var o=Ja(t).map(function(t){return n+r*t});return l(e?o.reverse():o)}var r,a,t=gn().unknown(void 0),s=t.domain,l=t.range,c=[0,1],d=!1,u=0,h=0,p=.5;return delete t.unknown,t.domain=function(t){return arguments.length?(s(t),e()):s()},t.range=function(t){return arguments.length?(c=[+t[0],+t[1]],e()):c.slice()},t.rangeRound=function(t){return c=[+t[0],+t[1]],d=!0,e()},t.bandwidth=function(){return a},t.step=function(){return r},t.round=function(t){return arguments.length?(d=!!t,e()):d},t.padding=function(t){return arguments.length?(u=h=Math.max(0,Math.min(1,t)),e()):u},t.paddingInner=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),e()):u},t.paddingOuter=function(t){return arguments.length?(h=Math.max(0,Math.min(1,t)),e()):h},t.align=function(t){return arguments.length?(p=Math.max(0,Math.min(1,t)),e()):p},t.copy=function(){return vn().domain(s()).range(c).round(d).paddingInner(u).paddingOuter(h).align(p)},e()}function yn(e,n){return(n-=e=+e)?function(t){return(t-e)/n}:Ru(n)}function bn(t,e,n,i){var o=t[0],r=t[1],a=e[0],s=e[1];return a=r<o?(o=n(r,o),i(s,a)):(o=n(o,r),i(a,s)),function(t){return a(o(t))}}function _n(n,t,e,i){var o=Math.min(n.length,t.length)-1,r=new Array(o),a=new Array(o),s=-1;for(n[o]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++s<o;)r[s]=e(n[s],n[s+1]),a[s]=i(t[s],t[s+1]);return function(t){var e=Ua(n,t,1,o)-1;return a[e](r[e](t))}}function xn(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function wn(e,n){function i(){return r=2<Math.min(l.length,c.length)?_n:bn,a=s=null,t}function t(t){return(a||(a=r(l,c,u?(o=e,function(e,n){var i=o(e=+e,n=+n);return function(t){return t<=e?0:n<=t?1:i(t)}}):e,d)))(+t);var o}var r,a,s,l=Fu,c=Fu,d=vc,u=!1;return t.invert=function(t){return(s||(s=r(c,l,yn,u?(o=n,function(e,n){var i=o(e=+e,n=+n);return function(t){return t<=0?e:1<=t?n:i(t)}}):n)))(+t);var o},t.domain=function(t){return arguments.length?(l=Nu.call(t,$u),i()):l.slice()},t.range=function(t){return arguments.length?(c=Lu.call(t),i()):c.slice()},t.rangeRound=function(t){return c=Lu.call(t),d=yc,i()},t.clamp=function(t){return arguments.length?(u=!!t,i()):u},t.interpolate=function(t){return arguments.length?(d=t,i()):d},i()}function En(s){var l=s.domain;return s.ticks=function(t){var e=l();return is(e[0],e[e.length-1],null==t?10:t)},s.tickFormat=function(t,e){return zu(l(),t,e)},s.nice=function(t){var e=l(),n=e.length-1,i=null==t?10:t,o=e[0],r=e[n],a=M(o,r,i);return a&&(a=M(Math.floor(o/a)*a,Math.ceil(r/a)*a,i),e[0]=Math.floor(o/a)*a,e[n]=Math.ceil(r/a)*a,l(e)),s},s}function Mn(e,n){return(n=Math.log(n/e))?function(t){return Math.log(t/e)/n}:Ru(n)}function Tn(e,n){return e<0?function(t){return-Math.pow(-n,t)*Math.pow(-e,1-t)}:function(t){return Math.pow(n,t)*Math.pow(e,1-t)}}function Cn(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Sn(e){return 10===e?Cn:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function An(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function kn(e){return function(t){return-e(-t)}}function Dn(t,e){return t<0?-Math.pow(-t,e):Math.pow(t,e)}function On(){var i=1,t=wn(function(e,n){return(n=Dn(n,i)-(e=Dn(e,i)))?function(t){return(Dn(t,i)-e)/n}:Ru(n)},function(e,n){return n=Dn(n,i)-(e=Dn(e,i)),function(t){return Dn(e+n*t,1/i)}}),e=t.domain;return t.exponent=function(t){return arguments.length?(i=+t,e(e())):i},t.copy=function(){return xn(t,On().exponent(i))},En(t)}function Pn(t){return new Date(t)}function Nn(t){return t instanceof Date?+t:+new Date(+t)}function Ln(a,e,n,i,o,r,s,l,c){function d(t){return(s(t)<t?m:r(t)<t?g:o(t)<t?v:i(t)<t?y:e(t)<t?n(t)<t?b:_:a(t)<t?x:w)(t)}function u(t,e,n,i){if(null==t&&(t=10),"number"==typeof t){var o=Math.abs(n-e)/t,r=Ha(function(t){return t[2]}).right(E,o);t=r===E.length?(i=M(e/Yu,n/Yu,t),a):r?(i=(r=E[o/E[r-1][2]<E[r][2]/o?r-1:r])[1],r[0]):(i=M(e,n,t),l)}return null==i?t:t.every(i)}var h=wn(yn,hc),p=h.invert,f=h.domain,m=c(".%L"),g=c(":%S"),v=c("%I:%M"),y=c("%I %p"),b=c("%a %d"),_=c("%b %d"),x=c("%B"),w=c("%Y"),E=[[s,1,Bu],[s,5,5*Bu],[s,15,15*Bu],[s,30,30*Bu],[r,1,Uu],[r,5,5*Uu],[r,15,15*Uu],[r,30,30*Uu],[o,1,ju],[o,3,3*ju],[o,6,6*ju],[o,12,12*ju],[i,1,Vu],[i,2,2*Vu],[n,1,Gu],[e,1,Wu],[e,3,3*Wu],[a,1,Yu]];return h.invert=function(t){return new Date(p(t))},h.domain=function(t){return arguments.length?f(Nu.call(t,Nn)):f().map(Pn)},h.ticks=function(t,e){var n,i=f(),o=i[0],r=i[i.length-1],a=r<o;return a&&(n=o,o=r,r=n),n=(n=u(t,o,r,e))?n.range(o,r+1):[],a?n.reverse():n},h.tickFormat=function(t,e){return null==e?d:c(e)},h.nice=function(t,e){var n=f();return(t=u(t,n[0],n[n.length-1],e))?f(Hu(n,t)):h},h.copy=function(){return xn(h,Ln(a,e,n,i,o,r,s,l,c))},h}function In(e){var n=e.length;return function(t){return e[Math.max(0,Math.min(n-1,Math.floor(t*n)))]}}function Rn(){return new $n}function $n(){this._="@"+(++uh).toString(36)}function Fn(n,t,e){return n=zn(n,t,e),function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}function zn(n,i,o){return function(t){var e=H.event;H.event=t;try{n.call(this,this.__data__,i,o)}finally{H.event=e}}}function Hn(r){return function(){var t=this.__on;if(t){for(var e,n=0,i=-1,o=t.length;n<o;++n)e=t[n],r.type&&e.type!==r.type||e.name!==r.name?t[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?t.length=i:delete this.__on}}}function Bn(l,c,d){var u=gh.hasOwnProperty(l.type)?Fn:zn;return function(t,e,n){var i,o=this.__on,r=u(c,e,n);if(o)for(var a=0,s=o.length;a<s;++a)if((i=o[a]).type===l.type&&i.name===l.name)return this.removeEventListener(i.type,i.listener,i.capture),this.addEventListener(i.type,i.listener=r,i.capture=d),void(i.value=c);this.addEventListener(l.type,r,d),i={type:l.type,name:l.name,value:c,listener:r,capture:d},o?o.push(i):this.__on=[i]}}function Un(t,e,n,i){var o=H.event;t.sourceEvent=H.event,H.event=t;try{return e.apply(n,i)}finally{H.event=o}}function jn(){}function Vn(){return[]}function Gn(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function Wn(t,e,n,i,o,r){for(var a,s=0,l=e.length,c=r.length;s<c;++s)(a=e[s])?(a.__data__=r[s],i[s]=a):n[s]=new Gn(t,r[s]);for(;s<l;++s)(a=e[s])&&(o[s]=a)}function Yn(t,e,n,i,o,r,a){var s,l,c,d={},u=e.length,h=r.length,p=new Array(u);for(s=0;s<u;++s)(l=e[s])&&(p[s]=c="$"+a.call(l,l.__data__,s,e),c in d?o[s]=l:d[c]=l);for(s=0;s<h;++s)(l=d[c="$"+a.call(t,r[s],s,r)])?((i[s]=l).__data__=r[s],d[c]=null):n[s]=new Gn(t,r[s]);for(s=0;s<u;++s)(l=e[s])&&d[p[s]]===l&&(o[s]=l)}function qn(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function Xn(t){return t.trim().split(/^|\s+/)}function Zn(t){return t.classList||new Kn(t)}function Kn(t){this._node=t,this._names=Xn(t.getAttribute("class")||"")}function Qn(t,e){for(var n=Zn(t),i=-1,o=e.length;++i<o;)n.add(e[i])}function Jn(t,e){for(var n=Zn(t),i=-1,o=e.length;++i<o;)n.remove(e[i])}function ti(){this.textContent=""}function ei(){this.innerHTML=""}function ni(){this.nextSibling&&this.parentNode.appendChild(this)}function ii(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function oi(){return null}function ri(){var t=this.parentNode;t&&t.removeChild(this)}function ai(t,e,n){var i=Eh(t),o=i.CustomEvent;o?o=new o(e,n):(o=i.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function si(t,e){this._groups=t,this._parents=e}function li(){return new si([[document.documentElement]],Mh)}function ci(t,e){var n=t.__transition;if(!n||!(n=n[e])||n.state>kh)throw new Error("too late");return n}function di(t,e){var n=t.__transition;if(!n||!(n=n[e])||n.state>Dh)throw new Error("too late");return n}function ui(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("too late");return n}function hi(t,e,n){var i=t._id;return t.each(function(){var t=di(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return ui(t,i).value[e]}}function pi(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function fi(t){return li().transition(t)}function mi(){return++Ih}function gi(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return $h.time=ie(),$h;return n}function vi(t,e,n){var i=t(n);return"translate("+(isFinite(i)?i:e(n))+",0)"}function yi(t,e,n){var i=t(n);return"translate(0,"+(isFinite(i)?i:e(n))+")"}function bi(){return!this.__axis}function _i(b,_){function e(t){var e,n=null==w?_.ticks?_.ticks.apply(_,x):_.domain():w,i=null==E?_.tickFormat?_.tickFormat.apply(_,x):Hh:E,o=Math.max(M,0)+C,r=b===Bh||b===jh?vi:yi,a=_.range(),s=a[0]+.5,l=a[a.length-1]+.5,c=(_.bandwidth?function(e){var n=e.bandwidth()/2;return e.round()&&(n=Math.round(n)),function(t){return e(t)+n}}:Hh)(_.copy()),d=t.selection?t.selection():t,u=d.selectAll(".domain").data([null]),h=d.selectAll(".tick").data(n,_).order(),p=h.exit(),f=h.enter().append("g").attr("class","tick"),m=h.select("line"),g=h.select("text"),v=b===Bh||b===Vh?-1:1,y=b===Vh||b===Uh?(e="x","y"):(e="y","x");u=u.merge(u.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),h=h.merge(f),m=m.merge(f.append("line").attr("stroke","#000").attr(e+"2",v*M).attr(y+"1",.5).attr(y+"2",.5)),g=g.merge(f.append("text").attr("fill","#000").attr(e,v*o).attr(y,.5).attr("dy",b===Bh?"0em":b===jh?"0.71em":"0.32em")),t!==d&&(u=u.transition(t),h=h.transition(t),m=m.transition(t),g=g.transition(t),p=p.transition(t).attr("opacity",Gh).attr("transform",function(t){return r(c,this.parentNode.__axis||c,t)}),f.attr("opacity",Gh).attr("transform",function(t){return r(this.parentNode.__axis||c,c,t)})),p.remove(),u.attr("d",b===Vh||b==Uh?"M"+v*T+","+s+"H0.5V"+l+"H"+v*T:"M"+s+","+v*T+"V0.5H"+l+"V"+v*T),h.attr("opacity",1).attr("transform",function(t){return r(c,c,t)}),m.attr(e+"2",v*M),g.attr(e,v*o).text(i),d.filter(bi).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",b===Uh?"start":b===Vh?"end":"middle"),d.each(function(){this.__axis=c})}var x=[],w=null,E=null,M=6,T=6,C=3;return e.scale=function(t){return arguments.length?(_=t,e):_},e.ticks=function(){return x=zh.call(arguments),e},e.tickArguments=function(t){return arguments.length?(x=null==t?[]:zh.call(t),e):x.slice()},e.tickValues=function(t){return arguments.length?(w=null==t?null:zh.call(t),e):w&&w.slice()},e.tickFormat=function(t){return arguments.length?(E=t,e):E},e.tickSize=function(t){return arguments.length?(M=T=+t,e):M},e.tickSizeInner=function(t){return arguments.length?(M=+t,e):M},e.tickSizeOuter=function(t){return arguments.length?(T=+t,e):T},e.tickPadding=function(t){return arguments.length?(C=+t,e):C},e}function xi(t,e){return t.parent===e.parent?1:2}function wi(t,e){return t+e.x}function Ei(t,e){return Math.max(t,e.y)}function Mi(t,e){var n,i,o,r,a,s=new Ai(t),l=+t.value&&(s.value=t.value),c=[s];for(null==e&&(e=Ti);n=c.pop();)if(l&&(n.value=+n.data.value),(o=e(n.data))&&(a=o.length))for(n.children=new Array(a),r=a-1;0<=r;--r)c.push(i=n.children[r]=new Ai(o[r])),i.parent=n,i.depth=n.depth+1;return s.eachBefore(Si)}function Ti(t){return t.children}function Ci(t){t.data=t.data.data}function Si(t){for(var e=0;t.height=e,(t=t.parent)&&t.height<++e;);}function Ai(t){this.data=t,this.depth=this.height=0,this.parent=null}function ki(t){this._=t,this.next=null}function Di(t,e){var n,i,o,r,a,s,l,c,d,u,h,p,f,m,g,v,y,b,_,x,w,E,M,T,C,S,A,k,D,O,P,N,L,I,R,$,F,z,H,B,U,j,V,G,W,Y,q,X,Z,K,Q=null,J=t.head;switch(e.length){case 1:n={x:(W=e[0]).x,y:W.y,r:W.r};break;case 2:L=e[0],I=e[1],R=L.x,$=L.y,F=L.r,z=I.x,H=I.y,B=I.r,U=z-R,j=H-$,V=B-F,G=Math.sqrt(U*U+j*j),n={x:(R+z+U/G*V)/2,y:($+H+j/G*V)/2,r:(G+F+B)/2};break;case 3:r=e[0],a=e[1],s=e[2],l=r.x,c=r.y,d=r.r,u=a.x,h=a.y,p=a.r,f=s.x,m=s.y,g=s.r,D=(S=((w=2*(c-m))*(b=2*(p-d))-(y=2*(c-h))*(E=2*(g-d)))/(T=(x=2*(l-f))*y-(v=2*(l-u))*w))*S+(k=(v*E-x*b)/T)*k-1,P=(C=(y*(M=l*l+c*c-d*d-f*f-m*m+g*g)-w*(_=l*l+c*c-d*d-u*u-h*h+p*p))/T-l)*C+(A=(x*_-v*M)/T-c)*A-d*d,N=(-(O=2*(C*S+A*k+d))-Math.sqrt(O*O-4*D*P))/(2*D),n={x:C+S*N+l,y:A+k*N+c,r:N}}for(;J;)o=J._,i=J.next,n&&(Y=n,void 0,X=(q=o).x-Y.x,Z=q.y-Y.y,K=Y.r-q.r,X*X+Z*Z<K*K+1e-6)?Q=J:(Q?(t.tail=Q).next=null:t.head=t.tail=null,e.push(o),n=Di(t,e),e.pop(),t.head?(J.next=t.head,t.head=J):(J.next=null,t.head=t.tail=J),(Q=t.tail).next=i),J=i;return t.tail=Q,n}function Oi(t,e,n){var i=t.x,o=t.y,r=e.r+n.r,a=t.r+n.r,s=e.x-i,l=e.y-o,c=s*s+l*l;if(c){var d=.5+((a*=a)-(r*=r))/(2*c),u=Math.sqrt(Math.max(0,2*r*(a+c)-(a-=c)*a-r*r))/(2*c);n.x=i+d*s+u*l,n.y=o+d*l-u*s}else n.x=i+a,n.y=o}function Pi(t,e){var n=e.x-t.x,i=e.y-t.y,o=t.r+e.r;return n*n+i*i<o*o}function Ni(t,e,n){var i=t.x-e,o=t.y-n;return i*i+o*o}function Li(t){this._=t,this.next=null,this.previous=null}function Ii(t){if(!(o=t.length))return 0;var e,n,i,o;if((e=t[0]).x=0,e.y=0,!(1<o))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(2<o))return e.r+n.r;Oi(n,e,i=t[2]);var r,a,s,l,c,d,u,h=e.r*e.r,p=n.r*n.r,f=i.r*i.r,m=h+p+f,g=h*e.x+p*n.x+f*i.x,v=h*e.y+p*n.y+f*i.y;e=new Li(e),n=new Li(n),i=new Li(i),e.next=i.previous=n,n.next=e.previous=i,i.next=n.previous=e;t:for(s=3;s<o;++s){if(Oi(e._,n._,i=t[s]),i=new Li(i),(c=e.previous)===(l=n.next)){if(Pi(l._,i._)){e=n,n=l,--s;continue t}}else{d=l._.r,u=c._.r;do{if(d<=u){if(Pi(l._,i._)){n=l,(e.next=n).previous=e,--s;continue t}d+=(l=l.next)._.r}else{if(Pi(c._,i._)){((e=c).next=n).previous=e,--s;continue t}u+=(c=c.previous)._.r}}while(l!==c.next)}for(i.previous=e,i.next=n,e.next=n.previous=n=i,m+=f=i._.r*i._.r,g+=f*i._.x,v+=f*i._.y,h=Ni(e._,r=g/m,a=v/m);(i=i.next)!==n;)(f=Ni(i._,r,a))<h&&(e=i,h=f);n=e.next}for(e=[n._],i=n;(i=i.next)!==n;)e.push(i._);for(i=Wh(e),s=0;s<o;++s)(e=t[s]).x-=i.x,e.y-=i.y;return i.r}function Ri(t){if("function"!=typeof t)throw new Error;return t}function $i(){return 0}function Fi(t){return Math.sqrt(t.value)}function zi(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function Hi(a,s){return function(t){if(e=t.children){var e,n,i,o=e.length,r=a(t)*s||0;if(r)for(n=0;n<o;++n)e[n].r+=r;if(i=Ii(e),r)for(n=0;n<o;++n)e[n].r-=r;t.r=i+r}}}function Bi(n){return function(t){var e=t.parent;t.r*=n,e&&(t.x=e.x+n*t.x,t.y=e.y+n*t.y)}}function Ui(t){return t.id}function ji(t){return t.parentId}function Vi(t,e){return t.parent===e.parent?1:2}function Gi(t){var e=t.children;return e?e[0]:t.t}function Wi(t){var e=t.children;return e?e[e.length-1]:t.t}function Yi(t,e){this._=t,this.parent=null,this.children=null,this.A=null,(this.a=this).z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function qi(t,e,n,i,o,r){for(var a,s,l,c,d,u,h,p,f,m,g,v=[],y=e.children,b=0,_=0,x=y.length,w=e.value;b<x;){for(l=o-n,c=r-i;!(d=y[_++].value)&&_<x;);for(u=h=d,g=d*d*(m=Math.max(c/l,l/c)/(w*t)),f=Math.max(h/g,g/u);_<x;++_){if(d+=s=y[_].value,s<u&&(u=s),h<s&&(h=s),g=d*d*m,f<(p=Math.max(h/g,g/u))){d-=s;break}f=p}v.push(a={value:d,dice:l<c,children:y.slice(b,_)}),a.dice?Xh(a,n,i,o,w?i+=c*d/w:r):Qh(a,n,i,w?n+=l*d/w:o,r),w-=d,b=_}return v}function Xi(t){return t.x+t.vx}function Zi(t){return t.y+t.vy}function Ki(t){return t.index}function Qi(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function Ji(t){return t.x}function to(t){return t.y}function eo(){H.event.stopImmediatePropagation()}function no(t,e){var n=t.document.documentElement,i=Th(t).on("dragstart.drag",null);e&&(i.on("click.drag",rp,!0),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function io(t,e,n,i,o,r,a,s,l,c){this.target=t,this.type=e,this.subject=n,this.identifier=i,this.active=o,this.x=r,this.y=a,this.dx=s,this.dy=l,this._=c}function oo(){return!H.event.button}function ro(){return this.parentNode}function ao(t){return null==t?{x:H.event.x,y:H.event.y}:t}function so(t){return t[0]}function lo(t){return t[1]}function co(){this._=null}function uo(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function ho(t,e){var n=e,i=e.R,o=n.U;o?o.L===n?o.L=i:o.R=i:t._=i,i.U=o,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function po(t,e){var n=e,i=e.L,o=n.U;o?o.L===n?o.L=i:o.R=i:t._=i,i.U=o,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function fo(t){for(;t.L;)t=t.L;return t}function mo(t,e,n,i){var o=[null,null],r=pp.push(o)-1;return o.left=t,o.right=e,n&&vo(o,t,e,n),i&&vo(o,e,t,i),up[t.index].halfedges.push(r),up[e.index].halfedges.push(r),o}function go(t,e,n){var i=[e,n];return i.left=t,i}function vo(t,e,n,i){t[0]||t[1]?t.left===n?t[1]=i:t[0]=i:(t[0]=i,t.left=e,t.right=n)}function yo(t,e,n,i,o){var r,a=t[0],s=t[1],l=a[0],c=a[1],d=0,u=1,h=s[0]-l,p=s[1]-c;if(r=e-l,h||!(0<r)){if(r/=h,h<0){if(r<d)return;r<u&&(u=r)}else if(0<h){if(u<r)return;d<r&&(d=r)}if(r=i-l,h||!(r<0)){if(r/=h,h<0){if(u<r)return;d<r&&(d=r)}else if(0<h){if(r<d)return;r<u&&(u=r)}if(r=n-c,p||!(0<r)){if(r/=p,p<0){if(r<d)return;r<u&&(u=r)}else if(0<p){if(u<r)return;d<r&&(d=r)}if(r=o-c,p||!(r<0)){if(r/=p,p<0){if(u<r)return;d<r&&(d=r)}else if(0<p){if(r<d)return;r<u&&(u=r)}return!(0<d||u<1)||(0<d&&(t[0]=[l+d*h,c+d*p]),u<1&&(t[1]=[l+u*h,c+u*p]),!0)}}}}}function bo(t,e,n,i,o){var r=t[1];if(r)return!0;var a,s,l=t[0],c=t.left,d=t.right,u=c[0],h=c[1],p=d[0],f=d[1],m=(u+p)/2,g=(h+f)/2;if(f===h){if(m<e||i<=m)return;if(p<u){if(l){if(l[1]>=o)return}else l=[m,n];r=[m,o]}else{if(l){if(l[1]<n)return}else l=[m,o];r=[m,n]}}else if(s=g-(a=(u-p)/(f-h))*m,a<-1||1<a)if(p<u){if(l){if(l[1]>=o)return}else l=[(n-s)/a,n];r=[(o-s)/a,o]}else{if(l){if(l[1]<n)return}else l=[(o-s)/a,o];r=[(n-s)/a,n]}else if(h<f){if(l){if(l[0]>=i)return}else l=[e,a*e+s];r=[i,a*i+s]}else{if(l){if(l[0]<e)return}else l=[i,a*i+s];r=[e,a*e+s]}return t[0]=l,t[1]=r,!0}function _o(t,e){return e[+(e.left!==t.site)]}function xo(){uo(this),this.x=this.y=this.arc=this.site=this.cy=null}function wo(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,o=t.site,r=n.site;if(i!==r){var a=o[0],s=o[1],l=i[0]-a,c=i[1]-s,d=r[0]-a,u=r[1]-s,h=2*(l*u-c*d);if(!(-vp<=h)){var p=l*l+c*c,f=d*d+u*u,m=(u*p-c*f)/h,g=(l*f-d*p)/h,v=fp.pop()||new xo;v.arc=t,v.site=o,v.x=m+a,v.y=(v.cy=g+s)+Math.sqrt(m*m+g*g),t.circle=v;for(var y=null,b=hp._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}hp.insert(y,v),y||(cp=v)}}}}function Eo(t){var e=t.circle;e&&(e.P||(cp=e.N),hp.remove(e),fp.push(e),uo(e),t.circle=null)}function Mo(){uo(this),this.edge=this.site=this.circle=null}function To(t){var e=mp.pop()||new Mo;return e.site=t,e}function Co(t){Eo(t),dp.remove(t),mp.push(t),uo(t)}function So(t){var e=t.circle,n=e.x,i=e.cy,o=[n,i],r=t.P,a=t.N,s=[t];Co(t);for(var l=r;l.circle&&Math.abs(n-l.circle.x)<gp&&Math.abs(i-l.circle.cy)<gp;)r=l.P,s.unshift(l),Co(l),l=r;s.unshift(l),Eo(l);for(var c=a;c.circle&&Math.abs(n-c.circle.x)<gp&&Math.abs(i-c.circle.cy)<gp;)a=c.N,s.push(c),Co(c),c=a;s.push(c),Eo(c);var d,u=s.length;for(d=1;d<u;++d)c=s[d],l=s[d-1],vo(c.edge,l.site,c.site,o);l=s[0],(c=s[u-1]).edge=mo(l.site,c.site,null,o),wo(l),wo(c)}function Ao(t){for(var e,n,i,o,r=t[0],a=t[1],s=dp._;s;)if(i=ko(s,a)-r,gp<i)s=s.L;else{if(o=r-Do(s,a),!(gp<o)){-gp<i?(e=s.P,n=s):-gp<o?n=(e=s).N:e=n=s;break}if(!s.R){e=s;break}s=s.R}var l;up[(l=t).index]={site:l,halfedges:[]};var c=To(t);if(dp.insert(e,c),e||n){if(e===n)return Eo(e),n=To(e.site),dp.insert(c,n),c.edge=n.edge=mo(e.site,c.site),wo(e),void wo(n);if(!n)return void(c.edge=mo(e.site,c.site));Eo(e),Eo(n);var d=e.site,u=d[0],h=d[1],p=t[0]-u,f=t[1]-h,m=n.site,g=m[0]-u,v=m[1]-h,y=2*(p*v-f*g),b=p*p+f*f,_=g*g+v*v,x=[(v*b-f*_)/y+u,(p*_-g*b)/y+h];vo(n.edge,d,m,x),c.edge=mo(d,t,null,x),n.edge=mo(t,m,null,x),wo(e),wo(n)}}function ko(t,e){var n=t.site,i=n[0],o=n[1],r=o-e;if(!r)return i;var a=t.P;if(!a)return-1/0;var s=(n=a.site)[0],l=n[1],c=l-e;if(!c)return s;var d=s-i,u=1/r-1/c,h=d/c;return u?(-h+Math.sqrt(h*h-2*u*(d*d/(-2*c)-l+c/2+o-r/2)))/u+i:(i+s)/2}function Do(t,e){var n=t.N;if(n)return ko(n,e);var i=t.site;return i[1]===e?i[0]:1/0}function Oo(t,e){return e[1]-t[1]||e[0]-t[0]}function Po(t,e){var n,i,o,r=t.sort(Oo).pop();for(pp=[],up=new Array(t.length),dp=new co,hp=new co;;)if(o=cp,r&&(!o||r[1]<o.y||r[1]===o.y&&r[0]<o.x))r[0]===n&&r[1]===i||(Ao(r),n=r[0],i=r[1]),r=t.pop();else{if(!o)break;So(o.arc)}if(function(){for(var t,e,n,i,o=0,r=up.length;o<r;++o)if((t=up[o])&&(i=(e=t.halfedges).length)){var a=new Array(i),s=new Array(i);for(n=0;n<i;++n)a[n]=n,s[n]=(l=t,c=pp[e[n]],h=u=void 0,d=l.site,u=c.left,h=c.right,d===h&&(h=u,u=d),h?Math.atan2(h[1]-u[1],h[0]-u[0]):(h=d===u?(u=c[1],c[0]):(u=c[0],c[1]),Math.atan2(u[0]-h[0],h[1]-u[1])));for(a.sort(function(t,e){return s[e]-s[t]}),n=0;n<i;++n)s[n]=e[a[n]];for(n=0;n<i;++n)e[n]=s[n]}var l,c,d,u,h}(),e){var a=+e[0][0],s=+e[0][1],l=+e[1][0],c=+e[1][1];(function(t,e,n,i){for(var o,r=pp.length;r--;)bo(o=pp[r],t,e,n,i)&&yo(o,t,e,n,i)&&(Math.abs(o[0][0]-o[1][0])>gp||Math.abs(o[0][1]-o[1][1])>gp)||delete pp[r]})(a,s,l,c),function(t,e,n,i){var o,r,a,s,l,c,d,u,h,p,f,m,g,v,y=up.length,b=!0;for(o=0;o<y;++o)if(r=up[o]){for(a=r.site,s=(l=r.halfedges).length;s--;)pp[l[s]]||l.splice(s,1);for(s=0,c=l.length;s<c;)g=r,f=(p=(v=pp[l[s]])[+(v.left===g.site)])[0],m=p[1],u=(d=_o(r,pp[l[++s%c]]))[0],h=d[1],(Math.abs(f-u)>gp||Math.abs(m-h)>gp)&&(l.splice(s,0,pp.push(go(a,p,Math.abs(f-t)<gp&&gp<i-m?[t,Math.abs(u-t)<gp?h:i]:Math.abs(m-i)<gp&&gp<n-f?[Math.abs(h-i)<gp?u:n,i]:Math.abs(f-n)<gp&&gp<m-e?[n,Math.abs(u-n)<gp?h:e]:Math.abs(m-e)<gp&&gp<f-t?[Math.abs(h-e)<gp?u:t,e]:null))-1),++c);c&&(b=!1)}if(b){var _,x,w,E=1/0;for(o=0,b=null;o<y;++o)(r=up[o])&&(w=(_=(a=r.site)[0]-t)*_+(x=a[1]-e)*x)<E&&(E=w,b=r);if(b){var M=[t,e],T=[t,i],C=[n,i],S=[n,e];b.halfedges.push(pp.push(go(a=b.site,M,T))-1,pp.push(go(a,T,C))-1,pp.push(go(a,C,S))-1,pp.push(go(a,S,M))-1)}}for(o=0;o<y;++o)(r=up[o])&&(r.halfedges.length||delete up[o])}(a,s,l,c)}this.edges=pp,this.cells=up,dp=hp=pp=up=null}function No(t,e,n){this.target=t,this.type=e,this.transform=n}function Lo(t,e,n){this.k=t,this.x=e,this.y=n}function Io(t){return t.__zoom||bp}function Ro(){H.event.stopImmediatePropagation()}function $o(){return!H.event.button}function Fo(){var t,e,n=this;return e=n instanceof SVGElement?(t=(n=n.ownerSVGElement||n).width.baseVal.value,n.height.baseVal.value):(t=n.clientWidth,n.clientHeight),[[0,0],[t,e]]}function zo(){return this.__zoom||bp}function Ho(){H.event.stopImmediatePropagation()}function Bo(t){return{type:t}}function Uo(){return!H.event.button}function jo(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Vo(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Go(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Wo(I){function e(t){var e=t.property("__brush",o).selectAll(".overlay").data([Bo("overlay")]);e.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Op.overlay).merge(e).each(function(){var t=Vo(this).extent;Th(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),t.selectAll(".selection").data([Bo("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Op.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var n=t.selectAll(".handle").data(I.handles,function(t){return t.type});n.exit().remove(),n.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return Op[t.type]}),t.each(R).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",i)}function R(){var t=Th(this),e=Vo(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?e[1][0]-s/2:e[0][0]-s/2}).attr("y",function(t){return"s"===t.type[0]?e[1][1]-s/2:e[0][1]-s/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+s:s}).attr("height",function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+s:s})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function $(t,e){return t.__brush.emitter||new n(t,e)}function n(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function i(){function t(){var t=bh(g);!A||f||m||(Math.abs(t[0]-D[0])>Math.abs(t[1]-D[1])?m=!0:f=!0),D=t,p=!0,Ep(),e()}function e(){var t;switch(u=D[0]-k[0],h=D[1]-k[1],y){case Tp:case Mp:b&&(u=Math.max(M-i,Math.min(C-s,u)),o=i+u,l=s+u),_&&(h=Math.max(T-r,Math.min(S-c,h)),a=r+h,d=c+h);break;case Cp:b<0?(u=Math.max(M-i,Math.min(C-i,u)),o=i+u,l=s):0<b&&(u=Math.max(M-s,Math.min(C-s,u)),o=i,l=s+u),_<0?(h=Math.max(T-r,Math.min(S-r,h)),a=r+h,d=c):0<_&&(h=Math.max(T-c,Math.min(S-c,h)),a=r,d=c+h);break;case Sp:b&&(o=Math.max(M,Math.min(C,i-u*b)),l=Math.max(M,Math.min(C,s+u*b))),_&&(a=Math.max(T,Math.min(S,r-h*_)),d=Math.max(T,Math.min(S,c+h*_)))}l<o&&(b*=-1,t=i,i=s,s=t,t=o,o=l,l=t,v in Pp&&N.attr("cursor",Op[v=Pp[v]])),d<a&&(_*=-1,t=r,r=c,c=t,t=a,a=d,d=t,v in Np&&N.attr("cursor",Op[v=Np[v]])),x.selection&&(E=x.selection),f&&(o=E[0][0],l=E[1][0]),m&&(a=E[0][1],d=E[1][1]),E[0][0]===o&&E[0][1]===a&&E[1][0]===l&&E[1][1]===d||(x.selection=[[o,a],[l,d]],R.call(g),O.brush())}function n(){if(Ho(),H.event.touches){if(H.event.touches.length)return;F&&clearTimeout(F),F=setTimeout(function(){F=null},500),P.on("touchmove.brush touchend.brush touchcancel.brush",null)}else no(H.event.view,p),L.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);P.attr("pointer-events","all"),N.attr("cursor",Op.overlay),x.selection&&(E=x.selection),Go(E)&&(x.selection=null,R.call(g)),O.end()}if(H.event.touches){if(H.event.changedTouches.length<H.event.touches.length)return Ep()}else if(F)return;if(z.apply(this,arguments)){var i,o,r,a,s,l,c,d,u,h,p,f,m,g=this,v=H.event.target.__data__.type,y="selection"===(H.event.metaKey?v="overlay":v)?Mp:H.event.altKey?Sp:Cp,b=I===kp?null:Lp[v],_=I===Ap?null:Ip[v],x=Vo(g),w=x.extent,E=x.selection,M=w[0][0],T=w[0][1],C=w[1][0],S=w[1][1],A=b&&_&&H.event.shiftKey,k=bh(g),D=k,O=$(g,arguments).beforestart();"overlay"===v?x.selection=E=[[i=I===kp?M:k[0],r=I===Ap?T:k[1]],[s=I===kp?C:i,c=I===Ap?S:r]]:(i=E[0][0],r=E[0][1],s=E[1][0],c=E[1][1]),o=i,a=r,l=s,d=c;var P=Th(g).attr("pointer-events","none"),N=P.selectAll(".overlay").attr("cursor",Op[v]);if(H.event.touches)P.on("touchmove.brush",t,!0).on("touchend.brush touchcancel.brush",n,!0);else{var L=Th(H.event.view).on("keydown.brush",function(){switch(H.event.keyCode){case 16:A=b&&_;break;case 18:y===Cp&&(b&&(s=l-u*b,i=o+u*b),_&&(c=d-h*_,r=a+h*_),y=Sp,e());break;case 32:y!==Cp&&y!==Sp||(b<0?s=l-u:0<b&&(i=o-u),_<0?c=d-h:0<_&&(r=a-h),y=Tp,N.attr("cursor",Op.selection),e());break;default:return}Ep()},!0).on("keyup.brush",function(){switch(H.event.keyCode){case 16:A&&(f=m=A=!1,e());break;case 18:y===Sp&&(b<0?s=l:0<b&&(i=o),_<0?c=d:0<_&&(r=a),y=Cp,e());break;case 32:y===Tp&&(y=H.event.altKey?(b&&(s=l-u*b,i=o+u*b),_&&(c=d-h*_,r=a+h*_),Sp):(b<0?s=l:0<b&&(i=o),_<0?c=d:0<_&&(r=a),Cp),N.attr("cursor",Op[v]),e());break;default:return}Ep()},!0).on("mousemove.brush",t,!0).on("mouseup.brush",n,!0);ap(H.event.view)}Ho(),Ph(g),R.call(g),O.start()}}function o(){var t=this.__brush||{selection:null};return t.extent=r.apply(this,arguments),t.dim=I,t}var F,r=jo,z=Uo,a=Qt(e,"start","brush","end"),s=6;return e.move=function(t,s){t.selection?t.on("start.brush",function(){$(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){$(this,arguments).end()}).tween("brush",function(){function t(t){n.selection=1===t&&Go(r)?null:a(t),R.call(e),i.brush()}var e=this,n=e.__brush,i=$(e,arguments),o=n.selection,r=I.input("function"==typeof s?s.apply(this,arguments):s,n.extent),a=vc(o,r);return o&&r?t:t(1)}):t.each(function(){var t=arguments,e=this.__brush,n=I.input("function"==typeof s?s.apply(this,t):s,e.extent),i=$(this,t).beforestart();Ph(this),e.selection=null==n||Go(n)?null:n,R.call(this),i.start().brush().end()})},n.prototype={beforestart:function(){return 1==++this.active&&((this.state.emitter=this).starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(t){Un(new wp(e,t,I.output(this.state.selection)),a.apply,a,[t,this.that,this.args])}},e.extent=function(t){return arguments.length?(r="function"==typeof t?t:xp([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),e):r},e.filter=function(t){return arguments.length?(z="function"==typeof t?t:xp(!!t),e):z},e.handleSize=function(t){return arguments.length?(s=+t,e):s},e.on=function(){var t=a.on.apply(a,arguments);return t===a?e:t},e}function Yo(t){return t.source}function qo(t){return t.target}function Xo(t){return t.radius}function Zo(t){return t.startAngle}function Ko(t){return t.endAngle}function Qo(){this.reset()}function Jo(t,e,n){var i=t.s=e+n,o=i-e,r=i-o;t.t=e-r+(n-o)}function tr(t){return 1<t?0:t<-1?Tf:Math.acos(t)}function er(t){return 1<t?Cf:t<-1?-Cf:Math.asin(t)}function nr(t){return(t=zf(t/2))*t}function ir(){}function or(t,e){t&&Vf.hasOwnProperty(t.type)&&Vf[t.type](t,e)}function rr(t,e,n){var i,o=-1,r=t.length-n;for(e.lineStart();++o<r;)i=t[o],e.point(i[0],i[1],i[2]);e.lineEnd()}function ar(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)rr(t[n],e,1);e.polygonEnd()}function sr(){qf.point=cr}function lr(){dr(Gp,Wp)}function cr(t,e){qf.point=dr,Gp=t,Wp=e,Yp=t*=Df,qp=Lf(e=(e*=Df)/2+Sf),Xp=zf(e)}function dr(t,e){var n=(t*=Df)-Yp,i=0<=n?1:-1,o=i*n,r=Lf(e=(e*=Df)/2+Sf),a=zf(e),s=Xp*a,l=qp*r+s*Lf(o),c=s*i*zf(o);Wf.add(Nf(c,l)),Yp=t,qp=r,Xp=a}function ur(t){return[Nf(t[1],t[0]),er(t[2])]}function hr(t){var e=t[0],n=t[1],i=Lf(n);return[i*Lf(e),i*zf(e),zf(n)]}function pr(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function fr(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function mr(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function gr(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function vr(t){var e=Bf(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function yr(t,e){rf.push(af=[Zp=t,Qp=t]),e<Kp&&(Kp=e),Jp<e&&(Jp=e)}function br(t,e){var n=hr([t*Df,e*Df]);if(of){var i=fr(of,n),o=fr([i[1],-i[0],0],i);vr(o),o=ur(o);var r,a=t-tf,s=0<a?1:-1,l=o[0]*kf*s,c=180<Of(a);c^(s*tf<l&&l<s*t)?(r=o[1]*kf,Jp<r&&(Jp=r)):c^(s*tf<(l=(l+360)%360-180)&&l<s*t)?(r=-o[1]*kf)<Kp&&(Kp=r):(e<Kp&&(Kp=e),Jp<e&&(Jp=e)),c?t<tf?Tr(Zp,t)>Tr(Zp,Qp)&&(Qp=t):Tr(t,Qp)>Tr(Zp,Qp)&&(Zp=t):Zp<=Qp?(t<Zp&&(Zp=t),Qp<t&&(Qp=t)):tf<t?Tr(Zp,t)>Tr(Zp,Qp)&&(Qp=t):Tr(t,Qp)>Tr(Zp,Qp)&&(Zp=t)}else yr(t,e);of=n,tf=t}function _r(){Zf.point=br}function xr(){af[0]=Zp,af[1]=Qp,Zf.point=yr,of=null}function wr(t,e){if(of){var n=t-tf;Xf.add(180<Of(n)?n+(0<n?360:-360):n)}else ef=t,nf=e;qf.point(t,e),br(t,e)}function Er(){qf.lineStart()}function Mr(){wr(ef,nf),qf.lineEnd(),Of(Xf)>Mf&&(Zp=-(Qp=180)),af[0]=Zp,af[1]=Qp,of=null}function Tr(t,e){return(e-=t)<0?e+360:e}function Cr(t,e){return t[0]-e[0]}function Sr(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function Ar(t,e){t*=Df;var n=Lf(e*=Df);kr(n*Lf(t),n*zf(t),zf(e))}function kr(t,e,n){cf+=(t-cf)/++sf,df+=(e-df)/sf,uf+=(n-uf)/sf}function Dr(){Kf.point=Or}function Or(t,e){t*=Df;var n=Lf(e*=Df);_f=n*Lf(t),xf=n*zf(t),wf=zf(e),Kf.point=Pr,kr(_f,xf,wf)}function Pr(t,e){t*=Df;var n=Lf(e*=Df),i=n*Lf(t),o=n*zf(t),r=zf(e),a=Nf(Bf((a=xf*r-wf*o)*a+(a=wf*i-_f*r)*a+(a=_f*o-xf*i)*a),_f*i+xf*o+wf*r);lf+=a,hf+=a*(_f+(_f=i)),pf+=a*(xf+(xf=o)),ff+=a*(wf+(wf=r)),kr(_f,xf,wf)}function Nr(){Kf.point=Ar}function Lr(){Kf.point=Rr}function Ir(){$r(yf,bf),Kf.point=Ar}function Rr(t,e){yf=t,bf=e,t*=Df,e*=Df,Kf.point=$r;var n=Lf(e);_f=n*Lf(t),xf=n*zf(t),wf=zf(e),kr(_f,xf,wf)}function $r(t,e){t*=Df;var n=Lf(e*=Df),i=n*Lf(t),o=n*zf(t),r=zf(e),a=xf*r-wf*o,s=wf*i-_f*r,l=_f*o-xf*i,c=Bf(a*a+s*s+l*l),d=_f*i+xf*o+wf*r,u=c&&-tr(d)/c,h=Nf(c,d);mf+=u*a,gf+=u*s,vf+=u*l,lf+=h,hf+=h*(_f+(_f=i)),pf+=h*(xf+(xf=o)),ff+=h*(wf+(wf=r)),kr(_f,xf,wf)}function Fr(t,e){return[Tf<t?t-Af:t<-Tf?t+Af:t,e]}function zr(t,e,n){return(t%=Af)?e||n?Jf(Br(t),Ur(e,n)):Br(t):e||n?Ur(e,n):Fr}function Hr(n){return function(t,e){return[Tf<(t+=n)?t-Af:t<-Tf?t+Af:t,e]}}function Br(t){var e=Hr(t);return e.invert=Hr(-t),e}function Ur(t,e){function n(t,e){var n=Lf(e),i=Lf(t)*n,o=zf(t)*n,r=zf(e),a=r*s+i*l;return[Nf(o*c-a*d,i*s-r*l),er(a*c+o*d)]}var s=Lf(t),l=zf(t),c=Lf(e),d=zf(e);return n.invert=function(t,e){var n=Lf(e),i=Lf(t)*n,o=zf(t)*n,r=zf(e),a=r*c-o*d;return[Nf(o*c+r*d,i*s+a*l),er(a*s-i*l)]},n}function jr(t,e,n,i,o,r){if(n){var a=Lf(e),s=zf(e),l=i*n;null==o?(o=e+i*Af,r=e-l/2):(o=Vr(a,o),r=Vr(a,r),(0<i?o<r:r<o)&&(o+=i*Af));for(var c,d=o;0<i?r<d:d<r;d-=l)c=ur([a,-s*Lf(d),-s*zf(d)]),t.point(c[0],c[1])}}function Vr(t,e){(e=hr(e))[0]-=t,vr(e);var n=tr(-e[1]);return((-e[2]<0?-n:n)+Af-Mf)%Af}function Gr(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function Wr(t){if(e=t.length){for(var e,n,i=0,o=t[0];++i<e;)o.n=n=t[i],n.p=o,o=n;o.n=n=t[0],n.p=o}}function Yr(v,y,b,_){function x(t,e){return v<=t&&t<=b&&y<=e&&e<=_}function w(t,e,n,i){var o=0,r=0;if(null==t||(o=a(t,n))!==(r=a(e,n))||s(t,e)<0^0<n)for(;i.point(0===o||3===o?v:b,1<o?_:y),(o=(o+n+4)%4)!==r;);else i.point(e[0],e[1])}function a(t,e){return Of(t[0]-v)<Mf?0<e?0:3:Of(t[0]-b)<Mf?0<e?2:1:Of(t[1]-y)<Mf?0<e?1:0:0<e?3:2}function E(t,e){return s(t.x,e.x)}function s(t,e){var n=a(t,1),i=a(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(i){function t(t,e){x(t,e)&&m.point(t,e)}function e(t,e){var n=x(t,e);if(u&&r.push([t,e]),p)a=t,s=e,p=!1,(l=n)&&(m.lineStart(),m.point(t,e));else if(n&&h)m.point(t,e);else{var i=[c=Math.max(gm,Math.min(mm,c)),d=Math.max(gm,Math.min(mm,d))],o=[t=Math.max(gm,Math.min(mm,t)),e=Math.max(gm,Math.min(mm,e))];hm(i,o,v,y,b,_)?(h||(m.lineStart(),m.point(i[0],i[1])),m.point(o[0],o[1]),n||m.lineEnd(),f=!1):n&&(m.lineStart(),m.point(t,e),f=!1)}c=t,d=e,h=n}var o,u,r,a,s,l,c,d,h,p,f,m=i,n=um(),g={point:t,lineStart:function(){g.point=e,u&&u.push(r=[]),h=!(p=!0),c=d=NaN},lineEnd:function(){o&&(e(a,s),l&&h&&n.rejoin(),o.push(n.result())),g.point=t,h&&m.lineEnd()},polygonStart:function(){m=n,o=[],u=[],f=!0},polygonEnd:function(){var t=function(){for(var t=0,e=0,n=u.length;e<n;++e)for(var i,o,r=u[e],a=1,s=r.length,l=r[0],c=l[0],d=l[1];a<s;++a)i=c,o=d,c=(l=r[a])[0],d=l[1],o<=_?_<d&&(d-o)*(v-i)<(c-i)*(_-o)&&++t:d<=_&&(c-i)*(_-o)<(d-o)*(v-i)&&--t;return t}(),e=f&&t,n=(o=as(o)).length;(e||n)&&(i.polygonStart(),e&&(i.lineStart(),w(null,null,1,i),i.lineEnd()),n&&fm(o,E,t,w,i),i.polygonEnd()),m=i,o=u=r=null}};return g}}function qr(){ym.point=ym.lineEnd=ir}function Xr(t,e){tm=t*=Df,em=zf(e*=Df),nm=Lf(e),ym.point=Zr}function Zr(t,e){t*=Df;var n=zf(e*=Df),i=Lf(e),o=Of(t-tm),r=Lf(o),a=i*zf(o),s=nm*n-em*i*r,l=em*n+nm*i*r;vm.add(Nf(Bf(a*a+s*s),l)),tm=t,em=n,nm=i}function Kr(t,e,n){var i=Ja(t,e-Mf,n).concat(e);return function(e){return i.map(function(t){return[e,t]})}}function Qr(t,e,n){var i=Ja(t,e-Mf,n).concat(e);return function(e){return i.map(function(t){return[t,e]})}}function Jr(){function e(){return{type:"MultiLineString",coordinates:t()}}function t(){return Ja(If(r/g)*g,o,g).map(h).concat(Ja(If(c/v)*v,l,v).map(p)).concat(Ja(If(i/f)*f,n,f).filter(function(t){return Of(t%g)>Mf}).map(d)).concat(Ja(If(s/m)*m,a,m).filter(function(t){return Of(t%v)>Mf}).map(u))}var n,i,o,r,a,s,l,c,d,u,h,p,f=10,m=f,g=90,v=360,y=2.5;return e.lines=function(){return t().map(function(t){return{type:"LineString",coordinates:t}})},e.outline=function(){return{type:"Polygon",coordinates:[h(r).concat(p(l).slice(1),h(o).reverse().slice(1),p(c).reverse().slice(1))]}},e.extent=function(t){return arguments.length?e.extentMajor(t).extentMinor(t):e.extentMinor()},e.extentMajor=function(t){return arguments.length?(r=+t[0][0],o=+t[1][0],c=+t[0][1],l=+t[1][1],o<r&&(t=r,r=o,o=t),l<c&&(t=c,c=l,l=t),e.precision(y)):[[r,c],[o,l]]},e.extentMinor=function(t){return arguments.length?(i=+t[0][0],n=+t[1][0],s=+t[0][1],a=+t[1][1],n<i&&(t=i,i=n,n=t),a<s&&(t=s,s=a,a=t),e.precision(y)):[[i,s],[n,a]]},e.step=function(t){return arguments.length?e.stepMajor(t).stepMinor(t):e.stepMinor()},e.stepMajor=function(t){return arguments.length?(g=+t[0],v=+t[1],e):[g,v]},e.stepMinor=function(t){return arguments.length?(f=+t[0],m=+t[1],e):[f,m]},e.precision=function(t){return arguments.length?(y=+t,d=Kr(s,a,90),u=Qr(i,n,y),h=Kr(c,l,90),p=Qr(r,o,y),e):y},e.extentMajor([[-180,-90+Mf],[180,90-Mf]]).extentMinor([[-180,-80-Mf],[180,80+Mf]])}function ta(){Tm.point=ea}function ea(t,e){Tm.point=na,im=rm=t,om=am=e}function na(t,e){Mm.add(am*t-rm*e),rm=t,am=e}function ia(){na(im,om)}function oa(t,e){Om+=t,Pm+=e,++Nm}function ra(){Hm.point=aa}function aa(t,e){Hm.point=sa,oa(cm=t,dm=e)}function sa(t,e){var n=t-cm,i=e-dm,o=Bf(n*n+i*i);Lm+=o*(cm+t)/2,Im+=o*(dm+e)/2,Rm+=o,oa(cm=t,dm=e)}function la(){Hm.point=oa}function ca(){Hm.point=ua}function da(){ha(sm,lm)}function ua(t,e){Hm.point=ha,oa(sm=cm=t,lm=dm=e)}function ha(t,e){var n=t-cm,i=e-dm,o=Bf(n*n+i*i);Lm+=o*(cm+t)/2,Im+=o*(dm+e)/2,Rm+=o,$m+=(o=dm*t-cm*e)*(cm+t),Fm+=o*(dm+e),zm+=3*o,oa(cm=t,dm=e)}function pa(t){this._context=t}function fa(){this._string=[]}function ma(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function ga(t){return 1<t.length}function va(t,e){return((t=t.x)[0]<0?t[1]-Cf-Mf:Cf-t[1])-((e=e.x)[0]<0?e[1]-Cf-Mf:Cf-e[1])}function ya(i){return function(t){var e=new ba;for(var n in i)e[n]=i[n];return e.stream=t,e}}function ba(){}function _a(t,e,n){var i=e[1][0]-e[0][0],o=e[1][1]-e[0][1],r=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),Gf(n,t.stream(Dm));var a=Dm.result(),s=Math.min(i/(a[1][0]-a[0][0]),o/(a[1][1]-a[0][1])),l=+e[0][0]+(i-s*(a[1][0]+a[0][0]))/2,c=+e[0][1]+(o-s*(a[1][1]+a[0][1]))/2;return null!=r&&t.clipExtent(r),t.scale(150*s).translate([l,c])}function xa(t,e,n){return _a(t,[[0,0],e],n)}function wa(t){return Ea(function(){return t})()}function Ea(t){function n(t){return[(t=d(t[0]*Df,t[1]*Df))[0]*g+s,l-t[1]*g]}function e(t){return(t=d.invert((t[0]-s)/g,(l-t[1])/g))&&[t[0]*kf,t[1]*kf]}function i(t,e){return[(t=a(t,e))[0]*g+s,l-t[1]*g]}function o(){d=Jf(c=zr(x,w,E),a);var t=a(b,_);return s=v-t[0]*g,l=y+t[1]*g,r()}function r(){return f=m=null,n}var a,s,l,c,d,u,h,p,f,m,g=150,v=480,y=250,b=0,_=0,x=0,w=0,E=0,M=null,T=jm,C=null,S=wm,A=.5,k=Wm(i,A);return n.stream=function(t){return f&&m===t?f:f=Ym(T(c,k(S(m=t))))},n.clipAngle=function(t){return arguments.length?(T=+t?Vm(M=t*Df,6*Df):(M=null,jm),r()):M*kf},n.clipExtent=function(t){return arguments.length?(S=null==t?(C=u=h=p=null,wm):Yr(C=+t[0][0],u=+t[0][1],h=+t[1][0],p=+t[1][1]),r()):null==C?null:[[C,u],[h,p]]},n.scale=function(t){return arguments.length?(g=+t,o()):g},n.translate=function(t){return arguments.length?(v=+t[0],y=+t[1],o()):[v,y]},n.center=function(t){return arguments.length?(b=t[0]%360*Df,_=t[1]%360*Df,o()):[b*kf,_*kf]},n.rotate=function(t){return arguments.length?(x=t[0]%360*Df,w=t[1]%360*Df,E=2<t.length?t[2]%360*Df:0,o()):[x*kf,w*kf,E*kf]},n.precision=function(t){return arguments.length?(k=Wm(i,A=t*t),r()):Bf(A)},n.fitExtent=function(t,e){return _a(n,t,e)},n.fitSize=function(t,e){return xa(n,t,e)},function(){return a=t.apply(this,arguments),n.invert=a.invert&&e,o()}}function Ma(t){var e=0,n=Tf/3,i=Ea(t),o=i(e,n);return o.parallels=function(t){return arguments.length?i(e=t[0]*Df,n=t[1]*Df):[e*kf,n*kf]},o}function Ta(t,e){function n(t,e){var n=Bf(r-2*o*zf(e))/o;return[n*zf(t*=o),a-n*Lf(t)]}var i=zf(t),o=(i+zf(e))/2;if(Of(o)<Mf)return function(t){function e(t,e){return[t*n,zf(e)/n]}var n=Lf(t);return e.invert=function(t,e){return[t/n,er(e*n)]},e}(t);var r=1+i*(2*o-i),a=Bf(r)/o;return n.invert=function(t,e){var n=a-e;return[Nf(t,Of(n))/o*Hf(n),er((r-(t*t+n*n)*o*o)/(2*o))]},n}function Ca(r){return function(t,e){var n=Lf(t),i=Lf(e),o=r(n*i);return[o*i*zf(t),o*zf(e)]}}function Sa(a){return function(t,e){var n=Bf(t*t+e*e),i=a(n),o=zf(i),r=Lf(i);return[Nf(t*o,n*r),er(n&&e*o/n)]}}function Aa(t,e){return[t,$f(Uf((Cf+e)/2))]}function ka(t){var i,o=wa(t),r=o.scale,a=o.translate,s=o.clipExtent;return o.scale=function(t){return arguments.length?(r(t),i&&o.clipExtent(null),o):r()},o.translate=function(t){return arguments.length?(a(t),i&&o.clipExtent(null),o):a()},o.clipExtent=function(t){if(!arguments.length)return i?null:s();if(i=null==t){var e=Tf*r(),n=a();t=[[n[0]-e,n[1]-e],[n[0]+e,n[1]+e]]}return s(t),o},o.clipExtent(null)}function Da(t){return Uf((Cf+t)/2)}function Oa(t,e){function n(t,e){0<r?e<-Cf+Mf&&(e=-Cf+Mf):Cf-Mf<e&&(e=Cf-Mf);var n=r/Ff(Da(e),o);return[n*zf(o*t),r-n*Lf(o*t)]}var i=Lf(t),o=t===e?zf(t):$f(i/Lf(e))/$f(Da(e)/Da(t)),r=i*Ff(Da(t),o)/o;return o?(n.invert=function(t,e){var n=r-e,i=Hf(o)*Bf(t*t+n*n);return[Nf(t,Of(n))/o*Hf(n),2*Pf(Ff(r/i,1/o))-Cf]},n):Aa}function Pa(t,e){return[t,e]}function Na(t,e){function n(t,e){var n=r-e,i=o*t;return[n*zf(i),r-n*Lf(i)]}var i=Lf(t),o=t===e?zf(t):(i-Lf(e))/(e-t),r=i/o+t;return Of(o)<Mf?Pa:(n.invert=function(t,e){var n=r-e;return[Nf(t,Of(n))/o*Hf(n),r-Hf(o)*Bf(t*t+n*n)]},n)}function La(t,e){var n=Lf(e),i=Lf(t)*n;return[n*zf(t)/i,zf(e)/i]}function Ia(n,i,o,r){return 1===n&&1===i&&0===o&&0===r?wm:ya({point:function(t,e){this.stream.point(t*n+o,e*i+r)}})}function Ra(t,e){return[Lf(e)*zf(t),zf(e)]}function $a(t,e){var n=Lf(e),i=1+Lf(t)*n;return[n*zf(t)/i,zf(e)/i]}function Fa(t,e){return[$f(Uf((Cf+e)/2)),-t]}var za=function(t,e){return t<e?-1:e<t?1:e<=t?0:NaN},Ha=function(r){return 1===r.length&&(n=r,r=function(t,e){return za(n(t),e)}),{left:function(t,e,n,i){for(null==n&&(n=0),null==i&&(i=t.length);n<i;){var o=n+i>>>1;r(t[o],e)<0?n=o+1:i=o}return n},right:function(t,e,n,i){for(null==n&&(n=0),null==i&&(i=t.length);n<i;){var o=n+i>>>1;0<r(t[o],e)?i=o:n=o+1}return n}};var n},Ba=Ha(za),Ua=Ba.right,ja=Ba.left,Va=function(t){return null===t?NaN:+t},Ga=function(t,e){var n,i,o=t.length,r=0,a=0,s=-1,l=0;if(null==e)for(;++s<o;)isNaN(n=Va(t[s]))||(a+=(i=n-r)*(n-(r+=i/++l)));else for(;++s<o;)isNaN(n=Va(e(t[s],s,t)))||(a+=(i=n-r)*(n-(r+=i/++l)));if(1<l)return a/(l-1)},Wa=function(t,e){var n=Ga(t,e);return n?Math.sqrt(n):n},Ya=function(t,e){var n,i,o,r=-1,a=t.length;if(null==e){for(;++r<a;)if(null!=(i=t[r])&&i<=i){n=o=i;break}for(;++r<a;)null!=(i=t[r])&&(i<n&&(n=i),o<i&&(o=i))}else{for(;++r<a;)if(null!=(i=e(t[r],r,t))&&i<=i){n=o=i;break}for(;++r<a;)null!=(i=e(t[r],r,t))&&(i<n&&(n=i),o<i&&(o=i))}return[n,o]},qa=Array.prototype,Xa=qa.slice,Za=qa.map,Ka=function(t){return function(){return t}},Qa=function(t){return t},Ja=function(t,e,n){t=+t,e=+e,n=(o=arguments.length)<2?(e=t,t=0,1):o<3?1:+n;for(var i=-1,o=0|Math.max(0,Math.ceil((e-t)/n)),r=new Array(o);++i<o;)r[i]=t+i*n;return r},ts=Math.sqrt(50),es=Math.sqrt(10),ns=Math.sqrt(2),is=function(t,e,n){var i=M(t,e,n);return Ja(Math.ceil(t/i)*i,Math.floor(e/i)*i+i/2,i)},os=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},rs=function(t,e,n){if(null==n&&(n=Va),i=t.length){if((e=+e)<=0||i<2)return+n(t[0],0,t);if(1<=e)return+n(t[i-1],i-1,t);var i,o=(i-1)*e,r=Math.floor(o),a=+n(t[r],r,t);return a+(+n(t[r+1],r+1,t)-a)*(o-r)}},as=function(t){for(var e,n,i,o=t.length,r=-1,a=0;++r<o;)a+=t[r].length;for(n=new Array(a);0<=--o;)for(e=(i=t[o]).length;0<=--e;)n[--a]=i[e];return n},ss=function(t,e){var n,i,o=-1,r=t.length;if(null==e){for(;++o<r;)if(null!=(i=t[o])&&i<=i){n=i;break}for(;++o<r;)null!=(i=t[o])&&i<n&&(n=i)}else{for(;++o<r;)if(null!=(i=e(t[o],o,t))&&i<=i){n=i;break}for(;++o<r;)null!=(i=e(t[o],o,t))&&i<n&&(n=i)}return n},ls=function(t){if(!(o=t.length))return[];for(var e=-1,n=ss(t,s),i=new Array(n);++e<n;)for(var o,r=-1,a=i[e]=new Array(o);++r<o;)a[r]=t[r][e];return i};l.prototype=g.prototype={constructor:l,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var cs=g.prototype;a.prototype=t.prototype={constructor:a,has:cs.has,add:function(t){return this["$"+(t+="")]=t,this},remove:cs.remove,clear:cs.clear,values:cs.keys,size:cs.size,empty:cs.empty,each:cs.each};var ds=function(e,n){var i,o;return e=null==e?0:+e,n=null==n?1:+n,function(){var t;if(null!=i)t=i,i=null;else for(;i=2*Math.random()-1,t=2*Math.random()-1,!(o=i*i+t*t)||1<o;);return e+n*t*Math.sqrt(-2*Math.log(o)/o)}},us=function(n){return function(){for(var t=0,e=0;e<n;++e)t+=Math.random();return t}},hs=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),ps=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),fs=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),ms=Math.PI,gs=ms/2,vs=4/11,ys=6/11,bs=8/11,_s=.75,xs=9/11,ws=10/11,Es=.9375,Ms=21/22,Ts=63/64,Cs=1/vs/vs,Ss=function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(1.70158),As=function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(1.70158),ks=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158),Ds=2*Math.PI,Os=function e(n,i){function t(t){return n*Math.pow(2,10*--t)*Math.sin((o-t)/i)}var o=Math.asin(1/(n=Math.max(1,n)))*(i/=Ds);return t.amplitude=function(t){return e(t,i*Ds)},t.period=function(t){return e(n,t)},t}(1,.3),Ps=function e(n,i){function t(t){return 1-n*Math.pow(2,-10*(t=+t))*Math.sin((t+o)/i)}var o=Math.asin(1/(n=Math.max(1,n)))*(i/=Ds);return t.amplitude=function(t){return e(t,i*Ds)},t.period=function(t){return e(n,t)},t}(1,.3),Ns=function e(n,i){function t(t){return((t=2*t-1)<0?n*Math.pow(2,10*t)*Math.sin((o-t)/i):2-n*Math.pow(2,-10*t)*Math.sin((o+t)/i))/2}var o=Math.asin(1/(n=Math.max(1,n)))*(i/=Ds);return t.amplitude=function(t){return e(t,i*Ds)},t.period=function(t){return e(n,t)},t}(1,.3),Ls=Math.PI,Is=2*Ls,Rs=Is-1e-6;v.prototype=et.prototype={constructor:v,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,i){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(t,e,n,i,o,r){this._+="C"+ +t+","+ +e+","+ +n+","+ +i+","+(this._x1=+o)+","+(this._y1=+r)},arcTo:function(t,e,n,i,o){t=+t,e=+e,n=+n,i=+i,o=+o;var r=this._x1,a=this._y1,s=n-t,l=i-e,c=r-t,d=a-e,u=c*c+d*d;if(o<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(1e-6<u)if(1e-6<Math.abs(d*s-l*c)&&o){var h=n-r,p=i-a,f=s*s+l*l,m=h*h+p*p,g=Math.sqrt(f),v=Math.sqrt(u),y=o*Math.tan((Ls-Math.acos((f+u-m)/(2*g*v)))/2),b=y/v,_=y/g;1e-6<Math.abs(b-1)&&(this._+="L"+(t+b*c)+","+(e+b*d)),this._+="A"+o+","+o+",0,0,"+ +(c*p<d*h)+","+(this._x1=t+_*s)+","+(this._y1=e+_*l)}else this._+="L"+(this._x1=t)+","+(this._y1=e)},arc:function(t,e,n,i,o,r){t=+t,e=+e;var a=(n=+n)*Math.cos(i),s=n*Math.sin(i),l=t+a,c=e+s,d=1^r,u=r?i-o:o-i;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+c:(1e-6<Math.abs(this._x1-l)||1e-6<Math.abs(this._y1-c))&&(this._+="L"+l+","+c),n&&(Rs<u?this._+="A"+n+","+n+",0,1,"+d+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+d+","+(this._x1=l)+","+(this._y1=c):(u<0&&(u=u%Is+Is),this._+="A"+n+","+n+",0,"+ +(Ls<=u)+","+d+","+(this._x1=t+n*Math.cos(o))+","+(this._y1=e+n*Math.sin(o))))},rect:function(t,e,n,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};var $s=function(t,e,n,i,o){this.node=t,this.x0=e,this.y0=n,this.x1=i,this.y1=o},Fs=x.prototype=w.prototype;Fs.copy=function(){var t,e,n=new w(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return n;if(!i.length)return n._root=E(i),n;for(t=[{source:i,target:n._root=new Array(4)}];i=t.pop();)for(var o=0;o<4;++o)(e=i.source[o])&&(e.length?t.push({source:e,target:i.target[o]=new Array(4)}):i.target[o]=E(e));return n},Fs.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return y(this.cover(e,n),e,n,t)},Fs.addAll=function(t){var e,n,i,o,r=t.length,a=new Array(r),s=new Array(r),l=1/0,c=1/0,d=-1/0,u=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(o=+this._y.call(null,e))||((a[n]=i)<l&&(l=i),d<i&&(d=i),(s[n]=o)<c&&(c=o),u<o&&(u=o));for(d<l&&(l=this._x0,d=this._x1),u<c&&(c=this._y0,u=this._y1),this.cover(l,c).cover(d,u),n=0;n<r;++n)y(this,a[n],s[n],t[n]);return this},Fs.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,i=this._y0,o=this._x1,r=this._y1;if(isNaN(n))o=(n=Math.floor(t))+1,r=(i=Math.floor(e))+1;else{if(!(t<n||o<t||e<i||r<e))return this;var a,s,l=o-n,c=this._root;switch(s=(e<(i+r)/2)<<1|t<(n+o)/2){case 0:for(;(a=new Array(4))[s]=c,c=a,r=i+(l*=2),(o=n+l)<t||r<e;);break;case 1:for(;(a=new Array(4))[s]=c,c=a,r=i+(l*=2),t<(n=o-l)||r<e;);break;case 2:for(;(a=new Array(4))[s]=c,c=a,i=r-(l*=2),(o=n+l)<t||e<i;);break;case 3:for(;(a=new Array(4))[s]=c,c=a,i=r-(l*=2),t<(n=o-l)||e<i;);}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=i,this._x1=o,this._y1=r,this},Fs.data=function(){var e=[];return this.visit(function(t){if(!t.length)for(;e.push(t.data),t=t.next;);}),e},Fs.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Fs.find=function(t,e,n){var i,o,r,a,s,l,c,d=this._x0,u=this._y0,h=this._x1,p=this._y1,f=[],m=this._root;for(m&&f.push(new $s(m,d,u,h,p)),null==n?n=1/0:(d=t-n,u=e-n,h=t+n,p=e+n,n*=n);l=f.pop();)if(!(!(m=l.node)||(o=l.x0)>h||(r=l.y0)>p||(a=l.x1)<d||(s=l.y1)<u))if(m.length){var g=(o+a)/2,v=(r+s)/2;f.push(new $s(m[3],g,v,a,s),new $s(m[2],o,v,g,s),new $s(m[1],g,r,a,v),new $s(m[0],o,r,g,v)),(c=(v<=e)<<1|g<=t)&&(l=f[f.length-1],f[f.length-1]=f[f.length-1-c],f[f.length-1-c]=l)}else{var y=t-+this._x.call(null,m.data),b=e-+this._y.call(null,m.data),_=y*y+b*b;if(_<n){var x=Math.sqrt(n=_);d=t-x,u=e-x,h=t+x,p=e+x,i=m.data}}return i},Fs.remove=function(t){if(isNaN(r=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,i,o,r,a,s,l,c,d,u,h,p=this._root,f=this._x0,m=this._y0,g=this._x1,v=this._y1;if(!p)return this;if(p.length)for(;;){if((c=r>=(s=(f+g)/2))?f=s:g=s,(d=a>=(l=(m+v)/2))?m=l:v=l,!(p=(e=p)[u=d<<1|c]))return this;if(!p.length)break;(e[u+1&3]||e[u+2&3]||e[u+3&3])&&(n=e,h=u)}for(;p.data!==t;)if(!(p=(i=p).next))return this;return(o=p.next)&&delete p.next,i?o?i.next=o:delete i.next:e?(o?e[u]=o:delete e[u],(p=e[0]||e[1]||e[2]||e[3])&&p===(e[3]||e[2]||e[1]||e[0])&&!p.length&&(n?n[h]=p:this._root=p)):this._root=o,this},Fs.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},Fs.root=function(){return this._root},Fs.size=function(){var e=0;return this.visit(function(t){if(!t.length)for(;++e,t=t.next;);}),e},Fs.visit=function(t){var e,n,i,o,r,a,s=[],l=this._root;for(l&&s.push(new $s(l,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(l=e.node,i=e.x0,o=e.y0,r=e.x1,a=e.y1)&&l.length){var c=(i+r)/2,d=(o+a)/2;(n=l[3])&&s.push(new $s(n,c,d,r,a)),(n=l[2])&&s.push(new $s(n,i,d,c,a)),(n=l[1])&&s.push(new $s(n,c,o,r,d)),(n=l[0])&&s.push(new $s(n,i,o,c,d))}return this},Fs.visitAfter=function(t){var e,n=[],i=[];for(this._root&&n.push(new $s(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var o=e.node;if(o.length){var r,a=e.x0,s=e.y0,l=e.x1,c=e.y1,d=(a+l)/2,u=(s+c)/2;(r=o[0])&&n.push(new $s(r,a,s,d,u)),(r=o[1])&&n.push(new $s(r,d,s,l,u)),(r=o[2])&&n.push(new $s(r,a,u,d,c)),(r=o[3])&&n.push(new $s(r,d,u,l,c))}i.push(e)}for(;e=i.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},Fs.x=function(t){return arguments.length?(this._x=t,this):this._x},Fs.y=function(t){return arguments.length?(this._y=t,this):this._y};var zs=[].slice,Hs={};T.prototype=D.prototype={constructor:T,defer:function(t){if("function"!=typeof t||this._call)throw new Error;if(null!=this._error)return this;var e=zs.call(arguments,1);return e.push(t),++this._waiting,this._tasks.push(e),C(this),this},abort:function(){return null==this._error&&A(this,new Error("abort")),this},await:function(n){if("function"!=typeof n||this._call)throw new Error;return this._call=function(t,e){n.apply(null,[t].concat(e))},k(this),this},awaitAll:function(t){if("function"!=typeof t||this._call)throw new Error;return this._call=t,k(this),this}};var Bs=function(t){return function(){return t}},Us=1e-12,js=Math.PI,Vs=js/2,Gs=2*js;R.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var Ws=function(t){return new R(t)},Ys=function(){function e(t){var e,n,i,o=t.length,r=!1;for(null==c&&(u=d(i=et())),e=0;e<=o;++e)!(e<o&&l(n=t[e],e,t))===r&&((r=!r)?u.lineStart():u.lineEnd()),r&&u.point(+a(n,e,t),+s(n,e,t));if(i)return u=null,i+""||null}var a=$,s=F,l=Bs(!0),c=null,d=Ws,u=null;return e.x=function(t){return arguments.length?(a="function"==typeof t?t:Bs(+t),e):a},e.y=function(t){return arguments.length?(s="function"==typeof t?t:Bs(+t),e):s},e.defined=function(t){return arguments.length?(l="function"==typeof t?t:Bs(!!t),e):l},e.curve=function(t){return arguments.length?(d=t,null!=c&&(u=d(c)),e):d},e.context=function(t){return arguments.length?(null==t?c=u=null:u=d(c=t),e):c},e},qs=function(){function e(t){var e,n,i,o,r,a=t.length,s=!1,l=new Array(a),c=new Array(a);for(null==m&&(v=g(r=et())),e=0;e<=a;++e){if(!(e<a&&f(o=t[e],e,t))===s)if(s=!s)n=e,v.areaStart(),v.lineStart();else{for(v.lineEnd(),v.lineStart(),i=e-1;n<=i;--i)v.point(l[i],c[i]);v.lineEnd(),v.areaEnd()}s&&(l[e]=+d(o,e,t),c[e]=+h(o,e,t),v.point(u?+u(o,e,t):l[e],p?+p(o,e,t):c[e]))}if(r)return v=null,r+""||null}function t(){return Ys().defined(f).curve(g).context(m)}var d=$,u=null,h=Bs(0),p=F,f=Bs(!0),m=null,g=Ws,v=null;return e.x=function(t){return arguments.length?(d="function"==typeof t?t:Bs(+t),u=null,e):d},e.x0=function(t){return arguments.length?(d="function"==typeof t?t:Bs(+t),e):d},e.x1=function(t){return arguments.length?(u=null==t?null:"function"==typeof t?t:Bs(+t),e):u},e.y=function(t){return arguments.length?(h="function"==typeof t?t:Bs(+t),p=null,e):h},e.y0=function(t){return arguments.length?(h="function"==typeof t?t:Bs(+t),e):h},e.y1=function(t){return arguments.length?(p=null==t?null:"function"==typeof t?t:Bs(+t),e):p},e.lineX0=e.lineY0=function(){return t().x(d).y(h)},e.lineY1=function(){return t().x(d).y(p)},e.lineX1=function(){return t().x(u).y(h)},e.defined=function(t){return arguments.length?(f="function"==typeof t?t:Bs(!!t),e):f},e.curve=function(t){return arguments.length?(g=t,null!=m&&(v=g(m)),e):g},e.context=function(t){return arguments.length?(null==t?m=v=null:v=g(m=t),e):m},e},Xs=function(t,e){return e<t?-1:t<e?1:t<=e?0:NaN},Zs=function(t){return t},Ks=B(Ws);z.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var Qs={draw:function(t,e){var n=Math.sqrt(e/js);t.moveTo(n,0),t.arc(0,0,n,0,Gs)}},Js={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},tl=Math.sqrt(1/3),el=2*tl,nl={draw:function(t,e){var n=Math.sqrt(e/el),i=n*tl;t.moveTo(0,-n),t.lineTo(i,0),t.lineTo(0,n),t.lineTo(-i,0),t.closePath()}},il=Math.sin(js/10)/Math.sin(7*js/10),ol=Math.sin(Gs/10)*il,rl=-Math.cos(Gs/10)*il,al={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),i=ol*n,o=rl*n;t.moveTo(0,-n),t.lineTo(i,o);for(var r=1;r<5;++r){var a=Gs*r/5,s=Math.cos(a),l=Math.sin(a);t.lineTo(l*n,-s*n),t.lineTo(s*i-l*o,l*i+s*o)}t.closePath()}},sl={draw:function(t,e){var n=Math.sqrt(e),i=-n/2;t.rect(i,i,n,n)}},ll=Math.sqrt(3),cl={draw:function(t,e){var n=-Math.sqrt(e/(3*ll));t.moveTo(0,2*n),t.lineTo(-ll*n,-n),t.lineTo(ll*n,-n),t.closePath()}},dl=Math.sqrt(3)/2,ul=1/Math.sqrt(12),hl=3*(ul/2+1),pl={draw:function(t,e){var n=Math.sqrt(e/hl),i=n/2,o=n*ul,r=i,a=n*ul+n,s=-r,l=a;t.moveTo(i,o),t.lineTo(r,a),t.lineTo(s,l),t.lineTo(-.5*i-dl*o,dl*i+-.5*o),t.lineTo(-.5*r-dl*a,dl*r+-.5*a),t.lineTo(-.5*s-dl*l,dl*s+-.5*l),t.lineTo(-.5*i+dl*o,-.5*o-dl*i),t.lineTo(-.5*r+dl*a,-.5*a-dl*r),t.lineTo(-.5*s+dl*l,-.5*l-dl*s),t.closePath()}},fl=[Qs,Js,nl,sl,al,cl,pl],ml=function(){};V.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:j(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:j(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};G.prototype={areaStart:ml,areaEnd:ml,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:j(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};W.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:j(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};Y.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(0<n)for(var i,o=t[0],r=e[0],a=t[n]-o,s=e[n]-r,l=-1;++l<=n;)i=l/n,this._basis.point(this._beta*t[l]+(1-this._beta)*(o+i*a),this._beta*e[l]+(1-this._beta)*(r+i*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var gl=function e(n){function t(t){return 1===n?new V(t):new Y(t,n)}return t.beta=function(t){return e(+t)},t}(.85);X.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:q(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:q(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var vl=function e(n){function t(t){return new X(t,n)}return t.tension=function(t){return e(+t)},t}(0);Z.prototype={areaStart:ml,areaEnd:ml,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:q(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var yl=function e(n){function t(t){return new Z(t,n)}return t.tension=function(t){return e(+t)},t}(0);K.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:q(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var bl=function e(n){function t(t){return new K(t,n)}return t.tension=function(t){return e(+t)},t}(0);J.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Q(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var _l=function e(n){function t(t){return n?new J(t,n):new X(t,0)}return t.alpha=function(t){return e(+t)},t}(.5);tt.prototype={areaStart:ml,areaEnd:ml,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Q(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var xl=function e(n){function t(t){return n?new tt(t,n):new Z(t,0)}return t.alpha=function(t){return e(+t)},t}(.5);ot.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Q(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var wl=function e(n){function t(t){return n?new ot(t,n):new K(t,0)}return t.alpha=function(t){return e(+t)},t}(.5);rt.prototype={areaStart:ml,areaEnd:ml,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};dt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ct(this,this._t0,lt(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,ct(this,lt(this,n=st(this,t,e)),n);break;default:ct(this,this._t0,n=st(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(ut.prototype=Object.create(dt.prototype)).point=function(t,e){dt.prototype.point.call(this,e,t)},ht.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,o,r){this._context.bezierCurveTo(e,t,i,n,r,o)}},pt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var i=ft(t),o=ft(e),r=0,a=1;a<n;++r,++a)this._context.bezierCurveTo(i[0][r],o[0][r],i[1][r],o[1][r],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};mt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var El=Array.prototype.slice,Ml=function(t,e){if(1<(i=t.length))for(var n,i,o=1,r=t[e[0]],a=r.length;o<i;++o){n=r,r=t[e[o]];for(var s=0;s<a;++s)r[s][1]+=r[s][0]=isNaN(n[s][1])?n[s][0]:n[s][1]}},Tl=function(t){for(var e=t.length,n=new Array(e);0<=--e;)n[e]=e;return n},Cl=function(t){var n=t.map(vt);return Tl(t).sort(function(t,e){return n[t]-n[e]})},Sl=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t},Al="\\s*([+-]?\\d+)\\s*",kl="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Dl="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ol=/^#([0-9a-f]{3})$/,Pl=/^#([0-9a-f]{6})$/,Nl=new RegExp("^rgb\\("+[Al,Al,Al]+"\\)$"),Ll=new RegExp("^rgb\\("+[Dl,Dl,Dl]+"\\)$"),Il=new RegExp("^rgba\\("+[Al,Al,Al,kl]+"\\)$"),Rl=new RegExp("^rgba\\("+[Dl,Dl,Dl,kl]+"\\)$"),$l=new RegExp("^hsl\\("+[kl,Dl,Dl]+"\\)$"),Fl=new RegExp("^hsla\\("+[kl,Dl,Dl,kl]+"\\)$"),zl={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Sl(bt,_t,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),Sl(Tt,Mt,yt(bt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Tt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Tt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),Sl(At,St,yt(bt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new At(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new At(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,o=2*n-i;return new Tt(kt(240<=t?t-240:t+120,o,i),kt(t,o,i),kt(t<120?t+240:t-120,o,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var Hl=Math.PI/180,Bl=180/Math.PI,Ul=.95047,jl=1,Vl=1.08883,Gl=4/29,Wl=6/29*3*(6/29),Yl=6/29*(6/29)*(6/29);Sl(Pt,Ot,yt(bt,{brighter:function(t){return new Pt(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Pt(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return t=jl*Lt(t),new Tt(It(3.2404542*(e=Ul*Lt(e))-1.5371385*t-.4985314*(n=Vl*Lt(n))),It(-.969266*e+1.8760108*t+.041556*n),It(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),Sl(Ft,$t,yt(bt,{brighter:function(t){return new Ft(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Ft(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Dt(this).rgb()}}));var ql=-.29227,Xl=-.90649,Zl=1.97294,Kl=Zl*Xl,Ql=1.78277*Zl,Jl=1.78277*ql- -.14861*Xl;Sl(Ht,zt,yt(bt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Ht(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Ht(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Hl,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(t),o=Math.sin(t);return new Tt(255*(e+n*(-.14861*i+1.78277*o)),255*(e+n*(ql*i+Xl*o)),255*(e+n*(Zl*i)),this.opacity)}}));var tc,ec,nc,ic,oc=function(a){var s=a.length-1;return function(t){var e=t<=0?t=0:1<=t?s-(t=1):Math.floor(t*s),n=a[e],i=a[e+1],o=0<e?a[e-1]:2*n-i,r=e<s-1?a[e+2]:2*i-n;return Bt((t-e/s)*s,o,n,i,r)}},rc=function(a){var s=a.length;return function(t){var e=Math.floor(((t%=1)<0?++t:t)*s),n=a[(e+s-1)%s],i=a[e%s],o=a[(e+1)%s],r=a[(e+2)%s];return Bt((t-e/s)*s,n,i,o,r)}},ac=function(t){return function(){return t}},sc=function t(e){function n(e,t){var n=a((e=Mt(e)).r,(t=Mt(t)).r),i=a(e.g,t.g),o=a(e.b,t.b),r=a(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=i(t),e.b=o(t),e.opacity=r(t),e+""}}var a=Vt(e);return n.gamma=t,n}(1),lc=Wt(oc),cc=Wt(rc),dc=function(t,e){var n,i=e?e.length:0,o=t?Math.min(i,t.length):0,r=new Array(i),a=new Array(i);for(n=0;n<o;++n)r[n]=vc(t[n],e[n]);for(;n<i;++n)a[n]=e[n];return function(t){for(n=0;n<o;++n)a[n]=r[n](t);return a}},uc=function(e,n){var i=new Date;return n-=e=+e,function(t){return i.setTime(e+n*t),i}},hc=function(e,n){return n-=e=+e,function(t){return e+n*t}},pc=function(t,e){var n,i={},o={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?i[n]=vc(t[n],e[n]):o[n]=e[n];return function(t){for(n in i)o[n]=i[n](t);return o}},fc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,mc=new RegExp(fc.source,"g"),gc=function(t,i){var e,n,o,r,a,s=fc.lastIndex=mc.lastIndex=0,l=-1,c=[],d=[];for(t+="",i+="";(e=fc.exec(t))&&(n=mc.exec(i));)(o=n.index)>s&&(o=i.slice(s,o),c[l]?c[l]+=o:c[++l]=o),(e=e[0])===(n=n[0])?c[l]?c[l]+=n:c[++l]=n:(c[++l]=null,d.push({i:l,x:hc(e,n)})),s=mc.lastIndex;return s<i.length&&(o=i.slice(s),c[l]?c[l]+=o:c[++l]=o),c.length<2?d[0]?(a=d[0].x,function(t){return a(t)+""}):(r=i,function(){return r}):(i=d.length,function(t){for(var e,n=0;n<i;++n)c[(e=d[n]).i]=e.x(t);return c.join("")})},vc=function(t,e){var n,i=typeof e;return null==e||"boolean"===i?ac(e):("number"===i?hc:"string"===i?(n=_t(e))?(e=n,sc):gc:e instanceof _t?sc:e instanceof Date?uc:Array.isArray(e)?dc:isNaN(e)?pc:hc)(t,e)},yc=function(e,n){return n-=e=+e,function(t){return Math.round(e+n*t)}},bc=180/Math.PI,_c={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},xc=function(t,e,n,i,o,r){var a,s,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*i)&&(n-=t*l,i-=e*l),(s=Math.sqrt(n*n+i*i))&&(n/=s,i/=s,l/=s),t*i<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:o,translateY:r,rotate:Math.atan2(e,t)*bc,skewX:Math.atan(l)*bc,scaleX:a,scaleY:s}},wc=Yt(function(t){return"none"===t?_c:(tc||(tc=document.createElement("DIV"),ec=document.documentElement,nc=document.defaultView),tc.style.transform=t,t=nc.getComputedStyle(ec.appendChild(tc),null).getPropertyValue("transform"),ec.removeChild(tc),t=t.slice(7,-1).split(","),xc(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),Ec=Yt(function(t){return null==t?_c:(ic||(ic=document.createElementNS("http://www.w3.org/2000/svg","g")),ic.setAttribute("transform",t),(t=ic.transform.baseVal.consolidate())?(t=t.matrix,xc(t.a,t.b,t.c,t.d,t.e,t.f)):_c)},", ",")",")"),Mc=Math.SQRT2,Tc=function(t,e){var n,a,s=t[0],l=t[1],c=t[2],i=e[0],o=e[1],r=e[2],d=i-s,u=o-l,h=d*d+u*u;if(h<1e-12)a=Math.log(r/c)/Mc,n=function(t){return[s+t*d,l+t*u,c*Math.exp(Mc*t*a)]};else{var p=Math.sqrt(h),f=(r*r-c*c+4*h)/(2*c*2*p),m=(r*r-c*c-4*h)/(2*r*2*p),g=Math.log(Math.sqrt(f*f+1)-f),v=Math.log(Math.sqrt(m*m+1)-m);a=(v-g)/Mc,n=function(t){var e,n,i=t*a,o=qt(g),r=c/(2*p)*(o*(n=Mc*i+g,((n=Math.exp(2*n))-1)/(n+1))-(e=g,((e=Math.exp(e))-1/e)/2));return[s+r*d,l+r*u,c*o/qt(Mc*i+g)]}}return n.duration=1e3*a,n},Cc=Xt(jt),Sc=Xt(Gt),Ac=Zt(jt),kc=Zt(Gt),Dc=Kt(jt),Oc=Kt(Gt),Pc={value:function(){}};Jt.prototype=Qt.prototype={constructor:Jt,on:function(t,e){var n,i,o=this._,r=(i=o,(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!i.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})),a=-1,s=r.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<s;)if(n=(t=r[a]).type)o[n]=ee(o[n],t.name,e);else if(null==e)for(n in o)o[n]=ee(o[n],t.name,null);return this}for(;++a<s;)if((n=(t=r[a]).type)&&(n=te(o[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Jt(t)},call:function(t,e){if(0<(n=arguments.length-2))for(var n,i,o=new Array(n),r=0;r<n;++r)o[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=0,n=(i=this._[t]).length;r<n;++r)i[r].value.apply(e,o)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],o=0,r=i.length;o<r;++o)i[o].value.apply(e,n)}};var Nc,Lc,Ic=function(r){function n(o,t){function e(){if(l<=c)return s;if(r)return r=!1,a;var t,e=c;if(34===o.charCodeAt(e)){for(var n=e;n++<l;)if(34===o.charCodeAt(n)){if(34!==o.charCodeAt(n+1))break;++n}return c=n+2,13===(t=o.charCodeAt(n+1))?(r=!0,10===o.charCodeAt(n+2)&&++c):10===t&&(r=!0),o.slice(e+1,n).replace(/""/g,'"')}for(;c<l;){var i=1;if(10===(t=o.charCodeAt(c++)))r=!0;else if(13===t)r=!0,10===o.charCodeAt(c)&&(++c,++i);else if(t!==h)continue;return o.slice(e,c-i)}return o.slice(e)}for(var n,r,a={},s={},i=[],l=o.length,c=0,d=0;(n=e())!==s;){for(var u=[];n!==a&&n!==s;)u.push(n),n=e();t&&null==(u=t(u,d++))||i.push(u)}return i}function e(t){return t.map(a).join(r)}function a(t){return null==t?"":i.test(t+="")?'"'+t.replace(/\"/g,'""')+'"':t}var i=new RegExp('["'+r+"\n]"),h=r.charCodeAt(0);return{parse:function(t,r){var a,s,e=n(t,function(t,e){return a?a(t,e-1):(s=t,void(a=r?(i=r,o=ne(n=t),function(t,e){return i(o(t),e,n)}):ne(t)));var n,i,o});return e.columns=s,e},parseRows:n,format:function(t,n){return null==n&&(e=t,i=Object.create(null),o=[],e.forEach(function(t){for(var e in t)e in i||o.push(i[e]=e)}),n=o),[n.map(a).join(r)].concat(t.map(function(e){return n.map(function(t){return a(e[t])}).join(r)})).join("\n");var e,i,o},formatRows:function(t){return t.map(e).join("\n")}}},Rc=Ic(","),$c=Rc.parse,Fc=Rc.parseRows,zc=Rc.format,Hc=Rc.formatRows,Bc=Ic("\t"),Uc=Bc.parse,jc=Bc.parseRows,Vc=Bc.format,Gc=Bc.formatRows,Wc=function(o,t){function e(t){var e,n,i,o=u.status;if(!o&&((i=(n=u).responseType)&&"text"!==i?n.response:n.responseText)||200<=o&&o<300||304===o){if(s)try{e=s.call(r,u)}catch(t){return void c.call("error",r,t)}else e=u;c.call("load",r,e)}else c.call("error",r,t)}var r,a,s,l,c=Qt("beforesend","progress","load","error"),d=g(),u=new XMLHttpRequest,h=null,p=null,f=0;if("undefined"==typeof XDomainRequest||"withCredentials"in u||!/^(http(s)?:)?\/\//.test(o)||(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=u.ontimeout=e:u.onreadystatechange=function(t){3<u.readyState&&e(t)},u.onprogress=function(t){c.call("progress",r,t)},r={header:function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?d.get(t):(null==e?d.remove(t):d.set(t,e+""),r)},mimeType:function(t){return arguments.length?(a=null==t?null:t+"",r):a},responseType:function(t){return arguments.length?(l=t,r):l},timeout:function(t){return arguments.length?(f=+t,r):f},user:function(t){return arguments.length<1?h:(h=null==t?null:t+"",r)},password:function(t){return arguments.length<1?p:(p=null==t?null:t+"",r)},response:function(t){return s=t,r},get:function(t,e){return r.send("GET",t,e)},post:function(t,e){return r.send("POST",t,e)},send:function(t,e,n){return u.open(t,o,!0,h,p),null==a||d.has("accept")||d.set("accept",a+",*/*"),u.setRequestHeader&&d.each(function(t,e){u.setRequestHeader(e,t)}),null!=a&&u.overrideMimeType&&u.overrideMimeType(a),null!=l&&(u.responseType=l),0<f&&(u.timeout=f),null==n&&"function"==typeof e&&(n=e,e=null),null!=n&&1===n.length&&(i=n,n=function(t,e){i(null==t?e:null)}),null!=n&&r.on("error",n).on("load",function(t){n(null,t)}),c.call("beforesend",r,u),u.send(null==e?null:e),r;var i},abort:function(){return u.abort(),r},on:function(){var t=c.on.apply(c,arguments);return t===c?r:t}},null==t)return r;if("function"!=typeof t)throw new Error("invalid callback: "+t);return r.get(t)},Yc=function(i,o){return function(t,e){var n=Wc(t).mimeType(i).response(o);if(null==e)return n;if("function"!=typeof e)throw new Error("invalid callback: "+e);return n.get(e)}},qc=Yc("text/html",function(t){return document.createRange().createContextualFragment(t.responseText)}),Xc=Yc("application/json",function(t){return JSON.parse(t.responseText)}),Zc=Yc("text/plain",function(t){return t.responseText}),Kc=Yc("application/xml",function(t){var e=t.responseXML;if(!e)throw new Error("parse error");return e}),Qc=function(n,r){return function(t,i,e){arguments.length<3&&(e=i,i=null);var o=Wc(t).mimeType(n);return o.row=function(t){return arguments.length?o.response((e=r,n=i=t,function(t){return e(t.responseText,n)})):i;var e,n},o.row(i),e?o.get(e):o}},Jc=Qc("text/csv",$c),td=Qc("text/tab-separated-values",Uc),ed=0,nd=0,id=0,od=1e3,rd=0,ad=0,sd=0,ld="object"==typeof performance&&performance.now?performance:Date,cd="function"==typeof requestAnimationFrame?requestAnimationFrame:function(t){setTimeout(t,17)};re.prototype=ae.prototype={constructor:re,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?ie():+n)+(null==e?0:+e),this._next||Lc===this||(Lc?Lc._next=this:Nc=this,Lc=this),this._call=t,this._time=n,de()},stop:function(){this._call&&(this._call=null,this._time=1/0,de())}};var dd=function(e,n,t){var i=new re;return n=null==n?0:+n,i.restart(function(t){i.stop(),e(t+n)},n,t),i},ud=new Date,hd=new Date,pd=ue(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});pd.every=function(n){return n=Math.floor(n),isFinite(n)&&0<n?1<n?ue(function(t){t.setTime(Math.floor(t/n)*n)},function(t,e){t.setTime(+t+e*n)},function(t,e){return(e-t)/n}):pd:null};var fd=pd.range,md=ue(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),gd=md.range,vd=ue(function(t){t.setTime(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(+t+6e4*e)},function(t,e){return(e-t)/6e4},function(t){return t.getMinutes()}),yd=vd.range,bd=ue(function(t){var e=6e4*t.getTimezoneOffset()%36e5;e<0&&(e+=36e5),t.setTime(36e5*Math.floor((+t-e)/36e5)+e)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()}),_d=bd.range,xd=ue(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5},function(t){return t.getDate()-1}),wd=xd.range,Ed=he(0),Md=he(1),Td=he(2),Cd=he(3),Sd=he(4),Ad=he(5),kd=he(6),Dd=Ed.range,Od=Md.range,Pd=Td.range,Nd=Cd.range,Ld=Sd.range,Id=Ad.range,Rd=kd.range,$d=ue(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),Fd=$d.range,zd=ue(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});zd.every=function(n){return isFinite(n=Math.floor(n))&&0<n?ue(function(t){t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e*n)}):null};var Hd=zd.range,Bd=ue(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+6e4*e)},function(t,e){return(e-t)/6e4},function(t){return t.getUTCMinutes()}),Ud=Bd.range,jd=ue(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()}),Vd=jd.range,Gd=ue(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1}),Wd=Gd.range,Yd=pe(0),qd=pe(1),Xd=pe(2),Zd=pe(3),Kd=pe(4),Qd=pe(5),Jd=pe(6),tu=Yd.range,eu=qd.range,nu=Xd.range,iu=Zd.range,ou=Kd.range,ru=Qd.range,au=Jd.range,su=ue(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),lu=su.range,cu=ue(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});cu.every=function(n){return isFinite(n=Math.floor(n))&&0<n?ue(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e*n)}):null};var du,uu=cu.range,hu=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[1<i.length?i[0]+i.slice(2):i,+t.slice(n+1)]},pu=function(t){return(t=hu(Math.abs(t)))?t[1]:NaN},fu=function(t,e){var n=hu(t,e);if(!n)return t+"";var i=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")},mu={"":function(t,e){t:for(var n,i=(t=t.toPrecision(e)).length,o=1,r=-1;o<i;++o)switch(t[o]){case".":r=n=o;break;case"0":0===r&&(r=o),n=o;break;case"e":break t;default:0<r&&(r=0)}return 0<r?t.slice(0,r)+t.slice(n+1):t},"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return fu(100*t,e)},r:fu,s:function(t,e){var n=hu(t,e);if(!n)return t+"";var i=n[0],o=n[1],r=o-(du=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,a=i.length;return r===a?i:a<r?i+new Array(r-a+1).join("0"):0<r?i.slice(0,r)+"."+i.slice(r):"0."+new Array(1-r).join("0")+hu(t,Math.max(0,e+r-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},gu=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i,vu=function(t){return new fe(t)};fe.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var yu,bu=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"],_u=function(t){function a(t){function e(t){var e,n,i,o=v,r=y;if("c"===g)r=b(t)+r,t="";else{var a=((t=+t)<0||1/t<0)&&(t*=-1,!0);if(t=b(t,m),a)for(e=-1,n=t.length,a=!1;++e<n;)if(48<(i=t.charCodeAt(e))&&i<58||"x"===g&&96<i&&i<103||"X"===g&&64<i&&i<71){a=!0;break}if(o=(a?"("===u?u:"-":"-"===u||"("===u?"":u)+o,r=r+("s"===g?bu[8+du/3]:"")+(a&&"("===u?")":""),_)for(e=-1,n=t.length;++e<n;)if((i=t.charCodeAt(e))<48||57<i){r=(46===i?w+t.slice(e+1):t.slice(e))+r,t=t.slice(0,e);break}}f&&!h&&(t=x(t,1/0));var s=o.length+t.length+r.length,l=s<p?new Array(p-s+1).join(c):"";switch(f&&h&&(t=x(l+t,l.length?p-r.length:1/0),l=""),d){case"<":return o+t+r+l;case"=":return o+l+t+r;case"^":return l.slice(0,s=l.length>>1)+o+t+r+l.slice(s)}return l+o+t+r}var c=(t=vu(t)).fill,d=t.align,u=t.sign,n=t.symbol,h=t.zero,p=t.width,f=t.comma,m=t.precision,g=t.type,v="$"===n?i[0]:"#"===n&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",y="$"===n?i[1]:/[%p]/.test(g)?"%":"",b=mu[g],_=!g||/[defgprs%]/.test(g);return m=null==m?g?6:12:/[gprs]/.test(g)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),e.toString=function(){return t+""},e}var s,l,x=t.grouping&&t.thousands?(s=t.grouping,l=t.thousands,function(t,e){for(var n=t.length,i=[],o=0,r=s[0],a=0;0<n&&0<r&&(e<a+r+1&&(r=Math.max(1,e-a)),i.push(t.substring(n-=r,n+r)),!((a+=r+1)>e));)r=s[o=(o+1)%s.length];return i.reverse().join(l)}):me,i=t.currency,w=t.decimal;return{format:a,formatPrefix:function(t,e){var n=a(((t=vu(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(pu(e)/3))),o=Math.pow(10,-i),r=bu[8+i/3];return function(t){return n(o*t)+r}}}};ge({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var xu,wu=function(t){return Math.max(0,-pu(Math.abs(t)))},Eu=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(pu(e)/3)))-pu(Math.abs(t)))},Mu=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,pu(e)-pu(t))+1},Tu={"-":"",_:" ",0:"0"},Cu=/^\s*\d+/,Su=/^%/,Au=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;mn({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var ku="%Y-%m-%dT%H:%M:%S.%LZ",Du=Date.prototype.toISOString?function(t){return t.toISOString()}:H.utcFormat(ku),Ou=+new Date("2000-01-01T00:00:00.000Z")?function(t){var e=new Date(t);return isNaN(e)?null:e}:H.utcParse(ku),Pu=Array.prototype,Nu=Pu.map,Lu=Pu.slice,Iu={name:"implicit"},Ru=function(t){return function(){return t}},$u=function(t){return+t},Fu=[0,1],zu=function(t,e,n){var i,o=t[0],r=t[t.length-1],a=M(o,r,null==e?10:e);switch((n=vu(null==n?",f":n)).type){case"s":var s=Math.max(Math.abs(o),Math.abs(r));return null!=n.precision||isNaN(i=Eu(a,s))||(n.precision=i),H.formatPrefix(n,s);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(i=Mu(a,Math.max(Math.abs(o),Math.abs(r))))||(n.precision=i-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(i=wu(a))||(n.precision=i-2*("%"===n.type))}return H.format(n)},Hu=function(t,e){var n,i=0,o=(t=t.slice()).length-1,r=t[i],a=t[o];return a<r&&(n=i,i=o,o=n,n=r,r=a,a=n),t[i]=e.floor(r),t[o]=e.ceil(a),t},Bu=1e3,Uu=60*Bu,ju=60*Uu,Vu=24*ju,Gu=7*Vu,Wu=30*Vu,Yu=365*Vu,qu=function(t){return t.match(/.{6}/g).map(function(t){return"#"+t})},Xu=qu("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Zu=qu("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),Ku=qu("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),Qu=qu("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),Ju=Oc(zt(300,.5,0),zt(-240,.5,1)),th=Oc(zt(-100,.75,.35),zt(80,1.5,.8)),eh=Oc(zt(260,.75,.35),zt(80,1.5,.8)),nh=zt(),ih=In(qu("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),oh=In(qu("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),rh=In(qu("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),ah=In(qu("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),sh="http://www.w3.org/1999/xhtml",lh={svg:"http://www.w3.org/2000/svg",xhtml:sh,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ch=function(t){var e=t+="",n=e.indexOf(":");return 0<=n&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),lh.hasOwnProperty(e)?{space:lh[e],local:t}:t},dh=function(t){var e=ch(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===sh&&t.documentElement.namespaceURI===sh?t.createElement(n):t.createElementNS(e,n)}})(e)},uh=0;$n.prototype=Rn.prototype={constructor:$n,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var hh=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var ph=document.documentElement;if(!ph.matches){var fh=ph.webkitMatchesSelector||ph.msMatchesSelector||ph.mozMatchesSelector||ph.oMatchesSelector;hh=function(t){return function(){return fh.call(this,t)}}}}var mh=hh,gh={};(H.event=null,"undefined"!=typeof document)&&("onmouseenter"in document.documentElement||(gh={mouseenter:"mouseover",mouseleave:"mouseout"}));var vh=function(){for(var t,e=H.event;t=e.sourceEvent;)e=t;return e},yh=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,[(i=i.matrixTransform(t.getScreenCTM().inverse())).x,i.y]}var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]},bh=function(t){var e=vh();return e.changedTouches&&(e=e.changedTouches[0]),yh(t,e)},_h=function(t){return null==t?jn:function(){return this.querySelector(t)}},xh=function(t){return null==t?Vn:function(){return this.querySelectorAll(t)}},wh=function(t){return new Array(t.length)};Gn.prototype={constructor:Gn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Eh=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};Kn.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);0<=e&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return 0<=this._names.indexOf(t)}};var Mh=[null];si.prototype=li.prototype={constructor:si,select:function(t){"function"!=typeof t&&(t=_h(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r,a,s=e[o],l=s.length,c=i[o]=new Array(l),d=0;d<l;++d)(r=s[d])&&(a=t.call(r,r.__data__,d,s))&&("__data__"in r&&(a.__data__=r.__data__),c[d]=a);return new si(i,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=xh(t));for(var e=this._groups,n=e.length,i=[],o=[],r=0;r<n;++r)for(var a,s=e[r],l=s.length,c=0;c<l;++c)(a=s[c])&&(i.push(t.call(a,a.__data__,c,s)),o.push(a));return new si(i,o)},filter:function(t){"function"!=typeof t&&(t=mh(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r,a=e[o],s=a.length,l=i[o]=[],c=0;c<s;++c)(r=a[c])&&t.call(r,r.__data__,c,a)&&l.push(r);return new si(i,this._parents)},data:function(t,e){if(!t)return f=new Array(this.size()),d=-1,this.each(function(t){f[++d]=t}),f;var n,i=e?Yn:Wn,o=this._parents,r=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var a=r.length,s=new Array(a),l=new Array(a),c=new Array(a),d=0;d<a;++d){var u=o[d],h=r[d],p=h.length,f=t.call(u,u&&u.__data__,d,o),m=f.length,g=l[d]=new Array(m),v=s[d]=new Array(m);i(u,h,g,v,c[d]=new Array(p),f,e);for(var y,b,_=0,x=0;_<m;++_)if(y=g[_]){for(x<=_&&(x=_+1);!(b=v[x])&&++x<m;);y._next=b||null}}return(s=new si(s,o))._enter=l,s._exit=c,s},enter:function(){return new si(this._enter||this._groups.map(wh),this._parents)},exit:function(){return new si(this._exit||this._groups.map(wh),this._parents)},merge:function(t){for(var e=this._groups,n=t._groups,i=e.length,o=n.length,r=Math.min(i,o),a=new Array(i),s=0;s<r;++s)for(var l,c=e[s],d=n[s],u=c.length,h=a[s]=new Array(u),p=0;p<u;++p)(l=c[p]||d[p])&&(h[p]=l);for(;s<i;++s)a[s]=e[s];return new si(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,o=t[e],r=o.length-1,a=o[r];0<=--r;)(i=o[r])&&(a&&a!==i.nextSibling&&a.parentNode.insertBefore(i,a),a=i);return this},sort:function(n){function t(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}n||(n=qn);for(var e=this._groups,i=e.length,o=new Array(i),r=0;r<i;++r){for(var a,s=e[r],l=s.length,c=o[r]=new Array(l),d=0;d<l;++d)(a=s[d])&&(c[d]=a);c.sort(t)}return new si(o,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,r=i.length;o<r;++o){var a=i[o];if(a)return a}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var o,r=e[n],a=0,s=r.length;a<s;++a)(o=r[a])&&t.call(o,o.__data__,a,r);return this},attr:function(t,e){var n=ch(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}:function(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){var i;return 1<arguments.length?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(e,n,i){return function(){var t=n.apply(this,arguments);null==t?this.style.removeProperty(e):this.style.setProperty(e,t,i)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):Eh(i=this.node()).getComputedStyle(i,null).getPropertyValue(t)},property:function(t,e){return 1<arguments.length?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(e,n){return function(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=Xn(t+"");if(arguments.length<2){for(var i=Zn(this.node()),o=-1,r=n.length;++o<r;)if(!i.contains(n[o]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?Qn:Jn)(this,t)}}:e?function(t){return function(){Qn(this,t)}}:function(t){return function(){Jn(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?ti:("function"==typeof t?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?ei:("function"==typeof t?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(ni)},lower:function(){return this.each(ii)},append:function(t){var e="function"==typeof t?t:dh(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:dh(t),i=null==e?oi:"function"==typeof e?e:_h(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function(){return this.each(ri)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var i,o,r=(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return 0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}),a=r.length;if(!(arguments.length<2)){for(s=e?Bn:Hn,null==n&&(n=!1),i=0;i<a;++i)this.each(s(r[i],e,n));return this}var s=this.node().__on;if(s)for(var l,c=0,d=s.length;c<d;++c)for(i=0,l=s[c];i<a;++i)if((o=r[i]).type===l.type&&o.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return ai(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return ai(this,t,e)}})(t,e))}};var Th=function(t){return"string"==typeof t?new si([[document.querySelector(t)]],[document.documentElement]):new si([[t]],Mh)},Ch=function(t,e,n){arguments.length<3&&(n=e,e=vh().changedTouches);for(var i,o=0,r=e?e.length:0;o<r;++o)if((i=e[o]).identifier===n)return yh(t,i);return null},Sh=Qt("start","end","interrupt"),Ah=[],kh=0,Dh=2,Oh=function(t,e,n,i,o,r){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(r,a,s){function l(t){var e,n,i,o;if(1!==s.state)return d();for(e in h)if((o=h[e]).name===s.name){if(3===o.state)return dd(l);4===o.state?(o.state=6,o.timer.stop(),o.on.call("interrupt",r,r.__data__,o.index,o.group),delete h[e]):+e<a&&(o.state=6,o.timer.stop(),delete h[e])}if(dd(function(){3===s.state&&(s.state=4,s.timer.restart(c,s.delay,s.time),c(t))}),s.state=Dh,s.on.call("start",r,r.__data__,s.index,s.group),s.state===Dh){for(s.state=3,u=new Array(i=s.tween.length),e=0,n=-1;e<i;++e)(o=s.tween[e].value.call(r,r.__data__,s.index,s.group))&&(u[++n]=o);u.length=n+1}}function c(t){for(var e=t<s.duration?s.ease.call(null,t/s.duration):(s.timer.restart(d),s.state=5,1),n=-1,i=u.length;++n<i;)u[n].call(null,e);5===s.state&&(s.on.call("end",r,r.__data__,s.index,s.group),d())}function d(){for(var t in s.state=6,s.timer.stop(),delete h[a],h)return;delete r.__transition}var u,h=r.__transition;(h[a]=s).timer=ae(function(t){s.state=1,s.timer.restart(l,s.delay,s.time),s.delay<=t&&l(t-s.delay)},0,s.time)}(t,n,{name:e,index:i,group:o,on:Sh,tween:Ah,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:kh})},Ph=function(t,e){var n,i,o,r=t.__transition,a=!0;if(r){for(o in e=null==e?null:e+"",r)(n=r[o]).name===e?(i=n.state>Dh&&n.state<5,n.state=6,n.timer.stop(),i&&n.on.call("interrupt",t,t.__data__,n.index,n.group),delete r[o]):a=!1;a&&delete t.__transition}},Nh=function(t,e){var n;return("number"==typeof e?hc:e instanceof _t?sc:(n=_t(e))?(e=n,sc):gc)(t,e)},Lh=li.prototype.constructor,Ih=0,Rh=li.prototype;pi.prototype=fi.prototype={constructor:pi,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=_h(t));for(var i=this._groups,o=i.length,r=new Array(o),a=0;a<o;++a)for(var s,l,c=i[a],d=c.length,u=r[a]=new Array(d),h=0;h<d;++h)(s=c[h])&&(l=t.call(s,s.__data__,h,c))&&("__data__"in s&&(l.__data__=s.__data__),u[h]=l,Oh(u[h],e,n,h,u,ui(s,n)));return new pi(r,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=xh(t));for(var i=this._groups,o=i.length,r=[],a=[],s=0;s<o;++s)for(var l,c=i[s],d=c.length,u=0;u<d;++u)if(l=c[u]){for(var h,p=t.call(l,l.__data__,u,c),f=ui(l,n),m=0,g=p.length;m<g;++m)(h=p[m])&&Oh(h,e,n,m,p,f);r.push(p),a.push(l)}return new pi(r,a,e,n)},filter:function(t){"function"!=typeof t&&(t=mh(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r,a=e[o],s=a.length,l=i[o]=[],c=0;c<s;++c)(r=a[c])&&t.call(r,r.__data__,c,a)&&l.push(r);return new pi(i,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,o=n.length,r=Math.min(i,o),a=new Array(i),s=0;s<r;++s)for(var l,c=e[s],d=n[s],u=c.length,h=a[s]=new Array(u),p=0;p<u;++p)(l=c[p]||d[p])&&(h[p]=l);for(;s<i;++s)a[s]=e[s];return new pi(a,this._parents,this._name,this._id)},selection:function(){return new Lh(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=mi(),i=this._groups,o=i.length,r=0;r<o;++r)for(var a,s=i[r],l=s.length,c=0;c<l;++c)if(a=s[c]){var d=ui(a,e);Oh(a,t,n,c,s,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new pi(i,this._parents,t,n)},call:Rh.call,nodes:Rh.nodes,node:Rh.node,size:Rh.size,empty:Rh.empty,each:Rh.each,on:function(t,e){var n,i,o,r,a,s,l=this._id;return arguments.length<2?ui(this.node(),l).on.on(t):this.each((n=l,o=e,s=((i=t)+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return 0<=e&&(t=t.slice(0,e)),!t||"start"===t})?ci:di,function(){var t=s(this,n),e=t.on;e!==r&&(a=(r=e).copy()).on(i,o),t.on=a}))},attr:function(t,e){var n=ch(t),i="transform"===n?Ec:Nh;return this.attrTween(t,"function"==typeof e?(n.local?function(n,i,o){var r,a,s;return function(){var t,e=o(this);return null==e?void this.removeAttributeNS(n.space,n.local):(t=this.getAttributeNS(n.space,n.local))===e?null:t===r&&e===a?s:s=i(r=t,a=e)}}:function(n,i,o){var r,a,s;return function(){var t,e=o(this);return null==e?void this.removeAttribute(n):(t=this.getAttribute(n))===e?null:t===r&&e===a?s:s=i(r=t,a=e)}})(n,i,hi(this,"attr."+t,e)):null==e?(n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(n):(n.local?function(e,n,i){var o,r;return function(){var t=this.getAttributeNS(e.space,e.local);return t===i?null:t===o?r:r=n(o=t,i)}}:function(e,n,i){var o,r;return function(){var t=this.getAttribute(e);return t===i?null:t===o?r:r=n(o=t,i)}})(n,i,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var i=ch(t);return this.tween(n,(i.local?function(i,t){function e(){var e=this,n=t.apply(e,arguments);return n&&function(t){e.setAttributeNS(i.space,i.local,n(t))}}return e._value=t,e}:function(i,t){function e(){var e=this,n=t.apply(e,arguments);return n&&function(t){e.setAttribute(i,n(t))}}return e._value=t,e})(i,e))},style:function(t,e,n){var i,o,r,a,s,l,c,d,u,h,p,f,m,g,v,y,b,_="transform"==(t+="")?wc:Nh;return null==e?this.styleTween(t,(m=t,g=_,function(){var t=Eh(this).getComputedStyle(this,null),e=t.getPropertyValue(m),n=(this.style.removeProperty(m),t.getPropertyValue(m));return e===n?null:e===v&&n===y?b:b=g(v=e,y=n)})).on("end.style."+t,(f=t,function(){this.style.removeProperty(f)})):this.styleTween(t,"function"==typeof e?(c=_,d=hi(this,"style."+(l=t),e),function(){var t=Eh(this).getComputedStyle(this,null),e=t.getPropertyValue(l),n=d(this);return null==n&&(this.style.removeProperty(l),n=t.getPropertyValue(l)),e===n?null:e===u&&n===h?p:p=c(u=e,h=n)}):(i=t,o=_,r=e,function(){var t=Eh(this).getComputedStyle(this,null).getPropertyValue(i);return t===r?null:t===a?s:s=o(a=t,r)}),n)},styleTween:function(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,function(i,t,o){function e(){var e=this,n=t.apply(e,arguments);return n&&function(t){e.style.setProperty(i,n(t),o)}}return e._value=t,e}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?(n=hi(this,"text",t),function(){var t=n(this);this.textContent=null==t?"":t}):(e=null==t?"":t+"",function(){this.textContent=e}));var e,n},remove:function(){return this.on("end.remove",(n=this._id,function(){var t=this.parentNode;for(var e in this.__transition)if(+e!==n)return;t&&t.removeChild(this)}));var n},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,o=ui(this.node(),n).tween,r=0,a=o.length;r<a;++r)if((i=o[r]).name===t)return i.value;return null}return this.each((null==e?function(o,r){var a,s;return function(){var t=di(this,o),e=t.tween;if(e!==a)for(var n=0,i=(s=a=e).length;n<i;++n)if(s[n].name===r){(s=s.slice()).splice(n,1);break}t.tween=s}}:function(r,a,s){var l,c;if("function"!=typeof s)throw new Error;return function(){var t=di(this,r),e=t.tween;if(e!==l){c=(l=e).slice();for(var n={name:a,value:s},i=0,o=c.length;i<o;++i)if(c[i].name===a){c[i]=n;break}i===o&&c.push(n)}t.tween=c}})(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){ci(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){ci(this,t).delay=e}})(e,t)):ui(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){di(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){di(this,t).duration=e}})(e,t)):ui(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){di(this,t).ease=e}}(e,t)):ui(this.node(),e).ease}};var $h={time:null,delay:0,duration:250,ease:c};li.prototype.interrupt=function(t){return this.each(function(){Ph(this,t)})},li.prototype.transition=function(t){var e,n;t=t instanceof pi?(e=t._id,t._name):(e=mi(),(n=$h).time=ie(),null==t?null:t+"");for(var i=this._groups,o=i.length,r=0;r<o;++r)for(var a,s=i[r],l=s.length,c=0;c<l;++c)(a=s[c])&&Oh(a,t,e,c,s,n||gi(a,e));return new pi(i,this._parents,t,e)};var Fh=[null],zh=Array.prototype.slice,Hh=function(t){return t},Bh=1,Uh=2,jh=3,Vh=4,Gh=1e-6;Ai.prototype=Mi.prototype={constructor:Ai,each:function(t){var e,n,i,o,r=this,a=[r];do{for(e=a.reverse(),a=[];r=e.pop();)if(t(r),n=r.children)for(i=0,o=n.length;i<o;++i)a.push(n[i])}while(a.length);return this},eachAfter:function(t){for(var e,n,i,o=this,r=[o],a=[];o=r.pop();)if(a.push(o),e=o.children)for(n=0,i=e.length;n<i;++n)r.push(e[n]);for(;o=a.pop();)t(o);return this},eachBefore:function(t){for(var e,n,i=this,o=[i];i=o.pop();)if(t(i),e=i.children)for(n=e.length-1;0<=n;--n)o.push(e[n]);return this},sum:function(o){return this.eachAfter(function(t){for(var e=+o(t.data)||0,n=t.children,i=n&&n.length;0<=--i;)e+=n[i].value;t.value=e})},sort:function(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),i=e.ancestors(),o=null;for(t=n.pop(),e=i.pop();t===e;)o=t,t=n.pop(),e=i.pop();return o}(e,t),i=[e];e!==n;)e=e.parent,i.push(e);for(var o=i.length;t!==n;)i.splice(o,0,t),t=t.parent;return i},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){var e=[];return this.each(function(t){e.push(t)}),e},leaves:function(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e},links:function(){var e=this,n=[];return e.each(function(t){t!==e&&n.push({source:t.parent,target:t})}),n},copy:function(){return Mi(this).eachBefore(Ci)}};var Wh=function(t){return Di(function(t){for(var e=(t=t.slice()).length,n=null,i=n;e;){var o=new ki(t[e-1]);i=i?i.next=o:n=o,t[void 0]=t[--e]}return{head:n,tail:i}}(t),[])},Yh=function(t){return function(){return t}},qh=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)},Xh=function(t,e,n,i,o){for(var r,a=t.children,s=-1,l=a.length,c=t.value&&(i-e)/t.value;++s<l;)(r=a[s]).y0=n,r.y1=o,r.x0=e,r.x1=e+=r.value*c},Zh={depth:-1},Kh={};Yi.prototype=Object.create(Ai.prototype);var Qh=function(t,e,n,i,o){for(var r,a=t.children,s=-1,l=a.length,c=t.value&&(o-n)/t.value;++s<l;)(r=a[s]).x0=e,r.x1=i,r.y0=n,r.y1=n+=r.value*c},Jh=(1+Math.sqrt(5))/2,tp=function e(r){function t(t,e,n,i,o){qi(r,t,e,n,i,o)}return t.ratio=function(t){return e(1<(t=+t)?t:1)},t}(Jh),ep=function e(p){function t(t,e,n,i,o){if((r=t._squarify)&&r.ratio===p)for(var r,a,s,l,c,d=-1,u=r.length,h=t.value;++d<u;){for(s=(a=r[d]).children,l=a.value=0,c=s.length;l<c;++l)a.value+=s[l].value;a.dice?Xh(a,e,n,i,n+=(o-n)*a.value/h):Qh(a,e,n,e+=(i-e)*a.value/h,o),h-=a.value}else t._squarify=r=qi(p,t,e,n,i,o),r.ratio=p}return t.ratio=function(t){return e(1<(t=+t)?t:1)},t}(Jh),np=function(t){return function(){return t}},ip=function(){return 1e-6*(Math.random()-.5)},op=Math.PI*(3-Math.sqrt(5)),rp=function(){H.event.preventDefault(),H.event.stopImmediatePropagation()},ap=function(t){var e=t.document.documentElement,n=Th(t).on("dragstart.drag",rp,!0);"onselectstart"in e?n.on("selectstart.drag",rp,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")},sp=function(t){return function(){return t}};io.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var lp=function(t){return function(){return t}};co.prototype={constructor:co,insert:function(t,e){var n,i,o;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else n=this._?(t=fo(this._),e.P=null,(e.N=t).P=t.L=e,t):(e.P=e.N=null,this._=e,null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(i=n.U).L?(o=i.R)&&o.C?(n.C=o.C=!1,i.C=!0,t=i):(t===n.R&&(ho(this,n),n=(t=n).U),n.C=!1,i.C=!0,po(this,i)):(o=i.L)&&o.C?(n.C=o.C=!1,i.C=!0,t=i):(t===n.L&&(po(this,n),n=(t=n).U),n.C=!1,i.C=!0,ho(this,i)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,o=t.U,r=t.L,a=t.R;if(n=r?a?fo(a):r:a,o?o.L===t?o.L=n:o.R=n:this._=n,r&&a?(i=n.C,n.C=t.C,((n.L=r).U=n)!==a?(o=n.U,n.U=t.U,t=n.R,o.L=t,(n.R=a).U=n):(n.U=o,t=(o=n).R)):(i=t.C,t=n),t&&(t.U=o),!i){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===o.L){if((e=o.R).C&&(e.C=!1,o.C=!0,ho(this,o),e=o.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,po(this,e),e=o.R),e.C=o.C,o.C=e.R.C=!1,ho(this,o),t=this._;break}}else if((e=o.L).C&&(e.C=!1,o.C=!0,po(this,o),e=o.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,ho(this,e),e=o.L),e.C=o.C,o.C=e.L.C=!1,po(this,o),t=this._;break}e.C=!0,o=(t=o).U}while(!t.C);t&&(t.C=!1)}}};var cp,dp,up,hp,pp,fp=[],mp=[],gp=1e-6,vp=1e-12;Po.prototype={constructor:Po,polygons:function(){var n=this.edges;return this.cells.map(function(e){var t=e.halfedges.map(function(t){return _o(e,n[t])});return t.data=e.site.data,t})},triangles:function(){var h=[],p=this.edges;return this.cells.forEach(function(t,e){for(var n,i=t.site,o=t.halfedges,r=-1,a=o.length,s=p[o[a-1]],l=s.left===i?s.right:s.left;++r<a;)n=l,l=(s=p[o[r]]).left===i?s.right:s.left,n&&l&&e<n.index&&e<l.index&&(d=n,u=l,((c=i)[0]-u[0])*(d[1]-c[1])-(c[0]-d[0])*(u[1]-c[1])<0)&&h.push([i.data,n.data,l.data]);var c,d,u}),h},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(a,s,t){for(var e,l=this,c=l._found||0,d=l.cells[c]||l.cells[c=0],n=a-d.site[0],i=s-d.site[1],u=n*n+i*i;d=l.cells[e=c],c=null,d.halfedges.forEach(function(t){var e=l.edges[t],n=e.left;if(n!==d.site&&n||(n=e.right)){var i=a-n[0],o=s-n[1],r=i*i+o*o;r<u&&(u=r,c=n.index)}}),null!==c;);return l._found=e,null==t||u<=t*t?d.site:null}};var yp=function(t){return function(){return t}};Lo.prototype={constructor:Lo,scale:function(t){return 1===t?this:new Lo(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Lo(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var bp=new Lo(1,0,0);Io.prototype=Lo.prototype;var _p=function(){H.event.preventDefault(),H.event.stopImmediatePropagation()},xp=function(t){return function(){return t}},wp=function(t,e,n){this.target=t,this.type=e,this.selection=n},Ep=function(){H.event.preventDefault(),H.event.stopImmediatePropagation()},Mp={name:"drag"},Tp={name:"space"},Cp={name:"handle"},Sp={name:"center"},Ap={name:"x",handles:["e","w"].map(Bo),input:function(t,e){return t&&[[t[0],e[0][1]],[t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},kp={name:"y",handles:["n","s"].map(Bo),input:function(t,e){return t&&[[e[0][0],t[0]],[e[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Dp={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(Bo),input:function(t){return t},output:function(t){return t}},Op={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Pp={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Np={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Lp={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Ip={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1},Rp=Math.cos,$p=Math.sin,Fp=Math.PI,zp=Fp/2,Hp=2*Fp,Bp=Math.max,Up=Array.prototype.slice,jp=function(t){return function(){return t}},Vp=function(){return new Qo};Qo.prototype={constructor:Qo,reset:function(){this.s=this.t=0},add:function(t){Jo(Ef,t,this.t),Jo(this,Ef.s,this.s),this.s?this.t+=Ef.t:this.s=Ef.t},valueOf:function(){return this.s}};var Gp,Wp,Yp,qp,Xp,Zp,Kp,Qp,Jp,tf,ef,nf,of,rf,af,sf,lf,cf,df,uf,hf,pf,ff,mf,gf,vf,yf,bf,_f,xf,wf,Ef=new Qo,Mf=1e-6,Tf=Math.PI,Cf=Tf/2,Sf=Tf/4,Af=2*Tf,kf=180/Tf,Df=Tf/180,Of=Math.abs,Pf=Math.atan,Nf=Math.atan2,Lf=Math.cos,If=Math.ceil,Rf=Math.exp,$f=Math.log,Ff=Math.pow,zf=Math.sin,Hf=Math.sign||function(t){return 0<t?1:t<0?-1:0},Bf=Math.sqrt,Uf=Math.tan,jf={Feature:function(t,e){or(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,o=n.length;++i<o;)or(n[i].geometry,e)}},Vf={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){rr(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)rr(n[i],e,0)},Polygon:function(t,e){ar(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)ar(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,o=n.length;++i<o;)or(n[i],e)}},Gf=function(t,e){t&&jf.hasOwnProperty(t.type)?jf[t.type](t,e):or(t,e)},Wf=Vp(),Yf=Vp(),qf={point:ir,lineStart:ir,lineEnd:ir,polygonStart:function(){Wf.reset(),qf.lineStart=sr,qf.lineEnd=lr},polygonEnd:function(){var t=+Wf;Yf.add(t<0?Af+t:t),this.lineStart=this.lineEnd=this.point=ir},sphere:function(){Yf.add(Af)}},Xf=Vp(),Zf={point:yr,lineStart:_r,lineEnd:xr,polygonStart:function(){Zf.point=wr,Zf.lineStart=Er,Zf.lineEnd=Mr,Xf.reset(),qf.polygonStart()},polygonEnd:function(){qf.polygonEnd(),Zf.point=yr,Zf.lineStart=_r,Zf.lineEnd=xr,Wf<0?(Zp=-(Qp=180),Kp=-(Jp=90)):Mf<Xf?Jp=90:Xf<-Mf&&(Kp=-90),af[0]=Zp,af[1]=Qp}},Kf={sphere:ir,point:Ar,lineStart:Dr,lineEnd:Nr,polygonStart:function(){Kf.lineStart=Lr,Kf.lineEnd=Ir},polygonEnd:function(){Kf.lineStart=Dr,Kf.lineEnd=Nr}},Qf=function(t){return function(){return t}},Jf=function(n,i){function t(t,e){return t=n(t,e),i(t[0],t[1])}return n.invert&&i.invert&&(t.invert=function(t,e){return(t=i.invert(t,e))&&n.invert(t[0],t[1])}),t};Fr.invert=Fr;var tm,em,nm,im,om,rm,am,sm,lm,cm,dm,um=function(){var n,e=[];return{point:function(t,e){n.push([t,e])},lineStart:function(){e.push(n=[])},lineEnd:ir,rejoin:function(){1<e.length&&e.push(e.pop().concat(e.shift()))},result:function(){var t=e;return e=[],n=null,t}}},hm=function(t,e,n,i,o,r){var a,s=t[0],l=t[1],c=0,d=1,u=e[0]-s,h=e[1]-l;if(a=n-s,u||!(0<a)){if(a/=u,u<0){if(a<c)return;a<d&&(d=a)}else if(0<u){if(d<a)return;c<a&&(c=a)}if(a=o-s,u||!(a<0)){if(a/=u,u<0){if(d<a)return;c<a&&(c=a)}else if(0<u){if(a<c)return;a<d&&(d=a)}if(a=i-l,h||!(0<a)){if(a/=h,h<0){if(a<c)return;a<d&&(d=a)}else if(0<h){if(d<a)return;c<a&&(c=a)}if(a=r-l,h||!(a<0)){if(a/=h,h<0){if(d<a)return;c<a&&(c=a)}else if(0<h){if(a<c)return;a<d&&(d=a)}return 0<c&&(t[0]=s+c*u,t[1]=l+c*h),d<1&&(e[0]=s+d*u,e[1]=l+d*h),!0}}}}},pm=function(t,e){return Of(t[0]-e[0])<Mf&&Of(t[1]-e[1])<Mf},fm=function(t,e,n,i,r){var a,o,s=[],l=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,i=t[0],o=t[e];if(pm(i,o)){for(r.lineStart(),a=0;a<e;++a)r.point((i=t[a])[0],i[1]);return void r.lineEnd()}s.push(n=new Gr(i,t,null,!0)),l.push(n.o=new Gr(i,null,n,!1)),s.push(n=new Gr(o,t,null,!1)),l.push(n.o=new Gr(o,null,n,!0))}}),s.length){for(l.sort(e),Wr(s),Wr(l),a=0,o=l.length;a<o;++a)l[a].e=n=!n;for(var c,d,u=s[0];;){for(var h=u,p=!0;h.v;)if((h=h.n)===u)return;c=h.z,r.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(a=0,o=c.length;a<o;++a)r.point((d=c[a])[0],d[1]);else i(h.x,h.n.x,1,r);h=h.n}else{if(p)for(c=h.p.z,a=c.length-1;0<=a;--a)r.point((d=c[a])[0],d[1]);else i(h.x,h.p.x,-1,r);h=h.p}c=(h=h.o).z,p=!p}while(!h.v);r.lineEnd()}}},mm=1e9,gm=-mm,vm=Vp(),ym={sphere:ir,point:ir,lineStart:function(){ym.point=Xr,ym.lineEnd=qr},lineEnd:ir,polygonStart:ir,polygonEnd:ir},bm=function(t){return vm.reset(),Gf(t,ym),+vm},_m=[null,null],xm={type:"LineString",coordinates:_m},wm=function(t){return t},Em=Vp(),Mm=Vp(),Tm={point:ir,lineStart:ir,lineEnd:ir,polygonStart:function(){Tm.lineStart=ta,Tm.lineEnd=ia},polygonEnd:function(){Tm.lineStart=Tm.lineEnd=Tm.point=ir,Em.add(Of(Mm)),Mm.reset()},result:function(){var t=Em/2;return Em.reset(),t}},Cm=1/0,Sm=Cm,Am=-Cm,km=Am,Dm={point:function(t,e){t<Cm&&(Cm=t),Am<t&&(Am=t),e<Sm&&(Sm=e),km<e&&(km=e)},lineStart:ir,lineEnd:ir,polygonStart:ir,polygonEnd:ir,result:function(){var t=[[Cm,Sm],[Am,km]];return Am=km=-(Sm=Cm=1/0),t}},Om=0,Pm=0,Nm=0,Lm=0,Im=0,Rm=0,$m=0,Fm=0,zm=0,Hm={point:oa,lineStart:ra,lineEnd:la,polygonStart:function(){Hm.lineStart=ca,Hm.lineEnd=da},polygonEnd:function(){Hm.point=oa,Hm.lineStart=ra,Hm.lineEnd=la},result:function(){var t=zm?[$m/zm,Fm/zm]:Rm?[Lm/Rm,Im/Rm]:Nm?[Om/Nm,Pm/Nm]:[NaN,NaN];return Om=Pm=Nm=Lm=Im=Rm=$m=Fm=zm=0,t}};pa.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Af)}},result:ir},fa.prototype={_circle:ma(4.5),pointRadius:function(t){return this._circle=ma(t),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}}};var Bm=Vp(),Um=function(y,b,_,x){return function(i,s){function e(t,e){var n=i(t,e);y(t=n[0],e=n[1])&&s.point(t,e)}function t(t,e){var n=i(t,e);h.point(n[0],n[1])}function n(){v.point=t,h.lineStart()}function o(){v.point=e,h.lineEnd()}function l(t,e){u.push([t,e]);var n=i(t,e);m.point(n[0],n[1])}function r(){m.lineStart(),u=[]}function a(){l(u[0][0],u[0][1]),m.lineEnd();var t,e,n,i,o=m.clean(),r=f.result(),a=r.length;if(u.pop(),c.push(u),u=null,a)if(1&o){if(0<(e=(n=r[0]).length-1)){for(g||(s.polygonStart(),g=!0),s.lineStart(),t=0;t<e;++t)s.point((i=n[t])[0],i[1]);s.lineEnd()}}else 1<a&&2&o&&r.push(r.pop().concat(r.shift())),d.push(r.filter(ga))}var c,d,u,h=b(s),p=i.invert(x[0],x[1]),f=um(),m=b(f),g=!1,v={point:e,lineStart:n,lineEnd:o,polygonStart:function(){v.point=l,v.lineStart=r,v.lineEnd=a,d=[],c=[]},polygonEnd:function(){v.point=e,v.lineStart=n,v.lineEnd=o,d=as(d);var t=function(t,e){var n=e[0],i=e[1],o=[zf(n),-Lf(n),0],r=0,a=0;Bm.reset();for(var s=0,l=t.length;s<l;++s)if(d=(c=t[s]).length)for(var c,d,u=c[d-1],h=u[0],p=u[1]/2+Sf,f=zf(p),m=Lf(p),g=0;g<d;++g,h=y,f=_,m=x,u=v){var v=c[g],y=v[0],b=v[1]/2+Sf,_=zf(b),x=Lf(b),w=y-h,E=0<=w?1:-1,M=E*w,T=Tf<M,C=f*_;if(Bm.add(Nf(C*E*zf(M),m*x+C*Lf(M))),r+=T?w+E*Af:w,T^n<=h^n<=y){var S=fr(hr(u),hr(v));vr(S);var A=fr(o,S);vr(A);var k=(T^0<=w?-1:1)*er(A[2]);(k<i||i===k&&(S[0]||S[1]))&&(a+=T^0<=w?1:-1)}}return(r<-Mf||r<Mf&&Bm<-Mf)^1&a}(c,p);d.length?(g||(s.polygonStart(),g=!0),fm(d,va,t,_,s)):t&&(g||(s.polygonStart(),g=!0),s.lineStart(),_(null,null,1,s),s.lineEnd()),g&&(s.polygonEnd(),g=!1),d=c=null},sphere:function(){s.polygonStart(),s.lineStart(),_(null,null,1,s),s.lineEnd(),s.polygonEnd()}};return v}},jm=Um(function(){return!0},function(u){var h,p=NaN,f=NaN,m=NaN;return{lineStart:function(){u.lineStart(),h=1},point:function(t,e){var n,i,o,r,a,s,l,c=0<t?Tf:-Tf,d=Of(t-p);Of(d-Tf)<Mf?(u.point(p,f=0<(f+e)/2?Cf:-Cf),u.point(m,f),u.lineEnd(),u.lineStart(),u.point(c,f),u.point(t,f),h=0):m!==c&&Tf<=d&&(Of(p-m)<Mf&&(p-=m*Mf),Of(t-c)<Mf&&(t-=c*Mf),i=f,r=e,l=zf((n=p)-(o=t)),f=Of(l)>Mf?Pf((zf(i)*(s=Lf(r))*zf(o)-zf(r)*(a=Lf(i))*zf(n))/(a*s*l)):(i+r)/2,u.point(m,f),u.lineEnd(),u.lineStart(),u.point(c,f),h=0),u.point(p=t,f=e),m=c},lineEnd:function(){u.lineEnd(),p=f=NaN},clean:function(){return 2-h}}},function(t,e,n,i){var o;if(null==t)o=n*Cf,i.point(-Tf,o),i.point(0,o),i.point(Tf,o),i.point(Tf,0),i.point(Tf,-o),i.point(0,-o),i.point(-Tf,-o),i.point(-Tf,0),i.point(-Tf,o);else if(Of(t[0]-e[0])>Mf){var r=t[0]<e[0]?Tf:-Tf;o=n*r/2,i.point(-r,o),i.point(0,o),i.point(r,o)}else i.point(e[0],e[1])},[-Tf,-Cf]),Vm=function(o,r){function p(t,e){return Lf(t)*Lf(e)>C}function f(t,e,n){var i=[1,0,0],o=fr(hr(t),hr(e)),r=pr(o,o),a=o[0],s=r-a*a;if(!s)return!n&&t;var l=C*r/s,c=-C*a/s,d=fr(i,o),u=gr(i,l);mr(u,gr(o,c));var h=d,p=pr(u,h),f=pr(h,h),m=p*p-f*(pr(u,u)-1);if(!(m<0)){var g=Bf(m),v=gr(h,(-p-g)/f);if(mr(v,u),v=ur(v),!n)return v;var y,b=t[0],_=e[0],x=t[1],w=e[1];_<b&&(y=b,b=_,_=y);var E=_-b,M=Of(E-Tf)<Mf;if(!M&&w<x&&(y=x,x=w,w=y),M||E<Mf?M?0<x+w^v[1]<(Of(v[0]-b)<Mf?x:w):x<=v[1]&&v[1]<=w:Tf<E^(b<=v[0]&&v[0]<=_)){var T=gr(h,(-p+g)/f);return mr(T,u),[v,ur(T)]}}}function m(t,e){var n=g?o:Tf-o,i=0;return t<-n?i|=1:n<t&&(i|=2),e<-n?i|=4:n<e&&(i|=8),i}var C=Lf(o),g=0<C,v=Of(C)>Mf;return Um(p,function(s){var l,c,d,u,h;return{lineStart:function(){u=d=!1,h=1},point:function(t,e){var n,i=[t,e],o=p(t,e),r=g?o?0:m(t,e):o?m(t+(t<0?Tf:-Tf),e):0;if(!l&&(u=d=o)&&s.lineStart(),o!==d&&(n=f(l,i),(pm(l,n)||pm(i,n))&&(i[0]+=Mf,i[1]+=Mf,o=p(i[0],i[1]))),o!==d)h=0,o?(s.lineStart(),n=f(i,l),s.point(n[0],n[1])):(n=f(l,i),s.point(n[0],n[1]),s.lineEnd()),l=n;else if(v&&l&&g^o){var a;r&c||!(a=f(i,l,!0))||(h=0,g?(s.lineStart(),s.point(a[0][0],a[0][1]),s.point(a[1][0],a[1][1]),s.lineEnd()):(s.point(a[1][0],a[1][1]),s.lineEnd(),s.lineStart(),s.point(a[0][0],a[0][1])))}!o||l&&pm(l,i)||s.point(i[0],i[1]),l=i,d=o,c=r},lineEnd:function(){d&&s.lineEnd(),l=null},clean:function(){return h|(u&&d)<<1}}},function(t,e,n,i){jr(i,o,r,n,t,e)},g?[0,-o]:[-Tf,o-Tf])};ba.prototype={constructor:ba,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Gm=Lf(30*Df),Wm=function(t,e){return+e?function(k,D){function O(t,e,n,i,o,r,a,s,l,c,d,u,h,p){var f=a-t,m=s-e,g=f*f+m*m;if(4*D<g&&h--){var v=i+c,y=o+d,b=r+u,_=Bf(v*v+y*y+b*b),x=er(b/=_),w=Of(Of(b)-1)<Mf||Of(n-l)<Mf?(n+l)/2:Nf(y,v),E=k(w,x),M=E[0],T=E[1],C=M-t,S=T-e,A=m*C-f*S;(D<A*A/g||.3<Of((f*C+m*S)/g-.5)||i*c+o*d+r*u<Gm)&&(O(t,e,n,i,o,r,M,T,w,v/=_,y/=_,b,h,p),p.point(M,T),O(M,T,w,v,y,b,a,s,l,c,d,u,h,p))}}return function(o){function t(t,e){t=k(t,e),o.point(t[0],t[1])}function e(){m=NaN,_.point=n,o.lineStart()}function n(t,e){var n=hr([t,e]),i=k(t,e);O(m,g,f,v,y,b,m=i[0],g=i[1],f=t,v=n[0],y=n[1],b=n[2],16,o),o.point(m,g)}function i(){_.point=t,o.lineEnd()}function r(){e(),_.point=a,_.lineEnd=s}function a(t,e){n(l=t,e),c=m,d=g,u=v,h=y,p=b,_.point=n}function s(){O(m,g,f,v,y,b,c,d,l,u,h,p,16,o),(_.lineEnd=i)()}var l,c,d,u,h,p,f,m,g,v,y,b,_={point:t,lineStart:e,lineEnd:i,polygonStart:function(){o.polygonStart(),_.lineStart=r},polygonEnd:function(){o.polygonEnd(),_.lineStart=e}};return _}}(t,e):(n=t,ya({point:function(t,e){t=n(t,e),this.stream.point(t[0],t[1])}}));var n},Ym=ya({point:function(t,e){this.stream.point(t*Df,e*Df)}}),qm=function(){return Ma(Ta).scale(155.424).center([0,33.6442])},Xm=function(){return qm().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])},Zm=Ca(function(t){return Bf(2/(1+t))});Zm.invert=Sa(function(t){return 2*er(t/2)});var Km=Ca(function(t){return(t=tr(t))&&t/zf(t)});Km.invert=Sa(function(t){return t});Aa.invert=function(t,e){return[t,2*Pf(Rf(e))-Cf]};Pa.invert=Pa;La.invert=Sa(Pf);Ra.invert=Sa(er);$a.invert=Sa(function(t){return 2*Pf(t)});Fa.invert=function(t,e){return[-e,2*Pf(Rf(t))-Cf]};H.version="4.4.0",H.bisect=Ua,H.bisectRight=Ua,H.bisectLeft=ja,H.ascending=za,H.bisector=Ha,H.descending=function(t,e){return e<t?-1:t<e?1:t<=e?0:NaN},H.deviation=Wa,H.extent=Ya,H.histogram=function(){function e(t){var e,n,i=t.length,o=new Array(i);for(e=0;e<i;++e)o[e]=h(t[e],e,t);var r=p(o),a=r[0],s=r[1],l=f(o,a,s);Array.isArray(l)||(l=is(a,s,l));for(var c=l.length;l[0]<=a;)l.shift(),--c;for(;l[c-1]>=s;)l.pop(),--c;var d,u=new Array(c+1);for(e=0;e<=c;++e)(d=u[e]=[]).x0=0<e?l[e-1]:a,d.x1=e<c?l[e]:s;for(e=0;e<i;++e)a<=(n=o[e])&&n<=s&&u[Ua(l,n,0,c)].push(t[e]);return u}var h=Qa,p=Ya,f=os;return e.value=function(t){return arguments.length?(h="function"==typeof t?t:Ka(t),e):h},e.domain=function(t){return arguments.length?(p="function"==typeof t?t:Ka([t[0],t[1]]),e):p},e.thresholds=function(t){return arguments.length?(f="function"==typeof t?t:Ka(Array.isArray(t)?Xa.call(t):t),e):f},e},H.thresholdFreedmanDiaconis=function(t,e,n){return t=Za.call(t,Va).sort(za),Math.ceil((n-e)/(2*(rs(t,.75)-rs(t,.25))*Math.pow(t.length,-1/3)))},H.thresholdScott=function(t,e,n){return Math.ceil((n-e)/(3.5*Wa(t)*Math.pow(t.length,-1/3)))},H.thresholdSturges=os,H.max=function(t,e){var n,i,o=-1,r=t.length;if(null==e){for(;++o<r;)if(null!=(i=t[o])&&i<=i){n=i;break}for(;++o<r;)null!=(i=t[o])&&n<i&&(n=i)}else{for(;++o<r;)if(null!=(i=e(t[o],o,t))&&i<=i){n=i;break}for(;++o<r;)null!=(i=e(t[o],o,t))&&n<i&&(n=i)}return n},H.mean=function(t,e){var n,i=0,o=t.length,r=-1,a=o;if(null==e)for(;++r<o;)isNaN(n=Va(t[r]))?--a:i+=n;else for(;++r<o;)isNaN(n=Va(e(t[r],r,t)))?--a:i+=n;if(a)return i/a},H.median=function(t,e){var n,i=[],o=t.length,r=-1;if(null==e)for(;++r<o;)isNaN(n=Va(t[r]))||i.push(n);else for(;++r<o;)isNaN(n=Va(e(t[r],r,t)))||i.push(n);return rs(i.sort(za),.5)},H.merge=as,H.min=ss,H.pairs=function(t){for(var e=0,n=t.length-1,i=t[0],o=new Array(n<0?0:n);e<n;)o[e]=[i,i=t[++e]];return o},H.permute=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i},H.quantile=rs,H.range=Ja,H.scan=function(t,e){if(n=t.length){var n,i,o=0,r=0,a=t[r];for(e||(e=za);++o<n;)(e(i=t[o],a)<0||0!==e(a,a))&&(a=i,r=o);return 0===e(a,a)?r:void 0}},H.shuffle=function(t,e,n){for(var i,o,r=(null==n?t.length:n)-(e=null==e?0:+e);r;)o=Math.random()*r--|0,i=t[r+e],t[r+e]=t[o+e],t[o+e]=i;return t},H.sum=function(t,e){var n,i=0,o=t.length,r=-1;if(null==e)for(;++r<o;)(n=+t[r])&&(i+=n);else for(;++r<o;)(n=+e(t[r],r,t))&&(i+=n);return i},H.ticks=is,H.tickStep=M,H.transpose=ls,H.variance=Ga,H.zip=function(){return ls(arguments)},H.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},H.keys=function(t){var e=[];for(var n in t)e.push(n);return e},H.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},H.map=g,H.set=t,H.nest=function(){function h(t,n,i,o){if(n>=m.length)return null!=f?f(t):null!=p?t.sort(p):t;for(var e,r,a,s=-1,l=t.length,c=m[n++],d=g(),u=i();++s<l;)(a=d.get(e=c(r=t[s])+""))?a.push(r):d.set(e,[r]);return d.each(function(t,e){o(u,e,h(t,n,i,o))}),u}var p,f,e,m=[],a=[];return e={object:function(t){return h(t,0,n,i)},map:function(t){return h(t,0,o,r)},entries:function(t){return function n(t,i){if(++i>m.length)return t;var o,r=a[i-1];return null!=f&&i>=m.length?o=t.entries():(o=[],t.each(function(t,e){o.push({key:e,values:n(t,i)})})),null!=r?o.sort(function(t,e){return r(t.key,e.key)}):o}(h(t,0,o,r),0)},key:function(t){return m.push(t),e},sortKeys:function(t){return a[m.length-1]=t,e},sortValues:function(t){return p=t,e},rollup:function(t){return f=t,e}}},H.randomUniform=function(t,e){return t=null==t?0:+t,e=null==e?1:+e,1===arguments.length?(e=t,t=0):e-=t,function(){return Math.random()*e+t}},H.randomNormal=ds,H.randomLogNormal=function(){var t=ds.apply(this,arguments);return function(){return Math.exp(t())}},H.randomBates=function(t){var e=us(t);return function(){return e()/t}},H.randomIrwinHall=us,H.randomExponential=function(t){return function(){return-Math.log(1-Math.random())/t}},H.easeLinear=function(t){return+t},H.easeQuad=e,H.easeQuadIn=function(t){return t*t},H.easeQuadOut=function(t){return t*(2-t)},H.easeQuadInOut=e,H.easeCubic=c,H.easeCubicIn=function(t){return t*t*t},H.easeCubicOut=function(t){return--t*t*t+1},H.easeCubicInOut=c,H.easePoly=fs,H.easePolyIn=hs,H.easePolyOut=ps,H.easePolyInOut=fs,H.easeSin=d,H.easeSinIn=function(t){return 1-Math.cos(t*gs)},H.easeSinOut=function(t){return Math.sin(t*gs)},H.easeSinInOut=d,H.easeExp=u,H.easeExpIn=function(t){return Math.pow(2,10*t-10)},H.easeExpOut=function(t){return 1-Math.pow(2,-10*t)},H.easeExpInOut=u,H.easeCircle=h,H.easeCircleIn=function(t){return 1-Math.sqrt(1-t*t)},H.easeCircleOut=function(t){return Math.sqrt(1- --t*t)},H.easeCircleInOut=h,H.easeBounce=p,H.easeBounceIn=function(t){return 1-p(1-t)},H.easeBounceOut=p,H.easeBounceInOut=function(t){return((t*=2)<=1?1-p(1-t):p(t-1)+1)/2},H.easeBack=ks,H.easeBackIn=Ss,H.easeBackOut=As,H.easeBackInOut=ks,H.easeElastic=Ps,H.easeElasticIn=Os,H.easeElasticOut=Ps,H.easeElasticInOut=Ns,H.polygonArea=function(t){for(var e,n=-1,i=t.length,o=t[i-1],r=0;++n<i;)e=o,o=t[n],r+=e[1]*o[0]-e[0]*o[1];return r/2},H.polygonCentroid=function(t){for(var e,n,i=-1,o=t.length,r=0,a=0,s=t[o-1],l=0;++i<o;)e=s,s=t[i],l+=n=e[0]*s[1]-s[0]*e[1],r+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[r/(l*=3),a/l]},H.polygonHull=function(t){if((n=t.length)<3)return null;var e,n,i=new Array(n),o=new Array(n);for(e=0;e<n;++e)i[e]=[+t[e][0],+t[e][1],e];for(i.sort(f),e=0;e<n;++e)o[e]=[i[e][0],-i[e][1]];var r=m(i),a=m(o),s=a[0]===r[0],l=a[a.length-1]===r[r.length-1],c=[];for(e=r.length-1;0<=e;--e)c.push(t[i[r[e]][2]]);for(e=+s;e<a.length-l;++e)c.push(t[i[a[e]][2]]);return c},H.polygonContains=function(t,e){for(var n,i,o=t.length,r=t[o-1],a=e[0],s=e[1],l=r[0],c=r[1],d=!1,u=0;u<o;++u)n=(r=t[u])[0],s<(i=r[1])!=s<c&&a<(l-n)*(s-i)/(c-i)+n&&(d=!d),l=n,c=i;return d},H.polygonLength=function(t){for(var e,n,i=-1,o=t.length,r=t[o-1],a=r[0],s=r[1],l=0;++i<o;)e=a,n=s,e-=a=(r=t[i])[0],n-=s=r[1],l+=Math.sqrt(e*e+n*n);return l},H.path=et,H.quadtree=x,H.queue=D,H.arc=function(){function e(){var t,e,n,i,o,r,a,s,l,c,d,u=+Y.apply(this,arguments),h=+q.apply(this,arguments),p=K.apply(this,arguments)-Vs,f=Q.apply(this,arguments)-Vs,m=Math.abs(f-p),g=p<f;if(tt||(tt=t=et()),h<u&&(e=h,h=u,u=e),Us<h)if(Gs-Us<m)tt.moveTo(h*Math.cos(p),h*Math.sin(p)),tt.arc(0,0,h,p,f,!g),Us<u&&(tt.moveTo(u*Math.cos(f),u*Math.sin(f)),tt.arc(0,0,u,f,p,g));else{var v,y,b=p,_=f,x=p,w=f,E=m,M=m,T=J.apply(this,arguments)/2,C=Us<T&&(Z?+Z.apply(this,arguments):Math.sqrt(u*u+h*h)),S=Math.min(Math.abs(h-u)/2,+X.apply(this,arguments)),A=S,k=S;if(Us<C){var D=nt(C/u*Math.sin(T)),O=nt(C/h*Math.sin(T));(E-=2*D)>Us?(x+=D*=g?1:-1,w-=D):(E=0,x=w=(p+f)/2),(M-=2*O)>Us?(b+=O*=g?1:-1,_-=O):(M=0,b=_=(p+f)/2)}var P=h*Math.cos(b),N=h*Math.sin(b),L=u*Math.cos(w),I=u*Math.sin(w);if(Us<S){var R=h*Math.cos(_),$=h*Math.sin(_),F=u*Math.cos(x),z=u*Math.sin(x);if(m<js){var H=Us<E?[(n=P)+(d=((l=L-(o=R))*((i=N)-(r=$))-(c=I-r)*(n-o))/(c*(a=F-n)-l*(s=z-i)))*a,i+d*s]:[L,I],B=P-H[0],U=N-H[1],j=R-H[0],V=$-H[1],G=1/Math.sin(Math.acos((B*j+U*V)/(Math.sqrt(B*B+U*U)*Math.sqrt(j*j+V*V)))/2),W=Math.sqrt(H[0]*H[0]+H[1]*H[1]);A=Math.min(S,(u-W)/(G-1)),k=Math.min(S,(h-W)/(G+1))}}Us<M?Us<k?(v=it(F,z,P,N,h,k,g),y=it(R,$,L,I,h,k,g),tt.moveTo(v.cx+v.x01,v.cy+v.y01),k<S?tt.arc(v.cx,v.cy,k,Math.atan2(v.y01,v.x01),Math.atan2(y.y01,y.x01),!g):(tt.arc(v.cx,v.cy,k,Math.atan2(v.y01,v.x01),Math.atan2(v.y11,v.x11),!g),tt.arc(0,0,h,Math.atan2(v.cy+v.y11,v.cx+v.x11),Math.atan2(y.cy+y.y11,y.cx+y.x11),!g),tt.arc(y.cx,y.cy,k,Math.atan2(y.y11,y.x11),Math.atan2(y.y01,y.x01),!g))):(tt.moveTo(P,N),tt.arc(0,0,h,b,_,!g)):tt.moveTo(P,N),Us<u&&Us<E?Us<A?(v=it(L,I,R,$,u,-A,g),y=it(P,N,F,z,u,-A,g),tt.lineTo(v.cx+v.x01,v.cy+v.y01),A<S?tt.arc(v.cx,v.cy,A,Math.atan2(v.y01,v.x01),Math.atan2(y.y01,y.x01),!g):(tt.arc(v.cx,v.cy,A,Math.atan2(v.y01,v.x01),Math.atan2(v.y11,v.x11),!g),tt.arc(0,0,u,Math.atan2(v.cy+v.y11,v.cx+v.x11),Math.atan2(y.cy+y.y11,y.cx+y.x11),g),tt.arc(y.cx,y.cy,A,Math.atan2(y.y11,y.x11),Math.atan2(y.y01,y.x01),!g))):tt.arc(0,0,u,w,x,g):tt.lineTo(L,I)}else tt.moveTo(0,0);if(tt.closePath(),t)return tt=null,t+""||null}var Y=O,q=P,X=Bs(0),Z=null,K=N,Q=L,J=I,tt=null;return e.centroid=function(){var t=(+Y.apply(this,arguments)+ +q.apply(this,arguments))/2,e=(+K.apply(this,arguments)+ +Q.apply(this,arguments))/2-js/2;return[Math.cos(e)*t,Math.sin(e)*t]},e.innerRadius=function(t){return arguments.length?(Y="function"==typeof t?t:Bs(+t),e):Y},e.outerRadius=function(t){return arguments.length?(q="function"==typeof t?t:Bs(+t),e):q},e.cornerRadius=function(t){return arguments.length?(X="function"==typeof t?t:Bs(+t),e):X},e.padRadius=function(t){return arguments.length?(Z=null==t?null:"function"==typeof t?t:Bs(+t),e):Z},e.startAngle=function(t){return arguments.length?(K="function"==typeof t?t:Bs(+t),e):K},e.endAngle=function(t){return arguments.length?(Q="function"==typeof t?t:Bs(+t),e):Q},e.padAngle=function(t){return arguments.length?(J="function"==typeof t?t:Bs(+t),e):J},e.context=function(t){return arguments.length?(tt=null==t?null:t,e):tt},e},H.area=qs,H.line=Ys,H.pie=function(){function e(n){var t,e,i,o,r,a=n.length,s=0,l=new Array(a),c=new Array(a),d=+v.apply(this,arguments),u=Math.min(Gs,Math.max(-Gs,y.apply(this,arguments)-d)),h=Math.min(Math.abs(u)/a,b.apply(this,arguments)),p=h*(u<0?-1:1);for(t=0;t<a;++t)0<(r=c[l[t]=t]=+f(n[t],t,n))&&(s+=r);for(null!=m?l.sort(function(t,e){return m(c[t],c[e])}):null!=g&&l.sort(function(t,e){return g(n[t],n[e])}),t=0,i=s?(u-a*p)/s:0;t<a;++t,d=o)e=l[t],o=d+(0<(r=c[e])?r*i:0)+p,c[e]={data:n[e],index:t,value:r,startAngle:d,endAngle:o,padAngle:h};return c}var f=Zs,m=Xs,g=null,v=Bs(0),y=Bs(Gs),b=Bs(0);return e.value=function(t){return arguments.length?(f="function"==typeof t?t:Bs(+t),e):f},e.sortValues=function(t){return arguments.length?(m=t,g=null,e):m},e.sort=function(t){return arguments.length?(g=t,m=null,e):g},e.startAngle=function(t){return arguments.length?(v="function"==typeof t?t:Bs(+t),e):v},e.endAngle=function(t){return arguments.length?(y="function"==typeof t?t:Bs(+t),e):y},e.padAngle=function(t){return arguments.length?(b="function"==typeof t?t:Bs(+t),e):b},e},H.radialArea=function(){var t=qs().curve(Ks),e=t.curve,n=t.lineX0,i=t.lineX1,o=t.lineY0,r=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return U(n())},delete t.lineX0,t.lineEndAngle=function(){return U(i())},delete t.lineX1,t.lineInnerRadius=function(){return U(o())},delete t.lineY0,t.lineOuterRadius=function(){return U(r())},delete t.lineY1,t.curve=function(t){return arguments.length?e(B(t)):e()._curve},t},H.radialLine=function(){return U(Ys().curve(Ks))},H.symbol=function(){function e(){var t;if(o||(o=t=et()),n.apply(this,arguments).draw(o,+i.apply(this,arguments)),t)return o=null,t+""||null}var n=Bs(Qs),i=Bs(64),o=null;return e.type=function(t){return arguments.length?(n="function"==typeof t?t:Bs(t),e):n},e.size=function(t){return arguments.length?(i="function"==typeof t?t:Bs(+t),e):i},e.context=function(t){return arguments.length?(o=null==t?null:t,e):o},e},H.symbols=fl,H.symbolCircle=Qs,H.symbolCross=Js,H.symbolDiamond=nl,H.symbolSquare=sl,H.symbolStar=al,H.symbolTriangle=cl,H.symbolWye=pl,H.curveBasisClosed=function(t){return new G(t)},H.curveBasisOpen=function(t){return new W(t)},H.curveBasis=function(t){return new V(t)},H.curveBundle=gl,H.curveCardinalClosed=yl,H.curveCardinalOpen=bl,H.curveCardinal=vl,H.curveCatmullRomClosed=xl,H.curveCatmullRomOpen=wl,H.curveCatmullRom=_l,H.curveLinearClosed=function(t){return new rt(t)},H.curveLinear=Ws,H.curveMonotoneX=function(t){return new dt(t)},H.curveMonotoneY=function(t){return new ut(t)},H.curveNatural=function(t){return new pt(t)},H.curveStep=function(t){return new mt(t,.5)},H.curveStepAfter=function(t){return new mt(t,1)},H.curveStepBefore=function(t){return new mt(t,0)},H.stack=function(){function e(t){var e,n,i=u.apply(this,arguments),o=t.length,r=i.length,a=new Array(r);for(e=0;e<r;++e){for(var s,l=i[e],c=a[e]=new Array(o),d=0;d<o;++d)c[d]=s=[0,+f(t[d],l,d,t)],s.data=t[d];c.key=l}for(e=0,n=h(a);e<r;++e)a[n[e]].index=e;return p(a,n),a}var u=Bs([]),h=Tl,p=Ml,f=gt;return e.keys=function(t){return arguments.length?(u="function"==typeof t?t:Bs(El.call(t)),e):u},e.value=function(t){return arguments.length?(f="function"==typeof t?t:Bs(+t),e):f},e.order=function(t){return arguments.length?(h=null==t?Tl:"function"==typeof t?t:Bs(El.call(t)),e):h},e.offset=function(t){return arguments.length?(p=null==t?Ml:t,e):p},e},H.stackOffsetExpand=function(t,e){if(0<(i=t.length)){for(var n,i,o,r=0,a=t[0].length;r<a;++r){for(o=n=0;n<i;++n)o+=t[n][r][1]||0;if(o)for(n=0;n<i;++n)t[n][r][1]/=o}Ml(t,e)}},H.stackOffsetNone=Ml,H.stackOffsetSilhouette=function(t,e){if(0<(n=t.length)){for(var n,i=0,o=t[e[0]],r=o.length;i<r;++i){for(var a=0,s=0;a<n;++a)s+=t[a][i][1]||0;o[i][1]+=o[i][0]=-s/2}Ml(t,e)}},H.stackOffsetWiggle=function(t,e){if(0<(o=t.length)&&0<(i=(n=t[e[0]]).length)){for(var n,i,o,r=0,a=1;a<i;++a){for(var s=0,l=0,c=0;s<o;++s){for(var d=t[e[s]],u=d[a][1]||0,h=(u-(d[a-1][1]||0))/2,p=0;p<s;++p){var f=t[e[p]];h+=(f[a][1]||0)-(f[a-1][1]||0)}l+=u,c+=h*u}n[a-1][1]+=n[a-1][0]=r,l&&(r-=c/l)}n[a-1][1]+=n[a-1][0]=r,Ml(t,e)}},H.stackOrderAscending=Cl,H.stackOrderDescending=function(t){return Cl(t).reverse()},H.stackOrderInsideOut=function(t){var e,n,i=t.length,o=t.map(vt),r=Tl(t).sort(function(t,e){return o[e]-o[t]}),a=0,s=0,l=[],c=[];for(e=0;e<i;++e)n=r[e],a<s?(a+=o[n],l.push(n)):(s+=o[n],c.push(n));return c.reverse().concat(l)},H.stackOrderNone=Tl,H.stackOrderReverse=function(t){return Tl(t).reverse()},H.color=_t,H.rgb=Mt,H.hsl=St,H.lab=Ot,H.hcl=$t,H.cubehelix=zt,H.interpolate=vc,H.interpolateArray=dc,H.interpolateDate=uc,H.interpolateNumber=hc,H.interpolateObject=pc,H.interpolateRound=yc,H.interpolateString=gc,H.interpolateTransformCss=wc,H.interpolateTransformSvg=Ec,H.interpolateZoom=Tc,H.interpolateRgb=sc,H.interpolateRgbBasis=lc,H.interpolateRgbBasisClosed=cc,H.interpolateHsl=Cc,H.interpolateHslLong=Sc,H.interpolateLab=function(e,t){var n=Gt((e=Ot(e)).l,(t=Ot(t)).l),i=Gt(e.a,t.a),o=Gt(e.b,t.b),r=Gt(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=i(t),e.b=o(t),e.opacity=r(t),e+""}},H.interpolateHcl=Ac,H.interpolateHclLong=kc,H.interpolateCubehelix=Dc,H.interpolateCubehelixLong=Oc,H.interpolateBasis=oc,H.interpolateBasisClosed=rc,H.quantize=function(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t(i/(e-1));return n},H.dispatch=Qt,H.dsvFormat=Ic,H.csvParse=$c,H.csvParseRows=Fc,H.csvFormat=zc,H.csvFormatRows=Hc,H.tsvParse=Uc,H.tsvParseRows=jc,H.tsvFormat=Vc,H.tsvFormatRows=Gc,H.request=Wc,H.html=qc,H.json=Xc,H.text=Zc,H.xml=Kc,H.csv=Jc,H.tsv=td,H.now=ie,H.timer=ae,H.timerFlush=se,H.timeout=dd,H.interval=function(n,i,o){var r=new re,a=i;return null==i?r.restart(n,i,o):(i=+i,o=null==o?ie():+o,r.restart(function t(e){e+=a,r.restart(t,a+=i,o),n(e)},i,o)),r},H.timeInterval=ue,H.timeMillisecond=pd,H.timeMilliseconds=fd,H.timeSecond=md,H.timeSeconds=gd,H.timeMinute=vd,H.timeMinutes=yd,H.timeHour=bd,H.timeHours=_d,H.timeDay=xd,H.timeDays=wd,H.timeWeek=Ed,H.timeWeeks=Dd,H.timeSunday=Ed,H.timeSundays=Dd,H.timeMonday=Md,H.timeMondays=Od,H.timeTuesday=Td,H.timeTuesdays=Pd,H.timeWednesday=Cd,H.timeWednesdays=Nd,H.timeThursday=Sd,H.timeThursdays=Ld,H.timeFriday=Ad,H.timeFridays=Id,H.timeSaturday=kd,H.timeSaturdays=Rd,H.timeMonth=$d,H.timeMonths=Fd,H.timeYear=zd,H.timeYears=Hd,H.utcMillisecond=pd,H.utcMilliseconds=fd,H.utcSecond=md,H.utcSeconds=gd,H.utcMinute=Bd,H.utcMinutes=Ud,H.utcHour=jd,H.utcHours=Vd,H.utcDay=Gd,H.utcDays=Wd,H.utcWeek=Yd,H.utcWeeks=tu,H.utcSunday=Yd,H.utcSundays=tu,H.utcMonday=qd,H.utcMondays=eu,H.utcTuesday=Xd,H.utcTuesdays=nu,H.utcWednesday=Zd,H.utcWednesdays=iu,H.utcThursday=Kd,H.utcThursdays=ou,H.utcFriday=Qd,H.utcFridays=ru,H.utcSaturday=Jd,H.utcSaturdays=au,H.utcMonth=su,H.utcMonths=lu,H.utcYear=cu,H.utcYears=uu,H.formatLocale=_u,H.formatDefaultLocale=ge,H.formatSpecifier=vu,H.precisionFixed=wu,H.precisionPrefix=Eu,H.precisionRound=Mu,H.isoFormat=Du,H.isoParse=Ou,H.timeFormatLocale=_e,H.timeFormatDefaultLocale=mn,H.scaleBand=vn,H.scalePoint=function(){return function t(e){var n=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return t(n())},e}(vn().paddingInner(1))},H.scaleIdentity=function t(){function e(t){return+t}var n=[0,1];return(e.invert=e).domain=e.range=function(t){return arguments.length?(n=Nu.call(t,$u),e):n.slice()},e.copy=function(){return t().domain(n)},En(e)},H.scaleLinear=function t(){var e=wn(yn,hc);return e.copy=function(){return xn(e,t())},En(e)},H.scaleLog=function t(){function e(){return f=An(p),m=Sn(p),h()[0]<0&&(f=kn(f),m=kn(m)),o}var o=wn(Mn,Tn).domain([1,10]),h=o.domain,p=10,f=An(10),m=Sn(10);return o.base=function(t){return arguments.length?(p=+t,e()):p},o.domain=function(t){return arguments.length?(h(t),e()):h()},o.ticks=function(t){var e,n=h(),i=n[0],o=n[n.length-1];(e=o<i)&&(l=i,i=o,o=l);var r,a,s,l=f(i),c=f(o),d=null==t?10:+t,u=[];if(!(p%1)&&c-l<d){if(l=Math.round(l)-1,c=Math.round(c)+1,0<i){for(;l<c;++l)for(a=1,r=m(l);a<p;++a)if(!((s=r*a)<i)){if(o<s)break;u.push(s)}}else for(;l<c;++l)for(a=p-1,r=m(l);1<=a;--a)if(!((s=r*a)<i)){if(o<s)break;u.push(s)}}else u=is(l,c,Math.min(c-l,d)).map(m);return e?u.reverse():u},o.tickFormat=function(t,n){if(null==n&&(n=10===p?".0e":","),"function"!=typeof n&&(n=H.format(n)),t===1/0)return n;null==t&&(t=10);var i=Math.max(1,p*t/o.ticks().length);return function(t){var e=t/m(Math.round(f(t)));return e*p<p-.5&&(e*=p),e<=i?n(t):""}},o.nice=function(){return h(Hu(h(),{floor:function(t){return m(Math.floor(f(t)))},ceil:function(t){return m(Math.ceil(f(t)))}}))},o.copy=function(){return xn(o,t().base(p))},o},H.scaleOrdinal=gn,H.scaleImplicit=Iu,H.scalePow=On,H.scaleSqrt=function(){return On().exponent(.5)},H.scaleQuantile=function t(){function o(){var t=0,e=Math.max(1,i.length);for(a=new Array(e-1);++t<e;)a[t-1]=rs(r,t/e);return n}function n(t){if(!isNaN(t=+t))return i[Ua(a,t)]}var r=[],i=[],a=[];return n.invertExtent=function(t){var e=i.indexOf(t);return e<0?[NaN,NaN]:[0<e?a[e-1]:r[0],e<a.length?a[e]:r[r.length-1]]},n.domain=function(t){if(!arguments.length)return r.slice();r=[];for(var e,n=0,i=t.length;n<i;++n)null==(e=t[n])||isNaN(e=+e)||r.push(e);return r.sort(za),o()},n.range=function(t){return arguments.length?(i=Lu.call(t),o()):i.slice()},n.quantiles=function(){return a.slice()},n.copy=function(){return t().domain(r).range(i)},n},H.scaleQuantize=function t(){function e(t){if(t<=t)return s[Ua(a,t,0,r)]}function n(){var t=-1;for(a=new Array(r);++t<r;)a[t]=((t+1)*o-(t-r)*i)/(r+1);return e}var i=0,o=1,r=1,a=[.5],s=[0,1];return e.domain=function(t){return arguments.length?(i=+t[0],o=+t[1],n()):[i,o]},e.range=function(t){return arguments.length?(r=(s=Lu.call(t)).length-1,n()):s.slice()},e.invertExtent=function(t){var e=s.indexOf(t);return e<0?[NaN,NaN]:e<1?[i,a[0]]:r<=e?[a[r-1],o]:[a[e-1],a[e]]},e.copy=function(){return t().domain([i,o]).range(s)},En(e)},H.scaleThreshold=function t(){function e(t){if(t<=t)return i[Ua(n,t,0,o)]}var n=[.5],i=[0,1],o=1;return e.domain=function(t){return arguments.length?(n=Lu.call(t),o=Math.min(n.length,i.length-1),e):n.slice()},e.range=function(t){return arguments.length?(i=Lu.call(t),o=Math.min(n.length,i.length-1),e):i.slice()},e.invertExtent=function(t){var e=i.indexOf(t);return[n[e-1],n[e]]},e.copy=function(){return t().domain(n).range(i)},e},H.scaleTime=function(){return Ln(zd,$d,Ed,xd,bd,vd,md,pd,H.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},H.scaleUtc=function(){return Ln(cu,su,Yd,Gd,jd,Bd,md,pd,H.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},H.schemeCategory10=Xu,H.schemeCategory20b=Zu,H.schemeCategory20c=Ku,H.schemeCategory20=Qu,H.scaleSequential=function t(n){function e(t){var e=(t-i)/(o-i);return n(r?Math.max(0,Math.min(1,e)):e)}var i=0,o=1,r=!1;return e.domain=function(t){return arguments.length?(i=+t[0],o=+t[1],e):[i,o]},e.clamp=function(t){return arguments.length?(r=!!t,e):r},e.interpolator=function(t){return arguments.length?(n=t,e):n},e.copy=function(){return t(n).domain([i,o]).clamp(r)},En(e)},H.interpolateCubehelixDefault=Ju,H.interpolateRainbow=function(t){(t<0||1<t)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return nh.h=360*t-100,nh.s=1.5-1.5*e,nh.l=.8-.9*e,nh+""},H.interpolateWarm=th,H.interpolateCool=eh,H.interpolateViridis=ih,H.interpolateMagma=oh,H.interpolateInferno=rh,H.interpolatePlasma=ah,H.creator=dh,H.customEvent=Un,H.local=Rn,H.matcher=mh,H.mouse=bh,H.namespace=ch,H.namespaces=lh,H.select=Th,H.selectAll=function(t){return"string"==typeof t?new si([document.querySelectorAll(t)],[document.documentElement]):new si([null==t?[]:t],Mh)},H.selection=li,H.selector=_h,H.selectorAll=xh,H.touch=Ch,H.touches=function(t,e){null==e&&(e=vh().touches);for(var n=0,i=e?e.length:0,o=new Array(i);n<i;++n)o[n]=yh(t,e[n]);return o},H.window=Eh,H.active=function(t,e){var n,i,o=t.__transition;if(o)for(i in e=null==e?null:e+"",o)if(1<(n=o[i]).state&&n.name===e)return new pi([[t]],Fh,e,+i);return null},H.interrupt=Ph,H.transition=fi,H.axisTop=function(t){return _i(Bh,t)},H.axisRight=function(t){return _i(Uh,t)},H.axisBottom=function(t){return _i(jh,t)},H.axisLeft=function(t){return _i(Vh,t)},H.cluster=function(){function e(e){var i,o=0;e.eachAfter(function(t){var e,n=t.children;n?(t.x=(e=n).reduce(wi,0)/e.length,t.y=1+n.reduce(Ei,0)):(t.x=i?o+=s(t,i):0,t.y=0,i=t)});var t=function(t){for(var e;e=t.children;)t=e[0];return t}(e),n=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(e),r=t.x-s(t,n)/2,a=n.x+s(n,t)/2;return e.eachAfter(d?function(t){t.x=(t.x-e.x)*l,t.y=(e.y-t.y)*c}:function(t){t.x=(t.x-r)/(a-r)*l,t.y=(1-(e.y?t.y/e.y:1))*c})}var s=xi,l=1,c=1,d=!1;return e.separation=function(t){return arguments.length?(s=t,e):s},e.size=function(t){return arguments.length?(d=!1,l=+t[0],c=+t[1],e):d?null:[l,c]},e.nodeSize=function(t){return arguments.length?(d=!0,l=+t[0],c=+t[1],e):d?[l,c]:null},e},H.hierarchy=Mi,H.pack=function(){function n(t){return t.x=e/2,t.y=o/2,i?t.eachBefore(zi(i)).eachAfter(Hi(r,.5)).eachBefore(Bi(1)):t.eachBefore(zi(Fi)).eachAfter(Hi($i,1)).eachAfter(Hi(r,t.r/Math.min(e,o))).eachBefore(Bi(Math.min(e,o)/(2*t.r))),t}var i=null,e=1,o=1,r=$i;return n.radius=function(t){return arguments.length?(i=null==(e=t)?null:Ri(e),n):i;var e},n.size=function(t){return arguments.length?(e=+t[0],o=+t[1],n):[e,o]},n.padding=function(t){return arguments.length?(r="function"==typeof t?t:Yh(+t),n):r},n},H.packSiblings=function(t){return Ii(t),t},H.packEnclose=Wh,H.partition=function(){function e(t){var r,a,e=t.height+1;return t.x0=t.y0=s,t.x1=n,t.y1=i/e,t.eachBefore((r=i,a=e,function(t){t.children&&Xh(t,t.x0,r*(t.depth+1)/a,t.x1,r*(t.depth+2)/a);var e=t.x0,n=t.y0,i=t.x1-s,o=t.y1-s;i<e&&(e=i=(e+i)/2),o<n&&(n=o=(n+o)/2),t.x0=e,t.y0=n,t.x1=i,t.y1=o})),o&&t.eachBefore(qh),t}var n=1,i=1,s=0,o=!1;return e.round=function(t){return arguments.length?(o=!!t,e):o},e.size=function(t){return arguments.length?(n=+t[0],i=+t[1],e):[n,i]},e.padding=function(t){return arguments.length?(s=+t,e):s},e},H.stratify=function(){function e(t){var e,n,i,o,r,a,s,l=t.length,c=new Array(l),d={};for(n=0;n<l;++n)e=t[n],r=c[n]=new Ai(e),null!=(a=u(e,n,t))&&(a+="")&&(d[s="$"+(r.id=a)]=s in d?Kh:r);for(n=0;n<l;++n)if(r=c[n],null!=(a=h(t[n],n,t))&&(a+="")){if(!(o=d["$"+a]))throw new Error("missing: "+a);if(o===Kh)throw new Error("ambiguous: "+a);o.children?o.children.push(r):o.children=[r],r.parent=o}else{if(i)throw new Error("multiple roots");i=r}if(!i)throw new Error("no root");if(i.parent=Zh,i.eachBefore(function(t){t.depth=t.parent.depth+1,--l}).eachBefore(Si),i.parent=null,0<l)throw new Error("cycle");return i}var u=Ui,h=ji;return e.id=function(t){return arguments.length?(u=Ri(t),e):u},e.parentId=function(t){return arguments.length?(h=Ri(t),e):h},e},H.tree=function(){function e(t){var e=function(t){for(var e,n,i,o,r,a=new Yi(t,0),s=[a];e=s.pop();)if(i=e._.children)for(e.children=new Array(r=i.length),o=r-1;0<=o;--o)s.push(n=e.children[o]=new Yi(i[o],o)),n.parent=e;return(a.parent=new Yi(null,0)).children=[a],a}(t);if(e.eachAfter(c),e.parent.m=-e.z,e.eachBefore(d),f)t.eachBefore(u);else{var n=t,i=t,o=t;t.eachBefore(function(t){t.x<n.x&&(n=t),t.x>i.x&&(i=t),t.depth>o.depth&&(o=t)});var r=n===i?1:b(n,i)/2,a=r-n.x,s=h/(i.x+r+a),l=p/(o.depth||1);t.eachBefore(function(t){t.x=(t.x+a)*s,t.y=t.depth*l})}return t}function c(t){var e=t.children,n=t.parent.children,i=t.i?n[t.i-1]:null;if(e){!function(t){for(var e,n=0,i=0,o=t.children,r=o.length;0<=--r;)(e=o[r]).z+=n,e.m+=n,n+=e.s+(i+=e.c)}(t);var o=(e[0].z+e[e.length-1].z)/2;i?(t.z=i.z+b(t._,i._),t.m=t.z-o):t.z=o}else i&&(t.z=i.z+b(t._,i._));t.parent.A=function(t,e,n){if(e){for(var i,o=t,r=t,a=e,s=o.parent.children[0],l=o.m,c=r.m,d=a.m,u=s.m;a=Wi(a),o=Gi(o),a&&o;)s=Gi(s),(r=Wi(r)).a=t,0<(i=a.z+d-o.z-l+b(a._,o._))&&(v=t,y=n,h=(g=a).a.parent===v.parent?g.a:y,m=(f=i)/((p=t).i-h.i),p.c-=m,p.s+=f,h.c+=m,p.z+=f,p.m+=f,l+=i,c+=i),d+=a.m,l+=o.m,u+=s.m,c+=r.m;a&&!Wi(r)&&(r.t=a,r.m+=d-c),o&&!Gi(s)&&(s.t=o,s.m+=l-u,n=t)}var h,p,f,m,g,v,y;return n}(t,i,t.parent.A||n[0])}function d(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function u(t){t.x*=h,t.y=t.depth*p}var b=Vi,h=1,p=1,f=null;return e.separation=function(t){return arguments.length?(b=t,e):b},e.size=function(t){return arguments.length?(f=!1,h=+t[0],p=+t[1],e):f?null:[h,p]},e.nodeSize=function(t){return arguments.length?(f=!0,h=+t[0],p=+t[1],e):f?[h,p]:null},e},H.treemap=function(){function e(t){return t.x0=t.y0=0,t.x1=o,t.y1=r,t.eachBefore(n),s=[0],i&&t.eachBefore(qh),t}function n(t){var e=s[t.depth],n=t.x0+e,i=t.y0+e,o=t.x1-e,r=t.y1-e;o<n&&(n=o=(n+o)/2),r<i&&(i=r=(i+r)/2),t.x0=n,t.y0=i,t.x1=o,t.y1=r,t.children&&(e=s[t.depth+1]=l(t)/2,n+=h(t)-e,i+=c(t)-e,(o-=d(t)-e)<n&&(n=o=(n+o)/2),(r-=u(t)-e)<i&&(i=r=(i+r)/2),a(t,n,i,o,r))}var a=tp,i=!1,o=1,r=1,s=[0],l=$i,c=$i,d=$i,u=$i,h=$i;return e.round=function(t){return arguments.length?(i=!!t,e):i},e.size=function(t){return arguments.length?(o=+t[0],r=+t[1],e):[o,r]},e.tile=function(t){return arguments.length?(a=Ri(t),e):a},e.padding=function(t){return arguments.length?e.paddingInner(t).paddingOuter(t):e.paddingInner()},e.paddingInner=function(t){return arguments.length?(l="function"==typeof t?t:Yh(+t),e):l},e.paddingOuter=function(t){return arguments.length?e.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):e.paddingTop()},e.paddingTop=function(t){return arguments.length?(c="function"==typeof t?t:Yh(+t),e):c},e.paddingRight=function(t){return arguments.length?(d="function"==typeof t?t:Yh(+t),e):d},e.paddingBottom=function(t){return arguments.length?(u="function"==typeof t?t:Yh(+t),e):u},e.paddingLeft=function(t){return arguments.length?(h="function"==typeof t?t:Yh(+t),e):h},e},H.treemapBinary=function(t,e,n,i,o){var r,a,y=t.children,s=y.length,b=new Array(s+1);for(b[0]=a=r=0;r<s;++r)b[r+1]=a+=y[r].value;!function t(e,n,i,o,r,a,s){if(n-1<=e){var l=y[e];return l.x0=o,l.y0=r,l.x1=a,void(l.y1=s)}for(var c=b[e],d=i/2+c,u=e+1,h=n-1;u<h;){var p=u+h>>>1;b[p]<d?u=p+1:h=p}var f=b[u]-c,m=i-f;if(a-o<s-r){var g=(r*m+s*f)/i;t(e,u,f,o,r,a,g),t(u,n,m,o,g,a,s)}else{var v=(o*m+a*f)/i;t(e,u,f,o,r,v,s),t(u,n,m,v,r,a,s)}}(0,s,t.value,e,n,i,o)},H.treemapDice=Xh,H.treemapSlice=Qh,H.treemapSliceDice=function(t,e,n,i,o){(1&t.depth?Qh:Xh)(t,e,n,i,o)},H.treemapSquarify=tp,H.treemapResquarify=ep,H.forceCenter=function(r,a){function e(){var t,e,n=s.length,i=0,o=0;for(t=0;t<n;++t)i+=(e=s[t]).x,o+=e.y;for(i=i/n-r,o=o/n-a,t=0;t<n;++t)(e=s[t]).x-=i,e.y-=o}var s;return null==r&&(r=0),null==a&&(a=0),e.initialize=function(t){s=t},e.x=function(t){return arguments.length?(r=+t,e):r},e.y=function(t){return arguments.length?(a=+t,e):a},e},H.forceCollide=function(i){function e(){function t(t,e,n,i,o){var r=t.data,a=t.r,s=f+a;if(!r)return h+s<e||i<h-s||p+s<n||o<p-s;if(r.index>u.index){var l=h-r.x-r.vx,c=p-r.y-r.vy,d=l*l+c*c;d<s*s&&(0===l&&(d+=(l=ip())*l),0===c&&(d+=(c=ip())*c),d=(s-(d=Math.sqrt(d)))/d*g,u.vx+=(l*=d)*(s=(a*=a)/(m+a)),u.vy+=(c*=d)*s,r.vx-=l*(s=1-s),r.vy-=c*s)}}for(var e,n,u,h,p,f,m,i=a.length,o=0;o<l;++o)for(n=x(a,Xi,Zi).visitAfter(r),e=0;e<i;++e)u=a[e],f=s[u.index],m=f*f,h=u.x+u.vx,p=u.y+u.vy,n.visit(t)}function r(t){if(t.data)return t.r=s[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function n(){if(a){var t,e,n=a.length;for(s=new Array(n),t=0;t<n;++t)e=a[t],s[e.index]=+i(e,t,a)}}var a,s,g=1,l=1;return"function"!=typeof i&&(i=np(null==i?1:+i)),e.initialize=function(t){a=t,n()},e.iterations=function(t){return arguments.length?(l=+t,e):l},e.strength=function(t){return arguments.length?(g=+t,e):g},e.radius=function(t){return arguments.length?(i="function"==typeof t?t:np(+t),n(),e):i},e},H.forceLink=function(u){function e(t){for(var e=0,n=u.length;e<m;++e)for(var i,o,r,a,s,l,c,d=0;d<n;++d)o=(i=u[d]).source,a=(r=i.target).x+r.vx-o.x-o.vx||ip(),s=r.y+r.vy-o.y-o.vy||ip(),a*=l=((l=Math.sqrt(a*a+s*s))-p[d])/l*t*h[d],s*=l,r.vx-=a*(c=f[d]),r.vy-=s*c,o.vx+=a*(c=1-c),o.vy+=s*c}function n(){if(s){var t,e,n=s.length,i=u.length,o=g(s,c);for(t=0,l=new Array(n);t<i;++t)(e=u[t]).index=t,"object"!=typeof e.source&&(e.source=Qi(o,e.source)),"object"!=typeof e.target&&(e.target=Qi(o,e.target)),l[e.source.index]=(l[e.source.index]||0)+1,l[e.target.index]=(l[e.target.index]||0)+1;for(t=0,f=new Array(i);t<i;++t)e=u[t],f[t]=l[e.source.index]/(l[e.source.index]+l[e.target.index]);h=new Array(i),r(),p=new Array(i),a()}}function r(){if(s)for(var t=0,e=u.length;t<e;++t)h[t]=+i(u[t],t,u)}function a(){if(s)for(var t=0,e=u.length;t<e;++t)p[t]=+o(u[t],t,u)}var h,p,s,l,f,c=Ki,i=function(t){return 1/Math.min(l[t.source.index],l[t.target.index])},o=np(30),m=1;return null==u&&(u=[]),e.initialize=function(t){s=t,n()},e.links=function(t){return arguments.length?(u=t,n(),e):u},e.id=function(t){return arguments.length?(c=t,e):c},e.iterations=function(t){return arguments.length?(m=+t,e):m},e.strength=function(t){return arguments.length?(i="function"==typeof t?t:np(+t),r(),e):i},e.distance=function(t){return arguments.length?(o="function"==typeof t?t:np(+t),a(),e):o},e},H.forceManyBody=function(){function e(t){var e,n=a.length,i=x(a,Ji,to).visitAfter(o);for(c=t,e=0;e<n;++e)l=a[e],i.visit(r)}function n(){if(a){var t,e,n=a.length;for(d=new Array(n),t=0;t<n;++t)e=a[t],d[e.index]=+i(e,t,a)}}function o(t){var e,n,i,o,r,a=0;if(t.length){for(i=o=r=0;r<4;++r)(e=t[r])&&(n=e.value)&&(a+=n,i+=n*e.x,o+=n*e.y);t.x=i/a,t.y=o/a}else for((e=t).x=e.data.x,e.y=e.data.y;a+=d[e.data.index],e=e.next;);t.value=a}function r(t,e,n,i){if(!t.value)return!0;var o=t.x-l.x,r=t.y-l.y,a=i-e,s=o*o+r*r;if(a*a/p<s)return s<h&&(0===o&&(s+=(o=ip())*o),0===r&&(s+=(r=ip())*r),s<u&&(s=Math.sqrt(u*s)),l.vx+=o*t.value*c/s,l.vy+=r*t.value*c/s),!0;if(!(t.length||h<=s))for((t.data!==l||t.next)&&(0===o&&(s+=(o=ip())*o),0===r&&(s+=(r=ip())*r),s<u&&(s=Math.sqrt(u*s)));t.data!==l&&(a=d[t.data.index]*c/s,l.vx+=o*a,l.vy+=r*a),t=t.next;);}var a,l,c,d,i=np(-30),u=1,h=1/0,p=.81;return e.initialize=function(t){a=t,n()},e.strength=function(t){return arguments.length?(i="function"==typeof t?t:np(+t),n(),e):i},e.distanceMin=function(t){return arguments.length?(u=t*t,e):Math.sqrt(u)},e.distanceMax=function(t){return arguments.length?(h=t*t,e):Math.sqrt(h)},e.theta=function(t){return arguments.length?(p=t*t,e):Math.sqrt(p)},e},H.forceSimulation=function(d){function t(){e(),p.call("tick",o),r<a&&(h.stop(),p.call("end",o))}function e(){var t,e,n=d.length;for(r+=(l-r)*s,u.each(function(t){t(r)}),t=0;t<n;++t)null==(e=d[t]).fx?e.x+=e.vx*=c:(e.x=e.fx,e.vx=0),null==e.fy?e.y+=e.vy*=c:(e.y=e.fy,e.vy=0)}function n(){for(var t,e=0,n=d.length;e<n;++e){if((t=d[e]).index=e,isNaN(t.x)||isNaN(t.y)){var i=10*Math.sqrt(e),o=e*op;t.x=i*Math.cos(o),t.y=i*Math.sin(o)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function i(t){return t.initialize&&t.initialize(d),t}var o,r=1,a=.001,s=1-Math.pow(a,1/300),l=0,c=.6,u=g(),h=ae(t),p=Qt("tick","end");return null==d&&(d=[]),n(),o={tick:e,restart:function(){return h.restart(t),o},stop:function(){return h.stop(),o},nodes:function(t){return arguments.length?(d=t,n(),u.each(i),o):d},alpha:function(t){return arguments.length?(r=+t,o):r},alphaMin:function(t){return arguments.length?(a=+t,o):a},alphaDecay:function(t){return arguments.length?(s=+t,o):+s},alphaTarget:function(t){return arguments.length?(l=+t,o):l},velocityDecay:function(t){return arguments.length?(c=1-t,o):1-c},force:function(t,e){return 1<arguments.length?(null==e?u.remove(t):u.set(t,i(e)),o):u.get(t)},find:function(t,e,n){var i,o,r,a,s,l=0,c=d.length;for(null==n?n=1/0:n*=n,l=0;l<c;++l)(r=(i=t-(a=d[l]).x)*i+(o=e-a.y)*o)<n&&(s=a,n=r);return s},on:function(t,e){return 1<arguments.length?(p.on(t,e),o):p.on(t)}}},H.forceX=function(n){function e(t){for(var e,n=0,i=o.length;n<i;++n)(e=o[n]).vx+=(a[n]-e.x)*r[n]*t}function i(){if(o){var t,e=o.length;for(r=new Array(e),a=new Array(e),t=0;t<e;++t)r[t]=isNaN(a[t]=+n(o[t],t,o))?0:+s(o[t],t,o)}}var o,r,a,s=np(.1);return"function"!=typeof n&&(n=np(null==n?0:+n)),e.initialize=function(t){o=t,i()},e.strength=function(t){return arguments.length?(s="function"==typeof t?t:np(+t),i(),e):s},e.x=function(t){return arguments.length?(n="function"==typeof t?t:np(+t),i(),e):n},e},H.forceY=function(n){function e(t){for(var e,n=0,i=o.length;n<i;++n)(e=o[n]).vy+=(a[n]-e.y)*r[n]*t}function i(){if(o){var t,e=o.length;for(r=new Array(e),a=new Array(e),t=0;t<e;++t)r[t]=isNaN(a[t]=+n(o[t],t,o))?0:+s(o[t],t,o)}}var o,r,a,s=np(.1);return"function"!=typeof n&&(n=np(null==n?0:+n)),e.initialize=function(t){o=t,i()},e.strength=function(t){return arguments.length?(s="function"==typeof t?t:np(+t),i(),e):s},e.y=function(t){return arguments.length?(n="function"==typeof t?t:np(+t),i(),e):n},e},H.drag=function(){function f(t){t.on("mousedown.drag",e).on("touchstart.drag",o).on("touchmove.drag",r).on("touchend.drag touchcancel.drag",a).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function e(){if(!c&&d.apply(this,arguments)){var t=s("mouse",u.apply(this,arguments),bh,this,arguments);t&&(Th(H.event.view).on("mousemove.drag",n,!0).on("mouseup.drag",i,!0),ap(H.event.view),eo(),l=!1,t("start"))}}function n(){rp(),l=!0,g.mouse("drag")}function i(){Th(H.event.view).on("mousemove.drag mouseup.drag",null),no(H.event.view,l),rp(),g.mouse("end")}function o(){if(d.apply(this,arguments)){var t,e,n=H.event.changedTouches,i=u.apply(this,arguments),o=n.length;for(t=0;t<o;++t)(e=s(n[t].identifier,i,Ch,this,arguments))&&(eo(),e("start"))}}function r(){var t,e,n=H.event.changedTouches,i=n.length;for(t=0;t<i;++t)(e=g[n[t].identifier])&&(rp(),e("drag"))}function a(){var t,e,n=H.event.changedTouches,i=n.length;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),t=0;t<i;++t)(e=g[n[t].identifier])&&(eo(),e("end"))}function s(o,r,a,s,l){var c,d,u,h=a(r,o),p=v.copy();if(Un(new io(f,"beforestart",c,o,y,h[0],h[1],0,0,p),function(){return null!=(H.event.subject=c=m.apply(s,l))&&(d=c.x-h[0]||0,u=c.y-h[1]||0,!0)}))return function t(e){var n,i=h;switch(e){case"start":g[o]=t,n=y++;break;case"end":delete g[o],--y;case"drag":h=a(r,o),n=y}Un(new io(f,e,c,o,n,h[0]+d,h[1]+u,h[0]-i[0],h[1]-i[1],p),p.apply,p,[e,s,l])}}var l,c,d=oo,u=ro,m=ao,g={},v=Qt("start","drag","end"),y=0;return f.filter=function(t){return arguments.length?(d="function"==typeof t?t:sp(!!t),f):d},f.container=function(t){return arguments.length?(u="function"==typeof t?t:sp(t),f):u},f.subject=function(t){return arguments.length?(m="function"==typeof t?t:sp(t),f):m},f.on=function(){var t=v.on.apply(v,arguments);return t===v?f:t},f},H.dragDisable=ap,H.dragEnable=no,H.voronoi=function(){function e(i){return new Po(i.map(function(t,e){var n=[Math.round(o(t,e,i)/gp)*gp,Math.round(r(t,e,i)/gp)*gp];return n.index=e,n.data=t,n}),n)}var o=so,r=lo,n=null;return e.polygons=function(t){return e(t).polygons()},e.links=function(t){return e(t).links()},e.triangles=function(t){return e(t).triangles()},e.x=function(t){return arguments.length?(o="function"==typeof t?t:lp(+t),e):o},e.y=function(t){return arguments.length?(r="function"==typeof t?t:lp(+t),e):r},e.extent=function(t){return arguments.length?(n=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],e):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},e.size=function(t){return arguments.length?(n=null==t?null:[[0,0],[+t[0],+t[1]]],e):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},e},H.zoom=function(){function r(t){t.on("wheel.zoom",e).on("mousedown.zoom",n).on("dblclick.zoom",i).on("touchstart.zoom",s).on("touchmove.zoom",l).on("touchend.zoom touchcancel.zoom",c).style("-webkit-tap-highlight-color","rgba(0,0,0,0)").property("__zoom",zo)}function p(t,e){return(e=Math.max(b,Math.min(_,e)))===t.k?t:new Lo(e,t.x,t.y)}function f(t,e,n){var i=e[0]-n[0]*t.k,o=e[1]-n[1]*t.k;return i===t.x&&o===t.y?t:new Lo(t.k,i,o)}function m(t,e){var n=t.invertX(e[0][0])-x,i=t.invertX(e[1][0])-w,o=t.invertY(e[0][1])-E,r=t.invertY(e[1][1])-M;return t.translate(n<i?(n+i)/2:Math.min(0,n)||Math.max(0,i),o<r?(o+r)/2:Math.min(0,o)||Math.max(0,r))}function d(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function o(t,l,c){t.on("start.zoom",function(){g(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){g(this,arguments).end()}).tween("zoom",function(){var t=arguments,i=g(this,t),e=y.apply(this,t),o=c||d(e),r=Math.max(e[1][0]-e[0][0],e[1][1]-e[0][1]),n=this.__zoom,a="function"==typeof l?l.apply(this,t):l,s=C(n.invert(o).concat(r/n.k),a.invert(o).concat(r/a.k));return function(t){if(1===t)t=a;else{var e=s(t),n=r/e[2];t=new Lo(n,o[0]-e[0]*n,o[1]-e[1]*n)}i.zoom(null,t)}})}function g(t,e){for(var n,i=0,o=S.length;i<o;++i)if((n=S[i]).that===t)return n;return new a(t,e)}function a(t,e){this.that=t,this.args=e,this.index=-1,this.active=0,this.extent=y.apply(t,e)}function e(){if(h.apply(this,arguments)){var t=g(this,arguments),e=this.__zoom,n=Math.max(b,Math.min(_,e.k*Math.pow(2,-H.event.deltaY*(H.event.deltaMode?120:1)/500))),i=bh(this);if(t.wheel)t.mouse[0][0]===i[0]&&t.mouse[0][1]===i[1]||(t.mouse[1]=e.invert(t.mouse[0]=i)),clearTimeout(t.wheel);else{if(e.k===n)return;t.mouse=[i,e.invert(i)],Ph(this),t.start()}_p(),t.wheel=setTimeout(function(){t.wheel=null,t.end()},D),t.zoom("mouse",m(f(p(e,n),t.mouse[0],t.mouse[1]),t.extent))}}function n(){if(!u&&h.apply(this,arguments)){var t=g(this,arguments),e=Th(H.event.view).on("mousemove.zoom",function(){_p(),t.moved=!0,t.zoom("mouse",m(f(t.that.__zoom,t.mouse[0]=bh(t.that),t.mouse[1]),t.extent))},!0).on("mouseup.zoom",function(){e.on("mousemove.zoom mouseup.zoom",null),no(H.event.view,t.moved),_p(),t.end()},!0),n=bh(this);ap(H.event.view),Ro(),t.mouse=[n,this.__zoom.invert(n)],Ph(this),t.start()}}function i(){if(h.apply(this,arguments)){var t=this.__zoom,e=bh(this),n=t.invert(e),i=m(f(p(t,t.k*(H.event.shiftKey?.5:2)),e,n),y.apply(this,arguments));_p(),0<T?Th(this).transition().duration(T).call(o,i,e):Th(this).call(r.transform,i)}}function s(){if(h.apply(this,arguments)){var t,e,n,i=g(this,arguments),o=H.event.changedTouches,r=o.length;for(Ro(),t=0;t<r;++t)e=o[t],n=[n=Ch(this,o,e.identifier),this.__zoom.invert(n),e.identifier],i.touch0?i.touch1||(i.touch1=n):i.touch0=n;return v&&(v=clearTimeout(v),!i.touch1)?(i.end(),void((n=Th(this).on("dblclick.zoom"))&&n.apply(this,arguments))):void(H.event.touches.length===r&&(v=setTimeout(function(){v=null},k),Ph(this),i.start()))}}function l(){var t,e,n,i,o=g(this,arguments),r=H.event.changedTouches,a=r.length;for(_p(),v&&(v=clearTimeout(v)),t=0;t<a;++t)e=r[t],n=Ch(this,r,e.identifier),o.touch0&&o.touch0[2]===e.identifier?o.touch0[0]=n:o.touch1&&o.touch1[2]===e.identifier&&(o.touch1[0]=n);if(e=o.that.__zoom,o.touch1){var s=o.touch0[0],l=o.touch0[1],c=o.touch1[0],d=o.touch1[1],u=(u=c[0]-s[0])*u+(u=c[1]-s[1])*u,h=(h=d[0]-l[0])*h+(h=d[1]-l[1])*h;e=p(e,Math.sqrt(u/h)),n=[(s[0]+c[0])/2,(s[1]+c[1])/2],i=[(l[0]+d[0])/2,(l[1]+d[1])/2]}else{if(!o.touch0)return;n=o.touch0[0],i=o.touch0[1]}o.zoom("touch",m(f(e,n,i),o.extent))}function c(){var t,e,n=g(this,arguments),i=H.event.changedTouches,o=i.length;for(Ro(),u&&clearTimeout(u),u=setTimeout(function(){u=null},k),t=0;t<o;++t)e=i[t],n.touch0&&n.touch0[2]===e.identifier?delete n.touch0:n.touch1&&n.touch1[2]===e.identifier&&delete n.touch1;n.touch1&&!n.touch0&&(n.touch0=n.touch1,delete n.touch1),n.touch0||n.end()}var v,u,h=$o,y=Fo,b=0,_=1/0,x=-_,w=_,E=x,M=w,T=250,C=Tc,S=[],A=Qt("start","zoom","end"),k=500,D=150;return r.transform=function(t,e){var n=t.selection?t.selection():t;n.property("__zoom",zo),t!==n?o(t,e):n.interrupt().each(function(){g(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},r.scaleBy=function(t,e){r.scaleTo(t,function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)})},r.scaleTo=function(t,o){r.transform(t,function(){var t=y.apply(this,arguments),e=this.__zoom,n=d(t),i=e.invert(n);return m(f(p(e,"function"==typeof o?o.apply(this,arguments):o),n,i),t)})},r.translateBy=function(t,e,n){r.transform(t,function(){return m(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),y.apply(this,arguments))})},a.prototype={start:function(){return 1==++this.active&&(this.index=S.push(this)-1,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(S.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){Un(new No(r,t,this.that.__zoom),A.apply,A,[t,this.that,this.args])}},r.filter=function(t){return arguments.length?(h="function"==typeof t?t:yp(!!t),r):h},r.extent=function(t){return arguments.length?(y="function"==typeof t?t:yp([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),r):y},r.scaleExtent=function(t){return arguments.length?(b=+t[0],_=+t[1],r):[b,_]},r.translateExtent=function(t){return arguments.length?(x=+t[0][0],w=+t[1][0],E=+t[0][1],M=+t[1][1],r):[[x,E],[w,M]]},r.duration=function(t){return arguments.length?(T=+t,r):T},r.interpolate=function(t){return arguments.length?(C=t,r):C},r.on=function(){var t=A.on.apply(A,arguments);return t===A?r:t},r},H.zoomIdentity=bp,H.zoomTransform=Io,H.brush=function(){return Wo(Dp)},H.brushX=function(){return Wo(Ap)},H.brushY=function(){return Wo(kp)},H.brushSelection=function(t){var e=t.__brush;return e?e.dim.output(e.selection):null},H.chord=function(){function e(i){var t,e,n,o,r,a,s=i.length,l=[],c=Ja(s),d=[],u=[],h=u.groups=new Array(s),p=new Array(s*s);for(t=0,r=-1;++r<s;){for(e=0,a=-1;++a<s;)e+=i[r][a];l.push(e),d.push(Ja(s)),t+=e}for(w&&c.sort(function(t,e){return w(l[t],l[e])}),E&&d.forEach(function(t,n){t.sort(function(t,e){return E(i[n][t],i[n][e])})}),o=(t=Bp(0,Hp-x*s)/t)?x:Hp/s,e=0,r=-1;++r<s;){for(n=e,a=-1;++a<s;){var f=c[r],m=d[f][a],g=i[f][m],v=e,y=e+=g*t;p[m*s+f]={index:f,subindex:m,startAngle:v,endAngle:y,value:g}}h[f]={index:f,startAngle:n,endAngle:e,value:l[f]},e+=o}for(r=-1;++r<s;)for(a=r-1;++a<s;){var b=p[a*s+r],_=p[r*s+a];(b.value||_.value)&&u.push(b.value<_.value?{source:_,target:b}:{source:b,target:_})}return M?u.sort(M):u}var x=0,w=null,E=null,M=null;return e.padAngle=function(t){return arguments.length?(x=Bp(0,t),e):x},e.sortGroups=function(t){return arguments.length?(w=t,e):w},e.sortSubgroups=function(t){return arguments.length?(E=t,e):E},e.sortChords=function(t){return arguments.length?(null==t?M=null:(n=t,M=function(t,e){return n(t.source.value+t.target.value,e.source.value+e.target.value)})._=t,e):M&&M._;var n},e},H.ribbon=function(){function e(){var t,e=Up.call(arguments),n=h.apply(this,e),i=p.apply(this,e),o=+f.apply(this,(e[0]=n,e)),r=m.apply(this,e)-zp,a=g.apply(this,e)-zp,s=o*Rp(r),l=o*$p(r),c=+f.apply(this,(e[0]=i,e)),d=m.apply(this,e)-zp,u=g.apply(this,e)-zp;if(v||(v=t=et()),v.moveTo(s,l),v.arc(0,0,o,r,a),r===d&&a===u||(v.quadraticCurveTo(0,0,c*Rp(d),c*$p(d)),v.arc(0,0,c,d,u)),v.quadraticCurveTo(0,0,s,l),v.closePath(),t)return v=null,t+""||null}var h=Yo,p=qo,f=Xo,m=Zo,g=Ko,v=null;return e.radius=function(t){return arguments.length?(f="function"==typeof t?t:jp(+t),e):f},e.startAngle=function(t){return arguments.length?(m="function"==typeof t?t:jp(+t),e):m},e.endAngle=function(t){return arguments.length?(g="function"==typeof t?t:jp(+t),e):g},e.source=function(t){return arguments.length?(h=t,e):h},e.target=function(t){return arguments.length?(p=t,e):p},e.context=function(t){return arguments.length?(v=null==t?null:t,e):v},e},H.geoAlbers=Xm,H.geoAlbersUsa=function(){function n(t){var e=t[0],n=t[1];return i=null,a.point(e,n),i||(s.point(e,n),i)||(l.point(e,n),i)}function o(){return e=r=null,n}var e,r,a,s,l,i,c=Xm(),d=qm().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u=qm().rotate([157,0]).center([-3,19.9]).parallels([8,18]),h={point:function(t,e){i=[t,e]}};return n.invert=function(t){var e=c.scale(),n=c.translate(),i=(t[0]-n[0])/e,o=(t[1]-n[1])/e;return(.12<=o&&o<.234&&-.425<=i&&i<-.214?d:.166<=o&&o<.234&&-.214<=i&&i<-.115?u:c).invert(t)},n.stream=function(t){return e&&r===t?e:(i=[c.stream(r=t),d.stream(t),u.stream(t)],o=i.length,e={point:function(t,e){for(var n=-1;++n<o;)i[n].point(t,e)},sphere:function(){for(var t=-1;++t<o;)i[t].sphere()},lineStart:function(){for(var t=-1;++t<o;)i[t].lineStart()},lineEnd:function(){for(var t=-1;++t<o;)i[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<o;)i[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<o;)i[t].polygonEnd()}});var i,o},n.precision=function(t){return arguments.length?(c.precision(t),d.precision(t),u.precision(t),o()):c.precision()},n.scale=function(t){return arguments.length?(c.scale(t),d.scale(.35*t),u.scale(t),n.translate(c.translate())):c.scale()},n.translate=function(t){if(!arguments.length)return c.translate();var e=c.scale(),n=+t[0],i=+t[1];return a=c.translate(t).clipExtent([[n-.455*e,i-.238*e],[n+.455*e,i+.238*e]]).stream(h),s=d.translate([n-.307*e,i+.201*e]).clipExtent([[n-.425*e+Mf,i+.12*e+Mf],[n-.214*e-Mf,i+.234*e-Mf]]).stream(h),l=u.translate([n-.205*e,i+.212*e]).clipExtent([[n-.214*e+Mf,i+.166*e+Mf],[n-.115*e-Mf,i+.234*e-Mf]]).stream(h),o()},n.fitExtent=function(t,e){return _a(n,t,e)},n.fitSize=function(t,e){return xa(n,t,e)},n.scale(1070)},H.geoArea=function(t){return Yf.reset(),Gf(t,qf),2*Yf},H.geoAzimuthalEqualArea=function(){return wa(Zm).scale(124.75).clipAngle(179.999)},H.geoAzimuthalEqualAreaRaw=Zm,H.geoAzimuthalEquidistant=function(){return wa(Km).scale(79.4188).clipAngle(179.999)},H.geoAzimuthalEquidistantRaw=Km,H.geoBounds=function(t){var e,n,i,o,r,a,s;if(Jp=Qp=-(Zp=Kp=1/0),rf=[],Gf(t,Zf),n=rf.length){for(rf.sort(Cr),e=1,r=[i=rf[0]];e<n;++e)Sr(i,(o=rf[e])[0])||Sr(i,o[1])?(Tr(i[0],o[1])>Tr(i[0],i[1])&&(i[1]=o[1]),Tr(o[0],i[1])>Tr(i[0],i[1])&&(i[0]=o[0])):r.push(i=o);for(a=-1/0,e=0,i=r[n=r.length-1];e<=n;i=o,++e)o=r[e],(s=Tr(i[1],o[0]))>a&&(a=s,Zp=o[0],Qp=i[1])}return rf=af=null,Zp===1/0||Kp===1/0?[[NaN,NaN],[NaN,NaN]]:[[Zp,Kp],[Qp,Jp]]},H.geoCentroid=function(t){sf=lf=cf=df=uf=hf=pf=ff=mf=gf=vf=0,Gf(t,Kf);var e=mf,n=gf,i=vf,o=e*e+n*n+i*i;return o<1e-12&&(e=hf,n=pf,i=ff,lf<Mf&&(e=cf,n=df,i=uf),(o=e*e+n*n+i*i)<1e-12)?[NaN,NaN]:[Nf(n,e)*kf,er(i/Bf(o))*kf]},H.geoCircle=function(){function e(){var t=r.apply(this,arguments),e=a.apply(this,arguments)*Df,n=s.apply(this,arguments)*Df;return i=[],o=zr(-t[0]*Df,-t[1]*Df,0).invert,jr(l,e,n,1),t={type:"Polygon",coordinates:[i]},i=o=null,t}var i,o,r=Qf([0,0]),a=Qf(90),s=Qf(6),l={point:function(t,e){i.push(t=o(t,e)),t[0]*=kf,t[1]*=kf}};return e.center=function(t){return arguments.length?(r="function"==typeof t?t:Qf([+t[0],+t[1]]),e):r},e.radius=function(t){return arguments.length?(a="function"==typeof t?t:Qf(+t),e):a},e.precision=function(t){return arguments.length?(s="function"==typeof t?t:Qf(+t),e):s},e},H.geoClipExtent=function(){var e,n,i,o=0,r=0,a=960,s=500;return i={stream:function(t){return e&&n===t?e:e=Yr(o,r,a,s)(n=t)},extent:function(t){return arguments.length?(o=+t[0][0],r=+t[0][1],a=+t[1][0],s=+t[1][1],e=n=null,i):[[o,r],[a,s]]}}},H.geoConicConformal=function(){return Ma(Oa).scale(109.5).parallels([30,30])},H.geoConicConformalRaw=Oa,H.geoConicEqualArea=qm,H.geoConicEqualAreaRaw=Ta,H.geoConicEquidistant=function(){return Ma(Na).scale(131.154).center([0,13.9389])},H.geoConicEquidistantRaw=Na,H.geoDistance=function(t,e){return _m[0]=t,_m[1]=e,bm(xm)},H.geoEquirectangular=function(){return wa(Pa).scale(152.63)},H.geoEquirectangularRaw=Pa,H.geoGnomonic=function(){return wa(La).scale(144.049).clipAngle(60)},H.geoGnomonicRaw=La,H.geoGraticule=Jr,H.geoGraticule10=function(){return Jr()()},H.geoIdentity=function(){function e(){return r=a=null,s}var n,i,o,r,a,s,l=1,c=0,d=0,u=1,h=1,p=wm,f=null,m=wm;return s={stream:function(t){return r&&a===t?r:r=p(m(a=t))},clipExtent:function(t){return arguments.length?(m=null==t?(f=n=i=o=null,wm):Yr(f=+t[0][0],n=+t[0][1],i=+t[1][0],o=+t[1][1]),e()):null==f?null:[[f,n],[i,o]]},scale:function(t){return arguments.length?(p=Ia((l=+t)*u,l*h,c,d),e()):l},translate:function(t){return arguments.length?(p=Ia(l*u,l*h,c=+t[0],d=+t[1]),e()):[c,d]},reflectX:function(t){return arguments.length?(p=Ia(l*(u=t?-1:1),l*h,c,d),e()):u<0},reflectY:function(t){return arguments.length?(p=Ia(l*u,l*(h=t?-1:1),c,d),e()):h<0},fitExtent:function(t,e){return _a(s,t,e)},fitSize:function(t,e){return xa(s,t,e)}}},H.geoInterpolate=function(t,e){var n=t[0]*Df,i=t[1]*Df,o=e[0]*Df,r=e[1]*Df,a=Lf(i),s=zf(i),l=Lf(r),c=zf(r),d=a*Lf(n),u=a*zf(n),h=l*Lf(o),p=l*zf(o),f=2*er(Bf(nr(r-i)+a*l*nr(o-n))),m=zf(f),g=f?function(t){var e=zf(t*=f)/m,n=zf(f-t)/m,i=n*d+e*h,o=n*u+e*p,r=n*s+e*c;return[Nf(o,i)*kf,Nf(r,Bf(i*i+o*o))*kf]}:function(){return[n*kf,i*kf]};return g.distance=f,g},H.geoLength=bm,H.geoMercator=function(){return ka(Aa).scale(961/Af)},H.geoMercatorRaw=Aa,H.geoOrthographic=function(){return wa(Ra).scale(249.5).clipAngle(90+Mf)},H.geoOrthographicRaw=Ra,H.geoPath=function(e,n){function i(t){return t&&("function"==typeof a&&r.pointRadius(+a.apply(this,arguments)),Gf(t,o(r))),r.result()}var o,r,a=4.5;return i.area=function(t){return Gf(t,o(Tm)),Tm.result()},i.bounds=function(t){return Gf(t,o(Dm)),Dm.result()},i.centroid=function(t){return Gf(t,o(Hm)),Hm.result()},i.projection=function(t){return arguments.length?(o=null==t?(e=null,wm):(e=t).stream,i):e},i.context=function(t){return arguments.length?(r=null==t?(n=null,new fa):new pa(n=t),"function"!=typeof a&&r.pointRadius(a),i):n},i.pointRadius=function(t){return arguments.length?(a="function"==typeof t?t:(r.pointRadius(+t),+t),i):a},i.projection(e).context(n)},H.geoProjection=wa,H.geoProjectionMutator=Ea,H.geoRotation=function(e){function t(t){return(t=e(t[0]*Df,t[1]*Df))[0]*=kf,t[1]*=kf,t}return e=zr(e[0]*Df,e[1]*Df,2<e.length?e[2]*Df:0),t.invert=function(t){return(t=e.invert(t[0]*Df,t[1]*Df))[0]*=kf,t[1]*=kf,t},t},H.geoStereographic=function(){return wa($a).scale(250).clipAngle(142)},H.geoStereographicRaw=$a,H.geoStream=Gf,H.geoTransform=function(t){return{stream:ya(t)}},H.geoTransverseMercator=function(){var t=ka(Fa),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],2<t.length?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)},H.geoTransverseMercatorRaw=Fa,Object.defineProperty(H,"__esModule",{value:!0})}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.topojson=t.topojson||{})}(this,function(t){"use strict";function n(t,e){var n=e.id,i=e.bbox,o=null==e.properties?{}:e.properties,r=a(t,e);return null==n&&null==i?{type:"Feature",properties:o,geometry:r}:null==i?{type:"Feature",id:n,properties:o,geometry:r}:{type:"Feature",id:n,bbox:i,properties:o,geometry:r}}function a(t,e){function o(t,e){e.length&&e.pop();for(var n=c[t<0?~t:t],i=0,o=n.length;i<o;++i)e.push(l(n[i].slice(),i));t<0&&u(e,o)}function r(t){return l(t.slice())}function a(t){for(var e=[],n=0,i=t.length;n<i;++n)o(t[n],e);return e.length<2&&e.push(e[0].slice()),e}function n(t){for(var e=a(t);e.length<4;)e.push(e[0].slice());return e}function s(t){return t.map(n)}var l=h(t),c=t.arcs;return function t(e){var n,i=e.type;switch(i){case"GeometryCollection":return{type:i,geometries:e.geometries.map(t)};case"Point":n=r(e.coordinates);break;case"MultiPoint":n=e.coordinates.map(r);break;case"LineString":n=a(e.arcs);break;case"MultiLineString":n=e.arcs.map(a);break;case"Polygon":n=s(e.arcs);break;case"MultiPolygon":n=e.arcs.map(s);break;default:return null}return{type:i,coordinates:n}}(e)}function e(t,e,n){var i,o,r;if(1<arguments.length)i=function(t,e,n){function i(t){var e=t<0?~t:t;(l[e]||(l[e]=[])).push({i:t,g:a})}function o(t){t.forEach(i)}function r(t){t.forEach(o)}var a,s=[],l=[];return function t(e){switch(a=e,e.type){case"GeometryCollection":e.geometries.forEach(t);break;case"LineString":o(e.arcs);break;case"MultiLineString":case"Polygon":r(e.arcs);break;case"MultiPolygon":e.arcs.forEach(r)}}(e),l.forEach(null==n?function(t){s.push(t[0].i)}:function(t){n(t[0].g,t[t.length-1].g)&&s.push(t[0].i)}),s}(0,e,n);else for(o=0,i=new Array(r=t.arcs.length);o<r;++o)i[o]=o;return{type:"MultiLineString",arcs:p(t,i)}}function i(s,t){function n(e){e.forEach(function(t){t.forEach(function(t){(c[t=t<0?~t:t]||(c[t]=[])).push(e)})}),i.push(e)}function l(t){return function(t){for(var e,n=-1,i=t.length,o=t[i-1],r=0;++n<i;)e=o,o=t[n],r+=e[0]*o[1]-e[1]*o[0];return Math.abs(r)}(a(s,{type:"Polygon",arcs:[t]}).coordinates[0])}var c={},i=[],o=[];return t.forEach(function t(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(t);break;case"Polygon":n(e.arcs);break;case"MultiPolygon":e.arcs.forEach(n)}}),i.forEach(function(t){if(!t._){var e=[],n=[t];for(t._=1,o.push(e);t=n.pop();)e.push(t),t.forEach(function(t){t.forEach(function(t){c[t<0?~t:t].forEach(function(t){t._||(t._=1,n.push(t))})})})}}),i.forEach(function(t){delete t._}),{type:"MultiPolygon",arcs:o.map(function(t){var e,n=[];if(t.forEach(function(t){t.forEach(function(t){t.forEach(function(t){c[t<0?~t:t].length<2&&n.push(t)})})}),1<(e=(n=p(s,n)).length))for(var i,o,r=1,a=l(n[0]);r<e;++r)(i=l(n[r]))>a&&(o=n[0],n[0]=n[r],n[r]=o,a=i);return n})}}var d=function(t){return t},h=function(t){if(null==(e=t.transform))return d;var e,n,i,o=e.scale[0],r=e.scale[1],a=e.translate[0],s=e.translate[1];return function(t,e){return e||(n=i=0),t[0]=(n+=t[0])*o+a,t[1]=(i+=t[1])*r+s,t}},s=function(t){function e(t){s[0]=t[0],s[1]=t[1],a(s),s[0]<l&&(l=s[0]),s[0]>d&&(d=s[0]),s[1]<c&&(c=s[1]),s[1]>u&&(u=s[1])}function n(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(n);break;case"Point":e(t.coordinates);break;case"MultiPoint":t.coordinates.forEach(e)}}var i=t.bbox;if(!i){var o,r,a=h(t),s=new Array(2),l=1/0,c=l,d=-l,u=-l;for(r in t.arcs.forEach(function(t){for(var e=-1,n=t.length;++e<n;)o=t[e],s[0]=o[0],s[1]=o[1],a(s,e),s[0]<l&&(l=s[0]),s[0]>d&&(d=s[0]),s[1]<c&&(c=s[1]),s[1]>u&&(u=s[1])}),t.objects)n(t.objects[r]);i=t.bbox=[l,c,d,u]}return i},u=function(t,e){for(var n,i=t.length,o=i-e;o<--i;)n=t[o],t[o++]=t[i],t[i]=n},p=function(h,o){function t(t,e){for(var n in t){var i=t[n];delete e[i.start],delete i.start,delete i.end,i.forEach(function(t){r[t<0?~t:t]=1}),a.push(i)}}var r={},p={},f={},a=[],s=-1;return o.forEach(function(t,e){var n,i=h.arcs[t<0?~t:t];i.length<3&&!i[1][0]&&!i[1][1]&&(n=o[++s],o[s]=t,o[e]=n)}),o.forEach(function(t){var e,n,i,o,r,a,s=(i=t,r=h.arcs[i<0?~i:i],a=r[0],h.transform?(o=[0,0],r.forEach(function(t){o[0]+=t[0],o[1]+=t[1]})):o=r[r.length-1],i<0?[o,a]:[a,o]),l=s[0],c=s[1];if(e=f[l])if(delete f[e.end],e.push(t),e.end=c,n=p[c]){delete p[n.start];var d=n===e?e:e.concat(n);p[d.start=e.start]=f[d.end=n.end]=d}else p[e.start]=f[e.end]=e;else if(e=p[c])if(delete p[e.start],e.unshift(t),e.start=l,n=f[l]){delete f[n.end];var u=n===e?e:n.concat(e);p[u.start=n.start]=f[u.end=e.end]=u}else p[e.start]=f[e.end]=e;else p[(e=[t]).start=l]=f[e.end=c]=e}),t(f,p),t(p,f),o.forEach(function(t){r[t<0?~t:t]||a.push([t])}),a},f=function(t,e){for(var n=0,i=t.length;n<i;){var o=n+i>>>1;t[o]<e?n=o+1:i=o}return n};t.bbox=s,t.feature=function(e,t){return"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map(function(t){return n(e,t)})}:n(e,t)},t.mesh=function(t){return a(t,e.apply(this,arguments))},t.meshArcs=e,t.merge=function(t){return a(t,i.apply(this,arguments))},t.mergeArcs=i,t.neighbors=function(t){function n(t,n){t.forEach(function(t){t<0&&(t=~t);var e=o[t];e?e.push(n):o[t]=[n]})}function i(t,e){t.forEach(function(t){n(t,e)})}var o={},e=t.map(function(){return[]}),r={LineString:n,MultiLineString:i,Polygon:i,MultiPolygon:function(t,e){t.forEach(function(t){i(t,e)})}};for(var a in t.forEach(function e(t,n){"GeometryCollection"===t.type?t.geometries.forEach(function(t){e(t,n)}):t.type in r&&r[t.type](t.arcs,n)}),o)for(var s=o[a],l=s.length,c=0;c<l;++c)for(var d=c+1;d<l;++d){var u,h=s[c],p=s[d];(u=e[h])[a=f(u,p)]!==p&&u.splice(a,0,p),(u=e[p])[a=f(u,h)]!==h&&u.splice(a,0,h)}return e},t.quantize=function(t,e){function n(t){t[0]=Math.round((t[0]-d)/u),t[1]=Math.round((t[1]-h)/p)}function i(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(i);break;case"Point":n(t.coordinates);break;case"MultiPoint":t.coordinates.forEach(n)}}if(!(2<=(e=Math.floor(e))))throw new Error("n must be 2");if(t.transform)throw new Error("already quantized");var o,r=s(t),d=r[0],u=(r[2]-d)/(e-1)||1,h=r[1],p=(r[3]-h)/(e-1)||1;for(o in t.arcs.forEach(function(t){for(var e,n,i,o=1,r=1,a=t.length,s=t[0],l=s[0]=Math.round((s[0]-d)/u),c=s[1]=Math.round((s[1]-h)/p);o<a;++o)s=t[o],n=Math.round((s[0]-d)/u),i=Math.round((s[1]-h)/p),n===l&&i===c||((e=t[r++])[0]=n-l,l=n,e[1]=i-c,c=i);r<2&&((e=t[r++])[0]=0,e[1]=0),t.length=r}),t.objects)i(t.objects[o]);return t.transform={scale:[u,p],translate:[d,h]},t},t.transform=h,t.untransform=function(t){if(null==(e=t.transform))return d;var e,o,r,a=e.scale[0],s=e.scale[1],l=e.translate[0],c=e.translate[1];return function(t,e){e||(o=r=0);var n=Math.round((t[0]-l)/a),i=Math.round((t[1]-c)/s);return t[0]=n-o,o=n,t[1]=i-r,r=i,t}},Object.defineProperty(t,"__esModule",{value:!0})}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";var t;function h(){return t.apply(null,arguments)}function s(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function l(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function c(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function d(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function u(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function p(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function f(t,e){for(var n in e)p(e,n)&&(t[n]=e[n]);return p(e,"toString")&&(t.toString=e.toString),p(e,"valueOf")&&(t.valueOf=e.valueOf),t}function m(t,e,n,i){return we(t,e,n,i,!0).utc()}function g(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}),t._pf}var o=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,i=0;i<n;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1};function v(t){if(null==t._isValid){var e=g(t),n=o.call(e.parsedDateParts,function(t){return null!=t}),i=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function y(t){var e=m(NaN);return null!=t?f(g(e),t):g(e).userInvalidated=!0,e}function r(t){return void 0===t}var a=h.momentProperties=[];function b(t,e){var n,i,o;if(r(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),r(e._i)||(t._i=e._i),r(e._f)||(t._f=e._f),r(e._l)||(t._l=e._l),r(e._strict)||(t._strict=e._strict),r(e._tzm)||(t._tzm=e._tzm),r(e._isUTC)||(t._isUTC=e._isUTC),r(e._offset)||(t._offset=e._offset),r(e._pf)||(t._pf=g(e)),r(e._locale)||(t._locale=e._locale),0<a.length)for(n in a)r(o=e[i=a[n]])||(t[i]=o);return t}var e=!1;function _(t){b(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===e&&(e=!0,h.updateOffset(this),e=!1)}function x(t){return t instanceof _||null!=t&&null!=t._isAMomentObject}function w(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function E(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=w(e)),n}function M(t,e,n){var i,o=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),a=0;for(i=0;i<o;i++)(n&&t[i]!==e[i]||!n&&E(t[i])!==E(e[i]))&&a++;return a+r}function T(t){!1===h.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function n(o,r){var a=!0;return f(function(){if(null!=h.deprecationHandler&&h.deprecationHandler(null,o),a){for(var t,e=[],n=0;n<arguments.length;n++){if(t="","object"==typeof arguments[n]){for(var i in t+="\n["+n+"] ",arguments[0])t+=i+": "+arguments[0][i]+", ";t=t.slice(0,-2)}else t=arguments[n];e.push(t)}T(o+"\nArguments: "+Array.prototype.slice.call(e).join("")+"\n"+(new Error).stack),a=!1}return r.apply(this,arguments)},r)}var i={};function C(t,e){null!=h.deprecationHandler&&h.deprecationHandler(t,e),i[t]||(T(e),i[t]=!0)}function S(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function A(t,e){var n,i=f({},t);for(n in e)p(e,n)&&(l(t[n])&&l(e[n])?(i[n]={},f(i[n],t[n]),f(i[n],e[n])):null!=e[n]?i[n]=e[n]:delete i[n]);for(n in t)p(t,n)&&!p(e,n)&&l(t[n])&&(i[n]=f({},i[n]));return i}function k(t){null!=t&&this.set(t)}h.suppressDeprecationWarnings=!1,h.deprecationHandler=null;var D=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)p(t,e)&&n.push(e);return n};var O={};function P(t,e){var n=t.toLowerCase();O[n]=O[n+"s"]=O[e]=t}function N(t){return"string"==typeof t?O[t]||O[t.toLowerCase()]:void 0}function L(t){var e,n,i={};for(n in t)p(t,n)&&(e=N(n))&&(i[e]=t[n]);return i}var I={};function R(t,e){I[t]=e}function $(e,n){return function(t){return null!=t?(z(this,e,t),h.updateOffset(this,n),this):F(this,e)}}function F(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function z(t,e,n){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](n)}function H(t,e,n){var i=""+Math.abs(t),o=e-i.length;return(0<=t?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+i}var B=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,U=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,j={},V={};function G(t,e,n,i){var o=i;"string"==typeof i&&(o=function(){return this[i]()}),t&&(V[t]=o),e&&(V[e[0]]=function(){return H(o.apply(this,arguments),e[1],e[2])}),n&&(V[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),t)})}function W(t,e){return t.isValid()?(e=Y(e,t.localeData()),j[e]=j[e]||function(i){var t,o,e,r=i.match(B);for(t=0,o=r.length;t<o;t++)V[r[t]]?r[t]=V[r[t]]:r[t]=(e=r[t]).match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"");return function(t){var e,n="";for(e=0;e<o;e++)n+=r[e]instanceof Function?r[e].call(t,i):r[e];return n}}(e),j[e](t)):t.localeData().invalidDate()}function Y(t,e){var n=5;function i(t){return e.longDateFormat(t)||t}for(U.lastIndex=0;0<=n&&U.test(t);)t=t.replace(U,i),U.lastIndex=0,n-=1;return t}var q=/\d/,X=/\d\d/,Z=/\d{3}/,K=/\d{4}/,Q=/[+-]?\d{6}/,J=/\d\d?/,tt=/\d\d\d\d?/,et=/\d\d\d\d\d\d?/,nt=/\d{1,3}/,it=/\d{1,4}/,ot=/[+-]?\d{1,6}/,rt=/\d+/,at=/[+-]?\d+/,st=/Z|[+-]\d\d:?\d\d/gi,lt=/Z|[+-]\d\d(?::?\d\d)?/gi,ct=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,dt={};function ut(t,n,i){dt[t]=S(n)?n:function(t,e){return t&&i?i:n}}function ht(t,e){return p(dt,t)?dt[t](e._strict,e._locale):new RegExp(pt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,o){return e||n||i||o})))}function pt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var ft={};function mt(t,n){var e,i=n;for("string"==typeof t&&(t=[t]),c(n)&&(i=function(t,e){e[n]=E(t)}),e=0;e<t.length;e++)ft[t[e]]=i}function gt(t,o){mt(t,function(t,e,n,i){n._w=n._w||{},o(t,n._w,n,i)})}var vt=0,yt=1,bt=2,_t=3,xt=4,wt=5,Et=6,Mt=7,Tt=8,Ct=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function St(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}G("M",["MM",2],"Mo",function(){return this.month()+1}),G("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),G("MMMM",0,0,function(t){return this.localeData().months(this,t)}),P("month","M"),R("month",8),ut("M",J),ut("MM",J,X),ut("MMM",function(t,e){return e.monthsShortRegex(t)}),ut("MMMM",function(t,e){return e.monthsRegex(t)}),mt(["M","MM"],function(t,e){e[yt]=E(t)-1}),mt(["MMM","MMMM"],function(t,e,n,i){var o=n._locale.monthsParse(t,i,n._strict);null!=o?e[yt]=o:g(n).invalidMonth=t});var At=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,kt="January_February_March_April_May_June_July_August_September_October_November_December".split("_");var Dt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Ot(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=E(e);else if(!c(e=t.localeData().monthsParse(e)))return t;return n=Math.min(t.date(),St(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function Pt(t){return null!=t?(Ot(this,t),h.updateOffset(this,!0),this):F(this,"Month")}var Nt=ct;var Lt=ct;function It(){function t(t,e){return e.length-t.length}var e,n,i=[],o=[],r=[];for(e=0;e<12;e++)n=m([2e3,e]),i.push(this.monthsShort(n,"")),o.push(this.months(n,"")),r.push(this.months(n,"")),r.push(this.monthsShort(n,""));for(i.sort(t),o.sort(t),r.sort(t),e=0;e<12;e++)i[e]=pt(i[e]),o[e]=pt(o[e]);for(e=0;e<24;e++)r[e]=pt(r[e]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function Rt(t){return $t(t)?366:365}function $t(t){return t%4==0&&t%100!=0||t%400==0}G("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),G(0,["YY",2],0,function(){return this.year()%100}),G(0,["YYYY",4],0,"year"),G(0,["YYYYY",5],0,"year"),G(0,["YYYYYY",6,!0],0,"year"),P("year","y"),R("year",1),ut("Y",at),ut("YY",J,X),ut("YYYY",it,K),ut("YYYYY",ot,Q),ut("YYYYYY",ot,Q),mt(["YYYYY","YYYYYY"],vt),mt("YYYY",function(t,e){e[vt]=2===t.length?h.parseTwoDigitYear(t):E(t)}),mt("YY",function(t,e){e[vt]=h.parseTwoDigitYear(t)}),mt("Y",function(t,e){e[vt]=parseInt(t,10)}),h.parseTwoDigitYear=function(t){return E(t)+(68<E(t)?1900:2e3)};var Ft=$("FullYear",!0);function zt(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&0<=t&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function Ht(t,e,n){var i=7+e-n;return-((7+zt(t,0,i).getUTCDay()-e)%7)+i-1}function Bt(t,e,n,i,o){var r,a,s=1+7*(e-1)+(7+n-i)%7+Ht(t,i,o);return a=s<=0?Rt(r=t-1)+s:s>Rt(t)?(r=t+1,s-Rt(t)):(r=t,s),{year:r,dayOfYear:a}}function Ut(t,e,n){var i,o,r=Ht(t.year(),e,n),a=Math.floor((t.dayOfYear()-r-1)/7)+1;return a<1?i=a+jt(o=t.year()-1,e,n):a>jt(t.year(),e,n)?(i=a-jt(t.year(),e,n),o=t.year()+1):(o=t.year(),i=a),{week:i,year:o}}function jt(t,e,n){var i=Ht(t,e,n),o=Ht(t+1,e,n);return(Rt(t)-i+o)/7}G("w",["ww",2],"wo","week"),G("W",["WW",2],"Wo","isoWeek"),P("week","w"),P("isoWeek","W"),R("week",5),R("isoWeek",5),ut("w",J),ut("ww",J,X),ut("W",J),ut("WW",J,X),gt(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=E(t)});G("d",0,"do","day"),G("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),G("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),G("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),G("e",0,0,"weekday"),G("E",0,0,"isoWeekday"),P("day","d"),P("weekday","e"),P("isoWeekday","E"),R("day",11),R("weekday",11),R("isoWeekday",11),ut("d",J),ut("e",J),ut("E",J),ut("dd",function(t,e){return e.weekdaysMinRegex(t)}),ut("ddd",function(t,e){return e.weekdaysShortRegex(t)}),ut("dddd",function(t,e){return e.weekdaysRegex(t)}),gt(["dd","ddd","dddd"],function(t,e,n,i){var o=n._locale.weekdaysParse(t,i,n._strict);null!=o?e.d=o:g(n).invalidWeekday=t}),gt(["d","e","E"],function(t,e,n,i){e[i]=E(t)});var Vt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");var Gt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");var Wt="Su_Mo_Tu_We_Th_Fr_Sa".split("_");var Yt=ct;var qt=ct;var Xt=ct;function Zt(){function t(t,e){return e.length-t.length}var e,n,i,o,r,a=[],s=[],l=[],c=[];for(e=0;e<7;e++)n=m([2e3,1]).day(e),i=this.weekdaysMin(n,""),o=this.weekdaysShort(n,""),r=this.weekdays(n,""),a.push(i),s.push(o),l.push(r),c.push(i),c.push(o),c.push(r);for(a.sort(t),s.sort(t),l.sort(t),c.sort(t),e=0;e<7;e++)s[e]=pt(s[e]),l[e]=pt(l[e]),c[e]=pt(c[e]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Kt(){return this.hours()%12||12}function Qt(t,e){G(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Jt(t,e){return e._meridiemParse}G("H",["HH",2],0,"hour"),G("h",["hh",2],0,Kt),G("k",["kk",2],0,function(){return this.hours()||24}),G("hmm",0,0,function(){return""+Kt.apply(this)+H(this.minutes(),2)}),G("hmmss",0,0,function(){return""+Kt.apply(this)+H(this.minutes(),2)+H(this.seconds(),2)}),G("Hmm",0,0,function(){return""+this.hours()+H(this.minutes(),2)}),G("Hmmss",0,0,function(){return""+this.hours()+H(this.minutes(),2)+H(this.seconds(),2)}),Qt("a",!0),Qt("A",!1),P("hour","h"),R("hour",13),ut("a",Jt),ut("A",Jt),ut("H",J),ut("h",J),ut("HH",J,X),ut("hh",J,X),ut("hmm",tt),ut("hmmss",et),ut("Hmm",tt),ut("Hmmss",et),mt(["H","HH"],_t),mt(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),mt(["h","hh"],function(t,e,n){e[_t]=E(t),g(n).bigHour=!0}),mt("hmm",function(t,e,n){var i=t.length-2;e[_t]=E(t.substr(0,i)),e[xt]=E(t.substr(i)),g(n).bigHour=!0}),mt("hmmss",function(t,e,n){var i=t.length-4,o=t.length-2;e[_t]=E(t.substr(0,i)),e[xt]=E(t.substr(i,2)),e[wt]=E(t.substr(o)),g(n).bigHour=!0}),mt("Hmm",function(t,e,n){var i=t.length-2;e[_t]=E(t.substr(0,i)),e[xt]=E(t.substr(i))}),mt("Hmmss",function(t,e,n){var i=t.length-4,o=t.length-2;e[_t]=E(t.substr(0,i)),e[xt]=E(t.substr(i,2)),e[wt]=E(t.substr(o))});var te,ee=$("Hours",!0),ne={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",ordinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:kt,monthsShort:Dt,week:{dow:0,doy:6},weekdays:Vt,weekdaysMin:Wt,weekdaysShort:Gt,meridiemParse:/[ap]\.?m?\.?/i},ie={},oe={};function re(t){return t?t.toLowerCase().replace("_","-"):t}function ae(t){var e=null;if(!ie[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=te._abbr,require("./locale/"+t),se(e)}catch(t){}return ie[t]}function se(t,e){var n;return t&&(n=r(e)?ce(t):le(t,e))&&(te=n),te._abbr}function le(t,e){if(null===e)return delete ie[t],null;var n=ne;if(e.abbr=t,null!=ie[t])C("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=ie[t]._config;else if(null!=e.parentLocale){if(null==ie[e.parentLocale])return oe[e.parentLocale]||(oe[e.parentLocale]=[]),oe[e.parentLocale].push({name:t,config:e}),null;n=ie[e.parentLocale]._config}return ie[t]=new k(A(n,e)),oe[t]&&oe[t].forEach(function(t){le(t.name,t.config)}),se(t),ie[t]}function ce(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return te;if(!s(t)){if(e=ae(t))return e;t=[t]}return function(t){for(var e,n,i,o,r=0;r<t.length;){for(e=(o=re(t[r]).split("-")).length,n=(n=re(t[r+1]))?n.split("-"):null;0<e;){if(i=ae(o.slice(0,e).join("-")))return i;if(n&&n.length>=e&&M(o,n,!0)>=e-1)break;e--}r++}return null}(t)}function de(t){var e,n=t._a;return n&&-2===g(t).overflow&&(e=n[yt]<0||11<n[yt]?yt:n[bt]<1||n[bt]>St(n[vt],n[yt])?bt:n[_t]<0||24<n[_t]||24===n[_t]&&(0!==n[xt]||0!==n[wt]||0!==n[Et])?_t:n[xt]<0||59<n[xt]?xt:n[wt]<0||59<n[wt]?wt:n[Et]<0||999<n[Et]?Et:-1,g(t)._overflowDayOfYear&&(e<vt||bt<e)&&(e=bt),g(t)._overflowWeeks&&-1===e&&(e=Mt),g(t)._overflowWeekday&&-1===e&&(e=Tt),g(t).overflow=e),t}var ue=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,he=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,pe=/Z|[+-]\d\d(?::?\d\d)?/,fe=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],me=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ge=/^\/?Date\((\-?\d+)/i;function ve(t){var e,n,i,o,r,a,s=t._i,l=ue.exec(s)||he.exec(s);if(l){for(g(t).iso=!0,e=0,n=fe.length;e<n;e++)if(fe[e][1].exec(l[1])){o=fe[e][0],i=!1!==fe[e][2];break}if(null==o)return void(t._isValid=!1);if(l[3]){for(e=0,n=me.length;e<n;e++)if(me[e][1].exec(l[3])){r=(l[2]||" ")+me[e][0];break}if(null==r)return void(t._isValid=!1)}if(!i&&null!=r)return void(t._isValid=!1);if(l[4]){if(!pe.exec(l[4]))return void(t._isValid=!1);a="Z"}t._f=o+(r||"")+(a||""),_e(t)}else t._isValid=!1}function ye(t,e,n){return null!=t?t:null!=e?e:n}function be(t){var e,n,i,o,r=[];if(!t._d){var a,s;for(a=t,s=new Date(h.now()),i=a._useUTC?[s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()]:[s.getFullYear(),s.getMonth(),s.getDate()],t._w&&null==t._a[bt]&&null==t._a[yt]&&function(t){var e,n,i,o,r,a,s,l;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)r=1,a=4,n=ye(e.GG,t._a[vt],Ut(Ee(),1,4).year),i=ye(e.W,1),((o=ye(e.E,1))<1||7<o)&&(l=!0);else{r=t._locale._week.dow,a=t._locale._week.doy;var c=Ut(Ee(),r,a);n=ye(e.gg,t._a[vt],c.year),i=ye(e.w,c.week),null!=e.d?((o=e.d)<0||6<o)&&(l=!0):null!=e.e?(o=e.e+r,(e.e<0||6<e.e)&&(l=!0)):o=r}i<1||i>jt(n,r,a)?g(t)._overflowWeeks=!0:null!=l?g(t)._overflowWeekday=!0:(s=Bt(n,i,o,r,a),t._a[vt]=s.year,t._dayOfYear=s.dayOfYear)}(t),t._dayOfYear&&(o=ye(t._a[vt],i[vt]),t._dayOfYear>Rt(o)&&(g(t)._overflowDayOfYear=!0),n=zt(o,0,t._dayOfYear),t._a[yt]=n.getUTCMonth(),t._a[bt]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=r[e]=i[e];for(;e<7;e++)t._a[e]=r[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[_t]&&0===t._a[xt]&&0===t._a[wt]&&0===t._a[Et]&&(t._nextDay=!0,t._a[_t]=0),t._d=(t._useUTC?zt:function(t,e,n,i,o,r,a){var s=new Date(t,e,n,i,o,r,a);return t<100&&0<=t&&isFinite(s.getFullYear())&&s.setFullYear(t),s}).apply(null,r),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[_t]=24)}}function _e(t){if(t._f!==h.ISO_8601){t._a=[],g(t).empty=!0;var e,n,i,o,r,a,s,l,c=""+t._i,d=c.length,u=0;for(i=Y(t._f,t._locale).match(B)||[],e=0;e<i.length;e++)o=i[e],(n=(c.match(ht(o,t))||[])[0])&&(0<(r=c.substr(0,c.indexOf(n))).length&&g(t).unusedInput.push(r),c=c.slice(c.indexOf(n)+n.length),u+=n.length),V[o]?(n?g(t).empty=!1:g(t).unusedTokens.push(o),a=o,l=t,null!=(s=n)&&p(ft,a)&&ft[a](s,l._a,l,a)):t._strict&&!n&&g(t).unusedTokens.push(o);g(t).charsLeftOver=d-u,0<c.length&&g(t).unusedInput.push(c),t._a[_t]<=12&&!0===g(t).bigHour&&0<t._a[_t]&&(g(t).bigHour=void 0),g(t).parsedDateParts=t._a.slice(0),g(t).meridiem=t._meridiem,t._a[_t]=function(t,e,n){var i;if(null==n)return e;return null!=t.meridiemHour?t.meridiemHour(e,n):(null!=t.isPM&&((i=t.isPM(n))&&e<12&&(e+=12),i||12!==e||(e=0)),e)}(t._locale,t._a[_t],t._meridiem),be(t),de(t)}else ve(t)}function xe(t){var e,n,i,o,r=t._i,a=t._f;return t._locale=t._locale||ce(t._l),null===r||void 0===a&&""===r?y({nullInput:!0}):("string"==typeof r&&(t._i=r=t._locale.preparse(r)),x(r)?new _(de(r)):(d(r)?t._d=r:s(a)?function(t){var e,n,i,o,r;if(0===t._f.length)return g(t).invalidFormat=!0,t._d=new Date(NaN);for(o=0;o<t._f.length;o++)r=0,e=b({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[o],_e(e),v(e)&&(r+=g(e).charsLeftOver,r+=10*g(e).unusedTokens.length,g(e).score=r,(null==i||r<i)&&(i=r,n=e));f(t,n||e)}(t):a?_e(t):void 0===(n=(e=t)._i)?e._d=new Date(h.now()):d(n)?e._d=new Date(n.valueOf()):"string"==typeof n?(i=e,null===(o=ge.exec(i._i))?(ve(i),!1===i._isValid&&(delete i._isValid,h.createFromInputFallback(i))):i._d=new Date(+o[1])):s(n)?(e._a=u(n.slice(0),function(t){return parseInt(t,10)}),be(e)):"object"==typeof n?function(t){if(!t._d){var e=L(t._i);t._a=u([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),be(t)}}(e):c(n)?e._d=new Date(n):h.createFromInputFallback(e),v(t)||(t._d=null),t))}function we(t,e,n,i,o){var r,a={};return!0!==n&&!1!==n||(i=n,n=void 0),(l(t)&&function(t){var e;for(e in t)return!1;return!0}(t)||s(t)&&0===t.length)&&(t=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=o,a._l=n,a._i=t,a._f=e,a._strict=i,(r=new _(de(xe(a))))._nextDay&&(r.add(1,"d"),r._nextDay=void 0),r}function Ee(t,e,n,i){return we(t,e,n,i,!1)}h.createFromInputFallback=n("value provided is not in a recognized ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),h.ISO_8601=function(){};var Me=n("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Ee.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:y()}),Te=n("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Ee.apply(null,arguments);return this.isValid()&&t.isValid()?this<t?this:t:y()});function Ce(t,e){var n,i;if(1===e.length&&s(e[0])&&(e=e[0]),!e.length)return Ee();for(n=e[0],i=1;i<e.length;++i)e[i].isValid()&&!e[i][t](n)||(n=e[i]);return n}function Se(t){var e=L(t),n=e.year||0,i=e.quarter||0,o=e.month||0,r=e.week||0,a=e.day||0,s=e.hour||0,l=e.minute||0,c=e.second||0,d=e.millisecond||0;this._milliseconds=+d+1e3*c+6e4*l+1e3*s*60*60,this._days=+a+7*r,this._months=+o+3*i+12*n,this._data={},this._locale=ce(),this._bubble()}function Ae(t){return t instanceof Se}function ke(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function De(t,n){G(t,0,0,function(){var t=this.utcOffset(),e="+";return t<0&&(t=-t,e="-"),e+H(~~(t/60),2)+n+H(~~t%60,2)})}De("Z",":"),De("ZZ",""),ut("Z",lt),ut("ZZ",lt),mt(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Pe(lt,t)});var Oe=/([\+\-]|\d\d)/gi;function Pe(t,e){var n=(e||"").match(t);if(null===n)return null;var i=((n[n.length-1]||[])+"").match(Oe)||["-",0,0],o=60*i[1]+E(i[2]);return 0===o?0:"+"===i[0]?o:-o}function Ne(t,e){var n,i;return e._isUTC?(n=e.clone(),i=(x(t)||d(t)?t.valueOf():Ee(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),h.updateOffset(n,!1),n):Ee(t).local()}function Le(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Ie(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}h.updateOffset=function(){};var Re=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,$e=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;function Fe(t,e){var n,i,o,r=t,a=null;return Ae(t)?r={ms:t._milliseconds,d:t._days,M:t._months}:c(t)?(r={},e?r[e]=t:r.milliseconds=t):(a=Re.exec(t))?(n="-"===a[1]?-1:1,r={y:0,d:E(a[bt])*n,h:E(a[_t])*n,m:E(a[xt])*n,s:E(a[wt])*n,ms:E(ke(1e3*a[Et]))*n}):(a=$e.exec(t))?(n="-"===a[1]?-1:1,r={y:ze(a[2],n),M:ze(a[3],n),w:ze(a[4],n),d:ze(a[5],n),h:ze(a[6],n),m:ze(a[7],n),s:ze(a[8],n)}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(o=function(t,e){var n;if(!t.isValid()||!e.isValid())return{milliseconds:0,months:0};e=Ne(e,t),t.isBefore(e)?n=He(t,e):((n=He(e,t)).milliseconds=-n.milliseconds,n.months=-n.months);return n}(Ee(r.from),Ee(r.to)),(r={}).ms=o.milliseconds,r.M=o.months),i=new Se(r),Ae(t)&&p(t,"_locale")&&(i._locale=t._locale),i}function ze(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function He(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Be(i,o){return function(t,e){var n;return null===e||isNaN(+e)||(C(o,"moment()."+o+"(period, number) is deprecated. Please use moment()."+o+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=t,t=e,e=n),Ue(this,Fe(t="string"==typeof t?+t:t,e),i),this}}function Ue(t,e,n,i){var o=e._milliseconds,r=ke(e._days),a=ke(e._months);t.isValid()&&(i=null==i||i,o&&t._d.setTime(t._d.valueOf()+o*n),r&&z(t,"Date",F(t,"Date")+r*n),a&&Ot(t,F(t,"Month")+a*n),i&&h.updateOffset(t,r||a))}Fe.fn=Se.prototype;var je=Be(1,"add"),Ve=Be(-1,"subtract");function Ge(t){var e;return void 0===t?this._locale._abbr:(null!=(e=ce(t))&&(this._locale=e),this)}h.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",h.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var We=n("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});function Ye(){return this._locale}function qe(t,e){G(0,[t,t.length],0,e)}function Xe(t,e,n,i,o){var r;return null==t?Ut(this,i,o).year:((r=jt(t,i,o))<e&&(e=r),function(t,e,n,i,o){var r=Bt(t,e,n,i,o),a=zt(r.year,0,r.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}.call(this,t,e,n,i,o))}G(0,["gg",2],0,function(){return this.weekYear()%100}),G(0,["GG",2],0,function(){return this.isoWeekYear()%100}),qe("gggg","weekYear"),qe("ggggg","weekYear"),qe("GGGG","isoWeekYear"),qe("GGGGG","isoWeekYear"),P("weekYear","gg"),P("isoWeekYear","GG"),R("weekYear",1),R("isoWeekYear",1),ut("G",at),ut("g",at),ut("GG",J,X),ut("gg",J,X),ut("GGGG",it,K),ut("gggg",it,K),ut("GGGGG",ot,Q),ut("ggggg",ot,Q),gt(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=E(t)}),gt(["gg","GG"],function(t,e,n,i){e[i]=h.parseTwoDigitYear(t)}),G("Q",0,"Qo","quarter"),P("quarter","Q"),R("quarter",7),ut("Q",q),mt("Q",function(t,e){e[yt]=3*(E(t)-1)}),G("D",["DD",2],"Do","date"),P("date","D"),R("date",9),ut("D",J),ut("DD",J,X),ut("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),mt(["D","DD"],bt),mt("Do",function(t,e){e[bt]=E(t.match(J)[0])});var Ze=$("Date",!0);G("DDD",["DDDD",3],"DDDo","dayOfYear"),P("dayOfYear","DDD"),R("dayOfYear",4),ut("DDD",nt),ut("DDDD",Z),mt(["DDD","DDDD"],function(t,e,n){n._dayOfYear=E(t)}),G("m",["mm",2],0,"minute"),P("minute","m"),R("minute",14),ut("m",J),ut("mm",J,X),mt(["m","mm"],xt);var Ke=$("Minutes",!1);G("s",["ss",2],0,"second"),P("second","s"),R("second",15),ut("s",J),ut("ss",J,X),mt(["s","ss"],wt);var Qe,Je=$("Seconds",!1);for(G("S",0,0,function(){return~~(this.millisecond()/100)}),G(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),G(0,["SSS",3],0,"millisecond"),G(0,["SSSS",4],0,function(){return 10*this.millisecond()}),G(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),G(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),G(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),G(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),G(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),P("millisecond","ms"),R("millisecond",16),ut("S",nt,q),ut("SS",nt,X),ut("SSS",nt,Z),Qe="SSSS";Qe.length<=9;Qe+="S")ut(Qe,rt);function tn(t,e){e[Et]=E(1e3*("0."+t))}for(Qe="S";Qe.length<=9;Qe+="S")mt(Qe,tn);var en=$("Milliseconds",!1);G("z",0,0,"zoneAbbr"),G("zz",0,0,"zoneName");var nn=_.prototype;function on(t){return t}nn.add=je,nn.calendar=function(t,e){var n=t||Ee(),i=Ne(n,this).startOf("day"),o=h.calendarFormat(this,i)||"sameElse",r=e&&(S(e[o])?e[o].call(this,n):e[o]);return this.format(r||this.localeData().calendar(o,this,Ee(n)))},nn.clone=function(){return new _(this)},nn.diff=function(t,e,n){var i,o,r,a;return this.isValid()&&(i=Ne(t,this)).isValid()?(o=6e4*(i.utcOffset()-this.utcOffset()),"year"===(e=N(e))||"month"===e||"quarter"===e?(s=this,l=i,u=12*(l.year()-s.year())+(l.month()-s.month()),h=s.clone().add(u,"months"),d=l-h<0?(c=s.clone().add(u-1,"months"),(l-h)/(h-c)):(c=s.clone().add(u+1,"months"),(l-h)/(c-h)),a=-(u+d)||0,"quarter"===e?a/=3:"year"===e&&(a/=12)):(r=this-i,a="second"===e?r/1e3:"minute"===e?r/6e4:"hour"===e?r/36e5:"day"===e?(r-o)/864e5:"week"===e?(r-o)/6048e5:r),n?a:w(a)):NaN;var s,l,c,d,u,h},nn.endOf=function(t){return void 0===(t=N(t))||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))},nn.format=function(t){t||(t=this.isUtc()?h.defaultFormatUtc:h.defaultFormat);var e=W(this,t);return this.localeData().postformat(e)},nn.from=function(t,e){return this.isValid()&&(x(t)&&t.isValid()||Ee(t).isValid())?Fe({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},nn.fromNow=function(t){return this.from(Ee(),t)},nn.to=function(t,e){return this.isValid()&&(x(t)&&t.isValid()||Ee(t).isValid())?Fe({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},nn.toNow=function(t){return this.to(Ee(),t)},nn.get=function(t){return S(this[t=N(t)])?this[t]():this},nn.invalidAt=function(){return g(this).overflow},nn.isAfter=function(t,e){var n=x(t)?t:Ee(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=N(r(e)?"millisecond":e))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())},nn.isBefore=function(t,e){var n=x(t)?t:Ee(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=N(r(e)?"millisecond":e))?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())},nn.isBetween=function(t,e,n,i){return("("===(i=i||"()")[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===i[1]?this.isBefore(e,n):!this.isAfter(e,n))},nn.isSame=function(t,e){var n,i=x(t)?t:Ee(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=N(e||"millisecond"))?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))},nn.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},nn.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},nn.isValid=function(){return v(this)},nn.lang=We,nn.locale=Ge,nn.localeData=Ye,nn.max=Te,nn.min=Me,nn.parsingFlags=function(){return f({},g(this))},nn.set=function(t,e){if("object"==typeof t)for(var n=function(t){var e=[];for(var n in t)e.push({unit:n,priority:I[n]});return e.sort(function(t,e){return t.priority-e.priority}),e}(t=L(t)),i=0;i<n.length;i++)this[n[i].unit](t[n[i].unit]);else if(S(this[t=N(t)]))return this[t](e);return this},nn.startOf=function(t){switch(t=N(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},nn.subtract=Ve,nn.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]},nn.toObject=function(){return{years:this.year(),months:this.month(),date:this.date(),hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()}},nn.toDate=function(){return new Date(this.valueOf())},nn.toISOString=function(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?S(Date.prototype.toISOString)?this.toDate().toISOString():W(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):W(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},nn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',i=0<this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o=e+'[")]';return this.format(n+i+"-MM-DD[T]HH:mm:ss.SSS"+o)},nn.toJSON=function(){return this.isValid()?this.toISOString():null},nn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},nn.unix=function(){return Math.floor(this.valueOf()/1e3)},nn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},nn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},nn.year=Ft,nn.isLeapYear=function(){return $t(this.year())},nn.weekYear=function(t){return Xe.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},nn.isoWeekYear=function(t){return Xe.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},nn.quarter=nn.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},nn.month=Pt,nn.daysInMonth=function(){return St(this.year(),this.month())},nn.week=nn.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},nn.isoWeek=nn.isoWeeks=function(t){var e=Ut(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},nn.weeksInYear=function(){var t=this.localeData()._week;return jt(this.year(),t.dow,t.doy)},nn.isoWeeksInYear=function(){return jt(this.year(),1,4)},nn.date=Ze,nn.day=nn.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e,n,i=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(e=t,n=this.localeData(),t="string"!=typeof e?e:isNaN(e)?"number"==typeof(e=n.weekdaysParse(e))?e:null:parseInt(e,10),this.add(t-i,"d")):i},nn.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},nn.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null==t)return this.day()||7;var e,n,i=(e=t,n=this.localeData(),"string"==typeof e?n.weekdaysParse(e)%7||7:isNaN(e)?null:e);return this.day(this.day()%7?i:i-7)},nn.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},nn.hour=nn.hours=ee,nn.minute=nn.minutes=Ke,nn.second=nn.seconds=Je,nn.millisecond=nn.milliseconds=en,nn.utcOffset=function(t,e){var n,i=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null==t)return this._isUTC?i:Le(this);if("string"==typeof t){if(null===(t=Pe(lt,t)))return this}else Math.abs(t)<16&&(t*=60);return!this._isUTC&&e&&(n=Le(this)),this._offset=t,this._isUTC=!0,null!=n&&this.add(n,"m"),i!==t&&(!e||this._changeInProgress?Ue(this,Fe(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,h.updateOffset(this,!0),this._changeInProgress=null)),this},nn.utc=function(t){return this.utcOffset(0,t)},nn.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Le(this),"m")),this},nn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm);else if("string"==typeof this._i){var t=Pe(st,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},nn.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?Ee(t).utcOffset():0,(this.utcOffset()-t)%60==0)},nn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},nn.isLocal=function(){return!!this.isValid()&&!this._isUTC},nn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},nn.isUtc=Ie,nn.isUTC=Ie,nn.zoneAbbr=function(){return this._isUTC?"UTC":""},nn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},nn.dates=n("dates accessor is deprecated. Use date instead.",Ze),nn.months=n("months accessor is deprecated. Use month instead",Pt),nn.years=n("years accessor is deprecated. Use year instead",Ft),nn.zone=n("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}),nn.isDSTShifted=n("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!r(this._isDSTShifted))return this._isDSTShifted;var t={};if(b(t,this),(t=xe(t))._a){var e=t._isUTC?m(t._a):Ee(t._a);this._isDSTShifted=this.isValid()&&0<M(t._a,e.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted});var rn=k.prototype;function an(t,e,n,i){var o=ce(),r=m().set(i,e);return o[n](r,t)}function sn(t,e,n){if(c(t)&&(e=t,t=void 0),t=t||"",null!=e)return an(t,e,n,"month");var i,o=[];for(i=0;i<12;i++)o[i]=an(t,i,n,"month");return o}function ln(t,e,n,i){e=("boolean"==typeof t?c(e)&&(n=e,e=void 0):(e=t,t=!1,c(n=e)&&(n=e,e=void 0)),e||"");var o,r=ce(),a=t?r._week.dow:0;if(null!=n)return an(e,(n+a)%7,i,"day");var s=[];for(o=0;o<7;o++)s[o]=an(e,(o+a)%7,i,"day");return s}rn.calendar=function(t,e,n){var i=this._calendar[t]||this._calendar.sameElse;return S(i)?i.call(e,n):i},rn.longDateFormat=function(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])},rn.invalidDate=function(){return this._invalidDate},rn.ordinal=function(t){return this._ordinal.replace("%d",t)},rn.preparse=on,rn.postformat=on,rn.relativeTime=function(t,e,n,i){var o=this._relativeTime[n];return S(o)?o(t,e,n,i):o.replace(/%d/i,t)},rn.pastFuture=function(t,e){var n=this._relativeTime[0<t?"future":"past"];return S(n)?n(e):n.replace(/%s/i,e)},rn.set=function(t){var e,n;for(n in t)S(e=t[n])?this[n]=e:this["_"+n]=e;this._config=t,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},rn.months=function(t,e){return t?s(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||At).test(e)?"format":"standalone"][t.month()]:this._months},rn.monthsShort=function(t,e){return t?s(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[At.test(e)?"format":"standalone"][t.month()]:this._monthsShort},rn.monthsParse=function(t,e,n){var i,o,r;if(this._monthsParseExact)return function(t,e,n){var i,o,r,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)r=m([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(r,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(o=Ct.call(this._shortMonthsParse,a))?o:null:-1!==(o=Ct.call(this._longMonthsParse,a))?o:null:"MMM"===e?-1!==(o=Ct.call(this._shortMonthsParse,a))?o:-1!==(o=Ct.call(this._longMonthsParse,a))?o:null:-1!==(o=Ct.call(this._longMonthsParse,a))?o:-1!==(o=Ct.call(this._shortMonthsParse,a))?o:null}.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(o=m([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(r="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[i]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}},rn.monthsRegex=function(t){return this._monthsParseExact?(p(this,"_monthsRegex")||It.call(this),t?this._monthsStrictRegex:this._monthsRegex):(p(this,"_monthsRegex")||(this._monthsRegex=Lt),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},rn.monthsShortRegex=function(t){return this._monthsParseExact?(p(this,"_monthsRegex")||It.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(p(this,"_monthsShortRegex")||(this._monthsShortRegex=Nt),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},rn.week=function(t){return Ut(t,this._week.dow,this._week.doy).week},rn.firstDayOfYear=function(){return this._week.doy},rn.firstDayOfWeek=function(){return this._week.dow},rn.weekdays=function(t,e){return t?s(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:this._weekdays},rn.weekdaysMin=function(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin},rn.weekdaysShort=function(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort},rn.weekdaysParse=function(t,e,n){var i,o,r;if(this._weekdaysParseExact)return function(t,e,n){var i,o,r,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)r=m([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(r,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(o=Ct.call(this._weekdaysParse,a))?o:null:"ddd"===e?-1!==(o=Ct.call(this._shortWeekdaysParse,a))?o:null:-1!==(o=Ct.call(this._minWeekdaysParse,a))?o:null:"dddd"===e?-1!==(o=Ct.call(this._weekdaysParse,a))?o:-1!==(o=Ct.call(this._shortWeekdaysParse,a))?o:-1!==(o=Ct.call(this._minWeekdaysParse,a))?o:null:"ddd"===e?-1!==(o=Ct.call(this._shortWeekdaysParse,a))?o:-1!==(o=Ct.call(this._weekdaysParse,a))?o:-1!==(o=Ct.call(this._minWeekdaysParse,a))?o:null:-1!==(o=Ct.call(this._minWeekdaysParse,a))?o:-1!==(o=Ct.call(this._weekdaysParse,a))?o:-1!==(o=Ct.call(this._shortWeekdaysParse,a))?o:null}.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(o=m([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(o,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(o,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(o,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(r="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[i]=new RegExp(r.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}},rn.weekdaysRegex=function(t){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||Zt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(p(this,"_weekdaysRegex")||(this._weekdaysRegex=Yt),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},rn.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||Zt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(p(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=qt),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},rn.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||Zt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(p(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Xt),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},rn.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},rn.meridiem=function(t,e,n){return 11<t?n?"pm":"PM":n?"am":"AM"},se("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===E(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),h.lang=n("moment.lang is deprecated. Use moment.locale instead.",se),h.langData=n("moment.langData is deprecated. Use moment.localeData instead.",ce);var cn=Math.abs;function dn(t,e,n,i){var o=Fe(e,n);return t._milliseconds+=i*o._milliseconds,t._days+=i*o._days,t._months+=i*o._months,t._bubble()}function un(t){return t<0?Math.floor(t):Math.ceil(t)}function hn(t){return 4800*t/146097}function pn(t){return 146097*t/4800}function fn(t){return function(){return this.as(t)}}var mn=fn("ms"),gn=fn("s"),vn=fn("m"),yn=fn("h"),bn=fn("d"),_n=fn("w"),xn=fn("M"),wn=fn("y");function En(t){return function(){return this._data[t]}}var Mn=En("milliseconds"),Tn=En("seconds"),Cn=En("minutes"),Sn=En("hours"),An=En("days"),kn=En("months"),Dn=En("years");var On=Math.round,Pn={s:45,m:45,h:22,d:26,M:11};var Nn=Math.abs;function Ln(){var t,e,n=Nn(this._milliseconds)/1e3,i=Nn(this._days),o=Nn(this._months);e=w((t=w(n/60))/60),n%=60,t%=60;var r=w(o/12),a=o%=12,s=i,l=e,c=t,d=n,u=this.asSeconds();return u?(u<0?"-":"")+"P"+(r?r+"Y":"")+(a?a+"M":"")+(s?s+"D":"")+(l||c||d?"T":"")+(l?l+"H":"")+(c?c+"M":"")+(d?d+"S":""):"P0D"}var In=Se.prototype;return In.abs=function(){var t=this._data;return this._milliseconds=cn(this._milliseconds),this._days=cn(this._days),this._months=cn(this._months),t.milliseconds=cn(t.milliseconds),t.seconds=cn(t.seconds),t.minutes=cn(t.minutes),t.hours=cn(t.hours),t.months=cn(t.months),t.years=cn(t.years),this},In.add=function(t,e){return dn(this,t,e,1)},In.subtract=function(t,e){return dn(this,t,e,-1)},In.as=function(t){var e,n,i=this._milliseconds;if("month"===(t=N(t))||"year"===t)return e=this._days+i/864e5,n=this._months+hn(e),"month"===t?n:n/12;switch(e=this._days+Math.round(pn(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}},In.asMilliseconds=mn,In.asSeconds=gn,In.asMinutes=vn,In.asHours=yn,In.asDays=bn,In.asWeeks=_n,In.asMonths=xn,In.asYears=wn,In.valueOf=function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*E(this._months/12)},In._bubble=function(){var t,e,n,i,o,r=this._milliseconds,a=this._days,s=this._months,l=this._data;return 0<=r&&0<=a&&0<=s||r<=0&&a<=0&&s<=0||(r+=864e5*un(pn(s)+a),s=a=0),l.milliseconds=r%1e3,t=w(r/1e3),l.seconds=t%60,e=w(t/60),l.minutes=e%60,n=w(e/60),l.hours=n%24,s+=o=w(hn(a+=w(n/24))),a-=un(pn(o)),i=w(s/12),s%=12,l.days=a,l.months=s,l.years=i,this},In.get=function(t){return this[(t=N(t))+"s"]()},In.milliseconds=Mn,In.seconds=Tn,In.minutes=Cn,In.hours=Sn,In.days=An,In.weeks=function(){return w(this.days()/7)},In.months=kn,In.years=Dn,In.humanize=function(t){var e,n,i,o,r,a,s,l,c,d,u,h=this.localeData(),p=(n=!t,i=h,o=Fe(e=this).abs(),r=On(o.as("s")),a=On(o.as("m")),s=On(o.as("h")),l=On(o.as("d")),c=On(o.as("M")),d=On(o.as("y")),(u=r<Pn.s&&["s",r]||a<=1&&["m"]||a<Pn.m&&["mm",a]||s<=1&&["h"]||s<Pn.h&&["hh",s]||l<=1&&["d"]||l<Pn.d&&["dd",l]||c<=1&&["M"]||c<Pn.M&&["MM",c]||d<=1&&["y"]||["yy",d])[2]=n,u[3]=0<+e,u[4]=i,function(t,e,n,i,o){return o.relativeTime(e||1,!!n,t,i)}.apply(null,u));return t&&(p=h.pastFuture(+this,p)),h.postformat(p)},In.toISOString=Ln,In.toString=Ln,In.toJSON=Ln,In.locale=Ge,In.localeData=Ye,In.toIsoString=n("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ln),In.lang=We,G("X",0,0,"unix"),G("x",0,0,"valueOf"),ut("x",at),ut("X",/[+-]?\d+(\.\d{1,3})?/),mt("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),mt("x",function(t,e,n){n._d=new Date(E(t))}),h.version="2.17.1",t=Ee,h.fn=nn,h.min=function(){return Ce("isBefore",[].slice.call(arguments,0))},h.max=function(){return Ce("isAfter",[].slice.call(arguments,0))},h.now=function(){return Date.now?Date.now():+new Date},h.utc=m,h.unix=function(t){return Ee(1e3*t)},h.months=function(t,e){return sn(t,e,"months")},h.isDate=d,h.locale=se,h.invalid=y,h.duration=Fe,h.isMoment=x,h.weekdays=function(t,e,n){return ln(t,e,n,"weekdays")},h.parseZone=function(){return Ee.apply(null,arguments).parseZone()},h.localeData=ce,h.isDuration=Ae,h.monthsShort=function(t,e){return sn(t,e,"monthsShort")},h.weekdaysMin=function(t,e,n){return ln(t,e,n,"weekdaysMin")},h.defineLocale=le,h.updateLocale=function(t,e){if(null!=e){var n,i=ne;null!=ie[t]&&(i=ie[t]._config),(n=new k(e=A(i,e))).parentLocale=ie[t],ie[t]=n,se(t)}else null!=ie[t]&&(null!=ie[t].parentLocale?ie[t]=ie[t].parentLocale:null!=ie[t]&&delete ie[t]);return ie[t]},h.locales=function(){return D(ie)},h.weekdaysShort=function(t,e,n){return ln(t,e,n,"weekdaysShort")},h.normalizeUnits=N,h.relativeTimeRounding=function(t){return void 0===t?On:"function"==typeof t&&(On=t,!0)},h.relativeTimeThreshold=function(t,e){return void 0!==Pn[t]&&(void 0===e?Pn[t]:(Pn[t]=e,!0))},h.calendarFormat=function(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},h.prototype=nn,h}),function(t,e){"use strict";"object"==typeof module&&module.exports?module.exports=e(require("moment")):"function"==typeof define&&define.amd?define(["moment"],e):e(t.moment)}(this,function(r){"use strict";var e,a={},s={},c={},d={};r&&"string"==typeof r.version||C("Moment Timezone requires Moment.js. See https://momentjs.com/timezone/docs/#/use-it/browser/");var t=r.version.split("."),n=+t[0],i=+t[1];function l(t){return 96<t?t-87:64<t?t-29:t-48}function o(t){var e=0,n=t.split("."),i=n[0],o=n[1]||"",r=1,a=0,s=1;for(45===t.charCodeAt(0)&&(s=-(e=1));e<i.length;e++)a=60*a+l(i.charCodeAt(e));for(e=0;e<o.length;e++)r/=60,a+=l(o.charCodeAt(e))*r;return a*s}function u(t){for(var e=0;e<t.length;e++)t[e]=o(t[e])}function h(t,e){var n,i=[];for(n=0;n<e.length;n++)i[n]=t[e[n]];return i}function p(t){var e=t.split("|"),n=e[2].split(" "),i=e[3].split(""),o=e[4].split(" ");return u(n),u(i),u(o),function(t,e){for(var n=0;n<e;n++)t[n]=Math.round((t[n-1]||0)+6e4*t[n]);t[e-1]=1/0}(o,i.length),{name:e[0],abbrs:h(e[1].split(" "),i),offsets:h(n,i),untils:o,population:0|e[5]}}function f(t){t&&this._set(p(t))}function m(t){var e=t.toTimeString(),n=e.match(/\([a-z ]+\)/i);"GMT"===(n=n&&n[0]?(n=n[0].match(/[A-Z]/g))?n.join(""):void 0:(n=e.match(/[A-Z]{3,5}/g))?n[0]:void 0)&&(n=void 0),this.at=+t,this.abbr=n,this.offset=t.getTimezoneOffset()}function g(t){this.zone=t,this.offsetScore=0,this.abbrScore=0}function v(t,e){for(var n,i;i=6e4*((e.at-t.at)/12e4|0);)(n=new m(new Date(t.at+i))).offset===t.offset?t=n:e=n;return t}function y(t,e){return t.offsetScore!==e.offsetScore?t.offsetScore-e.offsetScore:t.abbrScore!==e.abbrScore?t.abbrScore-e.abbrScore:e.zone.population-t.zone.population}function b(t,e){var n,i;for(u(e),n=0;n<e.length;n++)i=e[n],d[i]=d[i]||{},d[i][t]=!0}function _(t){return(t||"").toLowerCase().replace(/\//g,"_")}function x(t){var e,n,i,o;for("string"==typeof t&&(t=[t]),e=0;e<t.length;e++)o=_(n=(i=t[e].split("|"))[0]),a[o]=t[e],c[o]=n,b(o,i[2].split(" "))}function w(t,e){t=_(t);var n,i=a[t];return i instanceof f?i:"string"==typeof i?(i=new f(i),a[t]=i):s[t]&&e!==w&&(n=w(s[t],w))?((i=a[t]=new f)._set(n),i.name=c[t],i):null}function E(t){var e,n,i,o;for("string"==typeof t&&(t=[t]),e=0;e<t.length;e++)i=_((n=t[e].split("|"))[0]),o=_(n[1]),s[i]=o,c[i]=n[0],s[o]=i,c[o]=n[1]}function M(t){x(t.zones),E(t.links),S.dataVersion=t.version}function T(t){var e="X"===t._f||"x"===t._f;return!(!t._a||void 0!==t._tzm||e)}function C(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t)}function S(t){var e=Array.prototype.slice.call(arguments,0,-1),n=arguments[arguments.length-1],i=w(n),o=r.utc.apply(null,e);return i&&!r.isMoment(t)&&T(o)&&o.add(i.parse(o),"minutes"),o.tz(n),o}(n<2||2===n&&i<6)&&C("Moment Timezone requires Moment.js >= 2.6.0. You are using Moment.js "+r.version+". See momentjs.com"),f.prototype={_set:function(t){this.name=t.name,this.abbrs=t.abbrs,this.untils=t.untils,this.offsets=t.offsets,this.population=t.population},_index:function(t){var e,n=+t,i=this.untils;for(e=0;e<i.length;e++)if(n<i[e])return e},parse:function(t){var e,n,i,o,r=+t,a=this.offsets,s=this.untils,l=s.length-1;for(o=0;o<l;o++)if(e=a[o],n=a[o+1],i=a[o?o-1:o],e<n&&S.moveAmbiguousForward?e=n:i<e&&S.moveInvalidForward&&(e=i),r<s[o]-6e4*e)return a[o];return a[l]},abbr:function(t){return this.abbrs[this._index(t)]},offset:function(t){return C("zone.offset has been deprecated in favor of zone.utcOffset"),this.offsets[this._index(t)]},utcOffset:function(t){return this.offsets[this._index(t)]}},g.prototype.scoreOffsetAt=function(t){this.offsetScore+=Math.abs(this.zone.utcOffset(t.at)-t.offset),this.zone.abbr(t.at).replace(/[^A-Z]/g,"")!==t.abbr&&this.abbrScore++},S.version="0.5.21",S.dataVersion="",S._zones=a,S._links=s,S._names=c,S.add=x,S.link=E,S.load=M,S.zone=w,S.zoneExists=function t(e){return t.didShowError||(t.didShowError=!0,C("moment.tz.zoneExists('"+e+"') has been deprecated in favor of !moment.tz.zone('"+e+"')")),!!w(e)},S.guess=function(t){return e&&!t||(e=function(){try{var t=Intl.DateTimeFormat().resolvedOptions().timeZone;if(t&&3<t.length){var e=c[_(t)];if(e)return e;C("Moment Timezone found "+t+" from the Intl api, but did not have that data loaded.")}}catch(t){}var n,i,o,r=function(){var t,e,n,i=(new Date).getFullYear()-2,o=new m(new Date(i,0,1)),r=[o];for(n=1;n<48;n++)(e=new m(new Date(i,n,1))).offset!==o.offset&&(t=v(o,e),r.push(t),r.push(new m(new Date(t.at+6e4)))),o=e;for(n=0;n<4;n++)r.push(new m(new Date(i+n,0,1))),r.push(new m(new Date(i+n,6,1)));return r}(),a=r.length,s=function(t){var e,n,i,o=t.length,r={},a=[];for(e=0;e<o;e++)for(n in i=d[t[e].offset]||{})i.hasOwnProperty(n)&&(r[n]=!0);for(e in r)r.hasOwnProperty(e)&&a.push(c[e]);return a}(r),l=[];for(i=0;i<s.length;i++){for(n=new g(w(s[i]),a),o=0;o<a;o++)n.scoreOffsetAt(r[o]);l.push(n)}return l.sort(y),0<l.length?l[0].zone.name:void 0}()),e},S.names=function(){var t,e=[];for(t in c)c.hasOwnProperty(t)&&(a[t]||a[s[t]])&&c[t]&&e.push(c[t]);return e.sort()},S.Zone=f,S.unpack=p,S.unpackBase60=o,S.needsOffset=T,S.moveInvalidForward=!0,S.moveAmbiguousForward=!1;var A,k=r.fn;function D(t){return function(){return this._z?this._z.abbr(this):t.call(this)}}r.tz=S,r.defaultZone=null,r.updateOffset=function(t,e){var n,i=r.defaultZone;void 0===t._z&&(i&&T(t)&&!t._isUTC&&(t._d=r.utc(t._a)._d,t.utc().add(i.parse(t),"minutes")),t._z=i),t._z&&(n=t._z.utcOffset(t),Math.abs(n)<16&&(n/=60),void 0!==t.utcOffset?t.utcOffset(-n,e):t.zone(n,e))},k.tz=function(t,e){if(t){if("string"!=typeof t)throw new Error("Time zone name must be a string, got "+t+" ["+typeof t+"]");return this._z=w(t),this._z?r.updateOffset(this,e):C("Moment Timezone has no data for "+t+". See http://momentjs.com/timezone/docs/#/data-loading/."),this}if(this._z)return this._z.name},k.zoneName=D(k.zoneName),k.zoneAbbr=D(k.zoneAbbr),k.utc=(A=k.utc,function(){return this._z=null,A.apply(this,arguments)}),r.tz.setDefault=function(t){return(n<2||2===n&&i<9)&&C("Moment Timezone setDefault() requires Moment.js >= 2.9.0. You are using Moment.js "+r.version+"."),r.defaultZone=t?w(t):null,r};var O=r.momentProperties;return"[object Array]"===Object.prototype.toString.call(O)?(O.push("_z"),O.push("_a")):O&&(O._z=null),M({version:"2018e",zones:["Africa/Abidjan|GMT|0|0||48e5","Africa/Nairobi|EAT|-30|0||47e5","Africa/Algiers|CET|-10|0||26e5","Africa/Lagos|WAT|-10|0||17e6","Africa/Maputo|CAT|-20|0||26e5","Africa/Cairo|EET EEST|-20 -30|01010|1M2m0 gL0 e10 mn0|15e6","Africa/Casablanca|WET WEST|0 -10|0101010101010101010101010101010101010101010|1H3C0 wM0 co0 go0 1o00 s00 dA0 vc0 11A0 A00 e00 y00 11A0 uM0 e00 Dc0 11A0 s00 e00 IM0 WM0 mo0 gM0 LA0 WM0 jA0 e00 Rc0 11A0 e00 e00 U00 11A0 8o0 e00 11A0 11A0 5A0 e00 17c0 1fA0 1a00|32e5","Europe/Paris|CET CEST|-10 -20|01010101010101010101010|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|11e6","Africa/Johannesburg|SAST|-20|0||84e5","Africa/Khartoum|EAT CAT|-30 -20|01|1Usl0|51e5","Africa/Sao_Tome|GMT WAT|0 -10|01|1UQN0","Africa/Tripoli|EET CET CEST|-20 -10 -20|0120|1IlA0 TA0 1o00|11e5","Africa/Windhoek|CAT WAT|-20 -10|0101010101010|1GQo0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0|32e4","America/Adak|HST HDT|a0 90|01010101010101010101010|1GIc0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|326","America/Anchorage|AKST AKDT|90 80|01010101010101010101010|1GIb0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|30e4","America/Santo_Domingo|AST|40|0||29e5","America/Araguaina|-03 -02|30 20|010|1IdD0 Lz0|14e4","America/Fortaleza|-03|30|0||34e5","America/Asuncion|-03 -04|30 40|01010101010101010101010|1GTf0 1cN0 17b0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0|28e5","America/Panama|EST|50|0||15e5","America/Mexico_City|CST CDT|60 50|01010101010101010101010|1GQw0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0|20e6","America/Bahia|-02 -03|20 30|01|1GCq0|27e5","America/Managua|CST|60|0||22e5","America/La_Paz|-04|40|0||19e5","America/Lima|-05|50|0||11e6","America/Denver|MST MDT|70 60|01010101010101010101010|1GI90 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|26e5","America/Campo_Grande|-03 -04|30 40|01010101010101010101010|1GCr0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1HB0 FX0 1HB0 FX0 1HB0 IL0 1HB0 FX0 1HB0|77e4","America/Cancun|CST CDT EST|60 50 50|01010102|1GQw0 1nX0 14p0 1lb0 14p0 1lb0 Dd0|63e4","America/Caracas|-0430 -04|4u 40|01|1QMT0|29e5","America/Chicago|CST CDT|60 50|01010101010101010101010|1GI80 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|92e5","America/Chihuahua|MST MDT|70 60|01010101010101010101010|1GQx0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0|81e4","America/Phoenix|MST|70|0||42e5","America/Los_Angeles|PST PDT|80 70|01010101010101010101010|1GIa0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|15e6","America/New_York|EST EDT|50 40|01010101010101010101010|1GI70 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|21e6","America/Rio_Branco|-04 -05|40 50|01|1KLE0|31e4","America/Fort_Nelson|PST PDT MST|80 70 70|01010102|1GIa0 1zb0 Op0 1zb0 Op0 1zb0 Op0|39e2","America/Halifax|AST ADT|40 30|01010101010101010101010|1GI60 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|39e4","America/Godthab|-03 -02|30 20|01010101010101010101010|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|17e3","America/Grand_Turk|EST EDT AST|50 40 40|0101010121010101010|1GI70 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 5Ip0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|37e2","America/Havana|CST CDT|50 40|01010101010101010101010|1GQt0 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0|21e5","America/Metlakatla|PST AKST AKDT|80 90 80|0121212121212121|1PAa0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|14e2","America/Miquelon|-03 -02|30 20|01010101010101010101010|1GI50 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|61e2","America/Montevideo|-02 -03|20 30|01010101|1GI40 1o10 11z0 1o10 11z0 1o10 11z0|17e5","America/Noronha|-02|20|0||30e2","America/Port-au-Prince|EST EDT|50 40|010101010101010101010|1GI70 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 3iN0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|23e5","Antarctica/Palmer|-03 -04|30 40|010101010|1H3D0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0|40","America/Santiago|-03 -04|30 40|010101010101010101010|1H3D0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Dd0 1Nb0 Ap0|62e5","America/Sao_Paulo|-02 -03|20 30|01010101010101010101010|1GCq0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1HB0 FX0 1HB0 FX0 1HB0 IL0 1HB0 FX0 1HB0|20e6","Atlantic/Azores|-01 +00|10 0|01010101010101010101010|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|25e4","America/St_Johns|NST NDT|3u 2u|01010101010101010101010|1GI5u 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|11e4","Antarctica/Casey|+11 +08|-b0 -80|0101|1GAF0 blz0 3m10|10","Antarctica/Davis|+05 +07|-50 -70|01|1GAI0|70","Pacific/Port_Moresby|+10|-a0|0||25e4","Pacific/Guadalcanal|+11|-b0|0||11e4","Asia/Tashkent|+05|-50|0||23e5","Pacific/Auckland|NZDT NZST|-d0 -c0|01010101010101010101010|1GQe0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00|14e5","Asia/Baghdad|+03|-30|0||66e5","Antarctica/Troll|+00 +02|0 -20|01010101010101010101010|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|40","Asia/Dhaka|+06|-60|0||16e6","Asia/Amman|EET EEST|-20 -30|010101010101010101010|1GPy0 4bX0 Dd0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00|25e5","Asia/Kamchatka|+12|-c0|0||18e4","Asia/Baku|+04 +05|-40 -50|010101010|1GNA0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00|27e5","Asia/Bangkok|+07|-70|0||15e6","Asia/Barnaul|+07 +06|-70 -60|010|1N7v0 3rd0","Asia/Beirut|EET EEST|-20 -30|01010101010101010101010|1GNy0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0|22e5","Asia/Manila|+08|-80|0||24e6","Asia/Kolkata|IST|-5u|0||15e6","Asia/Chita|+10 +08 +09|-a0 -80 -90|012|1N7s0 3re0|33e4","Asia/Ulaanbaatar|+08 +09|-80 -90|01010|1O8G0 1cJ0 1cP0 1cJ0|12e5","Asia/Shanghai|CST|-80|0||23e6","Asia/Colombo|+0530|-5u|0||22e5","Asia/Damascus|EET EEST|-20 -30|01010101010101010101010|1GPy0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0|26e5","Asia/Dili|+09|-90|0||19e4","Asia/Dubai|+04|-40|0||39e5","Asia/Famagusta|EET EEST +03|-20 -30 -30|0101010101201010101010|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 15U0 2Ks0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0","Asia/Gaza|EET EEST|-20 -30|01010101010101010101010|1GPy0 1a00 1fA0 1cL0 1cN0 1nX0 1210 1nz0 1220 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1qL0 WN0 1qL0 WN0 1qL0|18e5","Asia/Hong_Kong|HKT|-80|0||73e5","Asia/Hovd|+07 +08|-70 -80|01010|1O8H0 1cJ0 1cP0 1cJ0|81e3","Asia/Irkutsk|+09 +08|-90 -80|01|1N7t0|60e4","Europe/Istanbul|EET EEST +03|-20 -30 -30|01010101012|1GNB0 1qM0 11A0 1o00 1200 1nA0 11A0 1tA0 U00 15w0|13e6","Asia/Jakarta|WIB|-70|0||31e6","Asia/Jayapura|WIT|-90|0||26e4","Asia/Jerusalem|IST IDT|-20 -30|01010101010101010101010|1GPA0 1aL0 1eN0 1oL0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0|81e4","Asia/Kabul|+0430|-4u|0||46e5","Asia/Karachi|PKT|-50|0||24e6","Asia/Kathmandu|+0545|-5J|0||12e5","Asia/Yakutsk|+10 +09|-a0 -90|01|1N7s0|28e4","Asia/Krasnoyarsk|+08 +07|-80 -70|01|1N7u0|10e5","Asia/Magadan|+12 +10 +11|-c0 -a0 -b0|012|1N7q0 3Cq0|95e3","Asia/Makassar|WITA|-80|0||15e5","Europe/Athens|EET EEST|-20 -30|01010101010101010101010|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|35e5","Asia/Novosibirsk|+07 +06|-70 -60|010|1N7v0 4eN0|15e5","Asia/Omsk|+07 +06|-70 -60|01|1N7v0|12e5","Asia/Pyongyang|KST KST|-90 -8u|010|1P4D0 6BAu|29e5","Asia/Rangoon|+0630|-6u|0||48e5","Asia/Sakhalin|+11 +10|-b0 -a0|010|1N7r0 3rd0|58e4","Asia/Seoul|KST|-90|0||23e6","Asia/Srednekolymsk|+12 +11|-c0 -b0|01|1N7q0|35e2","Asia/Tehran|+0330 +0430|-3u -4u|01010101010101010101010|1GLUu 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0|14e6","Asia/Tokyo|JST|-90|0||38e6","Asia/Tomsk|+07 +06|-70 -60|010|1N7v0 3Qp0|10e5","Asia/Vladivostok|+11 +10|-b0 -a0|01|1N7r0|60e4","Asia/Yekaterinburg|+06 +05|-60 -50|01|1N7w0|14e5","Europe/Lisbon|WET WEST|0 -10|01010101010101010101010|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|27e5","Atlantic/Cape_Verde|-01|10|0||50e4","Australia/Sydney|AEDT AEST|-b0 -a0|01010101010101010101010|1GQg0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0|40e5","Australia/Adelaide|ACDT ACST|-au -9u|01010101010101010101010|1GQgu 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0|11e5","Australia/Brisbane|AEST|-a0|0||20e5","Australia/Darwin|ACST|-9u|0||12e4","Australia/Eucla|+0845|-8J|0||368","Australia/Lord_Howe|+11 +1030|-b0 -au|01010101010101010101010|1GQf0 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu|347","Australia/Perth|AWST|-80|0||18e5","Pacific/Easter|-05 -06|50 60|010101010101010101010|1H3D0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Dd0 1Nb0 Ap0|30e2","Europe/Dublin|GMT IST|0 -10|01010101010101010101010|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|12e5","Etc/GMT-1|+01|-10|0|","Pacific/Fakaofo|+13|-d0|0||483","Pacific/Kiritimati|+14|-e0|0||51e2","Etc/GMT-2|+02|-20|0|","Pacific/Tahiti|-10|a0|0||18e4","Pacific/Niue|-11|b0|0||12e2","Etc/GMT+12|-12|c0|0|","Pacific/Galapagos|-06|60|0||25e3","Etc/GMT+7|-07|70|0|","Pacific/Pitcairn|-08|80|0||56","Pacific/Gambier|-09|90|0||125","Etc/UCT|UCT|0|0|","Etc/UTC|UTC|0|0|","Europe/Astrakhan|+04 +03|-40 -30|010|1N7y0 3rd0","Europe/London|GMT BST|0 -10|01010101010101010101010|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|10e6","Europe/Chisinau|EET EEST|-20 -30|01010101010101010101010|1GNA0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|67e4","Europe/Kaliningrad|+03 EET|-30 -20|01|1N7z0|44e4","Europe/Volgograd|+04 +03|-40 -30|01|1N7y0|10e5","Europe/Moscow|MSK MSK|-40 -30|01|1N7y0|16e6","Europe/Saratov|+04 +03|-40 -30|010|1N7y0 5810","Europe/Simferopol|EET EEST MSK MSK|-20 -30 -40 -30|0101023|1GNB0 1qM0 11A0 1o00 11z0 1nW0|33e4","Pacific/Honolulu|HST|a0|0||37e4","MET|MET MEST|-10 -20|01010101010101010101010|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0","Pacific/Chatham|+1345 +1245|-dJ -cJ|01010101010101010101010|1GQe0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00|600","Pacific/Apia|+14 +13|-e0 -d0|01010101010101010101010|1GQe0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00|37e3","Pacific/Bougainville|+10 +11|-a0 -b0|01|1NwE0|18e4","Pacific/Fiji|+13 +12|-d0 -c0|01010101010101010101010|1Goe0 1Nc0 Ao0 1Q00 xz0 1SN0 uM0 1SM0 uM0 1VA0 s00 1VA0 s00 1VA0 uM0 1SM0 uM0 1SM0 uM0 1VA0 s00 1VA0|88e4","Pacific/Guam|ChST|-a0|0||17e4","Pacific/Marquesas|-0930|9u|0||86e2","Pacific/Pago_Pago|SST|b0|0||37e2","Pacific/Norfolk|+1130 +11|-bu -b0|01|1PoCu|25e4","Pacific/Tongatapu|+13 +14|-d0 -e0|010|1S4d0 s00|75e3"],links:["Africa/Abidjan|Africa/Accra","Africa/Abidjan|Africa/Bamako","Africa/Abidjan|Africa/Banjul","Africa/Abidjan|Africa/Bissau","Africa/Abidjan|Africa/Conakry","Africa/Abidjan|Africa/Dakar","Africa/Abidjan|Africa/Freetown","Africa/Abidjan|Africa/Lome","Africa/Abidjan|Africa/Monrovia","Africa/Abidjan|Africa/Nouakchott","Africa/Abidjan|Africa/Ouagadougou","Africa/Abidjan|Africa/Timbuktu","Africa/Abidjan|America/Danmarkshavn","Africa/Abidjan|Atlantic/Reykjavik","Africa/Abidjan|Atlantic/St_Helena","Africa/Abidjan|Etc/GMT","Africa/Abidjan|Etc/GMT+0","Africa/Abidjan|Etc/GMT-0","Africa/Abidjan|Etc/GMT0","Africa/Abidjan|Etc/Greenwich","Africa/Abidjan|GMT","Africa/Abidjan|GMT+0","Africa/Abidjan|GMT-0","Africa/Abidjan|GMT0","Africa/Abidjan|Greenwich","Africa/Abidjan|Iceland","Africa/Algiers|Africa/Tunis","Africa/Cairo|Egypt","Africa/Casablanca|Africa/El_Aaiun","Africa/Johannesburg|Africa/Maseru","Africa/Johannesburg|Africa/Mbabane","Africa/Lagos|Africa/Bangui","Africa/Lagos|Africa/Brazzaville","Africa/Lagos|Africa/Douala","Africa/Lagos|Africa/Kinshasa","Africa/Lagos|Africa/Libreville","Africa/Lagos|Africa/Luanda","Africa/Lagos|Africa/Malabo","Africa/Lagos|Africa/Ndjamena","Africa/Lagos|Africa/Niamey","Africa/Lagos|Africa/Porto-Novo","Africa/Maputo|Africa/Blantyre","Africa/Maputo|Africa/Bujumbura","Africa/Maputo|Africa/Gaborone","Africa/Maputo|Africa/Harare","Africa/Maputo|Africa/Kigali","Africa/Maputo|Africa/Lubumbashi","Africa/Maputo|Africa/Lusaka","Africa/Nairobi|Africa/Addis_Ababa","Africa/Nairobi|Africa/Asmara","Africa/Nairobi|Africa/Asmera","Africa/Nairobi|Africa/Dar_es_Salaam","Africa/Nairobi|Africa/Djibouti","Africa/Nairobi|Africa/Juba","Africa/Nairobi|Africa/Kampala","Africa/Nairobi|Africa/Mogadishu","Africa/Nairobi|Indian/Antananarivo","Africa/Nairobi|Indian/Comoro","Africa/Nairobi|Indian/Mayotte","Africa/Tripoli|Libya","America/Adak|America/Atka","America/Adak|US/Aleutian","America/Anchorage|America/Juneau","America/Anchorage|America/Nome","America/Anchorage|America/Sitka","America/Anchorage|America/Yakutat","America/Anchorage|US/Alaska","America/Campo_Grande|America/Cuiaba","America/Chicago|America/Indiana/Knox","America/Chicago|America/Indiana/Tell_City","America/Chicago|America/Knox_IN","America/Chicago|America/Matamoros","America/Chicago|America/Menominee","America/Chicago|America/North_Dakota/Beulah","America/Chicago|America/North_Dakota/Center","America/Chicago|America/North_Dakota/New_Salem","America/Chicago|America/Rainy_River","America/Chicago|America/Rankin_Inlet","America/Chicago|America/Resolute","America/Chicago|America/Winnipeg","America/Chicago|CST6CDT","America/Chicago|Canada/Central","America/Chicago|US/Central","America/Chicago|US/Indiana-Starke","America/Chihuahua|America/Mazatlan","America/Chihuahua|Mexico/BajaSur","America/Denver|America/Boise","America/Denver|America/Cambridge_Bay","America/Denver|America/Edmonton","America/Denver|America/Inuvik","America/Denver|America/Ojinaga","America/Denver|America/Shiprock","America/Denver|America/Yellowknife","America/Denver|Canada/Mountain","America/Denver|MST7MDT","America/Denver|Navajo","America/Denver|US/Mountain","America/Fortaleza|America/Argentina/Buenos_Aires","America/Fortaleza|America/Argentina/Catamarca","America/Fortaleza|America/Argentina/ComodRivadavia","America/Fortaleza|America/Argentina/Cordoba","America/Fortaleza|America/Argentina/Jujuy","America/Fortaleza|America/Argentina/La_Rioja","America/Fortaleza|America/Argentina/Mendoza","America/Fortaleza|America/Argentina/Rio_Gallegos","America/Fortaleza|America/Argentina/Salta","America/Fortaleza|America/Argentina/San_Juan","America/Fortaleza|America/Argentina/San_Luis","America/Fortaleza|America/Argentina/Tucuman","America/Fortaleza|America/Argentina/Ushuaia","America/Fortaleza|America/Belem","America/Fortaleza|America/Buenos_Aires","America/Fortaleza|America/Catamarca","America/Fortaleza|America/Cayenne","America/Fortaleza|America/Cordoba","America/Fortaleza|America/Jujuy","America/Fortaleza|America/Maceio","America/Fortaleza|America/Mendoza","America/Fortaleza|America/Paramaribo","America/Fortaleza|America/Recife","America/Fortaleza|America/Rosario","America/Fortaleza|America/Santarem","America/Fortaleza|Antarctica/Rothera","America/Fortaleza|Atlantic/Stanley","America/Fortaleza|Etc/GMT+3","America/Halifax|America/Glace_Bay","America/Halifax|America/Goose_Bay","America/Halifax|America/Moncton","America/Halifax|America/Thule","America/Halifax|Atlantic/Bermuda","America/Halifax|Canada/Atlantic","America/Havana|Cuba","America/La_Paz|America/Boa_Vista","America/La_Paz|America/Guyana","America/La_Paz|America/Manaus","America/La_Paz|America/Porto_Velho","America/La_Paz|Brazil/West","America/La_Paz|Etc/GMT+4","America/Lima|America/Bogota","America/Lima|America/Guayaquil","America/Lima|Etc/GMT+5","America/Los_Angeles|America/Dawson","America/Los_Angeles|America/Ensenada","America/Los_Angeles|America/Santa_Isabel","America/Los_Angeles|America/Tijuana","America/Los_Angeles|America/Vancouver","America/Los_Angeles|America/Whitehorse","America/Los_Angeles|Canada/Pacific","America/Los_Angeles|Canada/Yukon","America/Los_Angeles|Mexico/BajaNorte","America/Los_Angeles|PST8PDT","America/Los_Angeles|US/Pacific","America/Los_Angeles|US/Pacific-New","America/Managua|America/Belize","America/Managua|America/Costa_Rica","America/Managua|America/El_Salvador","America/Managua|America/Guatemala","America/Managua|America/Regina","America/Managua|America/Swift_Current","America/Managua|America/Tegucigalpa","America/Managua|Canada/Saskatchewan","America/Mexico_City|America/Bahia_Banderas","America/Mexico_City|America/Merida","America/Mexico_City|America/Monterrey","America/Mexico_City|Mexico/General","America/New_York|America/Detroit","America/New_York|America/Fort_Wayne","America/New_York|America/Indiana/Indianapolis","America/New_York|America/Indiana/Marengo","America/New_York|America/Indiana/Petersburg","America/New_York|America/Indiana/Vevay","America/New_York|America/Indiana/Vincennes","America/New_York|America/Indiana/Winamac","America/New_York|America/Indianapolis","America/New_York|America/Iqaluit","America/New_York|America/Kentucky/Louisville","America/New_York|America/Kentucky/Monticello","America/New_York|America/Louisville","America/New_York|America/Montreal","America/New_York|America/Nassau","America/New_York|America/Nipigon","America/New_York|America/Pangnirtung","America/New_York|America/Thunder_Bay","America/New_York|America/Toronto","America/New_York|Canada/Eastern","America/New_York|EST5EDT","America/New_York|US/East-Indiana","America/New_York|US/Eastern","America/New_York|US/Michigan","America/Noronha|Atlantic/South_Georgia","America/Noronha|Brazil/DeNoronha","America/Noronha|Etc/GMT+2","America/Panama|America/Atikokan","America/Panama|America/Cayman","America/Panama|America/Coral_Harbour","America/Panama|America/Jamaica","America/Panama|EST","America/Panama|Jamaica","America/Phoenix|America/Creston","America/Phoenix|America/Dawson_Creek","America/Phoenix|America/Hermosillo","America/Phoenix|MST","America/Phoenix|US/Arizona","America/Rio_Branco|America/Eirunepe","America/Rio_Branco|America/Porto_Acre","America/Rio_Branco|Brazil/Acre","America/Santiago|Chile/Continental","America/Santo_Domingo|America/Anguilla","America/Santo_Domingo|America/Antigua","America/Santo_Domingo|America/Aruba","America/Santo_Domingo|America/Barbados","America/Santo_Domingo|America/Blanc-Sablon","America/Santo_Domingo|America/Curacao","America/Santo_Domingo|America/Dominica","America/Santo_Domingo|America/Grenada","America/Santo_Domingo|America/Guadeloupe","America/Santo_Domingo|America/Kralendijk","America/Santo_Domingo|America/Lower_Princes","America/Santo_Domingo|America/Marigot","America/Santo_Domingo|America/Martinique","America/Santo_Domingo|America/Montserrat","America/Santo_Domingo|America/Port_of_Spain","America/Santo_Domingo|America/Puerto_Rico","America/Santo_Domingo|America/St_Barthelemy","America/Santo_Domingo|America/St_Kitts","America/Santo_Domingo|America/St_Lucia","America/Santo_Domingo|America/St_Thomas","America/Santo_Domingo|America/St_Vincent","America/Santo_Domingo|America/Tortola","America/Santo_Domingo|America/Virgin","America/Sao_Paulo|Brazil/East","America/St_Johns|Canada/Newfoundland","Antarctica/Palmer|America/Punta_Arenas","Asia/Baghdad|Antarctica/Syowa","Asia/Baghdad|Asia/Aden","Asia/Baghdad|Asia/Bahrain","Asia/Baghdad|Asia/Kuwait","Asia/Baghdad|Asia/Qatar","Asia/Baghdad|Asia/Riyadh","Asia/Baghdad|Etc/GMT-3","Asia/Baghdad|Europe/Minsk","Asia/Bangkok|Asia/Ho_Chi_Minh","Asia/Bangkok|Asia/Novokuznetsk","Asia/Bangkok|Asia/Phnom_Penh","Asia/Bangkok|Asia/Saigon","Asia/Bangkok|Asia/Vientiane","Asia/Bangkok|Etc/GMT-7","Asia/Bangkok|Indian/Christmas","Asia/Dhaka|Antarctica/Vostok","Asia/Dhaka|Asia/Almaty","Asia/Dhaka|Asia/Bishkek","Asia/Dhaka|Asia/Dacca","Asia/Dhaka|Asia/Kashgar","Asia/Dhaka|Asia/Qyzylorda","Asia/Dhaka|Asia/Thimbu","Asia/Dhaka|Asia/Thimphu","Asia/Dhaka|Asia/Urumqi","Asia/Dhaka|Etc/GMT-6","Asia/Dhaka|Indian/Chagos","Asia/Dili|Etc/GMT-9","Asia/Dili|Pacific/Palau","Asia/Dubai|Asia/Muscat","Asia/Dubai|Asia/Tbilisi","Asia/Dubai|Asia/Yerevan","Asia/Dubai|Etc/GMT-4","Asia/Dubai|Europe/Samara","Asia/Dubai|Indian/Mahe","Asia/Dubai|Indian/Mauritius","Asia/Dubai|Indian/Reunion","Asia/Gaza|Asia/Hebron","Asia/Hong_Kong|Hongkong","Asia/Jakarta|Asia/Pontianak","Asia/Jerusalem|Asia/Tel_Aviv","Asia/Jerusalem|Israel","Asia/Kamchatka|Asia/Anadyr","Asia/Kamchatka|Etc/GMT-12","Asia/Kamchatka|Kwajalein","Asia/Kamchatka|Pacific/Funafuti","Asia/Kamchatka|Pacific/Kwajalein","Asia/Kamchatka|Pacific/Majuro","Asia/Kamchatka|Pacific/Nauru","Asia/Kamchatka|Pacific/Tarawa","Asia/Kamchatka|Pacific/Wake","Asia/Kamchatka|Pacific/Wallis","Asia/Kathmandu|Asia/Katmandu","Asia/Kolkata|Asia/Calcutta","Asia/Makassar|Asia/Ujung_Pandang","Asia/Manila|Asia/Brunei","Asia/Manila|Asia/Kuala_Lumpur","Asia/Manila|Asia/Kuching","Asia/Manila|Asia/Singapore","Asia/Manila|Etc/GMT-8","Asia/Manila|Singapore","Asia/Rangoon|Asia/Yangon","Asia/Rangoon|Indian/Cocos","Asia/Seoul|ROK","Asia/Shanghai|Asia/Chongqing","Asia/Shanghai|Asia/Chungking","Asia/Shanghai|Asia/Harbin","Asia/Shanghai|Asia/Macao","Asia/Shanghai|Asia/Macau","Asia/Shanghai|Asia/Taipei","Asia/Shanghai|PRC","Asia/Shanghai|ROC","Asia/Tashkent|Antarctica/Mawson","Asia/Tashkent|Asia/Aqtau","Asia/Tashkent|Asia/Aqtobe","Asia/Tashkent|Asia/Ashgabat","Asia/Tashkent|Asia/Ashkhabad","Asia/Tashkent|Asia/Atyrau","Asia/Tashkent|Asia/Dushanbe","Asia/Tashkent|Asia/Oral","Asia/Tashkent|Asia/Samarkand","Asia/Tashkent|Etc/GMT-5","Asia/Tashkent|Indian/Kerguelen","Asia/Tashkent|Indian/Maldives","Asia/Tehran|Iran","Asia/Tokyo|Japan","Asia/Ulaanbaatar|Asia/Choibalsan","Asia/Ulaanbaatar|Asia/Ulan_Bator","Asia/Vladivostok|Asia/Ust-Nera","Asia/Yakutsk|Asia/Khandyga","Atlantic/Azores|America/Scoresbysund","Atlantic/Cape_Verde|Etc/GMT+1","Australia/Adelaide|Australia/Broken_Hill","Australia/Adelaide|Australia/South","Australia/Adelaide|Australia/Yancowinna","Australia/Brisbane|Australia/Lindeman","Australia/Brisbane|Australia/Queensland","Australia/Darwin|Australia/North","Australia/Lord_Howe|Australia/LHI","Australia/Perth|Australia/West","Australia/Sydney|Australia/ACT","Australia/Sydney|Australia/Canberra","Australia/Sydney|Australia/Currie","Australia/Sydney|Australia/Hobart","Australia/Sydney|Australia/Melbourne","Australia/Sydney|Australia/NSW","Australia/Sydney|Australia/Tasmania","Australia/Sydney|Australia/Victoria","Etc/UCT|UCT","Etc/UTC|Etc/Universal","Etc/UTC|Etc/Zulu","Etc/UTC|UTC","Etc/UTC|Universal","Etc/UTC|Zulu","Europe/Astrakhan|Europe/Ulyanovsk","Europe/Athens|Asia/Nicosia","Europe/Athens|EET","Europe/Athens|Europe/Bucharest","Europe/Athens|Europe/Helsinki","Europe/Athens|Europe/Kiev","Europe/Athens|Europe/Mariehamn","Europe/Athens|Europe/Nicosia","Europe/Athens|Europe/Riga","Europe/Athens|Europe/Sofia","Europe/Athens|Europe/Tallinn","Europe/Athens|Europe/Uzhgorod","Europe/Athens|Europe/Vilnius","Europe/Athens|Europe/Zaporozhye","Europe/Chisinau|Europe/Tiraspol","Europe/Dublin|Eire","Europe/Istanbul|Asia/Istanbul","Europe/Istanbul|Turkey","Europe/Lisbon|Atlantic/Canary","Europe/Lisbon|Atlantic/Faeroe","Europe/Lisbon|Atlantic/Faroe","Europe/Lisbon|Atlantic/Madeira","Europe/Lisbon|Portugal","Europe/Lisbon|WET","Europe/London|Europe/Belfast","Europe/London|Europe/Guernsey","Europe/London|Europe/Isle_of_Man","Europe/London|Europe/Jersey","Europe/London|GB","Europe/London|GB-Eire","Europe/Moscow|W-SU","Europe/Paris|Africa/Ceuta","Europe/Paris|Arctic/Longyearbyen","Europe/Paris|Atlantic/Jan_Mayen","Europe/Paris|CET","Europe/Paris|Europe/Amsterdam","Europe/Paris|Europe/Andorra","Europe/Paris|Europe/Belgrade","Europe/Paris|Europe/Berlin","Europe/Paris|Europe/Bratislava","Europe/Paris|Europe/Brussels","Europe/Paris|Europe/Budapest","Europe/Paris|Europe/Busingen","Europe/Paris|Europe/Copenhagen","Europe/Paris|Europe/Gibraltar","Europe/Paris|Europe/Ljubljana","Europe/Paris|Europe/Luxembourg","Europe/Paris|Europe/Madrid","Europe/Paris|Europe/Malta","Europe/Paris|Europe/Monaco","Europe/Paris|Europe/Oslo","Europe/Paris|Europe/Podgorica","Europe/Paris|Europe/Prague","Europe/Paris|Europe/Rome","Europe/Paris|Europe/San_Marino","Europe/Paris|Europe/Sarajevo","Europe/Paris|Europe/Skopje","Europe/Paris|Europe/Stockholm","Europe/Paris|Europe/Tirane","Europe/Paris|Europe/Vaduz","Europe/Paris|Europe/Vatican","Europe/Paris|Europe/Vienna","Europe/Paris|Europe/Warsaw","Europe/Paris|Europe/Zagreb","Europe/Paris|Europe/Zurich","Europe/Paris|Poland","Europe/Volgograd|Europe/Kirov","Pacific/Auckland|Antarctica/McMurdo","Pacific/Auckland|Antarctica/South_Pole","Pacific/Auckland|NZ","Pacific/Chatham|NZ-CHAT","Pacific/Easter|Chile/EasterIsland","Pacific/Fakaofo|Etc/GMT-13","Pacific/Fakaofo|Pacific/Enderbury","Pacific/Galapagos|Etc/GMT+6","Pacific/Gambier|Etc/GMT+9","Pacific/Guadalcanal|Antarctica/Macquarie","Pacific/Guadalcanal|Etc/GMT-11","Pacific/Guadalcanal|Pacific/Efate","Pacific/Guadalcanal|Pacific/Kosrae","Pacific/Guadalcanal|Pacific/Noumea","Pacific/Guadalcanal|Pacific/Pohnpei","Pacific/Guadalcanal|Pacific/Ponape","Pacific/Guam|Pacific/Saipan","Pacific/Honolulu|HST","Pacific/Honolulu|Pacific/Johnston","Pacific/Honolulu|US/Hawaii","Pacific/Kiritimati|Etc/GMT-14","Pacific/Niue|Etc/GMT+11","Pacific/Pago_Pago|Pacific/Midway","Pacific/Pago_Pago|Pacific/Samoa","Pacific/Pago_Pago|US/Samoa","Pacific/Pitcairn|Etc/GMT+8","Pacific/Port_Moresby|Antarctica/DumontDUrville","Pacific/Port_Moresby|Etc/GMT-10","Pacific/Port_Moresby|Pacific/Chuuk","Pacific/Port_Moresby|Pacific/Truk","Pacific/Port_Moresby|Pacific/Yap","Pacific/Tahiti|Etc/GMT+10","Pacific/Tahiti|Pacific/Rarotonga"]}),r}),function(t,e){"use strict";"undefined"!=typeof module&&module.exports?(e("undefined"==typeof angular?require("angular"):angular,"undefined"==typeof moment?require("moment"):moment),module.exports="ui.bootstrap.datetimepicker"):"function"==typeof define&&define.amd?define(["angular","moment"],e):e(t.angular,t.moment)}(this,function(a,_){"use strict";function t(o,r){var t={bindToController:!1,controller:e,controllerAs:"dateTimePickerController",replace:!0,require:"ngModel",restrict:"E",scope:{beforeRender:"&",onSetTime:"&"},templateUrl:"templates/datetimepicker.html"};function e(c,t,n){var g=t.controller("ngModel"),v=e();c.screenReader=v.screenReader,c.changeView=function(t,e,n){n&&(n.stopPropagation(),n.preventDefault());if(t&&e.utcDateValue>-1/0&&e.selectable&&d[t]){var i=d[t](e.utcDateValue),o=[];if(i.weeks)for(var r=0;r<i.weeks.length;r+=1)for(var a=i.weeks[r],s=0;s<a.dates.length;s+=1){var l=a.dates[s];o.push(l)}c.beforeRender({$view:i.currentView,$dates:i.dates||o,$leftDate:i.leftDate,$upDate:i.previousViewDate,$rightDate:i.rightDate}),c.data=i}},g.$render=function(){c.changeView(v.startView,new b({utcDateValue:function(t){var e=new Date;if(t){var n=i(t);if(!n.isValid())throw new Error("Invalid date: "+t);e=n.toDate()}return e.getTime()-6e4*e.getTimezoneOffset()}(g.$viewValue)}))},v.configureOn&&c.$on(v.configureOn,function(){v=e(),c.screenReader=v.screenReader,g.$render()}),v.renderOn&&c.$on(v.renderOn,g.$render);var d={year:function(t){for(var e=_.utc(t).startOf("year"),n=10*parseInt(e.year()/10,10),i=_.utc(u(t)).subtract(1,"year").startOf("year"),o="YYYY",r=y(g.$modelValue,o),a=_().format(o),s={currentView:"year",nextView:"year"===v.minView?"setTime":"month",previousViewDate:new b({utcDateValue:null,display:n+"-"+(n+9)}),leftDate:new b({utcDateValue:_.utc(i).subtract(9,"year").valueOf()}),rightDate:new b({utcDateValue:_.utc(i).add(11,"year").valueOf()}),dates:[]},l=0;l<12;l+=1){var c=_.utc(i).add(l,"years"),d={active:c.format(o)===r,current:c.format(o)===a,display:c.format(o),future:c.year()>n+9,past:c.year()<n,utcDateValue:c.valueOf()};s.dates.push(new b(d))}return s},month:function(t){for(var e=_.utc(t).startOf("year"),n=u(t),i="YYYY-MMM",o=y(g.$modelValue,i),r=_().format(i),a={previousView:"year",currentView:"month",nextView:"month"===v.minView?"setTime":"day",previousViewDate:new b({utcDateValue:n.valueOf(),display:e.format("YYYY")}),leftDate:new b({utcDateValue:_.utc(e).subtract(1,"year").valueOf()}),rightDate:new b({utcDateValue:_.utc(e).add(1,"year").valueOf()}),dates:[]},s=0;s<12;s+=1){var l=_.utc(e).add(s,"months"),c={active:l.format(i)===o,current:l.format(i)===r,display:l.format("MMM"),utcDateValue:l.valueOf()};a.dates.push(new b(c))}return a},day:function(t){for(var e=_.utc(t),n=_.utc(e).startOf("month"),i=_.utc(e).startOf("year"),o=_.utc(e).endOf("month"),r=_.utc(n).subtract(Math.abs(n.weekday()),"days"),a="YYYY-MMM-DD",s=y(g.$modelValue,a),l=_().format(a),c={previousView:"month",currentView:"day",nextView:"day"===v.minView?"setTime":"hour",previousViewDate:new b({utcDateValue:i.valueOf(),display:n.format("YYYY-MMM")}),leftDate:new b({utcDateValue:_.utc(n).subtract(1,"months").valueOf()}),rightDate:new b({utcDateValue:_.utc(n).add(1,"months").valueOf()}),dayNames:[],weeks:[]},d=0;d<7;d+=1)c.dayNames.push(_.utc().weekday(d).format("dd"));for(var u=0;u<6;u+=1){for(var h={dates:[]},p=0;p<7;p+=1){var f=_.utc(r).add(7*u+p,"days"),m={active:f.format(a)===s,current:f.format(a)===l,display:f.format("D"),future:f.isAfter(o),past:f.isBefore(n),utcDateValue:f.valueOf()};h.dates.push(new b(m))}c.weeks.push(h)}return c},hour:function(t){for(var e=_.utc(t).startOf("day"),n=_.utc(e).startOf("month"),i="YYYY-MM-DD H",o=y(g.$modelValue,i),r=_().format(i),a={previousView:"day",currentView:"hour",nextView:"hour"===v.minView?"setTime":"minute",previousViewDate:new b({utcDateValue:n.valueOf(),display:e.format("ll")}),leftDate:new b({utcDateValue:_.utc(e).subtract(1,"days").valueOf()}),rightDate:new b({utcDateValue:_.utc(e).add(1,"days").valueOf()}),dates:[]},s=0;s<24;s+=1){var l=_.utc(e).add(s,"hours"),c={active:l.format(i)===o,current:l.format(i)===r,display:l.format("LT"),utcDateValue:l.valueOf()};a.dates.push(new b(c))}return a},minute:function(t){for(var e=_.utc(t).startOf("hour"),n=_.utc(e).startOf("day"),i="YYYY-MM-DD H:mm",o=y(g.$modelValue,i),r=_().format(i),a={previousView:"hour",currentView:"minute",nextView:"setTime",previousViewDate:new b({utcDateValue:n.valueOf(),display:e.format("lll")}),leftDate:new b({utcDateValue:_.utc(e).subtract(1,"hours").valueOf()}),rightDate:new b({utcDateValue:_.utc(e).add(1,"hours").valueOf()}),dates:[]},s=60/v.minuteStep,l=0;l<s;l+=1){var c=_.utc(e).add(l*v.minuteStep,"minute"),d={active:c.format(i)===o,current:c.format(i)===r,display:c.format("LT"),utcDateValue:c.valueOf()};a.dates.push(new b(d))}return a},setTime:function(t){var e=new Date(t),n=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds());switch(v.modelType){case"Date":break;case"moment":n=_([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()]);break;case"milliseconds":n=t;break;default:n=_([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()]).format(v.modelType)}var i=g.$modelValue;g.$setViewValue(n),v.dropdownSelector&&jQuery(v.dropdownSelector).dropdown("toggle");return c.onSetTime({newDate:n,oldDate:i}),d[v.startView](t)}};function u(t){var e=10*parseInt(_.utc(t).year()/10,10);return _.utc(t).year(e).startOf("year")}function y(t,e){return t?i(t).format(e):""}function i(t){return _(t,a.isString(t)?v.parseFormat:void 0)}function e(){var t={};n.datetimepickerConfig&&(t=c.$parent.$eval(n.datetimepickerConfig));var e=a.extend({},o,t);return r.validate(e),e}}function b(){var t=new Date(arguments[0].utcDateValue),e=6e4*t.getTimezoneOffset();this.utcDateValue=t.getTime(),this.selectable=!0,this.localDateValue=function(){return this.utcDateValue+e};var n=["active","current","display","future","past","selectable","utcDateValue"],i=arguments[0];Object.keys(i).filter(function(t){return 0<=n.indexOf(t)}).forEach(function(t){this[t]=i[t]},this)}return e.$inject=["$scope","$element","$attrs"],t}function e(o){return{validate:function(t){var e=["configureOn","dropdownSelector","minuteStep","minView","modelType","parseFormat","renderOn","startView","screenReader"],n=Object.keys(t).filter(function(t){return e.indexOf(t)<0});if(n.length)throw new Error("Invalid options: "+n.join(", "));var i=["minute","hour","day","month","year"];if(i.indexOf(t.startView)<0)throw new Error("invalid startView value: "+t.startView);if(i.indexOf(t.minView)<0)throw new Error("invalid minView value: "+t.minView);if(i.indexOf(t.minView)>i.indexOf(t.startView))throw new Error("startView must be greater than minView");if(!a.isNumber(t.minuteStep))throw new Error("minuteStep must be numeric");if(t.minuteStep<=0||60<=t.minuteStep)throw new Error("minuteStep must be greater than zero and less than 60");if(null!==t.configureOn&&!a.isString(t.configureOn))throw new Error("configureOn must be a string");if(null!==t.configureOn&&t.configureOn.length<1)throw new Error("configureOn must not be an empty string");if(null!==t.renderOn&&!a.isString(t.renderOn))throw new Error("renderOn must be a string");if(null!==t.renderOn&&t.renderOn.length<1)throw new Error("renderOn must not be an empty string");if(null!==t.modelType&&!a.isString(t.modelType))throw new Error("modelType must be a string");if(null!==t.modelType&&t.modelType.length<1)throw new Error("modelType must not be an empty string");"Date"!==t.modelType&&"moment"!==t.modelType&&"milliseconds"!==t.modelType&&(t.parseFormat=t.modelType);if(null!==t.dropdownSelector&&!a.isString(t.dropdownSelector))throw new Error("dropdownSelector must be a string");null===t.dropdownSelector||"undefined"!=typeof jQuery&&"function"==typeof jQuery().dropdown||(o.error("Please DO NOT specify the dropdownSelector option unless you are using jQuery AND Bootstrap.js. Please include jQuery AND Bootstrap.js, or write code to close the dropdown in the on-set-time callback. \n\nThe dropdownSelector configuration option is being removed because it will not function properly."),delete t.dropdownSelector)}}}a.module("ui.bootstrap.datetimepicker",[]).service("dateTimePickerConfig",function(){var t={bg:{previous:"",next:""},ca:{previous:"anterior",next:"segent"},da:{previous:"forrige",next:"nste"},de:{previous:"vorige",next:"weiter"},"en-au":{previous:"previous",next:"next"},"en-gb":{previous:"previous",next:"next"},en:{previous:"previous",next:"next"},"es-us":{previous:"atrs",next:"siguiente"},es:{previous:"atrs",next:"siguiente"},fi:{previous:"edellinen",next:"seuraava"},fr:{previous:"prcdent",next:"suivant"},hu:{previous:"elz",next:"kvetkez"},it:{previous:"precedente",next:"successivo"},ja:{previous:"",next:""},ml:{previous:"",next:""},nl:{previous:"vorige",next:"volgende"},pl:{previous:"poprzednia",next:"nastpna"},"pt-br":{previous:"anteriores",next:"prximos"},pt:{previous:"anterior",next:"prximo"},ro:{previous:"anterior",next:"urmtor"},ru:{previous:"",next:""},sk:{previous:"predol",next:"alia"},sv:{previous:"fregende",next:"nsta"},tr:{previous:"nceki",next:"sonraki"},uk:{previous:"",next:""},"zh-cn":{previous:"",next:""},"zh-tw":{previous:"",next:""}}[_.locale().toLowerCase()];return a.extend({},{configureOn:null,dropdownSelector:null,minuteStep:5,minView:"minute",modelType:"Date",parseFormat:"YYYY-MM-DDTHH:mm:ss.SSSZZ",renderOn:null,startView:"day"},{screenReader:t})}).service("dateTimePickerValidator",e).directive("datetimepicker",t),t.$inject=["dateTimePickerConfig","dateTimePickerValidator"],e.$inject=["$log"]}),function(t,e){"use strict";"undefined"!=typeof module&&module.exports?(e("undefined"==typeof angular?require("angular"):angular),module.exports="ui.bootstrap.datetimepicker.templates"):"function"==typeof define&&define.amd?define(["angular"],e):e(t.angular,t.moment)}(this,function(t){"use strict";t.module("ui.bootstrap.datetimepicker").run(["$templateCache",function(t){t.put("templates/datetimepicker.html",'<div class="datetimepicker table-responsive">\n    <table class="table table-condensed {{ data.currentView }}-view">\n        <thead>\n        <tr>\n            <th class="left" data-ng-click="changeView(data.currentView, data.leftDate, $event)" data-ng-show="data.leftDate.selectable"><i class="glyphicon glyphicon-arrow-left"><span class="sr-only">{{ screenReader.previous }}</span></i>\n            </th>\n            <th class="switch" colspan="5" data-ng-show="data.previousViewDate.selectable" data-ng-click="changeView(data.previousView, data.previousViewDate, $event)">{{ data.previousViewDate.display }}</th>\n            <th class="right" data-ng-click="changeView(data.currentView, data.rightDate, $event)" data-ng-show="data.rightDate.selectable"><i class="glyphicon glyphicon-arrow-right"><span class="sr-only">{{ screenReader.next }}</span></i>\n            </th>\n        </tr>\n        <tr>\n            <th class="dow" data-ng-repeat="day in data.dayNames">{{ day }}</th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr data-ng-if="data.currentView !== \'day\'">\n            <td colspan="7">\n                          <span class="{{ data.currentView }}" data-ng-repeat="dateObject in data.dates" data-ng-class="{current: dateObject.current, active: dateObject.active, past: dateObject.past, future: dateObject.future, disabled: !dateObject.selectable}" data-ng-click="changeView(data.nextView, dateObject, $event)">{{ dateObject.display }}</span></td>\n        </tr>\n        <tr data-ng-if="data.currentView === \'day\'" data-ng-repeat="week in data.weeks">\n            <td data-ng-repeat="dateObject in week.dates" data-ng-click="changeView(data.nextView, dateObject, $event)" class="day" data-ng-class="{current: dateObject.current, active: dateObject.active, past: dateObject.past, future: dateObject.future, disabled: !dateObject.selectable}">{{ dateObject.display }}</td>\n        </tr>\n        </tbody>\n    </table>\n</div>\n')}])}),function(t,e){"use strict";"function"==typeof define&&define.amd?define(["angular"],e):t.hasOwnProperty("angular")?e(t.angular):"object"==typeof exports&&(module.exports=e(require("angular")))}(this,function(m){"use strict";function g(t,e){var n;try{n=t[e]}catch(t){n=!1}if(n){var i="__"+Math.round(1e7*Math.random());try{t[e].setItem(i,i),t[e].removeItem(i,i)}catch(t){n=!1}}return n}function t(f){var n=g(window,f);return function(){var u="ngStorage-";this.setKeyPrefix=function(t){if("string"!=typeof t)throw new TypeError("[ngStorage] - "+f+"Provider.setKeyPrefix() expects a String.");u=t};var h=m.toJson,p=m.fromJson;this.setSerializer=function(t){if("function"!=typeof t)throw new TypeError("[ngStorage] - "+f+"Provider.setSerializer expects a function.");h=t},this.setDeserializer=function(t){if("function"!=typeof t)throw new TypeError("[ngStorage] - "+f+"Provider.setDeserializer expects a function.");p=t},this.supported=function(){return!!n},this.get=function(t){return n&&p(n.getItem(u+t))},this.set=function(t,e){return n&&n.setItem(u+t,h(e))},this.remove=function(t){n&&n.removeItem(u+t)},this.$get=["$rootScope","$window","$log","$timeout","$document",function(n,t,e,i,o){var r,a,s=u.length,l=g(t,f),c=l||(e.warn("This browser does not support Web Storage!"),{setItem:m.noop,getItem:m.noop,removeItem:m.noop}),d={$default:function(t){for(var e in t)m.isDefined(d[e])||(d[e]=m.copy(t[e]));return d.$sync(),d},$reset:function(t){for(var e in d)"$"===e[0]||delete d[e]&&c.removeItem(u+e);return d.$default(t)},$sync:function(){for(var t,e=0,n=c.length;e<n;e++)(t=c.key(e))&&u===t.slice(0,s)&&(d[t.slice(s)]=p(c.getItem(t)))},$apply:function(){var n;if(a=null,!m.equals(d,r)){for(var t in n=m.copy(r),m.forEach(d,function(t,e){m.isDefined(t)&&"$"!==e[0]&&(c.setItem(u+e,h(t)),delete n[e])}),n)c.removeItem(u+t);r=m.copy(d)}},$supported:function(){return!!l}};return d.$sync(),r=m.copy(d),n.$watch(function(){a||(a=i(d.$apply,100,!1))}),t.addEventListener&&t.addEventListener("storage",function(t){if(t.key){var e=o[0];e.hasFocus&&e.hasFocus()||u!==t.key.slice(0,s)||(t.newValue?d[t.key.slice(s)]=p(t.newValue):delete d[t.key.slice(s)],r=m.copy(d),n.$apply())}}),t.addEventListener&&t.addEventListener("beforeunload",function(){d.$apply()}),d}]}}return(m=m&&m.module?m:window.angular).module("ngStorage",[]).provider("$localStorage",t("localStorage")).provider("$sessionStorage",t("sessionStorage"))}),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).angularMarked=t()}}(function(){return function r(a,s,l){function c(n,t){if(!s[n]){if(!a[n]){var e="function"==typeof require&&require;if(!t&&e)return e(n,!0);if(d)return d(n,!0);var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i}var o=s[n]={exports:{}};a[n][0].call(o.exports,function(t){var e=a[n][1][t];return c(e||t)},o,o.exports,r,a,s,l)}return s[n].exports}for(var d="function"==typeof require&&require,t=0;t<l.length;t++)c(l[t]);return c}({1:[function(d,t,e){"use strict";var l=d("./strip-indent");function n(r,a,s){return{restrict:"AE",replace:!0,scope:{opts:"=",marked:"=",compile:"@",src:"="},link:function(e,n,i){function o(t){t=l(String(t||"")),n.html(r(t,e.opts||null)),e.$eval(i.compile)&&s(n.contents())(e.$parent)}i.marked?(o(e.marked),e.$watch("marked",o)):i.src?e.$watch("src",function(t){a(t,!0).then(function(t){o(t)},function(){o(""),e.$emit("$markedIncludeError",i.src)})}):o(n.text())}}}n.$inject=["marked","$templateRequest","$compile"],t.exports=angular.module("hc.marked",[]).directive("marked",n).provider("marked",function(){var c=this;c.setRenderer=function(t){this.renderer=t},c.setOptions=function(t){this.defaults=t},c.$get=["$log","$window",function(t,e){var n;try{n=d("marked")}catch(t){n=e.marked||marked}if(!angular.isUndefined(n)){var i=new n.Renderer;if(c.renderer)for(var o=Object.keys(c.renderer),r=o.length;r--;)i[o[r]]=c.renderer[o[r]];var a=i.code.bind(i);i.code=function(t,e,n){return l(a(t,e,n))};var s=i.codespan.bind(i);return i.codespan=function(t){return l(s(t))},c.defaults=c.defaults||{},c.defaults.renderer=i,n.setOptions(c.defaults),n}function l(t){return"<span ng-non-bindable>"+t+"</span>"}t.error("angular-marked Error: marked not loaded.  See installation instructions.")}]}).name},{"./strip-indent":2,marked:"marked"}],2:[function(t,e,n){e.exports=function(t){if(!t)return t;var e,n=t.replace(/\t/g,"  ").split(/\r?\n/),i=null,o=n.length;for(e=0;e<o;e++){var r=n[e],a=r.match(/^(\s*)/)[0].length;a!==r.length&&(i=a<i||null===i?a:i)}if(null!==i&&0<i)for(e=0;e<o;e++)n[e]=n[e].substr(i);return n.join("\n")}},{}]},{},[1])(1)}),function(){var h={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:e,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:e,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:e,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};function l(t){this.tokens=[],this.tokens.links={},this.options=t||p.defaults,this.rules=h.normal,this.options.gfm&&(this.options.tables?this.rules=h.tables:this.rules=h.gfm)}h.bullet=/(?:[*+-]|\d+\.)/,h.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,h.item=t(h.item,"gm")(/bull/g,h.bullet)(),h.list=t(h.list)(/bull/g,h.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+h.def.source+")")(),h.blockquote=t(h.blockquote)("def",h.def)(),h._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",h.html=t(h.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,h._tag)(),h.paragraph=t(h.paragraph)("hr",h.hr)("heading",h.heading)("lheading",h.lheading)("blockquote",h.blockquote)("tag","<"+h._tag)("def",h.def)(),h.normal=u({},h),h.gfm=u({},h.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),h.gfm.paragraph=t(h.paragraph)("(?!","(?!"+h.gfm.fences.source.replace("\\1","\\2")+"|"+h.list.source.replace("\\1","\\3")+"|")(),h.tables=u({},h.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),l.rules=h,l.lex=function(t,e){return new l(e).lex(t)},l.prototype.lex=function(t){return t=t.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(t,!0)},l.prototype.token=function(t,e,n){var i,o,r,a,s,l,c,d,u;for(t=t.replace(/^ +$/gm,"");t;)if((r=this.rules.newline.exec(t))&&(t=t.substring(r[0].length),1<r[0].length&&this.tokens.push({type:"space"})),r=this.rules.code.exec(t))t=t.substring(r[0].length),r=r[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?r:r.replace(/\n+$/,"")});else if(r=this.rules.fences.exec(t))t=t.substring(r[0].length),this.tokens.push({type:"code",lang:r[2],text:r[3]||""});else if(r=this.rules.heading.exec(t))t=t.substring(r[0].length),this.tokens.push({type:"heading",depth:r[1].length,text:r[2]});else if(e&&(r=this.rules.nptable.exec(t))){for(t=t.substring(r[0].length),l={type:"table",header:r[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:r[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:r[3].replace(/\n$/,"").split("\n")},d=0;d<l.align.length;d++)/^ *-+: *$/.test(l.align[d])?l.align[d]="right":/^ *:-+: *$/.test(l.align[d])?l.align[d]="center":/^ *:-+ *$/.test(l.align[d])?l.align[d]="left":l.align[d]=null;for(d=0;d<l.cells.length;d++)l.cells[d]=l.cells[d].split(/ *\| */);this.tokens.push(l)}else if(r=this.rules.lheading.exec(t))t=t.substring(r[0].length),this.tokens.push({type:"heading",depth:"="===r[2]?1:2,text:r[1]});else if(r=this.rules.hr.exec(t))t=t.substring(r[0].length),this.tokens.push({type:"hr"});else if(r=this.rules.blockquote.exec(t))t=t.substring(r[0].length),this.tokens.push({type:"blockquote_start"}),r=r[0].replace(/^ *> ?/gm,""),this.token(r,e,!0),this.tokens.push({type:"blockquote_end"});else if(r=this.rules.list.exec(t)){for(t=t.substring(r[0].length),a=r[2],this.tokens.push({type:"list_start",ordered:1<a.length}),i=!1,u=(r=r[0].match(this.rules.item)).length,d=0;d<u;d++)c=(l=r[d]).length,~(l=l.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(c-=l.length,l=this.options.pedantic?l.replace(/^ {1,4}/gm,""):l.replace(new RegExp("^ {1,"+c+"}","gm"),"")),this.options.smartLists&&d!==u-1&&(a===(s=h.bullet.exec(r[d+1])[0])||1<a.length&&1<s.length||(t=r.slice(d+1).join("\n")+t,d=u-1)),o=i||/\n\n(?!\s*$)/.test(l),d!==u-1&&(i="\n"===l.charAt(l.length-1),o||(o=i)),this.tokens.push({type:o?"loose_item_start":"list_item_start"}),this.token(l,!1,n),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(r=this.rules.html.exec(t))t=t.substring(r[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===r[1]||"script"===r[1]||"style"===r[1]),text:r[0]});else if(!n&&e&&(r=this.rules.def.exec(t)))t=t.substring(r[0].length),this.tokens.links[r[1].toLowerCase()]={href:r[2],title:r[3]};else if(e&&(r=this.rules.table.exec(t))){for(t=t.substring(r[0].length),l={type:"table",header:r[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:r[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:r[3].replace(/(?: *\| *)?\n$/,"").split("\n")},d=0;d<l.align.length;d++)/^ *-+: *$/.test(l.align[d])?l.align[d]="right":/^ *:-+: *$/.test(l.align[d])?l.align[d]="center":/^ *:-+ *$/.test(l.align[d])?l.align[d]="left":l.align[d]=null;for(d=0;d<l.cells.length;d++)l.cells[d]=l.cells[d].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(l)}else if(e&&(r=this.rules.paragraph.exec(t)))t=t.substring(r[0].length),this.tokens.push({type:"paragraph",text:"\n"===r[1].charAt(r[1].length-1)?r[1].slice(0,-1):r[1]});else if(r=this.rules.text.exec(t))t=t.substring(r[0].length),this.tokens.push({type:"text",text:r[0]});else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0));return this.tokens};var n={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:e,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:e,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};function i(t,e){if(this.options=e||p.defaults,this.links=t,this.rules=n.normal,this.renderer=this.options.renderer||new o,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=n.breaks:this.rules=n.gfm:this.options.pedantic&&(this.rules=n.pedantic)}function o(t){this.options=t||{}}function c(t){this.tokens=[],this.token=null,this.options=t||p.defaults,this.options.renderer=this.options.renderer||new o,this.renderer=this.options.renderer,this.renderer.options=this.options}function d(t,e){return t.replace(e?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function t(i,o){return i=i.source,o=o||"",function t(e,n){return e?(n=(n=n.source||n).replace(/(^|[^\[])\^/g,"$1"),i=i.replace(e,n),t):new RegExp(i,o)}}function e(){}function u(t){for(var e,n,i=1;i<arguments.length;i++)for(n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function p(t,n,i){if(i||"function"==typeof n){i||(i=n,n=null);var o,r,a=(n=u({},p.defaults,n||{})).highlight,e=0;try{o=l.lex(t,n)}catch(t){return i(t)}r=o.length;var s=function(e){if(e)return n.highlight=a,i(e);var t;try{t=c.parse(o,n)}catch(t){e=t}return n.highlight=a,e?i(e):i(null,t)};if(!a||a.length<3)return s();if(delete n.highlight,!r)return s();for(;e<o.length;e++)!function(n){"code"!==n.type?--r||s():a(n.text,n.lang,function(t,e){return t?s(t):null==e||e===n.text?--r||s():(n.text=e,n.escaped=!0,void(--r||s()))})}(o[e])}else try{return n&&(n=u({},p.defaults,n)),c.parse(l.lex(t,n),n)}catch(t){if(t.message+="\nPlease report this to https://github.com/chjj/marked.",(n||p.defaults).silent)return"<p>An error occured:</p><pre>"+d(t.message+"",!0)+"</pre>";throw t}}n._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,n._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,n.link=t(n.link)("inside",n._inside)("href",n._href)(),n.reflink=t(n.reflink)("inside",n._inside)(),n.normal=u({},n),n.pedantic=u({},n.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),n.gfm=u({},n.normal,{escape:t(n.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:t(n.text)("]|","~]|")("|","|https?://|")()}),n.breaks=u({},n.gfm,{br:t(n.br)("{2,}","*")(),text:t(n.gfm.text)("{2,}","*")()}),i.rules=n,i.output=function(t,e,n){return new i(e,n).output(t)},i.prototype.output=function(t){for(var e,n,i,o,r="";t;)if(o=this.rules.escape.exec(t))t=t.substring(o[0].length),r+=o[1];else if(o=this.rules.autolink.exec(t))t=t.substring(o[0].length),i="@"===o[2]?(n=":"===o[1].charAt(6)?this.mangle(o[1].substring(7)):this.mangle(o[1]),this.mangle("mailto:")+n):n=d(o[1]),r+=this.renderer.link(i,null,n);else if(this.inLink||!(o=this.rules.url.exec(t))){if(o=this.rules.tag.exec(t))!this.inLink&&/^<a /i.test(o[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(o[0])&&(this.inLink=!1),t=t.substring(o[0].length),r+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(o[0]):d(o[0]):o[0];else if(o=this.rules.link.exec(t))t=t.substring(o[0].length),this.inLink=!0,r+=this.outputLink(o,{href:o[2],title:o[3]}),this.inLink=!1;else if((o=this.rules.reflink.exec(t))||(o=this.rules.nolink.exec(t))){if(t=t.substring(o[0].length),e=(o[2]||o[1]).replace(/\s+/g," "),!(e=this.links[e.toLowerCase()])||!e.href){r+=o[0].charAt(0),t=o[0].substring(1)+t;continue}this.inLink=!0,r+=this.outputLink(o,e),this.inLink=!1}else if(o=this.rules.strong.exec(t))t=t.substring(o[0].length),r+=this.renderer.strong(this.output(o[2]||o[1]));else if(o=this.rules.em.exec(t))t=t.substring(o[0].length),r+=this.renderer.em(this.output(o[2]||o[1]));else if(o=this.rules.code.exec(t))t=t.substring(o[0].length),r+=this.renderer.codespan(d(o[2],!0));else if(o=this.rules.br.exec(t))t=t.substring(o[0].length),r+=this.renderer.br();else if(o=this.rules.del.exec(t))t=t.substring(o[0].length),r+=this.renderer.del(this.output(o[1]));else if(o=this.rules.text.exec(t))t=t.substring(o[0].length),r+=this.renderer.text(d(this.smartypants(o[0])));else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0))}else t=t.substring(o[0].length),i=n=d(o[1]),r+=this.renderer.link(i,null,n);return r},i.prototype.outputLink=function(t,e){var n=d(e.href),i=e.title?d(e.title):null;return"!"!==t[0].charAt(0)?this.renderer.link(n,i,this.output(t[1])):this.renderer.image(n,i,d(t[1]))},i.prototype.smartypants=function(t){return this.options.smartypants?t.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,""):t},i.prototype.mangle=function(t){if(!this.options.mangle)return t;for(var e,n="",i=t.length,o=0;o<i;o++)e=t.charCodeAt(o),.5<Math.random()&&(e="x"+e.toString(16)),n+="&#"+e+";";return n},o.prototype.code=function(t,e,n){if(this.options.highlight){var i=this.options.highlight(t,e);null!=i&&i!==t&&(n=!0,t=i)}return e?'<pre><code class="'+this.options.langPrefix+d(e,!0)+'">'+(n?t:d(t,!0))+"\n</code></pre>\n":"<pre><code>"+(n?t:d(t,!0))+"\n</code></pre>"},o.prototype.blockquote=function(t){return"<blockquote>\n"+t+"</blockquote>\n"},o.prototype.html=function(t){return t},o.prototype.heading=function(t,e,n){return"<h"+e+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+t+"</h"+e+">\n"},o.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},o.prototype.list=function(t,e){var n=e?"ol":"ul";return"<"+n+">\n"+t+"</"+n+">\n"},o.prototype.listitem=function(t){return"<li>"+t+"</li>\n"},o.prototype.paragraph=function(t){return"<p>"+t+"</p>\n"},o.prototype.table=function(t,e){return"<table>\n<thead>\n"+t+"</thead>\n<tbody>\n"+e+"</tbody>\n</table>\n"},o.prototype.tablerow=function(t){return"<tr>\n"+t+"</tr>\n"},o.prototype.tablecell=function(t,e){var n=e.header?"th":"td";return(e.align?"<"+n+' style="text-align:'+e.align+'">':"<"+n+">")+t+"</"+n+">\n"},o.prototype.strong=function(t){return"<strong>"+t+"</strong>"},o.prototype.em=function(t){return"<em>"+t+"</em>"},o.prototype.codespan=function(t){return"<code>"+t+"</code>"},o.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},o.prototype.del=function(t){return"<del>"+t+"</del>"},o.prototype.link=function(t,e,n){if(this.options.sanitize){try{var i=decodeURIComponent((o=t,o.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/g,function(t,e){return"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):""}))).replace(/[^\w:]/g,"").toLowerCase()}catch(t){return""}if(0===i.indexOf("javascript:")||0===i.indexOf("vbscript:")||0===i.indexOf("data:"))return""}var o,r='<a href="'+t+'"';return e&&(r+=' title="'+e+'"'),r+=">"+n+"</a>"},o.prototype.image=function(t,e,n){var i='<img src="'+t+'" alt="'+n+'"';return e&&(i+=' title="'+e+'"'),i+=this.options.xhtml?"/>":">"},o.prototype.text=function(t){return t},c.parse=function(t,e,n){return new c(e,n).parse(t)},c.prototype.parse=function(t){this.inline=new i(t.links,this.options,this.renderer),this.tokens=t.reverse();for(var e="";this.next();)e+=this.tok();return e},c.prototype.next=function(){return this.token=this.tokens.pop()},c.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},c.prototype.parseText=function(){for(var t=this.token.text;"text"===this.peek().type;)t+="\n"+this.next().text;return this.inline.output(t)},c.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var t,e,n,i,o="",r="";for(n="",t=0;t<this.token.header.length;t++)({header:!0,align:this.token.align[t]}),n+=this.renderer.tablecell(this.inline.output(this.token.header[t]),{header:!0,align:this.token.align[t]});for(o+=this.renderer.tablerow(n),t=0;t<this.token.cells.length;t++){for(e=this.token.cells[t],n="",i=0;i<e.length;i++)n+=this.renderer.tablecell(this.inline.output(e[i]),{header:!1,align:this.token.align[i]});r+=this.renderer.tablerow(n)}return this.renderer.table(o,r);case"blockquote_start":for(r="";"blockquote_end"!==this.next().type;)r+=this.tok();return this.renderer.blockquote(r);case"list_start":r="";for(var a=this.token.ordered;"list_end"!==this.next().type;)r+=this.tok();return this.renderer.list(r,a);case"list_item_start":for(r="";"list_item_end"!==this.next().type;)r+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(r);case"loose_item_start":for(r="";"list_item_end"!==this.next().type;)r+=this.tok();return this.renderer.listitem(r);case"html":var s=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(s);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},e.exec=e,p.options=p.setOptions=function(t){return u(p.defaults,t),p},p.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new o,xhtml:!1},p.Parser=c,p.parser=c.parse,p.Renderer=o,p.Lexer=l,p.lexer=l.lex,p.InlineLexer=i,p.inlineLexer=i.output,p.parse=p,"undefined"!=typeof module&&"object"==typeof exports?module.exports=p:"function"==typeof define&&define.amd?define(function(){return p}):this.marked=p}.call(function(){return this||("undefined"!=typeof window?window:global)}()),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.THREE=t.THREE||{})}(this,function(t){function e(){}function Y(t,e){this.x=t||0,this.y=e||0}function F(t,e,n,i,o,r,a,s,l,c){Object.defineProperty(this,"id",{value:Fo++}),this.uuid=yo.generateUUID(),this.name="",this.image=void 0!==t?t:F.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==e?e:F.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:1001,this.wrapT=void 0!==i?i:1001,this.magFilter=void 0!==o?o:1006,this.minFilter=void 0!==r?r:1008,this.anisotropy=void 0!==l?l:1,this.format=void 0!==a?a:1023,this.type=void 0!==s?s:1009,this.offset=new Y(0,0),this.repeat=new Y(1,1),this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==c?c:3e3,this.version=0,this.onUpdate=null}function At(t,e,n,i){this.x=t||0,this.y=e||0,this.z=n||0,this.w=void 0!==i?i:1}function A(t,e,n){this.uuid=yo.generateUUID(),this.width=t,this.height=e,this.scissor=new At(0,0,t,e),this.scissorTest=!1,this.viewport=new At(0,0,t,e),void 0===(n=n||{}).minFilter&&(n.minFilter=1006),this.texture=new F(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function i(t,e,n){A.call(this,t,e,n),this.activeMipMapLevel=this.activeCubeFace=0}function s(t,e,n,i){this._x=t||0,this._y=e||0,this._z=n||0,this._w=void 0!==i?i:1}function kt(t,e,n){this.x=t||0,this.y=e||0,this.z=n||0}function Dt(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],0<arguments.length&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function Ot(t,e,n,i,o,r,a,s,l,c,d,u){F.call(this,null,r,a,s,l,c,i,o,d,u),this.image={data:t,width:e,height:n},this.magFilter=void 0!==l?l:1003,this.minFilter=void 0!==c?c:1003,this.flipY=this.generateMipmaps=!1,this.unpackAlignment=1}function l(t,e,n,i,o,r,a,s,l,c){F.call(this,t=void 0!==t?t:[],void 0!==e?e:301,n,i,o,r,a,s,l,c),this.flipY=!1}function n(t,e,n){var i=t[0];if(i<=0||0<i)return t;var o=e*n,r=Bo[o];if(void 0===r&&(r=new Float32Array(o),Bo[o]=r),0!==e)for(i.toArray(r,0),i=1,o=0;i!==e;++i)o+=n,t[i].toArray(r,o);return r}function r(t,e){var n=Uo[e];void 0===n&&(n=new Int32Array(e),Uo[e]=n);for(var i=0;i!==e;++i)n[i]=t.allocTextureUnit();return n}function o(t,e){t.uniform1f(this.addr,e)}function a(t,e){t.uniform1i(this.addr,e)}function c(t,e){void 0===e.x?t.uniform2fv(this.addr,e):t.uniform2f(this.addr,e.x,e.y)}function d(t,e){void 0!==e.x?t.uniform3f(this.addr,e.x,e.y,e.z):void 0!==e.r?t.uniform3f(this.addr,e.r,e.g,e.b):t.uniform3fv(this.addr,e)}function u(t,e){void 0===e.x?t.uniform4fv(this.addr,e):t.uniform4f(this.addr,e.x,e.y,e.z,e.w)}function h(t,e){t.uniformMatrix2fv(this.addr,!1,e.elements||e)}function p(t,e){void 0===e.elements?t.uniformMatrix3fv(this.addr,!1,e):(Vo.set(e.elements),t.uniformMatrix3fv(this.addr,!1,Vo))}function f(t,e){void 0===e.elements?t.uniformMatrix4fv(this.addr,!1,e):(jo.set(e.elements),t.uniformMatrix4fv(this.addr,!1,jo))}function m(t,e,n){var i=n.allocTextureUnit();t.uniform1i(this.addr,i),n.setTexture2D(e||zo,i)}function g(t,e,n){var i=n.allocTextureUnit();t.uniform1i(this.addr,i),n.setTextureCube(e||Ho,i)}function v(t,e){t.uniform2iv(this.addr,e)}function y(t,e){t.uniform3iv(this.addr,e)}function b(t,e){t.uniform4iv(this.addr,e)}function _(t,e){t.uniform1fv(this.addr,e)}function x(t,e){t.uniform1iv(this.addr,e)}function w(t,e){t.uniform2fv(this.addr,n(e,this.size,2))}function E(t,e){t.uniform3fv(this.addr,n(e,this.size,3))}function M(t,e){t.uniform4fv(this.addr,n(e,this.size,4))}function T(t,e){t.uniformMatrix2fv(this.addr,!1,n(e,this.size,4))}function C(t,e){t.uniformMatrix3fv(this.addr,!1,n(e,this.size,9))}function S(t,e){t.uniformMatrix4fv(this.addr,!1,n(e,this.size,16))}function k(t,e,n){var i=e.length,o=r(n,i);for(t.uniform1iv(this.addr,o),t=0;t!==i;++t)n.setTexture2D(e[t]||zo,o[t])}function D(t,e,n){var i=e.length,o=r(n,i);for(t.uniform1iv(this.addr,o),t=0;t!==i;++t)n.setTextureCube(e[t]||Ho,o[t])}function O(t,e,n){this.id=t,this.addr=n,this.setValue=function(t){switch(t){case 5126:return o;case 35664:return c;case 35665:return d;case 35666:return u;case 35674:return h;case 35675:return p;case 35676:return f;case 35678:return m;case 35680:return g;case 5124:case 35670:return a;case 35667:case 35671:return v;case 35668:case 35672:return y;case 35669:case 35673:return b}}(e.type)}function P(t,e,n){this.id=t,this.addr=n,this.size=e.size,this.setValue=function(t){switch(t){case 5126:return _;case 35664:return w;case 35665:return E;case 35666:return M;case 35674:return T;case 35675:return C;case 35676:return S;case 35678:return k;case 35680:return D;case 5124:case 35670:return x;case 35667:case 35671:return v;case 35668:case 35672:return y;case 35669:case 35673:return b}}(e.type)}function N(t){this.id=t,this.seq=[],this.map={}}function Pt(t,e,n){this.seq=[],this.map={},this.renderer=n,n=t.getProgramParameter(e,t.ACTIVE_UNIFORMS);for(var i=0;i<n;++i){var o=t.getActiveUniform(e,i),r=t.getUniformLocation(e,o.name),a=this,s=o.name,l=s.length;for(Go.lastIndex=0;;){var c=Go.exec(s),d=Go.lastIndex,u=c[1],h=c[3];if("]"===c[2]&&(u|=0),void 0===h||"["===h&&d+2===l){s=a,o=void 0===h?new O(u,o,r):new P(u,o,r),s.seq.push(o),s.map[o.id]=o;break}void 0===(h=a.map[u])&&(h=new N(u),u=a,a=h,u.seq.push(a),u.map[a.id]=a),a=h}}}function Nt(t,e,n){return void 0===e&&void 0===n?this.set(t):this.setRGB(t,e,n)}function R(t,e){this.min=void 0!==t?t:new Y(1/0,1/0),this.max=void 0!==e?e:new Y(-1/0,-1/0)}function Lt(v,y){var b,_,x,w,E,M,T,C,S,A,k,D,O,P,N,L=v.context,I=v.state;this.render=function(t,e,n){if(0!==y.length){t=new kt;var i=n.w/n.z,o=.5*n.z,r=.5*n.w,a=new Y((d=16/n.w)*i,d),s=new kt(1,1,0),l=new Y(1,1),c=new R;if(c.min.set(n.x,n.y),c.max.set(n.x+(n.z-16),n.y+(n.w-16)),void 0===O){var d=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),u=new Uint16Array([0,1,2,0,2,3]);k=L.createBuffer(),D=L.createBuffer(),L.bindBuffer(L.ARRAY_BUFFER,k),L.bufferData(L.ARRAY_BUFFER,d,L.STATIC_DRAW),L.bindBuffer(L.ELEMENT_ARRAY_BUFFER,D),L.bufferData(L.ELEMENT_ARRAY_BUFFER,u,L.STATIC_DRAW),P=L.createTexture(),N=L.createTexture(),I.bindTexture(L.TEXTURE_2D,P),L.texImage2D(L.TEXTURE_2D,0,L.RGB,16,16,0,L.RGB,L.UNSIGNED_BYTE,null),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_S,L.CLAMP_TO_EDGE),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_T,L.CLAMP_TO_EDGE),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MAG_FILTER,L.NEAREST),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MIN_FILTER,L.NEAREST),I.bindTexture(L.TEXTURE_2D,N),L.texImage2D(L.TEXTURE_2D,0,L.RGBA,16,16,0,L.RGBA,L.UNSIGNED_BYTE,null),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_S,L.CLAMP_TO_EDGE),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_T,L.CLAMP_TO_EDGE),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MAG_FILTER,L.NEAREST),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MIN_FILTER,L.NEAREST);d={vertexShader:"uniform lowp int renderType;\nuniform vec3 screenPosition;\nuniform vec2 scale;\nuniform float rotation;\nuniform sampler2D occlusionMap;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvarying float vVisibility;\nvoid main() {\nvUV = uv;\nvec2 pos = position;\nif ( renderType == 2 ) {\nvec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );\nvVisibility =        visibility.r / 9.0;\nvVisibility *= 1.0 - visibility.g / 9.0;\nvVisibility *=       visibility.b / 9.0;\nvVisibility *= 1.0 - visibility.a / 9.0;\npos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;\npos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;\n}\ngl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );\n}",fragmentShader:"uniform lowp int renderType;\nuniform sampler2D map;\nuniform float opacity;\nuniform vec3 color;\nvarying vec2 vUV;\nvarying float vVisibility;\nvoid main() {\nif ( renderType == 0 ) {\ngl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );\n} else if ( renderType == 1 ) {\ngl_FragColor = texture2D( map, vUV );\n} else {\nvec4 texture = texture2D( map, vUV );\ntexture.a *= opacity * vVisibility;\ngl_FragColor = texture;\ngl_FragColor.rgb *= color;\n}\n}"},u=L.createProgram();var h=L.createShader(L.FRAGMENT_SHADER),p=L.createShader(L.VERTEX_SHADER),f="precision "+v.getPrecision()+" float;\n";L.shaderSource(h,f+d.fragmentShader),L.shaderSource(p,f+d.vertexShader),L.compileShader(h),L.compileShader(p),L.attachShader(u,h),L.attachShader(u,p),L.linkProgram(u),O=u,S=L.getAttribLocation(O,"position"),A=L.getAttribLocation(O,"uv"),b=L.getUniformLocation(O,"renderType"),_=L.getUniformLocation(O,"map"),x=L.getUniformLocation(O,"occlusionMap"),w=L.getUniformLocation(O,"opacity"),E=L.getUniformLocation(O,"color"),M=L.getUniformLocation(O,"scale"),T=L.getUniformLocation(O,"rotation"),C=L.getUniformLocation(O,"screenPosition")}for(L.useProgram(O),I.initAttributes(),I.enableAttribute(S),I.enableAttribute(A),I.disableUnusedAttributes(),L.uniform1i(x,0),L.uniform1i(_,1),L.bindBuffer(L.ARRAY_BUFFER,k),L.vertexAttribPointer(S,2,L.FLOAT,!1,16,0),L.vertexAttribPointer(A,2,L.FLOAT,!1,16,8),L.bindBuffer(L.ELEMENT_ARRAY_BUFFER,D),I.disable(L.CULL_FACE),I.buffers.depth.setMask(!1),u=0,h=y.length;u<h;u++)if(d=16/n.w,a.set(d*i,d),p=y[u],t.set(p.matrixWorld.elements[12],p.matrixWorld.elements[13],p.matrixWorld.elements[14]),t.applyMatrix4(e.matrixWorldInverse),t.applyMatrix4(e.projectionMatrix),s.copy(t),l.x=n.x+s.x*o+o-8,l.y=n.y+s.y*r+r-8,!0===c.containsPoint(l)){I.activeTexture(L.TEXTURE0),I.bindTexture(L.TEXTURE_2D,null),I.activeTexture(L.TEXTURE1),I.bindTexture(L.TEXTURE_2D,P),L.copyTexImage2D(L.TEXTURE_2D,0,L.RGB,l.x,l.y,16,16,0),L.uniform1i(b,0),L.uniform2f(M,a.x,a.y),L.uniform3f(C,s.x,s.y,s.z),I.disable(L.BLEND),I.enable(L.DEPTH_TEST),L.drawElements(L.TRIANGLES,6,L.UNSIGNED_SHORT,0),I.activeTexture(L.TEXTURE0),I.bindTexture(L.TEXTURE_2D,N),L.copyTexImage2D(L.TEXTURE_2D,0,L.RGBA,l.x,l.y,16,16,0),L.uniform1i(b,1),I.disable(L.DEPTH_TEST),I.activeTexture(L.TEXTURE1),I.bindTexture(L.TEXTURE_2D,P),L.drawElements(L.TRIANGLES,6,L.UNSIGNED_SHORT,0),p.positionScreen.copy(s),p.customUpdateCallback?p.customUpdateCallback(p):p.updateLensFlares(),L.uniform1i(b,2),I.enable(L.BLEND);f=0;for(var m=p.lensFlares.length;f<m;f++){var g=p.lensFlares[f];.001<g.opacity&&.001<g.scale&&(s.x=g.x,s.y=g.y,s.z=g.z,d=g.size*g.scale/n.w,a.x=d*i,a.y=d,L.uniform3f(C,s.x,s.y,s.z),L.uniform2f(M,a.x,a.y),L.uniform1f(T,g.rotation),L.uniform1f(w,g.opacity),L.uniform3f(E,g.color.r,g.color.g,g.color.b),I.setBlending(g.blending,g.blendEquation,g.blendSrc,g.blendDst),v.setTexture2D(g.texture,1),L.drawElements(L.TRIANGLES,6,L.UNSIGNED_SHORT,0))}}I.enable(L.CULL_FACE),I.enable(L.DEPTH_TEST),I.buffers.depth.setMask(!0),v.resetGLState()}}}function It(c,d){var u,h,p,f,m,g,v,y,b,_,x,w,E,M,T,C,S;function A(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:e.id-t.id}var k,D,O,P,N=c.context,L=c.state,I=new kt,R=new s,$=new kt;this.render=function(t,e){if(0!==d.length){if(void 0===O){var n=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),i=new Uint16Array([0,1,2,0,2,3]);k=N.createBuffer(),D=N.createBuffer(),N.bindBuffer(N.ARRAY_BUFFER,k),N.bufferData(N.ARRAY_BUFFER,n,N.STATIC_DRAW),N.bindBuffer(N.ELEMENT_ARRAY_BUFFER,D),N.bufferData(N.ELEMENT_ARRAY_BUFFER,i,N.STATIC_DRAW);n=N.createProgram(),i=N.createShader(N.VERTEX_SHADER);var o=N.createShader(N.FRAGMENT_SHADER);N.shaderSource(i,["precision "+c.getPrecision()+" float;","uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float rotation;\nuniform vec2 scale;\nuniform vec2 uvOffset;\nuniform vec2 uvScale;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvoid main() {\nvUV = uvOffset + uv * uvScale;\nvec2 alignedPosition = position * scale;\nvec2 rotatedPosition;\nrotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\nrotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\nvec4 finalPosition;\nfinalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\nfinalPosition.xy += rotatedPosition;\nfinalPosition = projectionMatrix * finalPosition;\ngl_Position = finalPosition;\n}"].join("\n")),N.shaderSource(o,["precision "+c.getPrecision()+" float;","uniform vec3 color;\nuniform sampler2D map;\nuniform float opacity;\nuniform int fogType;\nuniform vec3 fogColor;\nuniform float fogDensity;\nuniform float fogNear;\nuniform float fogFar;\nuniform float alphaTest;\nvarying vec2 vUV;\nvoid main() {\nvec4 texture = texture2D( map, vUV );\nif ( texture.a < alphaTest ) discard;\ngl_FragColor = vec4( color * texture.xyz, texture.a * opacity );\nif ( fogType > 0 ) {\nfloat depth = gl_FragCoord.z / gl_FragCoord.w;\nfloat fogFactor = 0.0;\nif ( fogType == 1 ) {\nfogFactor = smoothstep( fogNear, fogFar, depth );\n} else {\nconst float LOG2 = 1.442695;\nfogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );\nfogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );\n}\ngl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}\n}"].join("\n")),N.compileShader(i),N.compileShader(o),N.attachShader(n,i),N.attachShader(n,o),N.linkProgram(n),O=n,C=N.getAttribLocation(O,"position"),S=N.getAttribLocation(O,"uv"),u=N.getUniformLocation(O,"uvOffset"),h=N.getUniformLocation(O,"uvScale"),p=N.getUniformLocation(O,"rotation"),f=N.getUniformLocation(O,"scale"),m=N.getUniformLocation(O,"color"),g=N.getUniformLocation(O,"map"),v=N.getUniformLocation(O,"opacity"),y=N.getUniformLocation(O,"modelViewMatrix"),b=N.getUniformLocation(O,"projectionMatrix"),_=N.getUniformLocation(O,"fogType"),x=N.getUniformLocation(O,"fogDensity"),w=N.getUniformLocation(O,"fogNear"),E=N.getUniformLocation(O,"fogFar"),M=N.getUniformLocation(O,"fogColor"),T=N.getUniformLocation(O,"alphaTest"),(n=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")).width=8,n.height=8,(i=n.getContext("2d")).fillStyle="white",i.fillRect(0,0,8,8),(P=new F(n)).needsUpdate=!0}N.useProgram(O),L.initAttributes(),L.enableAttribute(C),L.enableAttribute(S),L.disableUnusedAttributes(),L.disable(N.CULL_FACE),L.enable(N.BLEND),N.bindBuffer(N.ARRAY_BUFFER,k),N.vertexAttribPointer(C,2,N.FLOAT,!1,16,0),N.vertexAttribPointer(S,2,N.FLOAT,!1,16,8),N.bindBuffer(N.ELEMENT_ARRAY_BUFFER,D),N.uniformMatrix4fv(b,!1,e.projectionMatrix.elements),L.activeTexture(N.TEXTURE0),N.uniform1i(g,0),i=n=0,(o=t.fog)?(N.uniform3f(M,o.color.r,o.color.g,o.color.b),o.isFog?(N.uniform1f(w,o.near),N.uniform1f(E,o.far),N.uniform1i(_,1),i=n=1):o.isFogExp2&&(N.uniform1f(x,o.density),N.uniform1i(_,2),i=n=2)):(N.uniform1i(_,0),i=n=0);o=0;for(var r=d.length;o<r;o++){(s=d[o]).modelViewMatrix.multiplyMatrices(e.matrixWorldInverse,s.matrixWorld),s.z=-s.modelViewMatrix.elements[14]}d.sort(A);var a=[];for(o=0,r=d.length;o<r;o++){var s,l=(s=d[o]).material;!1!==l.visible&&(N.uniform1f(T,l.alphaTest),N.uniformMatrix4fv(y,!1,s.modelViewMatrix.elements),s.matrixWorld.decompose(I,R,$),a[0]=$.x,a[1]=$.y,s=0,t.fog&&l.fog&&(s=i),n!==s&&(N.uniform1i(_,s),n=s),null!==l.map?(N.uniform2f(u,l.map.offset.x,l.map.offset.y),N.uniform2f(h,l.map.repeat.x,l.map.repeat.y)):(N.uniform2f(u,0,0),N.uniform2f(h,1,1)),N.uniform1f(v,l.opacity),N.uniform3f(m,l.color.r,l.color.g,l.color.b),N.uniform1f(p,l.rotation),N.uniform2fv(f,a),L.setBlending(l.blending,l.blendEquation,l.blendSrc,l.blendDst),L.buffers.depth.setTest(l.depthTest),L.buffers.depth.setMask(l.depthWrite),l.map?c.setTexture2D(l.map,0):c.setTexture2D(P,0),N.drawElements(N.TRIANGLES,6,N.UNSIGNED_SHORT,0))}L.enable(N.CULL_FACE),c.resetGLState()}}}function L(){Object.defineProperty(this,"id",{value:kr++}),this.uuid=yo.generateUUID(),this.name="",this.type="Material",this.lights=this.fog=!0,this.blending=1,this.side=0,this.shading=2,this.vertexColors=0,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendEquationAlpha=this.blendDstAlpha=this.blendSrcAlpha=null,this.depthFunc=3,this.depthWrite=this.depthTest=!0,this.clippingPlanes=null,this.clipShadows=this.clipIntersection=!1,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetUnits=this.polygonOffsetFactor=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.overdraw=0,this.needsUpdate=this.visible=!0}function Rt(t){L.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.morphNormals=this.morphTargets=this.skinning=this.clipping=this.lights=this.fog=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},(this.index0AttributeName=void 0)!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}function I(t){L.call(this),this.type="MeshDepthMaterial",this.depthPacking=3200,this.morphTargets=this.skinning=!1,this.displacementMap=this.alphaMap=this.map=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.lights=this.fog=!1,this.setValues(t)}function $(t,e){this.min=void 0!==t?t:new kt(1/0,1/0,1/0),this.max=void 0!==e?e:new kt(-1/0,-1/0,-1/0)}function z(t,e){this.center=void 0!==t?t:new kt,this.radius=void 0!==e?e:0}function H(){this.elements=[1,0,0,0,1,0,0,0,1],0<arguments.length&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}function B(t,e){this.normal=void 0!==t?t:new kt(1,0,0),this.constant=void 0!==e?e:0}function $t(t,e,n,i,o,r){this.planes=[void 0!==t?t:new B,void 0!==e?e:new B,void 0!==n?n:new B,void 0!==i?i:new B,void 0!==o?o:new B,void 0!==r?r:new B]}function Ft(h,t,u,e){function p(t,e,n,i){var o,r=t.geometry;o=s;var a=t.customDepthMaterial;return n&&(o=l,a=t.customDistanceMaterial),o=a||(a=!1,e.morphTargets&&(r&&r.isBufferGeometry?a=r.morphAttributes&&r.morphAttributes.position&&0<r.morphAttributes.position.length:r&&r.isGeometry&&(a=r.morphTargets&&0<r.morphTargets.length)),t.isSkinnedMesh&&!1===e.skinning&&console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",t),r=0,a&&(r|=1),(t=t.isSkinnedMesh&&e.skinning)&&(r|=2),o[r]),h.localClippingEnabled&&!0===e.clipShadows&&0!==e.clippingPlanes.length&&(r=o.uuid,a=e.uuid,void 0===(t=c[r])&&(t={},c[r]=t),void 0===(r=t[a])&&(r=o.clone(),t[a]=r),o=r),o.visible=e.visible,o.wireframe=e.wireframe,a=e.side,S.renderSingleSided&&2==a&&(a=0),S.renderReverseSided&&(0===a?a=1:1===a&&(a=0)),o.side=a,o.clipShadows=e.clipShadows,o.clippingPlanes=e.clippingPlanes,o.wireframeLinewidth=e.wireframeLinewidth,o.linewidth=e.linewidth,n&&void 0!==o.uniforms.lightPos&&o.uniforms.lightPos.value.copy(i),o}function f(t,e,n,i){if(!1!==t.visible){if(t.layers.test(e.layers)&&(t.isMesh||t.isLine||t.isPoints)&&t.castShadow&&(!t.frustumCulled||v.intersectsObject(t))){t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld);var o=u.update(t),r=t.material;if(Array.isArray(r))for(var a=o.groups,s=0,l=a.length;s<l;s++){var c=a[s],d=r[c.materialIndex];d&&d.visible&&(d=p(t,d,i,E),h.renderBufferDirect(n,null,o,d,t,c))}else r.visible&&(d=p(t,r,i,E),h.renderBufferDirect(n,null,o,d,t,null))}for(o=0,r=(t=t.children).length;o<r;o++)f(t[o],e,n,i)}}var m=h.context,g=h.state,v=new $t,y=new Dt,b=t.shadows,_=new Y,x=new Y(e.maxTextureSize,e.maxTextureSize),w=new kt,E=new kt,s=Array(4),l=Array(4),c={},M=[new kt(1,0,0),new kt(-1,0,0),new kt(0,0,1),new kt(0,0,-1),new kt(0,1,0),new kt(0,-1,0)],T=[new kt(0,1,0),new kt(0,1,0),new kt(0,1,0),new kt(0,1,0),new kt(0,0,1),new kt(0,0,-1)],C=[new At,new At,new At,new At,new At,new At];(t=new I).depthPacking=3201,t.clipping=!0,e=Qo.distanceRGBA;for(var n=Zo.clone(e.uniforms),i=0;4!==i;++i){var o=0!=(1&i),r=0!=(2&i),a=t.clone();a.morphTargets=o,a.skinning=r,s[i]=a,o=new Rt({defines:{USE_SHADOWMAP:""},uniforms:n,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader,morphTargets:o,skinning:r,clipping:!0}),l[i]=o}var S=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.renderSingleSided=this.renderReverseSided=!0,this.render=function(t,e){if(!1!==S.enabled&&(!1!==S.autoUpdate||!1!==S.needsUpdate)&&0!==b.length){g.disable(m.BLEND),g.buffers.color.setClear(1,1,1,1),g.buffers.depth.setTest(!0),g.setScissorTest(!1);for(var n,i,o=0,r=b.length;o<r;o++){var a=b[o],s=a.shadow;if(void 0===s)console.warn("THREE.WebGLShadowMap:",a,"has no shadow.");else{var l=s.camera,c=s.matrix;if(E.setFromMatrixPosition(a.matrixWorld),l.position.copy(E),_.copy(s.mapSize),_.min(x),a&&a.isPointLight){n=6,i=!0;var d=_.x,u=_.y;C[0].set(2*d,u,d,u),C[1].set(0,u,d,u),C[2].set(3*d,u,d,u),C[3].set(d,u,d,u),C[4].set(3*d,0,d,u),C[5].set(d,0,d,u),_.x*=4,_.y*=2,c.makeTranslation(-E.x,-E.y,-E.z)}else i=!(n=1),w.setFromMatrixPosition(a.target.matrixWorld),l.lookAt(w),l.updateMatrixWorld(),l.matrixWorldInverse.getInverse(l.matrixWorld),c.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),c.multiply(l.projectionMatrix),c.multiply(l.matrixWorldInverse);for(null===s.map&&(s.map=new A(_.x,_.y,{minFilter:1003,magFilter:1003,format:1023}),s.map.texture.name=a.name+".shadowMap",l.updateProjectionMatrix()),s.isSpotLightShadow&&s.update(a),h.setRenderTarget(s.map),h.clear(),a=0;a<n;a++)i&&(w.copy(l.position),w.add(M[a]),l.up.copy(T[a]),l.lookAt(w),l.updateMatrixWorld(),l.matrixWorldInverse.getInverse(l.matrixWorld),g.viewport(C[a])),y.multiplyMatrices(l.projectionMatrix,l.matrixWorldInverse),v.setFromMatrix(y),f(t,e,l,i)}}n=h.getClearColor(),i=h.getClearAlpha(),h.setClearColor(n,i),S.needsUpdate=!1}}}function U(t,e){this.origin=void 0!==t?t:new kt,this.direction=void 0!==e?e:new kt}function j(t,e,n,i){this._x=t||0,this._y=e||0,this._z=n||0,this._order=i||j.DefaultOrder}function V(){this.mask=1}function G(){Object.defineProperty(this,"id",{value:ra++}),this.uuid=yo.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=G.DefaultUp.clone();var t=new kt,e=new j,n=new s,i=new kt(1,1,1);e.onChange(function(){n.setFromEuler(e,!1)}),n.onChange(function(){e.setFromQuaternion(n,void 0,!1)}),Object.defineProperties(this,{position:{enumerable:!0,value:t},rotation:{enumerable:!0,value:e},quaternion:{enumerable:!0,value:n},scale:{enumerable:!0,value:i},modelViewMatrix:{value:new Dt},normalMatrix:{value:new H}}),this.matrix=new Dt,this.matrixWorld=new Dt,this.matrixAutoUpdate=G.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new V,this.visible=!0,this.receiveShadow=this.castShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={},this.onBeforeRender=function(){},this.onAfterRender=function(){}}function W(t,e){this.start=void 0!==t?t:new kt,this.end=void 0!==e?e:new kt}function q(t,e,n){this.a=void 0!==t?t:new kt,this.b=void 0!==e?e:new kt,this.c=void 0!==n?n:new kt}function X(t,e,n,i,o,r){this.a=t,this.b=e,this.c=n,this.normal=i&&i.isVector3?i:new kt,this.vertexNormals=Array.isArray(i)?i:[],this.color=o&&o.isColor?o:new Nt,this.vertexColors=Array.isArray(o)?o:[],this.materialIndex=void 0!==r?r:0}function zt(t){L.call(this),this.type="MeshBasicMaterial",this.color=new Nt(16777215),this.lightMap=this.map=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.envMap=this.alphaMap=this.specularMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.lights=this.morphTargets=this.skinning=!1,this.setValues(t)}function Z(t,e,n){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.uuid=yo.generateUUID(),this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===n,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function K(t,e){Z.call(this,new Int8Array(t),e)}function Q(t,e){Z.call(this,new Uint8Array(t),e)}function J(t,e){Z.call(this,new Uint8ClampedArray(t),e)}function tt(t,e){Z.call(this,new Int16Array(t),e)}function et(t,e){Z.call(this,new Uint16Array(t),e)}function nt(t,e){Z.call(this,new Int32Array(t),e)}function it(t,e){Z.call(this,new Uint32Array(t),e)}function ot(t,e){Z.call(this,new Float32Array(t),e)}function rt(t,e){Z.call(this,new Float64Array(t),e)}function at(){this.indices=[],this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingSphere=this.boundingBox=null,this.groupsNeedUpdate=this.uvsNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.verticesNeedUpdate=!1}function st(t){if(0===t.length)return-1/0;for(var e=t[0],n=1,i=t.length;n<i;++n)t[n]>e&&(e=t[n]);return e}function lt(){Object.defineProperty(this,"id",{value:xa++}),this.uuid=yo.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingSphere=this.boundingBox=null,this.groupsNeedUpdate=this.lineDistancesNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.uvsNeedUpdate=this.verticesNeedUpdate=this.elementsNeedUpdate=!1}function Ht(){Object.defineProperty(this,"id",{value:xa++}),this.uuid=yo.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingSphere=this.boundingBox=null,this.drawRange={start:0,count:1/0}}function Bt(t,e){G.call(this),this.type="Mesh",this.geometry=void 0!==t?t:new Ht,this.material=void 0!==e?e:new zt({color:16777215*Math.random()}),this.drawMode=0,this.updateMorphTargets()}function ct(t,e,n,i,o,r){lt.call(this),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:i,heightSegments:o,depthSegments:r},this.fromBufferGeometry(new Ut(t,e,n,i,o,r)),this.mergeVertices()}function Ut(t,e,n,i,o,r){function a(t,e,n,i,o,r,a,s,l,c,d){var u=r/l,h=a/c,p=r/2,f=a/2,m=s/2;a=l+1;var g,v,y=c+1,b=r=0,_=new kt;for(v=0;v<y;v++){var x=v*h-f;for(g=0;g<a;g++)_[t]=(g*u-p)*i,_[e]=x*o,_[n]=m,M.push(_.x,_.y,_.z),_[t]=0,_[e]=0,_[n]=0<s?1:-1,T.push(_.x,_.y,_.z),C.push(g/l),C.push(1-v/c),r+=1}for(v=0;v<c;v++)for(g=0;g<l;g++)t=S+g+a*(v+1),e=S+(g+1)+a*(v+1),n=S+(g+1)+a*v,E.push(S+g+a*v,t,n),E.push(t,e,n),b+=6;w.addGroup(A,b,d),A+=b,S+=r}Ht.call(this),this.type="BoxBufferGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:i,heightSegments:o,depthSegments:r};var w=this;i=Math.floor(i)||1,o=Math.floor(o)||1,r=Math.floor(r)||1;var E=[],M=[],T=[],C=[],S=0,A=0;a("z","y","x",-1,-1,n,e,t,r,o,0),a("z","y","x",1,-1,n,e,-t,r,o,1),a("x","z","y",1,1,t,n,e,i,r,2),a("x","z","y",1,-1,t,n,-e,i,r,3),a("x","y","z",1,-1,t,e,n,i,o,4),a("x","y","z",-1,-1,t,e,-n,i,o,5),this.setIndex(E),this.addAttribute("position",new ot(M,3)),this.addAttribute("normal",new ot(T,3)),this.addAttribute("uv",new ot(C,2))}function dt(t,e,n,i){lt.call(this),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:i},this.fromBufferGeometry(new jt(t,e,n,i)),this.mergeVertices()}function jt(t,e,n,i){Ht.call(this),this.type="PlaneBufferGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:i};var o=t/2,r=e/2,a=(n=Math.floor(n)||1)+1,s=(i=Math.floor(i)||1)+1,l=t/n,c=e/i,d=[],u=[],h=[],p=[];for(t=0;t<s;t++){var f=t*c-r;for(e=0;e<a;e++)u.push(e*l-o,-f,0),h.push(0,0,1),p.push(e/n),p.push(1-t/i)}for(t=0;t<i;t++)for(e=0;e<n;e++)o=e+a*(t+1),r=e+1+a*(t+1),s=e+1+a*t,d.push(e+a*t,o,s),d.push(o,r,s);this.setIndex(d),this.addAttribute("position",new ot(u,3)),this.addAttribute("normal",new ot(h,3)),this.addAttribute("uv",new ot(p,2))}function ut(){G.call(this),this.type="Camera",this.matrixWorldInverse=new Dt,this.projectionMatrix=new Dt}function Vt(t,e,n,i){ut.call(this),this.type="PerspectiveCamera",this.fov=void 0!==t?t:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==i?i:2e3,this.focus=10,this.aspect=void 0!==e?e:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function Gt(t,e,n,i,o,r){ut.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=n,this.bottom=i,this.near=void 0!==o?o:.1,this.far=void 0!==r?r:2e3,this.updateProjectionMatrix()}function Wt(s){var l={};return{get:function(t){return t.isInterleavedBufferAttribute&&(t=t.data),l[t.uuid]},remove:function(t){var e=l[t.uuid];e&&(s.deleteBuffer(e.buffer),delete l[t.uuid])},update:function(t,e){if(t.isInterleavedBufferAttribute&&(t=t.data),void 0===(n=l[t.uuid])){var n=t.uuid,i=t,o=i.array,r=i.dynamic?s.DYNAMIC_DRAW:s.STATIC_DRAW,a=s.createBuffer();s.bindBuffer(e,a),s.bufferData(e,o,r),i.onUploadCallback(),r=s.FLOAT,o instanceof Float32Array?r=s.FLOAT:o instanceof Float64Array?console.warn("Unsupported data buffer format: Float64Array"):o instanceof Uint16Array?r=s.UNSIGNED_SHORT:o instanceof Int16Array?r=s.SHORT:o instanceof Uint32Array?r=s.UNSIGNED_INT:o instanceof Int32Array?r=s.INT:o instanceof Int8Array?r=s.BYTE:o instanceof Uint8Array&&(r=s.UNSIGNED_BYTE),l[n]={buffer:a,type:r,bytesPerElement:o.BYTES_PER_ELEMENT,version:i.version}}else n.version<t.version&&(o=(i=t).array,a=i.updateRange,s.bindBuffer(e,n.buffer),!1===i.dynamic?s.bufferData(e,o,s.STATIC_DRAW):-1===a.count?s.bufferSubData(e,0,o):0===a.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(s.bufferSubData(e,a.offset*o.BYTES_PER_ELEMENT,o.subarray(a.offset,a.offset+a.count)),a.count=0),n.version=t.version)}}}function ht(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program&&e.program&&t.program!==e.program?t.program.id-e.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function pt(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function ft(){var s=[],l=-1,c=[],d=-1;return{opaque:s,transparent:c,init:function(){d=l=-1},push:function(t,e,n,i,o){var r,a;a=n.transparent?(r=c,++d):(r=s,++l),(a=r[a])?(a.id=t.id,a.object=t,a.geometry=e,a.material=n,a.program=n.program,a.renderOrder=t.renderOrder,a.z=i,a.group=o):(a={id:t.id,object:t,geometry:e,material:n,program:n.program,renderOrder:t.renderOrder,z:i,group:o},r.push(a))},finish:function(){s.length=l+1,c.length=d+1},sort:function(){s.sort(ht),c.sort(pt)}}}function Yt(){var o={};return{get:function(t,e){var n=t.id+","+e.id,i=o[n];return void 0===i&&(i=new ft,o[n]=i),i},dispose:function(){o={}}}}function qt(o,r,a){var s,l,c;this.setMode=function(t){s=t},this.setIndex=function(t){c=t.array instanceof Uint32Array&&r.get("OES_element_index_uint")?(l=o.UNSIGNED_INT,4):t.array instanceof Uint16Array?(l=o.UNSIGNED_SHORT,2):(l=o.UNSIGNED_BYTE,1)},this.render=function(t,e){o.drawElements(s,e,l,t*c),a.calls++,a.vertices+=e,s===o.TRIANGLES&&(a.faces+=e/3)},this.renderInstances=function(t,e,n){var i=r.get("ANGLE_instanced_arrays");null===i?console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays."):(i.drawElementsInstancedANGLE(s,n,l,e*c,t.maxInstancedCount),a.calls++,a.vertices+=n*t.maxInstancedCount,s===o.TRIANGLES&&(a.faces+=t.maxInstancedCount*n/3))}}function Xt(r,a,s){var l;this.setMode=function(t){l=t},this.render=function(t,e){r.drawArrays(l,t,e),s.calls++,s.vertices+=e,l===r.TRIANGLES&&(s.faces+=e/3)},this.renderInstances=function(t,e,n){var i=a.get("ANGLE_instanced_arrays");if(null===i)console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");else{var o=t.attributes.position;o.isInterleavedBufferAttribute?(n=o.data.count,i.drawArraysInstancedANGLE(l,0,n,t.maxInstancedCount)):i.drawArraysInstancedANGLE(l,e,n,t.maxInstancedCount),s.calls++,s.vertices+=n*t.maxInstancedCount,l===r.TRIANGLES&&(s.faces+=t.maxInstancedCount*n/3)}}}function Zt(l,c,i){function o(t){t=t.target;var e=r[t.id];for(var n in null!==e.index&&c.remove(e.index),e.attributes)c.remove(e.attributes[n]);t.removeEventListener("dispose",o),delete r[t.id],(n=d[t.id])&&(c.remove(n),delete d[t.id]),(n=d[e.id])&&(c.remove(n),delete d[e.id]),i.geometries--}var r={},d={};return{get:function(t,e){var n=r[e.id];return n||(e.addEventListener("dispose",o),e.isBufferGeometry?n=e:e.isGeometry&&(void 0===e._bufferGeometry&&(e._bufferGeometry=(new Ht).setFromObject(t)),n=e._bufferGeometry),r[e.id]=n,i.geometries++,n)},update:function(t){var e=t.index,n=t.attributes;for(var i in null!==e&&c.update(e,l.ELEMENT_ARRAY_BUFFER),n)c.update(n[i],l.ARRAY_BUFFER);for(i in t=t.morphAttributes){n=0;for(var o=(e=t[i]).length;n<o;n++)c.update(e[n],l.ARRAY_BUFFER)}},getWireframeAttribute:function(t){if(e=d[t.id])return e;var e=[],n=t.index,i=t.attributes;if(null!==n){i=0;for(var o=(n=n.array).length;i<o;i+=3){var r=n[i+0],a=n[i+1],s=n[i+2];e.push(r,a,a,s,s,r)}}else for(n=i.position.array,i=0,o=n.length/3-1;i<o;i+=3)r=i+0,a=i+1,s=i+2,e.push(r,a,a,s,s,r);return e=new(65535<st(e)?it:et)(e,1),c.update(e,l.ELEMENT_ARRAY_BUFFER),d[t.id]=e}}}function Kt(){var n={};return{get:function(t){if(void 0!==n[t.id])return n[t.id];var e;switch(t.type){case"DirectionalLight":e={direction:new kt,color:new Nt,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Y};break;case"SpotLight":e={position:new kt,direction:new kt,color:new Nt,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Y};break;case"PointLight":e={position:new kt,color:new Nt,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Y};break;case"HemisphereLight":e={direction:new kt,skyColor:new Nt,groundColor:new Nt};break;case"RectAreaLight":e={color:new Nt,position:new kt,halfWidth:new kt,halfHeight:new kt}}return n[t.id]=e}}}function Qt(t,o,r){var a={};return{update:function(t){var e=r.frame,n=t.geometry,i=o.get(t,n);return a[i.id]!==e&&(n.isGeometry&&i.updateFromObject(t),o.update(i),a[i.id]=e),i},clear:function(){a={}}}}function mt(t,e,n){var i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),!1===t.getShaderParameter(i,t.COMPILE_STATUS)&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==t.getShaderInfoLog(i)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",e===t.VERTEX_SHADER?"vertex":"fragment",t.getShaderInfoLog(i),function(t){t=t.split("\n");for(var e=0;e<t.length;e++)t[e]=e+1+": "+t[e];return t.join("\n")}(n)),i}function gt(t){switch(t){case 3e3:return["Linear","( value )"];case 3001:return["sRGB","( value )"];case 3002:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case 3007:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw Error("unsupported encoding: "+t)}}function vt(t,e){var n=gt(e);return"vec4 "+t+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function yt(t){return""!==t}function bt(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights)}function _t(t){return t.replace(/^[ \t]*#include +<([\w\d.]+)>/gm,function(t,e){var n=Ko[e];if(void 0===n)throw Error("Can not resolve #include <"+e+">");return _t(n)})}function xt(t){return t.replace(/for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,function(t,e,n,i){for(t="",e=parseInt(e);e<parseInt(n);e++)t+=i.replace(/\[ i \]/g,"[ "+e+" ]");return t})}function wt(t,e,n,i){var o=t.context,r=n.extensions,a=n.defines,s=n.__webglShader.vertexShader,l=n.__webglShader.fragmentShader,c="SHADOWMAP_TYPE_BASIC";1===i.shadowMapType?c="SHADOWMAP_TYPE_PCF":2===i.shadowMapType&&(c="SHADOWMAP_TYPE_PCF_SOFT");var d="ENVMAP_TYPE_CUBE",u="ENVMAP_MODE_REFLECTION",h="ENVMAP_BLENDING_MULTIPLY";if(i.envMap){switch(n.envMap.mapping){case 301:case 302:d="ENVMAP_TYPE_CUBE";break;case 306:case 307:d="ENVMAP_TYPE_CUBE_UV";break;case 303:case 304:d="ENVMAP_TYPE_EQUIREC";break;case 305:d="ENVMAP_TYPE_SPHERE"}switch(n.envMap.mapping){case 302:case 304:u="ENVMAP_MODE_REFRACTION"}switch(n.combine){case 0:h="ENVMAP_BLENDING_MULTIPLY";break;case 1:h="ENVMAP_BLENDING_MIX";break;case 2:h="ENVMAP_BLENDING_ADD"}}var p,f,m,g,v,y,b,_,x=0<t.gammaFactor?t.gammaFactor:1,w=(r=(p=r,f=i,m=t.extensions,[(p=p||{}).derivatives||f.envMapCubeUV||f.bumpMap||f.normalMap||f.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(p.fragDepth||f.logarithmicDepthBuffer)&&m.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",p.drawBuffers&&m.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(p.shaderTextureLOD||f.envMap)&&m.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(yt).join("\n")),function(t){var e,n=[];for(e in t){var i=t[e];!1!==i&&n.push("#define "+e+" "+i)}return n.join("\n")}(a)),E=o.createProgram();return c=n.isRawShaderMaterial?(a=[w,"\n"].filter(yt).join("\n"),[r,w,"\n"].filter(yt).join("\n")):(a=["precision "+i.precision+" float;","precision "+i.precision+" int;","#define SHADER_NAME "+n.__webglShader.name,w,i.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+x,"#define MAX_BONES "+i.maxBones,i.useFog&&i.fog?"#define USE_FOG":"",i.useFog&&i.fogExp?"#define FOG_EXP2":"",i.map?"#define USE_MAP":"",i.envMap?"#define USE_ENVMAP":"",i.envMap?"#define "+u:"",i.lightMap?"#define USE_LIGHTMAP":"",i.aoMap?"#define USE_AOMAP":"",i.emissiveMap?"#define USE_EMISSIVEMAP":"",i.bumpMap?"#define USE_BUMPMAP":"",i.normalMap?"#define USE_NORMALMAP":"",i.displacementMap&&i.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",i.specularMap?"#define USE_SPECULARMAP":"",i.roughnessMap?"#define USE_ROUGHNESSMAP":"",i.metalnessMap?"#define USE_METALNESSMAP":"",i.alphaMap?"#define USE_ALPHAMAP":"",i.vertexColors?"#define USE_COLOR":"",i.flatShading?"#define FLAT_SHADED":"",i.skinning?"#define USE_SKINNING":"",i.useVertexTexture?"#define BONE_TEXTURE":"",i.morphTargets?"#define USE_MORPHTARGETS":"",i.morphNormals&&!1===i.flatShading?"#define USE_MORPHNORMALS":"",i.doubleSided?"#define DOUBLE_SIDED":"",i.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+i.numClippingPlanes,i.shadowMapEnabled?"#define USE_SHADOWMAP":"",i.shadowMapEnabled?"#define "+c:"",i.sizeAttenuation?"#define USE_SIZEATTENUATION":"",i.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",i.logarithmicDepthBuffer&&t.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(yt).join("\n"),[r,"precision "+i.precision+" float;","precision "+i.precision+" int;","#define SHADER_NAME "+n.__webglShader.name,w,i.alphaTest?"#define ALPHATEST "+i.alphaTest:"","#define GAMMA_FACTOR "+x,i.useFog&&i.fog?"#define USE_FOG":"",i.useFog&&i.fogExp?"#define FOG_EXP2":"",i.map?"#define USE_MAP":"",i.envMap?"#define USE_ENVMAP":"",i.envMap?"#define "+d:"",i.envMap?"#define "+u:"",i.envMap?"#define "+h:"",i.lightMap?"#define USE_LIGHTMAP":"",i.aoMap?"#define USE_AOMAP":"",i.emissiveMap?"#define USE_EMISSIVEMAP":"",i.bumpMap?"#define USE_BUMPMAP":"",i.normalMap?"#define USE_NORMALMAP":"",i.specularMap?"#define USE_SPECULARMAP":"",i.roughnessMap?"#define USE_ROUGHNESSMAP":"",i.metalnessMap?"#define USE_METALNESSMAP":"",i.alphaMap?"#define USE_ALPHAMAP":"",i.vertexColors?"#define USE_COLOR":"",i.gradientMap?"#define USE_GRADIENTMAP":"",i.flatShading?"#define FLAT_SHADED":"",i.doubleSided?"#define DOUBLE_SIDED":"",i.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+i.numClippingPlanes,"#define UNION_CLIPPING_PLANES "+(i.numClippingPlanes-i.numClipIntersection),i.shadowMapEnabled?"#define USE_SHADOWMAP":"",i.shadowMapEnabled?"#define "+c:"",i.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",i.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",i.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",i.logarithmicDepthBuffer&&t.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"",i.envMap&&t.extensions.get("EXT_shader_texture_lod")?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",0!==i.toneMapping?"#define TONE_MAPPING":"",0!==i.toneMapping?Ko.tonemapping_pars_fragment:"",0!==i.toneMapping?function(t,e){var n;switch(e){case 1:n="Linear";break;case 2:n="Reinhard";break;case 3:n="Uncharted2";break;case 4:n="OptimizedCineon";break;default:throw Error("unsupported toneMapping: "+e)}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}("toneMapping",i.toneMapping):"",i.dithering?"#define DITHERING":"",i.outputEncoding||i.mapEncoding||i.envMapEncoding||i.emissiveMapEncoding?Ko.encodings_pars_fragment:"",i.mapEncoding?vt("mapTexelToLinear",i.mapEncoding):"",i.envMapEncoding?vt("envMapTexelToLinear",i.envMapEncoding):"",i.emissiveMapEncoding?vt("emissiveMapTexelToLinear",i.emissiveMapEncoding):"",i.outputEncoding?(g="linearToOutputTexel",v=i.outputEncoding,y=gt(v),"vec4 "+g+"( vec4 value ) { return LinearTo"+y[0]+y[1]+"; }"):"",i.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(yt).join("\n")),s=bt(s=_t(s),i),l=bt(l=_t(l),i),n.isShaderMaterial||(s=xt(s),l=xt(l)),l=c+l,s=mt(o,o.VERTEX_SHADER,a+s),l=mt(o,o.FRAGMENT_SHADER,l),o.attachShader(E,s),o.attachShader(E,l),void 0!==n.index0AttributeName?o.bindAttribLocation(E,0,n.index0AttributeName):!0===i.morphTargets&&o.bindAttribLocation(E,0,"position"),o.linkProgram(E),i=o.getProgramInfoLog(E),d=o.getShaderInfoLog(s),u=o.getShaderInfoLog(l),x=h=!0,!1===o.getProgramParameter(E,o.LINK_STATUS)?(h=!1,console.error("THREE.WebGLProgram: shader error: ",o.getError(),"gl.VALIDATE_STATUS",o.getProgramParameter(E,o.VALIDATE_STATUS),"gl.getProgramInfoLog",i,d,u)):""!==i?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",i):""!==d&&""!==u||(x=!1),x&&(this.diagnostics={runnable:h,material:n,programLog:i,vertexShader:{log:d,prefix:a},fragmentShader:{log:u,prefix:c}}),o.deleteShader(s),o.deleteShader(l),this.getUniforms=function(){return void 0===b&&(b=new Pt(o,E,t)),b},this.getAttributes=function(){if(void 0===_){for(var t={},e=o.getProgramParameter(E,o.ACTIVE_ATTRIBUTES),n=0;n<e;n++){var i=o.getActiveAttrib(E,n).name;t[i]=o.getAttribLocation(E,i)}_=t}return _},this.destroy=function(){o.deleteProgram(E),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.id=Ra++,this.code=e,this.usedTimes=1,this.program=E,this.vertexShader=s,this.fragmentShader=l,this}function Jt(d,u){function h(t,e){var n;return t?t.isTexture?n=t.encoding:t.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),n=t.texture.encoding):n=3e3,3e3===n&&e&&(n=3007),n}var s=[],p={MeshDepthMaterial:"depth",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points"},o="precision supportsVertexTextures map mapEncoding envMap envMapMode envMapEncoding lightMap aoMap emissiveMap emissiveMapEncoding bumpMap normalMap displacementMap specularMap roughnessMap metalnessMap gradientMap alphaMap combine vertexColors fog useFog fogExp flatShading sizeAttenuation logarithmicDepthBuffer skinning maxBones useVertexTexture morphTargets morphNormals maxMorphTargets maxMorphNormals premultipliedAlpha numDirLights numPointLights numSpotLights numHemiLights numRectAreaLights shadowMapEnabled shadowMapType toneMapping physicallyCorrectLights alphaTest doubleSided flipSided numClippingPlanes numClipIntersection depthPacking dithering".split(" ");this.getParameters=function(t,e,n,i,o,r){var a,s=p[t.type];if(r.isSkinnedMesh)if(a=r.skeleton.bones,u.floatVertexTextures)a=1024;else{var l=Math.min(Math.floor((u.maxVertexUniforms-20)/4),a.length);a=l<a.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+a.length+" bones. This GPU supports "+l+"."),0):l}else a=0;l=d.getPrecision(),null!==t.precision&&((l=u.getMaxPrecision(t.precision))!==t.precision&&console.warn("THREE.WebGLProgram.getParameters:",t.precision,"not supported, using",l,"instead."));var c=d.getRenderTarget();return{shaderID:s,precision:l,supportsVertexTextures:u.vertexTextures,outputEncoding:h(c?c.texture:null,d.gammaOutput),map:!!t.map,mapEncoding:h(t.map,d.gammaInput),envMap:!!t.envMap,envMapMode:t.envMap&&t.envMap.mapping,envMapEncoding:h(t.envMap,d.gammaInput),envMapCubeUV:!!t.envMap&&(306===t.envMap.mapping||307===t.envMap.mapping),lightMap:!!t.lightMap,aoMap:!!t.aoMap,emissiveMap:!!t.emissiveMap,emissiveMapEncoding:h(t.emissiveMap,d.gammaInput),bumpMap:!!t.bumpMap,normalMap:!!t.normalMap,displacementMap:!!t.displacementMap,roughnessMap:!!t.roughnessMap,metalnessMap:!!t.metalnessMap,specularMap:!!t.specularMap,alphaMap:!!t.alphaMap,gradientMap:!!t.gradientMap,combine:t.combine,vertexColors:t.vertexColors,fog:!!n,useFog:t.fog,fogExp:n&&n.isFogExp2,flatShading:1===t.shading,sizeAttenuation:t.sizeAttenuation,logarithmicDepthBuffer:u.logarithmicDepthBuffer,skinning:t.skinning&&0<a,maxBones:a,useVertexTexture:u.floatVertexTextures,morphTargets:t.morphTargets,morphNormals:t.morphNormals,maxMorphTargets:d.maxMorphTargets,maxMorphNormals:d.maxMorphNormals,numDirLights:e.directional.length,numPointLights:e.point.length,numSpotLights:e.spot.length,numRectAreaLights:e.rectArea.length,numHemiLights:e.hemi.length,numClippingPlanes:i,numClipIntersection:o,dithering:t.dithering,shadowMapEnabled:d.shadowMap.enabled&&r.receiveShadow&&0<e.shadows.length,shadowMapType:d.shadowMap.type,toneMapping:d.toneMapping,physicallyCorrectLights:d.physicallyCorrectLights,premultipliedAlpha:t.premultipliedAlpha,alphaTest:t.alphaTest,doubleSided:2===t.side,flipSided:1===t.side,depthPacking:void 0!==t.depthPacking&&t.depthPacking}},this.getProgramCode=function(t,e){var n=[];if(e.shaderID?n.push(e.shaderID):(n.push(t.fragmentShader),n.push(t.vertexShader)),void 0!==t.defines)for(var i in t.defines)n.push(i),n.push(t.defines[i]);for(i=0;i<o.length;i++)n.push(e[o[i]]);return n.join()},this.acquireProgram=function(t,e,n){for(var i,o=0,r=s.length;o<r;o++){var a=s[o];if(a.code===n){++(i=a).usedTimes;break}}return void 0===i&&(i=new wt(d,n,t,e),s.push(i)),i},this.releaseProgram=function(t){if(0==--t.usedTimes){var e=s.indexOf(t);s[e]=s[s.length-1],s.pop(),t.destroy()}},this.programs=s}function te(f,i,m,g,v,y,b){function _(t,e){if(t.width>e||t.height>e){var n=e/Math.max(t.width,t.height),i=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return i.width=Math.floor(t.width*n),i.height=Math.floor(t.height*n),i.getContext("2d").drawImage(t,0,0,t.width,t.height,0,0,i.width,i.height),console.warn("THREE.WebGLRenderer: image is too big ("+t.width+"x"+t.height+"). Resized to "+i.width+"x"+i.height,t),i}return t}function x(t){return yo.isPowerOfTwo(t.width)&&yo.isPowerOfTwo(t.height)}function o(t){return 1003===t||1004===t||1005===t?f.NEAREST:f.LINEAR}function w(t){(t=t.target).removeEventListener("dispose",w);t:{var e=g.get(t);if(t.image&&e.__image__webglTextureCube)f.deleteTexture(e.__image__webglTextureCube);else{if(void 0===e.__webglInit)break t;f.deleteTexture(e.__webglTexture)}g.remove(t)}b.textures--}function a(t){(t=t.target).removeEventListener("dispose",a);var e=g.get(t),n=g.get(t.texture);if(t){if(void 0!==n.__webglTexture&&f.deleteTexture(n.__webglTexture),t.depthTexture&&t.depthTexture.dispose(),t.isWebGLRenderTargetCube)for(n=0;n<6;n++)f.deleteFramebuffer(e.__webglFramebuffer[n]),e.__webglDepthbuffer&&f.deleteRenderbuffer(e.__webglDepthbuffer[n]);else f.deleteFramebuffer(e.__webglFramebuffer),e.__webglDepthbuffer&&f.deleteRenderbuffer(e.__webglDepthbuffer);g.remove(t.texture),g.remove(t)}b.textures--}function s(t,e){var n=g.get(t);if(0<t.version&&n.__version!==t.version)if(void 0===(o=t.image))console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined",t);else{if(!1!==o.complete){void 0===n.__webglInit&&(n.__webglInit=!0,t.addEventListener("dispose",w),n.__webglTexture=f.createTexture(),b.textures++),m.activeTexture(f.TEXTURE0+e),m.bindTexture(f.TEXTURE_2D,n.__webglTexture),f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL,t.flipY),f.pixelStorei(f.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha),f.pixelStorei(f.UNPACK_ALIGNMENT,t.unpackAlignment);var i=_(t.image,v.maxTextureSize);if((1001!==t.wrapS||1001!==t.wrapT||1003!==t.minFilter&&1006!==t.minFilter)&&!1===x(i))if((o=i)instanceof HTMLImageElement||o instanceof HTMLCanvasElement){(r=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")).width=yo.nearestPowerOfTwo(o.width),r.height=yo.nearestPowerOfTwo(o.height),r.getContext("2d").drawImage(o,0,0,r.width,r.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+o.width+"x"+o.height+"). Resized to "+r.width+"x"+r.height,o),i=r}else i=o;var o=x(i),r=y(t.format),a=y(t.type);E(f.TEXTURE_2D,t,o);var s=t.mipmaps;if(t.isDepthTexture){if(s=f.DEPTH_COMPONENT,1015===t.type){if(!d)throw Error("Float Depth Texture only supported in WebGL2.0");s=f.DEPTH_COMPONENT32F}else d&&(s=f.DEPTH_COMPONENT16);1026===t.format&&s===f.DEPTH_COMPONENT&&1012!==t.type&&1014!==t.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),t.type=1012,a=y(t.type)),1027===t.format&&(s=f.DEPTH_STENCIL,1020!==t.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),t.type=1020,a=y(t.type))),m.texImage2D(f.TEXTURE_2D,0,s,i.width,i.height,0,r,a,null)}else if(t.isDataTexture)if(0<s.length&&o){for(var l=0,c=s.length;l<c;l++)i=s[l],m.texImage2D(f.TEXTURE_2D,l,r,i.width,i.height,0,r,a,i.data);t.generateMipmaps=!1}else m.texImage2D(f.TEXTURE_2D,0,r,i.width,i.height,0,r,a,i.data);else if(t.isCompressedTexture)for(l=0,c=s.length;l<c;l++)i=s[l],1023!==t.format&&1022!==t.format?-1<m.getCompressedTextureFormats().indexOf(r)?m.compressedTexImage2D(f.TEXTURE_2D,l,r,i.width,i.height,0,i.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):m.texImage2D(f.TEXTURE_2D,l,r,i.width,i.height,0,r,a,i.data);else if(0<s.length&&o){for(l=0,c=s.length;l<c;l++)i=s[l],m.texImage2D(f.TEXTURE_2D,l,r,r,a,i);t.generateMipmaps=!1}else m.texImage2D(f.TEXTURE_2D,0,r,r,a,i);return t.generateMipmaps&&o&&f.generateMipmap(f.TEXTURE_2D),n.__version=t.version,void(t.onUpdate&&t.onUpdate(t))}console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete",t)}m.activeTexture(f.TEXTURE0+e),m.bindTexture(f.TEXTURE_2D,n.__webglTexture)}function E(t,e,n){n?(f.texParameteri(t,f.TEXTURE_WRAP_S,y(e.wrapS)),f.texParameteri(t,f.TEXTURE_WRAP_T,y(e.wrapT)),f.texParameteri(t,f.TEXTURE_MAG_FILTER,y(e.magFilter)),f.texParameteri(t,f.TEXTURE_MIN_FILTER,y(e.minFilter))):(f.texParameteri(t,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE),f.texParameteri(t,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE),1001===e.wrapS&&1001===e.wrapT||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.",e),f.texParameteri(t,f.TEXTURE_MAG_FILTER,o(e.magFilter)),f.texParameteri(t,f.TEXTURE_MIN_FILTER,o(e.minFilter)),1003!==e.minFilter&&1006!==e.minFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.",e)),!(n=i.get("EXT_texture_filter_anisotropic"))||1015===e.type&&null===i.get("OES_texture_float_linear")||1016===e.type&&null===i.get("OES_texture_half_float_linear")||!(1<e.anisotropy||g.get(e).__currentAnisotropy)||(f.texParameterf(t,n.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(e.anisotropy,v.getMaxAnisotropy())),g.get(e).__currentAnisotropy=e.anisotropy)}function l(t,e,n,i){var o=y(e.texture.format),r=y(e.texture.type);m.texImage2D(i,0,o,e.width,e.height,0,o,r,null),f.bindFramebuffer(f.FRAMEBUFFER,t),f.framebufferTexture2D(f.FRAMEBUFFER,n,i,g.get(e.texture).__webglTexture,0),f.bindFramebuffer(f.FRAMEBUFFER,null)}function c(t,e){f.bindRenderbuffer(f.RENDERBUFFER,t),e.depthBuffer&&!e.stencilBuffer?(f.renderbufferStorage(f.RENDERBUFFER,f.DEPTH_COMPONENT16,e.width,e.height),f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_ATTACHMENT,f.RENDERBUFFER,t)):e.depthBuffer&&e.stencilBuffer?(f.renderbufferStorage(f.RENDERBUFFER,f.DEPTH_STENCIL,e.width,e.height),f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_STENCIL_ATTACHMENT,f.RENDERBUFFER,t)):f.renderbufferStorage(f.RENDERBUFFER,f.RGBA4,e.width,e.height),f.bindRenderbuffer(f.RENDERBUFFER,null)}var d="undefined"!=typeof WebGL2RenderingContext&&f instanceof WebGL2RenderingContext;this.setTexture2D=s,this.setTextureCube=function(t,e){var n=g.get(t);if(6===t.image.length)if(0<t.version&&n.__version!==t.version){n.__image__webglTextureCube||(t.addEventListener("dispose",w),n.__image__webglTextureCube=f.createTexture(),b.textures++),m.activeTexture(f.TEXTURE0+e),m.bindTexture(f.TEXTURE_CUBE_MAP,n.__image__webglTextureCube),f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL,t.flipY);for(var i=t&&t.isCompressedTexture,o=t.image[0]&&t.image[0].isDataTexture,r=[],a=0;a<6;a++)r[a]=i||o?o?t.image[a].image:t.image[a]:_(t.image[a],v.maxCubemapSize);var s=x(r[0]),l=y(t.format),c=y(t.type);for(E(f.TEXTURE_CUBE_MAP,t,s),a=0;a<6;a++)if(i)for(var d,u=r[a].mipmaps,h=0,p=u.length;h<p;h++)d=u[h],1023!==t.format&&1022!==t.format?-1<m.getCompressedTextureFormats().indexOf(l)?m.compressedTexImage2D(f.TEXTURE_CUBE_MAP_POSITIVE_X+a,h,l,d.width,d.height,0,d.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):m.texImage2D(f.TEXTURE_CUBE_MAP_POSITIVE_X+a,h,l,d.width,d.height,0,l,c,d.data);else o?m.texImage2D(f.TEXTURE_CUBE_MAP_POSITIVE_X+a,0,l,r[a].width,r[a].height,0,l,c,r[a].data):m.texImage2D(f.TEXTURE_CUBE_MAP_POSITIVE_X+a,0,l,l,c,r[a]);t.generateMipmaps&&s&&f.generateMipmap(f.TEXTURE_CUBE_MAP),n.__version=t.version,t.onUpdate&&t.onUpdate(t)}else m.activeTexture(f.TEXTURE0+e),m.bindTexture(f.TEXTURE_CUBE_MAP,n.__image__webglTextureCube)},this.setTextureCubeDynamic=function(t,e){m.activeTexture(f.TEXTURE0+e),m.bindTexture(f.TEXTURE_CUBE_MAP,g.get(t).__webglTexture)},this.setupRenderTarget=function(t){var e=g.get(t),n=g.get(t.texture);t.addEventListener("dispose",a),n.__webglTexture=f.createTexture(),b.textures++;var i=!0===t.isWebGLRenderTargetCube,o=x(t);if(i){e.__webglFramebuffer=[];for(var r=0;r<6;r++)e.__webglFramebuffer[r]=f.createFramebuffer()}else e.__webglFramebuffer=f.createFramebuffer();if(i){for(m.bindTexture(f.TEXTURE_CUBE_MAP,n.__webglTexture),E(f.TEXTURE_CUBE_MAP,t.texture,o),r=0;r<6;r++)l(e.__webglFramebuffer[r],t,f.COLOR_ATTACHMENT0,f.TEXTURE_CUBE_MAP_POSITIVE_X+r);t.texture.generateMipmaps&&o&&f.generateMipmap(f.TEXTURE_CUBE_MAP),m.bindTexture(f.TEXTURE_CUBE_MAP,null)}else m.bindTexture(f.TEXTURE_2D,n.__webglTexture),E(f.TEXTURE_2D,t.texture,o),l(e.__webglFramebuffer,t,f.COLOR_ATTACHMENT0,f.TEXTURE_2D),t.texture.generateMipmaps&&o&&f.generateMipmap(f.TEXTURE_2D),m.bindTexture(f.TEXTURE_2D,null);if(t.depthBuffer){if(e=g.get(t),n=!0===t.isWebGLRenderTargetCube,t.depthTexture){if(n)throw Error("target.depthTexture not supported in Cube render targets");if(t&&t.isWebGLRenderTargetCube)throw Error("Depth Texture with cube render targets is not supported!");if(f.bindFramebuffer(f.FRAMEBUFFER,e.__webglFramebuffer),!t.depthTexture||!t.depthTexture.isDepthTexture)throw Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");if(g.get(t.depthTexture).__webglTexture&&t.depthTexture.image.width===t.width&&t.depthTexture.image.height===t.height||(t.depthTexture.image.width=t.width,t.depthTexture.image.height=t.height,t.depthTexture.needsUpdate=!0),s(t.depthTexture,0),e=g.get(t.depthTexture).__webglTexture,1026===t.depthTexture.format)f.framebufferTexture2D(f.FRAMEBUFFER,f.DEPTH_ATTACHMENT,f.TEXTURE_2D,e,0);else{if(1027!==t.depthTexture.format)throw Error("Unknown depthTexture format");f.framebufferTexture2D(f.FRAMEBUFFER,f.DEPTH_STENCIL_ATTACHMENT,f.TEXTURE_2D,e,0)}}else if(n)for(e.__webglDepthbuffer=[],n=0;n<6;n++)f.bindFramebuffer(f.FRAMEBUFFER,e.__webglFramebuffer[n]),e.__webglDepthbuffer[n]=f.createRenderbuffer(),c(e.__webglDepthbuffer[n],t);else f.bindFramebuffer(f.FRAMEBUFFER,e.__webglFramebuffer),e.__webglDepthbuffer=f.createRenderbuffer(),c(e.__webglDepthbuffer,t);f.bindFramebuffer(f.FRAMEBUFFER,null)}},this.updateRenderTargetMipmap=function(t){var e=t.texture;e.generateMipmaps&&x(t)&&1003!==e.minFilter&&1006!==e.minFilter&&(t=t&&t.isWebGLRenderTargetCube?f.TEXTURE_CUBE_MAP:f.TEXTURE_2D,e=g.get(e).__webglTexture,m.bindTexture(t,e),f.generateMipmap(t),m.bindTexture(t,null))}}function ee(){var n={};return{get:function(t){t=t.uuid;var e=n[t];return void 0===e&&(e={},n[t]=e),e},remove:function(t){delete n[t.uuid]},clear:function(){n={}}}}function ne(d,n,l){function t(t,e,n){var i=new Uint8Array(4),o=d.createTexture();for(d.bindTexture(t,o),d.texParameteri(t,d.TEXTURE_MIN_FILTER,d.NEAREST),d.texParameteri(t,d.TEXTURE_MAG_FILTER,d.NEAREST),t=0;t<n;t++)d.texImage2D(e+t,0,d.RGBA,1,1,0,d.RGBA,d.UNSIGNED_BYTE,i);return o}function u(t){!0!==y[t]&&(d.enable(t),y[t]=!0)}function h(t){!1!==y[t]&&(d.disable(t),y[t]=!1)}function e(t,e,n,i,o,r,a,s){0!==t?u(d.BLEND):h(d.BLEND),t===_&&s===S||(2===t?s?(d.blendEquationSeparate(d.FUNC_ADD,d.FUNC_ADD),d.blendFuncSeparate(d.ONE,d.ONE,d.ONE,d.ONE)):(d.blendEquation(d.FUNC_ADD),d.blendFunc(d.SRC_ALPHA,d.ONE)):3===t?s?(d.blendEquationSeparate(d.FUNC_ADD,d.FUNC_ADD),d.blendFuncSeparate(d.ZERO,d.ZERO,d.ONE_MINUS_SRC_COLOR,d.ONE_MINUS_SRC_ALPHA)):(d.blendEquation(d.FUNC_ADD),d.blendFunc(d.ZERO,d.ONE_MINUS_SRC_COLOR)):4===t?s?(d.blendEquationSeparate(d.FUNC_ADD,d.FUNC_ADD),d.blendFuncSeparate(d.ZERO,d.SRC_COLOR,d.ZERO,d.SRC_ALPHA)):(d.blendEquation(d.FUNC_ADD),d.blendFunc(d.ZERO,d.SRC_COLOR)):s?(d.blendEquationSeparate(d.FUNC_ADD,d.FUNC_ADD),d.blendFuncSeparate(d.ONE,d.ONE_MINUS_SRC_ALPHA,d.ONE,d.ONE_MINUS_SRC_ALPHA)):(d.blendEquationSeparate(d.FUNC_ADD,d.FUNC_ADD),d.blendFuncSeparate(d.SRC_ALPHA,d.ONE_MINUS_SRC_ALPHA,d.ONE,d.ONE_MINUS_SRC_ALPHA)),_=t,S=s),5===t?(o=o||e,r=r||n,a=a||i,e===x&&o===M||(d.blendEquationSeparate(l(e),l(o)),x=e,M=o),n===w&&i===E&&r===T&&a===C||(d.blendFuncSeparate(l(n),l(i),l(r),l(a)),w=n,E=i,T=r,C=a)):C=T=M=E=w=x=null}function i(t){A!==t&&(t?d.frontFace(d.CW):d.frontFace(d.CCW),A=t)}function o(t){0!==t?(u(d.CULL_FACE),t!==k&&(1===t?d.cullFace(d.BACK):2===t?d.cullFace(d.FRONT):d.cullFace(d.FRONT_AND_BACK))):h(d.CULL_FACE),k=t}function r(t,e,n){t?(u(d.POLYGON_OFFSET_FILL),(O!==e||P!==n)&&(d.polygonOffset(e,n),O=e,P=n)):h(d.POLYGON_OFFSET_FILL)}function a(t){void 0===t&&(t=d.TEXTURE0+L-1),R!==t&&(d.activeTexture(t),R=t)}var s=new function(){var e=!1,r=new At,n=null,a=new At;return{setMask:function(t){n===t||e||(d.colorMask(t,t,t,t),n=t)},setLocked:function(t){e=t},setClear:function(t,e,n,i,o){!0===o&&(t*=i,e*=i,n*=i),r.set(t,e,n,i),!1===a.equals(r)&&(d.clearColor(t,e,n,i),a.copy(r))},reset:function(){e=!1,n=null,a.set(0,0,0,1)}}},c=new function(){var e=!1,n=null,i=null,o=null;return{setTest:function(t){t?u(d.DEPTH_TEST):h(d.DEPTH_TEST)},setMask:function(t){n===t||e||(d.depthMask(t),n=t)},setFunc:function(t){if(i!==t){if(t)switch(t){case 0:d.depthFunc(d.NEVER);break;case 1:d.depthFunc(d.ALWAYS);break;case 2:d.depthFunc(d.LESS);break;case 3:d.depthFunc(d.LEQUAL);break;case 4:d.depthFunc(d.EQUAL);break;case 5:d.depthFunc(d.GEQUAL);break;case 6:d.depthFunc(d.GREATER);break;case 7:d.depthFunc(d.NOTEQUAL);break;default:d.depthFunc(d.LEQUAL)}else d.depthFunc(d.LEQUAL);i=t}},setLocked:function(t){e=t},setClear:function(t){o!==t&&(d.clearDepth(t),o=t)},reset:function(){e=!1,o=i=n=null}}},p=new function(){var e=!1,n=null,i=null,o=null,r=null,a=null,s=null,l=null,c=null;return{setTest:function(t){t?u(d.STENCIL_TEST):h(d.STENCIL_TEST)},setMask:function(t){n===t||e||(d.stencilMask(t),n=t)},setFunc:function(t,e,n){i===t&&o===e&&r===n||(d.stencilFunc(t,e,n),i=t,o=e,r=n)},setOp:function(t,e,n){a===t&&s===e&&l===n||(d.stencilOp(t,e,n),a=t,s=e,l=n)},setLocked:function(t){e=t},setClear:function(t){c!==t&&(d.clearStencil(t),c=t)},reset:function(){e=!1,c=l=s=a=r=o=i=n=null}}},f=d.getParameter(d.MAX_VERTEX_ATTRIBS),m=new Uint8Array(f),g=new Uint8Array(f),v=new Uint8Array(f),y={},b=null,_=null,x=null,w=null,E=null,M=null,T=null,C=null,S=!1,A=null,k=null,D=null,O=null,P=null,N=null,L=d.getParameter(d.MAX_TEXTURE_IMAGE_UNITS),I=(f=parseFloat(/^WebGL\ ([0-9])/.exec(d.getParameter(d.VERSION))[1]),1<=parseFloat(f)),R=null,$={},F=new At,z=new At,H={};return H[d.TEXTURE_2D]=t(d.TEXTURE_2D,d.TEXTURE_2D,1),H[d.TEXTURE_CUBE_MAP]=t(d.TEXTURE_CUBE_MAP,d.TEXTURE_CUBE_MAP_POSITIVE_X,6),{buffers:{color:s,depth:c,stencil:p},init:function(){s.setClear(0,0,0,1),c.setClear(1),p.setClear(0),u(d.DEPTH_TEST),c.setFunc(3),i(!1),o(1),u(d.CULL_FACE),u(d.BLEND),e(1)},initAttributes:function(){for(var t=0,e=m.length;t<e;t++)m[t]=0},enableAttribute:function(t){m[t]=1,0===g[t]&&(d.enableVertexAttribArray(t),g[t]=1),0!==v[t]&&(n.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(t,0),v[t]=0)},enableAttributeAndDivisor:function(t,e){m[t]=1,0===g[t]&&(d.enableVertexAttribArray(t),g[t]=1),v[t]!==e&&(n.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(t,e),v[t]=e)},disableUnusedAttributes:function(){for(var t=0,e=g.length;t!==e;++t)g[t]!==m[t]&&(d.disableVertexAttribArray(t),g[t]=0)},enable:u,disable:h,getCompressedTextureFormats:function(){if(null===b&&(b=[],n.get("WEBGL_compressed_texture_pvrtc")||n.get("WEBGL_compressed_texture_s3tc")||n.get("WEBGL_compressed_texture_etc1")))for(var t=d.getParameter(d.COMPRESSED_TEXTURE_FORMATS),e=0;e<t.length;e++)b.push(t[e]);return b},setBlending:e,setMaterial:function(t){2===t.side?h(d.CULL_FACE):u(d.CULL_FACE),i(1===t.side),!0===t.transparent?e(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha):e(0),c.setFunc(t.depthFunc),c.setTest(t.depthTest),c.setMask(t.depthWrite),s.setMask(t.colorWrite),r(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)},setFlipSided:i,setCullFace:o,setLineWidth:function(t){t!==D&&(I&&d.lineWidth(t),D=t)},setPolygonOffset:r,getScissorTest:function(){return N},setScissorTest:function(t){(N=t)?u(d.SCISSOR_TEST):h(d.SCISSOR_TEST)},activeTexture:a,bindTexture:function(t,e){null===R&&a();var n=$[R];void 0===n&&(n={type:void 0,texture:void 0},$[R]=n),n.type===t&&n.texture===e||(d.bindTexture(t,e||H[t]),n.type=t,n.texture=e)},compressedTexImage2D:function(){try{d.compressedTexImage2D.apply(d,arguments)}catch(t){console.error(t)}},texImage2D:function(){try{d.texImage2D.apply(d,arguments)}catch(t){console.error(t)}},scissor:function(t){!1===F.equals(t)&&(d.scissor(t.x,t.y,t.z,t.w),F.copy(t))},viewport:function(t){!1===z.equals(t)&&(d.viewport(t.x,t.y,t.z,t.w),z.copy(t))},reset:function(){for(var t=0;t<g.length;t++)1===g[t]&&(d.disableVertexAttribArray(t),g[t]=0);y={},R=b=null,$={},k=A=_=null,s.reset(),c.reset(),p.reset()}}}function ie(e,n,t){function i(t){if("highp"===t){if(0<e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision&&0<e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision)return"highp";t="mediump"}return"mediump"===t&&0<e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision&&0<e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision?"mediump":"lowp"}var o,r=void 0!==t.precision?t.precision:"highp";(a=i(r))!==r&&(console.warn("THREE.WebGLRenderer:",r,"not supported, using",a,"instead."),r=a),t=!0===t.logarithmicDepthBuffer&&!!n.get("EXT_frag_depth");var a=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),s=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),l=e.getParameter(e.MAX_TEXTURE_SIZE),c=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),d=e.getParameter(e.MAX_VERTEX_ATTRIBS),u=e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),h=e.getParameter(e.MAX_VARYING_VECTORS),p=e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),f=0<s,m=!!n.get("OES_texture_float");return{getMaxAnisotropy:function(){if(void 0!==o)return o;var t=n.get("EXT_texture_filter_anisotropic");return o=null!==t?e.getParameter(t.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:i,precision:r,logarithmicDepthBuffer:t,maxTextures:a,maxVertexTextures:s,maxTextureSize:l,maxCubemapSize:c,maxAttributes:d,maxVertexUniforms:u,maxVaryings:h,maxFragmentUniforms:p,vertexTextures:f,floatFragmentTextures:m,floatVertexTextures:f&&m}}function oe(n){var i={};return{get:function(t){if(void 0!==i[t])return i[t];var e;switch(t){case"WEBGL_depth_texture":e=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":e=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":e=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":e=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case"WEBGL_compressed_texture_etc1":e=n.getExtension("WEBGL_compressed_texture_etc1");break;default:e=n.getExtension(t)}return null===e&&console.warn("THREE.WebGLRenderer: "+t+" extension not supported."),i[t]=e}}}function re(){function l(){m.value!==d&&(m.value=d,m.needsUpdate=0<u),a.numPlanes=u,a.numIntersection=0}function c(t,e,n,i){var o=null!==t?t.length:0,r=null;if(0!==o){if(r=m.value,!0!==i||null===r)for(i=n+4*o,e=e.matrixWorldInverse,f.getNormalMatrix(e),(null===r||r.length<i)&&(r=new Float32Array(i)),i=0;i!==o;++i,n+=4)s.copy(t[i]).applyMatrix4(e,f),s.normal.toArray(r,n),r[n+3]=s.constant;m.value=r,m.needsUpdate=!0}return a.numPlanes=o,r}var a=this,d=null,u=0,h=!1,p=!1,s=new B,f=new H,m={value:null,needsUpdate:!1};this.uniform=m,this.numIntersection=this.numPlanes=0,this.init=function(t,e,n){var i=0!==t.length||e||0!==u||h;return h=e,d=c(t,n,0),u=t.length,i},this.beginShadows=function(){p=!0,c(null)},this.endShadows=function(){p=!1,l()},this.setState=function(t,e,n,i,o,r){if(!h||null===t||0===t.length||p&&!n)p?c(null):l();else{var a=4*(n=p?0:u),s=o.clippingState||null;for(m.value=s,s=c(t,i,a,r),t=0;t!==a;++t)s[t]=d[t];o.clippingState=s,this.numIntersection=e?this.numPlanes:0,this.numPlanes+=n}}}function Et(t){function e(){st.init(),st.scissor(R.copy(G).multiplyScalar(V)),st.viewport(F.copy(Y).multiplyScalar(V)),st.buffers.color.setClear(H.r,H.g,H.b,B,b)}function n(){I=D=null,L="",N=-1,st.reset()}function i(t){t.preventDefault(),n(),e(),lt.clear(),ht.clear()}function s(t){(t=t.target).removeEventListener("dispose",s),l(t),lt.remove(t)}function l(t){var e=lt.get(t).program;(t.program=void 0)!==e&&pt.releaseProgram(e)}function w(t,e){return Math.abs(e[0])-Math.abs(t[0])}function c(t,e,n,i){for(var o=0,r=t.length;o<r;o++){var a=(c=t[o]).object,s=c.geometry,l=void 0===i?c.material:i,c=c.group;if(a.onBeforeRender(k,e,n,s,l,c),n.isArrayCamera&&n.enabled)for(var d=n.cameras,u=0,h=d.length;u<h;u++){var p=d[u],f=p.bounds;k.setViewport(f.x*U*V,f.y*j*V,f.z*U*V,f.w*j*V),k.setScissor(f.x*U*V,f.y*j*V,f.z*U*V,f.w*j*V),k.setScissorTest(!0),m(a,e,p,s,l,c)}else m(a,e,n,s,l,c);a.onAfterRender(k,e,n,s,l,c)}}function m(t,e,n,i,o,r){var a,s;t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),t.isImmediateRenderObject?(st.setMaterial(o),e=E(n,e.fog,o,t),L="",a=e,s=o,t.render(function(t){k.renderBufferImmediate(t,a,s)})):k.renderBufferDirect(n,e.fog,i,o,t,r)}function f(t,e,n){var i=lt.get(t);n=pt.getParameters(t,nt,e,X.numPlanes,X.numIntersection,n);var o=pt.getProgramCode(t,n),r=i.program,a=!0;if(void 0===r)t.addEventListener("dispose",s);else if(r.code!==o)l(t);else{if(void 0!==n.shaderID)return;a=!1}if(a&&(n.shaderID?(r=Qo[n.shaderID],i.__webglShader={name:t.type,uniforms:Zo.clone(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader}):i.__webglShader={name:t.type,uniforms:t.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader},t.__webglShader=i.__webglShader,r=pt.acquireProgram(t,n,o),i.program=r,t.program=r),n=r.getAttributes(),t.morphTargets)for(o=t.numSupportedMorphTargets=0;o<k.maxMorphTargets;o++)0<=n["morphTarget"+o]&&t.numSupportedMorphTargets++;if(t.morphNormals)for(o=t.numSupportedMorphNormals=0;o<k.maxMorphNormals;o++)0<=n["morphNormal"+o]&&t.numSupportedMorphNormals++;n=i.__webglShader.uniforms,(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(i.numClippingPlanes=X.numPlanes,i.numIntersection=X.numIntersection,n.clippingPlanes=X.uniform),i.fog=e,i.lightsHash=nt.hash,t.lights&&(n.ambientLightColor.value=nt.ambient,n.directionalLights.value=nt.directional,n.spotLights.value=nt.spot,n.rectAreaLights.value=nt.rectArea,n.pointLights.value=nt.point,n.hemisphereLights.value=nt.hemi,n.directionalShadowMap.value=nt.directionalShadowMap,n.directionalShadowMatrix.value=nt.directionalShadowMatrix,n.spotShadowMap.value=nt.spotShadowMap,n.spotShadowMatrix.value=nt.spotShadowMatrix,n.pointShadowMap.value=nt.pointShadowMap,n.pointShadowMatrix.value=nt.pointShadowMatrix),t=i.program.getUniforms(),t=Pt.seqWithValue(t.seq,n),i.uniformsList=t}function E(t,e,n,i){z=0;var o=lt.get(n);Z&&(K||t!==I)&&X.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,t,o,t===I&&n.id===N),!1===n.needsUpdate&&(void 0===o.program?n.needsUpdate=!0:n.fog&&o.fog!==e?n.needsUpdate=!0:n.lights&&o.lightsHash!==nt.hash?n.needsUpdate=!0:void 0===o.numClippingPlanes||o.numClippingPlanes===X.numPlanes&&o.numIntersection===X.numIntersection||(n.needsUpdate=!0)),n.needsUpdate&&(f(n,e,i),n.needsUpdate=!1);var r=!1,a=!1,s=!1,l=o.program,c=l.getUniforms(),d=o.__webglShader.uniforms;if(l.id!==D&&(A.useProgram(l.program),D=l.id,s=a=r=!0),n.id!==N&&(N=n.id,a=!0),(r||t!==I)&&(c.setValue(A,"projectionMatrix",t.projectionMatrix),at.logarithmicDepthBuffer&&c.setValue(A,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),t!==I&&(I=t,s=a=!0),(n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.envMap)&&(void 0!==(r=c.map.cameraPosition)&&r.setValue(A,J.setFromMatrixPosition(t.matrixWorld))),(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&c.setValue(A,"viewMatrix",t.matrixWorldInverse),c.setValue(A,"toneMappingExposure",k.toneMappingExposure),c.setValue(A,"toneMappingWhitePoint",k.toneMappingWhitePoint)),n.skinning&&(c.setOptional(A,i,"bindMatrix"),c.setOptional(A,i,"bindMatrixInverse"),t=i.skeleton))if(r=t.bones,at.floatVertexTextures){if(void 0===t.boneTexture){r=Math.sqrt(4*r.length),r=yo.nextPowerOfTwo(Math.ceil(r)),r=Math.max(r,4);var u=new Float32Array(r*r*4);u.set(t.boneMatrices);var h=new Ot(u,r,r,1023,1015);t.boneMatrices=u,t.boneTexture=h,t.boneTextureSize=r}c.setValue(A,"boneTexture",t.boneTexture),c.setValue(A,"boneTextureSize",t.boneTextureSize)}else c.setOptional(A,t,"boneMatrices");if(a){var p;if(n.lights&&(a=s,d.ambientLightColor.needsUpdate=a,d.directionalLights.needsUpdate=a,d.pointLights.needsUpdate=a,d.spotLights.needsUpdate=a,d.rectAreaLights.needsUpdate=a,d.hemisphereLights.needsUpdate=a),e&&n.fog&&(d.fogColor.value=e.color,e.isFog?(d.fogNear.value=e.near,d.fogFar.value=e.far):e.isFogExp2&&(d.fogDensity.value=e.density)),n.isMeshBasicMaterial||n.isMeshLambertMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.isMeshNormalMaterial||n.isMeshDepthMaterial)d.opacity.value=n.opacity,d.diffuse.value=n.color,n.emissive&&d.emissive.value.copy(n.emissive).multiplyScalar(n.emissiveIntensity),d.map.value=n.map,d.specularMap.value=n.specularMap,d.alphaMap.value=n.alphaMap,n.lightMap&&(d.lightMap.value=n.lightMap,d.lightMapIntensity.value=n.lightMapIntensity),n.aoMap&&(d.aoMap.value=n.aoMap,d.aoMapIntensity.value=n.aoMapIntensity),n.map?p=n.map:n.specularMap?p=n.specularMap:n.displacementMap?p=n.displacementMap:n.normalMap?p=n.normalMap:n.bumpMap?p=n.bumpMap:n.roughnessMap?p=n.roughnessMap:n.metalnessMap?p=n.metalnessMap:n.alphaMap?p=n.alphaMap:n.emissiveMap&&(p=n.emissiveMap),void 0!==p&&(p.isWebGLRenderTarget&&(p=p.texture),e=p.offset,p=p.repeat,d.offsetRepeat.value.set(e.x,e.y,p.x,p.y)),d.envMap.value=n.envMap,d.flipEnvMap.value=n.envMap&&n.envMap.isCubeTexture?-1:1,d.reflectivity.value=n.reflectivity,d.refractionRatio.value=n.refractionRatio;n.isLineBasicMaterial?(d.diffuse.value=n.color,d.opacity.value=n.opacity):n.isLineDashedMaterial?(d.diffuse.value=n.color,d.opacity.value=n.opacity,d.dashSize.value=n.dashSize,d.totalSize.value=n.dashSize+n.gapSize,d.scale.value=n.scale):n.isPointsMaterial?(d.diffuse.value=n.color,d.opacity.value=n.opacity,d.size.value=n.size*V,d.scale.value=.5*j,d.map.value=n.map,null!==n.map&&(p=n.map.offset,n=n.map.repeat,d.offsetRepeat.value.set(p.x,p.y,n.x,n.y))):n.isMeshLambertMaterial?n.emissiveMap&&(d.emissiveMap.value=n.emissiveMap):n.isMeshToonMaterial?(g(d,n),n.gradientMap&&(d.gradientMap.value=n.gradientMap)):n.isMeshPhongMaterial?g(d,n):n.isMeshPhysicalMaterial?(d.clearCoat.value=n.clearCoat,d.clearCoatRoughness.value=n.clearCoatRoughness,v(d,n)):n.isMeshStandardMaterial?v(d,n):n.isMeshDepthMaterial?n.displacementMap&&(d.displacementMap.value=n.displacementMap,d.displacementScale.value=n.displacementScale,d.displacementBias.value=n.displacementBias):n.isMeshNormalMaterial&&(n.bumpMap&&(d.bumpMap.value=n.bumpMap,d.bumpScale.value=n.bumpScale),n.normalMap&&(d.normalMap.value=n.normalMap,d.normalScale.value.copy(n.normalScale)),n.displacementMap&&(d.displacementMap.value=n.displacementMap,d.displacementScale.value=n.displacementScale,d.displacementBias.value=n.displacementBias)),void 0!==d.ltcMat&&(d.ltcMat.value=Xo.LTC_MAT_TEXTURE),void 0!==d.ltcMag&&(d.ltcMag.value=Xo.LTC_MAG_TEXTURE),Pt.upload(A,o.uniformsList,d,k)}return c.setValue(A,"modelViewMatrix",i.modelViewMatrix),c.setValue(A,"normalMatrix",i.normalMatrix),c.setValue(A,"modelMatrix",i.matrixWorld),l}function g(t,e){t.specular.value=e.specular,t.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale)),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function v(t,e){t.roughness.value=e.roughness,t.metalness.value=e.metalness,e.roughnessMap&&(t.roughnessMap.value=e.roughnessMap),e.metalnessMap&&(t.metalnessMap.value=e.metalnessMap),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale)),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),e.envMap&&(t.envMapIntensity.value=e.envMapIntensity)}function d(t,e){var n,i,o,r,a,s,l,c=0,d=0,u=0,h=e.matrixWorldInverse,p=0,f=0,m=0,g=0,v=0;for(n=0,i=t.length;n<i;n++)if(r=(o=t[n]).color,a=o.intensity,s=o.distance,l=o.shadow&&o.shadow.map?o.shadow.map.texture:null,o.isAmbientLight)c+=r.r*a,d+=r.g*a,u+=r.b*a;else if(o.isDirectionalLight){var y=ft.get(o);y.color.copy(o.color).multiplyScalar(o.intensity),y.direction.setFromMatrixPosition(o.matrixWorld),J.setFromMatrixPosition(o.target.matrixWorld),y.direction.sub(J),y.direction.transformDirection(h),(y.shadow=o.castShadow)&&(r=o.shadow,y.shadowBias=r.bias,y.shadowRadius=r.radius,y.shadowMapSize=r.mapSize),nt.directionalShadowMap[p]=l,nt.directionalShadowMatrix[p]=o.shadow.matrix,nt.directional[p]=y,p++}else o.isSpotLight?((y=ft.get(o)).position.setFromMatrixPosition(o.matrixWorld),y.position.applyMatrix4(h),y.color.copy(r).multiplyScalar(a),y.distance=s,y.direction.setFromMatrixPosition(o.matrixWorld),J.setFromMatrixPosition(o.target.matrixWorld),y.direction.sub(J),y.direction.transformDirection(h),y.coneCos=Math.cos(o.angle),y.penumbraCos=Math.cos(o.angle*(1-o.penumbra)),y.decay=0===o.distance?0:o.decay,(y.shadow=o.castShadow)&&(r=o.shadow,y.shadowBias=r.bias,y.shadowRadius=r.radius,y.shadowMapSize=r.mapSize),nt.spotShadowMap[m]=l,nt.spotShadowMatrix[m]=o.shadow.matrix,nt.spot[m]=y,m++):o.isRectAreaLight?((y=ft.get(o)).color.copy(r).multiplyScalar(a/(o.width*o.height)),y.position.setFromMatrixPosition(o.matrixWorld),y.position.applyMatrix4(h),et.identity(),tt.copy(o.matrixWorld),tt.premultiply(h),et.extractRotation(tt),y.halfWidth.set(.5*o.width,0,0),y.halfHeight.set(0,.5*o.height,0),y.halfWidth.applyMatrix4(et),y.halfHeight.applyMatrix4(et),nt.rectArea[g]=y,g++):o.isPointLight?((y=ft.get(o)).position.setFromMatrixPosition(o.matrixWorld),y.position.applyMatrix4(h),y.color.copy(o.color).multiplyScalar(o.intensity),y.distance=o.distance,y.decay=0===o.distance?0:o.decay,(y.shadow=o.castShadow)&&(r=o.shadow,y.shadowBias=r.bias,y.shadowRadius=r.radius,y.shadowMapSize=r.mapSize),nt.pointShadowMap[f]=l,nt.pointShadowMatrix[f]=o.shadow.matrix,nt.point[f]=y,f++):o.isHemisphereLight&&((y=ft.get(o)).direction.setFromMatrixPosition(o.matrixWorld),y.direction.transformDirection(h),y.direction.normalize(),y.skyColor.copy(o.color).multiplyScalar(a),y.groundColor.copy(o.groundColor).multiplyScalar(a),nt.hemi[v]=y,v++);nt.ambient[0]=c,nt.ambient[1]=d,nt.ambient[2]=u,nt.directional.length=p,nt.spot.length=m,nt.rectArea.length=g,nt.point.length=f,nt.hemi.length=v,nt.hash=p+","+f+","+m+","+g+","+v+","+nt.shadows.length}function u(t){var e;if(1e3===t)return A.REPEAT;if(1001===t)return A.CLAMP_TO_EDGE;if(1002===t)return A.MIRRORED_REPEAT;if(1003===t)return A.NEAREST;if(1004===t)return A.NEAREST_MIPMAP_NEAREST;if(1005===t)return A.NEAREST_MIPMAP_LINEAR;if(1006===t)return A.LINEAR;if(1007===t)return A.LINEAR_MIPMAP_NEAREST;if(1008===t)return A.LINEAR_MIPMAP_LINEAR;if(1009===t)return A.UNSIGNED_BYTE;if(1017===t)return A.UNSIGNED_SHORT_4_4_4_4;if(1018===t)return A.UNSIGNED_SHORT_5_5_5_1;if(1019===t)return A.UNSIGNED_SHORT_5_6_5;if(1010===t)return A.BYTE;if(1011===t)return A.SHORT;if(1012===t)return A.UNSIGNED_SHORT;if(1013===t)return A.INT;if(1014===t)return A.UNSIGNED_INT;if(1015===t)return A.FLOAT;if(1016===t&&null!==(e=rt.get("OES_texture_half_float")))return e.HALF_FLOAT_OES;if(1021===t)return A.ALPHA;if(1022===t)return A.RGB;if(1023===t)return A.RGBA;if(1024===t)return A.LUMINANCE;if(1025===t)return A.LUMINANCE_ALPHA;if(1026===t)return A.DEPTH_COMPONENT;if(1027===t)return A.DEPTH_STENCIL;if(100===t)return A.FUNC_ADD;if(101===t)return A.FUNC_SUBTRACT;if(102===t)return A.FUNC_REVERSE_SUBTRACT;if(200===t)return A.ZERO;if(201===t)return A.ONE;if(202===t)return A.SRC_COLOR;if(203===t)return A.ONE_MINUS_SRC_COLOR;if(204===t)return A.SRC_ALPHA;if(205===t)return A.ONE_MINUS_SRC_ALPHA;if(206===t)return A.DST_ALPHA;if(207===t)return A.ONE_MINUS_DST_ALPHA;if(208===t)return A.DST_COLOR;if(209===t)return A.ONE_MINUS_DST_COLOR;if(210===t)return A.SRC_ALPHA_SATURATE;if((2001===t||2002===t||2003===t||2004===t)&&null!==(e=rt.get("WEBGL_compressed_texture_s3tc"))){if(2001===t)return e.COMPRESSED_RGB_S3TC_DXT1_EXT;if(2002===t)return e.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(2003===t)return e.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(2004===t)return e.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((2100===t||2101===t||2102===t||2103===t)&&null!==(e=rt.get("WEBGL_compressed_texture_pvrtc"))){if(2100===t)return e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(2101===t)return e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(2102===t)return e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(2103===t)return e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(2151===t&&null!==(e=rt.get("WEBGL_compressed_texture_etc1")))return e.COMPRESSED_RGB_ETC1_WEBGL;if((103===t||104===t)&&null!==(e=rt.get("EXT_blend_minmax"))){if(103===t)return e.MIN_EXT;if(104===t)return e.MAX_EXT}return 1020===t&&null!==(e=rt.get("WEBGL_depth_texture"))?e.UNSIGNED_INT_24_8_WEBGL:0}console.log("THREE.WebGLRenderer","85");var o=void 0!==(t=t||{}).canvas?t.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),r=void 0!==t.context?t.context:null,a=void 0!==t.alpha&&t.alpha,h=void 0===t.depth||t.depth,p=void 0===t.stencil||t.stencil,y=void 0!==t.antialias&&t.antialias,b=void 0===t.premultipliedAlpha||t.premultipliedAlpha,_=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,x=[],M=null,T=new Float32Array(8),C=[],S=[];this.domElement=o,this.context=null,this.sortObjects=this.autoClearStencil=this.autoClearDepth=this.autoClearColor=this.autoClear=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.physicallyCorrectLights=this.gammaOutput=this.gammaInput=!1,this.toneMappingWhitePoint=this.toneMappingExposure=this.toneMapping=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var A,k=this,D=null,O=null,P=null,N=-1,L="",I=null,R=new At,$=null,F=new At,z=0,H=new Nt(0),B=0,U=o.width,j=o.height,V=1,G=new At(0,0,U,j),W=!1,Y=new At(0,0,U,j),q=new $t,X=new re,Z=!1,K=!1,Q=new Dt,J=new kt,tt=new Dt,et=new Dt,nt={hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],shadows:[]},it={geometries:0,textures:0},ot={frame:0,calls:0,vertices:0,faces:0,points:0};this.info={render:ot,memory:it,programs:null};try{if(a={alpha:a,depth:h,stencil:p,antialias:y,premultipliedAlpha:b,preserveDrawingBuffer:_},null===(A=r||o.getContext("webgl",a)||o.getContext("experimental-webgl",a))){if(null!==o.getContext("webgl"))throw"Error creating WebGL context with your selected attributes.";throw"Error creating WebGL context."}void 0===A.getShaderPrecisionFormat&&(A.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}}),o.addEventListener("webglcontextlost",i,!1)}catch(t){console.error("THREE.WebGLRenderer: "+t)}var rt=new oe(A);rt.get("WEBGL_depth_texture"),rt.get("OES_texture_float"),rt.get("OES_texture_float_linear"),rt.get("OES_texture_half_float"),rt.get("OES_texture_half_float_linear"),rt.get("OES_standard_derivatives"),rt.get("ANGLE_instanced_arrays"),rt.get("OES_element_index_uint")&&(Ht.MaxIndex=4294967296);var at=new ie(A,rt,t),st=new ne(A,rt,u),lt=new ee,ct=new te(A,rt,st,lt,at,u,it),dt=new Wt(A),ut=new Zt(A,dt,it),ht=new Qt(A,ut,ot),pt=new Jt(this,at),ft=new Kt,mt=new Yt;this.info.programs=pt.programs;var gt,vt,yt,bt,_t=new Xt(A,rt,ot),xt=new qt(A,rt,ot);e(),this.context=A,this.capabilities=at,this.extensions=rt,this.properties=lt,this.state=st;var wt=new Ft(this,nt,ht,at);this.shadowMap=wt;var Et,Mt,Tt,Ct=new It(this,C),St=new Lt(this,S);this.getContext=function(){return A},this.getContextAttributes=function(){return A.getContextAttributes()},this.forceContextLoss=function(){var t=rt.get("WEBGL_lose_context");t&&t.loseContext()},this.getMaxAnisotropy=function(){return at.getMaxAnisotropy()},this.getPrecision=function(){return at.precision},this.getPixelRatio=function(){return V},this.setPixelRatio=function(t){void 0!==t&&(V=t,this.setSize(Y.z,Y.w,!1))},this.getSize=function(){return{width:U,height:j}},this.setSize=function(t,e,n){U=t,j=e,o.width=t*V,o.height=e*V,!1!==n&&(o.style.width=t+"px",o.style.height=e+"px"),this.setViewport(0,0,t,e)},this.setViewport=function(t,e,n,i){st.viewport(Y.set(t,e,n,i))},this.setScissor=function(t,e,n,i){st.scissor(G.set(t,e,n,i))},this.setScissorTest=function(t){st.setScissorTest(W=t)},this.getClearColor=function(){return H},this.setClearColor=function(t,e){H.set(t),B=void 0!==e?e:1,st.buffers.color.setClear(H.r,H.g,H.b,B,b)},this.getClearAlpha=function(){return B},this.setClearAlpha=function(t){B=t,st.buffers.color.setClear(H.r,H.g,H.b,B,b)},this.clear=function(t,e,n){var i=0;(void 0===t||t)&&(i|=A.COLOR_BUFFER_BIT),(void 0===e||e)&&(i|=A.DEPTH_BUFFER_BIT),(void 0===n||n)&&(i|=A.STENCIL_BUFFER_BIT),A.clear(i)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.clearTarget=function(t,e,n,i){this.setRenderTarget(t),this.clear(e,n,i)},this.resetGLState=n,this.dispose=function(){o.removeEventListener("webglcontextlost",i,!1),mt.dispose()},this.renderBufferImmediate=function(t,e,n){st.initAttributes();var i=lt.get(t);if(t.hasPositions&&!i.position&&(i.position=A.createBuffer()),t.hasNormals&&!i.normal&&(i.normal=A.createBuffer()),t.hasUvs&&!i.uv&&(i.uv=A.createBuffer()),t.hasColors&&!i.color&&(i.color=A.createBuffer()),e=e.getAttributes(),t.hasPositions&&(A.bindBuffer(A.ARRAY_BUFFER,i.position),A.bufferData(A.ARRAY_BUFFER,t.positionArray,A.DYNAMIC_DRAW),st.enableAttribute(e.position),A.vertexAttribPointer(e.position,3,A.FLOAT,!1,0,0)),t.hasNormals){if(A.bindBuffer(A.ARRAY_BUFFER,i.normal),!n.isMeshPhongMaterial&&!n.isMeshStandardMaterial&&!n.isMeshNormalMaterial&&1===n.shading)for(var o=0,r=3*t.count;o<r;o+=9){var a=t.normalArray,s=(a[o+0]+a[o+3]+a[o+6])/3,l=(a[o+1]+a[o+4]+a[o+7])/3,c=(a[o+2]+a[o+5]+a[o+8])/3;a[o+0]=s,a[o+1]=l,a[o+2]=c,a[o+3]=s,a[o+4]=l,a[o+5]=c,a[o+6]=s,a[o+7]=l,a[o+8]=c}A.bufferData(A.ARRAY_BUFFER,t.normalArray,A.DYNAMIC_DRAW),st.enableAttribute(e.normal),A.vertexAttribPointer(e.normal,3,A.FLOAT,!1,0,0)}t.hasUvs&&n.map&&(A.bindBuffer(A.ARRAY_BUFFER,i.uv),A.bufferData(A.ARRAY_BUFFER,t.uvArray,A.DYNAMIC_DRAW),st.enableAttribute(e.uv),A.vertexAttribPointer(dt.uv,2,A.FLOAT,!1,0,0)),t.hasColors&&0!==n.vertexColors&&(A.bindBuffer(A.ARRAY_BUFFER,i.color),A.bufferData(A.ARRAY_BUFFER,t.colorArray,A.DYNAMIC_DRAW),st.enableAttribute(e.color),A.vertexAttribPointer(e.color,3,A.FLOAT,!1,0,0)),st.disableUnusedAttributes(),A.drawArrays(A.TRIANGLES,0,t.count),t.count=0},this.renderBufferDirect=function(t,e,n,i,o,r){st.setMaterial(i);var a=E(t,e,i,o),s=!1;if((t=n.id+"_"+a.id+"_"+(!0===i.wireframe))!==L&&(L=t,s=!0),void 0!==(e=o.morphTargetInfluences)){var l=[];t=0;for(var c=e.length;t<c;t++)s=e[t],l.push([s,t]);l.sort(w),8<l.length&&(l.length=8);var d=n.morphAttributes;for(t=0,c=l.length;t<c;t++)s=l[t],T[t]=s[0],0!==s[0]?(e=s[1],!0===i.morphTargets&&d.position&&n.addAttribute("morphTarget"+t,d.position[e]),!0===i.morphNormals&&d.normal&&n.addAttribute("morphNormal"+t,d.normal[e])):(!0===i.morphTargets&&n.removeAttribute("morphTarget"+t),!0===i.morphNormals&&n.removeAttribute("morphNormal"+t));for(t=l.length,e=T.length;t<e;t++)T[t]=0;a.getUniforms().setValue(A,"morphTargetInfluences",T),s=!0}if(e=n.index,c=n.attributes.position,l=1,!0===i.wireframe&&(e=ut.getWireframeAttribute(n),l=2),t=_t,null!==e&&(t=xt).setIndex(e),s){if(s=void 0,n&&n.isInstancedBufferGeometry&&null===rt.get("ANGLE_instanced_arrays"))console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");else{void 0===s&&(s=0),st.initAttributes();d=n.attributes,a=a.getAttributes();var u,h=i.defaultAttributeValues;for(u in a){var p=a[u];if(0<=p)if(void 0!==(x=d[u])){var f=x.normalized,m=x.itemSize,g=(y=dt.get(x)).buffer,v=y.type,y=y.bytesPerElement;if(x.isInterleavedBufferAttribute){var b=x.data,_=b.stride,x=x.offset;b&&b.isInstancedInterleavedBuffer?(st.enableAttributeAndDivisor(p,b.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=b.meshPerAttribute*b.count)):st.enableAttribute(p),A.bindBuffer(A.ARRAY_BUFFER,g),A.vertexAttribPointer(p,m,v,f,_*y,(s*_+x)*y)}else x.isInstancedBufferAttribute?(st.enableAttributeAndDivisor(p,x.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=x.meshPerAttribute*x.count)):st.enableAttribute(p),A.bindBuffer(A.ARRAY_BUFFER,g),A.vertexAttribPointer(p,m,v,f,0,s*m*y)}else if(void 0!==h&&void 0!==(f=h[u]))switch(f.length){case 2:A.vertexAttrib2fv(p,f);break;case 3:A.vertexAttrib3fv(p,f);break;case 4:A.vertexAttrib4fv(p,f);break;default:A.vertexAttrib1fv(p,f)}}st.disableUnusedAttributes()}null!==e&&A.bindBuffer(A.ELEMENT_ARRAY_BUFFER,dt.get(e).buffer)}if(u=0,null!==e?u=e.count:void 0!==c&&(u=c.count),c=n.drawRange.start*l,s=null!==r?r.start*l:0,e=Math.max(c,s),0!==(r=Math.max(0,Math.min(u,c+n.drawRange.count*l,s+(null!==r?r.count*l:1/0))-1-e+1))){if(o.isMesh)if(!0===i.wireframe)st.setLineWidth(i.wireframeLinewidth*(null===O?V:1)),t.setMode(A.LINES);else switch(o.drawMode){case 0:t.setMode(A.TRIANGLES);break;case 1:t.setMode(A.TRIANGLE_STRIP);break;case 2:t.setMode(A.TRIANGLE_FAN)}else o.isLine?(void 0===(i=i.linewidth)&&(i=1),st.setLineWidth(i*(null===O?V:1)),o.isLineSegments?t.setMode(A.LINES):o.isLineLoop?t.setMode(A.LINE_LOOP):t.setMode(A.LINE_STRIP)):o.isPoints&&t.setMode(A.POINTS);n&&n.isInstancedBufferGeometry?0<n.maxInstancedCount&&t.renderInstances(n,e,r):t.render(e,r)}},this.compile=function(n,t){x=[],n.traverse(function(t){t.isLight&&x.push(t)}),d(x,t),n.traverse(function(t){if(t.material)if(Array.isArray(t.material))for(var e=0;e<t.material.length;e++)f(t.material[e],n.fog,t);else f(t.material,n.fog,t)})},this.render=function(t,e,n,i){if(void 0!==e&&!0!==e.isCamera)console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");else{L="",N=-1,!(I=null)===t.autoUpdate&&t.updateMatrixWorld(),e.onBeforeRender(k),null===e.parent&&e.updateMatrixWorld(),e.matrixWorldInverse.getInverse(e.matrixWorld),Q.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),q.setFromMatrix(Q),x.length=0,C.length=0,S.length=0,K=this.localClippingEnabled,Z=X.init(this.clippingPlanes,K,e),(M=mt.get(t,e)).init(),function t(e,n,i){if(e.visible){if(e.layers.test(n.layers))if(e.isLight)x.push(e);else if(e.isSprite)e.frustumCulled&&!q.intersectsSprite(e)||C.push(e);else if(e.isLensFlare)S.push(e);else if(e.isImmediateRenderObject)i&&J.setFromMatrixPosition(e.matrixWorld).applyMatrix4(Q),M.push(e,null,e.material,J.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.update(),!e.frustumCulled||q.intersectsObject(e))){i&&J.setFromMatrixPosition(e.matrixWorld).applyMatrix4(Q);var o=ht.update(e),r=e.material;if(Array.isArray(r))for(var a=o.groups,s=0,l=a.length;s<l;s++){var c=a[s],d=r[c.materialIndex];d&&d.visible&&M.push(e,o,d,J.z,c)}else r.visible&&M.push(e,o,r,J.z,null)}for(s=0,l=(e=e.children).length;s<l;s++)t(e[s],n,i)}}(t,e,k.sortObjects),M.finish(),!0===k.sortObjects&&M.sort(),Z&&X.beginShadows();for(var o=x,r=0,a=0,s=o.length;a<s;a++){var l=o[a];l.castShadow&&(nt.shadows[r]=l,r++)}nt.shadows.length=r,wt.render(t,e),d(x,e),Z&&X.endShadows(),ot.frame++,ot.calls=0,ot.vertices=0,ot.faces=0,void(ot.points=0)===n&&(n=null),this.setRenderTarget(n),null===(o=t.background)?st.buffers.color.setClear(H.r,H.g,H.b,B,b):o&&o.isColor&&(st.buffers.color.setClear(o.r,o.g,o.b,1,b),i=!0),(this.autoClear||i)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil),o&&o.isCubeTexture?(void 0===yt&&(yt=new Vt,bt=new Bt(new Ut(5,5,5),new Rt({uniforms:Qo.cube.uniforms,vertexShader:Qo.cube.vertexShader,fragmentShader:Qo.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1}))),yt.projectionMatrix.copy(e.projectionMatrix),yt.matrixWorld.extractRotation(e.matrixWorld),yt.matrixWorldInverse.getInverse(yt.matrixWorld),bt.material.uniforms.tCube.value=o,bt.modelViewMatrix.multiplyMatrices(yt.matrixWorldInverse,bt.matrixWorld),ht.update(bt),k.renderBufferDirect(yt,null,bt.geometry,bt.material,bt,null)):o&&o.isTexture&&(void 0===gt&&(gt=new Gt(-1,1,1,-1,0,1),vt=new Bt(new jt(2,2),new zt({depthTest:!1,depthWrite:!1,fog:!1}))),vt.material.map=o,ht.update(vt),k.renderBufferDirect(gt,null,vt.geometry,vt.material,vt,null)),i=M.opaque,o=M.transparent,t.overrideMaterial?(r=t.overrideMaterial,i.length&&c(i,t,e,r),o.length&&c(o,t,e,r)):(i.length&&c(i,t,e),o.length&&c(o,t,e)),Ct.render(t,e),St.render(t,e,F),n&&ct.updateRenderTargetMipmap(n),st.buffers.depth.setTest(!0),st.buffers.depth.setMask(!0),st.buffers.color.setMask(!0),e.isArrayCamera&&e.enabled&&k.setScissorTest(!1),e.onAfterRender(k)}},this.setFaceCulling=function(t,e){st.setCullFace(t),st.setFlipSided(0===e)},this.allocTextureUnit=function(){var t=z;return t>=at.maxTextures&&console.warn("WebGLRenderer: trying to use "+t+" texture units while this GPU supports only "+at.maxTextures),z+=1,t},this.setTexture2D=(Et=!1,function(t,e){t&&t.isWebGLRenderTarget&&(Et||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),Et=!0),t=t.texture),ct.setTexture2D(t,e)}),this.setTexture=(Mt=!1,function(t,e){Mt||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),Mt=!0),ct.setTexture2D(t,e)}),this.setTextureCube=(Tt=!1,function(t,e){t&&t.isWebGLRenderTargetCube&&(Tt||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),Tt=!0),t=t.texture),t&&t.isCubeTexture||Array.isArray(t.image)&&6===t.image.length?ct.setTextureCube(t,e):ct.setTextureCubeDynamic(t,e)}),this.getRenderTarget=function(){return O},this.setRenderTarget=function(t){(O=t)&&void 0===lt.get(t).__webglFramebuffer&&ct.setupRenderTarget(t);var e,n=t&&t.isWebGLRenderTargetCube;t?(e=lt.get(t),e=n?e.__webglFramebuffer[t.activeCubeFace]:e.__webglFramebuffer,R.copy(t.scissor),$=t.scissorTest,F.copy(t.viewport)):(e=null,R.copy(G).multiplyScalar(V),$=W,F.copy(Y).multiplyScalar(V)),P!==e&&(A.bindFramebuffer(A.FRAMEBUFFER,e),P=e),st.scissor(R),st.setScissorTest($),st.viewport(F),n&&(n=lt.get(t.texture),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_CUBE_MAP_POSITIVE_X+t.activeCubeFace,n.__webglTexture,t.activeMipMapLevel))},this.readRenderTargetPixels=function(t,e,n,i,o,r){if(!1===(t&&t.isWebGLRenderTarget))console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");else{var a=lt.get(t).__webglFramebuffer;if(a){var s=!1;a!==P&&(A.bindFramebuffer(A.FRAMEBUFFER,a),s=!0);try{var l=t.texture,c=l.format,d=l.type;1023!==c&&u(c)!==A.getParameter(A.IMPLEMENTATION_COLOR_READ_FORMAT)?console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format."):1009===d||u(d)===A.getParameter(A.IMPLEMENTATION_COLOR_READ_TYPE)||1015===d&&(rt.get("OES_texture_float")||rt.get("WEBGL_color_buffer_float"))||1016===d&&rt.get("EXT_color_buffer_half_float")?A.checkFramebufferStatus(A.FRAMEBUFFER)===A.FRAMEBUFFER_COMPLETE?0<=e&&e<=t.width-i&&0<=n&&n<=t.height-o&&A.readPixels(e,n,i,o,u(c),u(d),r):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete."):console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.")}finally{s&&A.bindFramebuffer(A.FRAMEBUFFER,P)}}}}}function Mt(t,e){this.name="",this.color=new Nt(t),this.density=void 0!==e?e:25e-5}function Tt(t,e,n){this.name="",this.color=new Nt(t),this.near=void 0!==e?e:1,this.far=void 0!==n?n:1e3}function Ct(){G.call(this),this.type="Scene",this.overrideMaterial=this.fog=this.background=null,this.autoUpdate=!0}function St(t,e,n,i,o){G.call(this),this.lensFlares=[],this.positionScreen=new kt,(this.customUpdateCallback=void 0)!==t&&this.add(t,e,n,i,o)}function ae(t){L.call(this),this.type="SpriteMaterial",this.color=new Nt(16777215),this.map=null,this.rotation=0,this.lights=this.fog=!1,this.setValues(t)}function se(t){G.call(this),this.type="Sprite",this.material=void 0!==t?t:new ae}function le(){G.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function ce(t,e){if(t=t||[],this.bones=t.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),void 0===e)this.calculateInverses();else if(this.bones.length===e.length)this.boneInverses=e.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var n=0,i=this.bones.length;n<i;n++)this.boneInverses.push(new Dt)}}function de(){G.call(this),this.type="Bone"}function ue(t,e){Bt.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Dt,this.bindMatrixInverse=new Dt;var n=new ce(n=this.initBones());this.bind(n,this.matrixWorld),this.normalizeSkinWeights()}function he(t){L.call(this),this.type="LineBasicMaterial",this.color=new Nt(16777215),this.linewidth=1,this.linejoin=this.linecap="round",this.lights=!1,this.setValues(t)}function pe(t,e,n){if(1===n)return console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."),new fe(t,e);G.call(this),this.type="Line",this.geometry=void 0!==t?t:new Ht,this.material=void 0!==e?e:new he({color:16777215*Math.random()})}function fe(t,e){pe.call(this,t,e),this.type="LineSegments"}function me(t,e){pe.call(this,t,e),this.type="LineLoop"}function ge(t){L.call(this),this.type="PointsMaterial",this.color=new Nt(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.lights=!1,this.setValues(t)}function ve(t,e){G.call(this),this.type="Points",this.geometry=void 0!==t?t:new Ht,this.material=void 0!==e?e:new ge({color:16777215*Math.random()})}function ye(){G.call(this),this.type="Group"}function be(e,t,n,i,o,r,a,s,l){F.call(this,e,t,n,i,o,r,a,s,l),this.generateMipmaps=!1;var c=this;!function t(){requestAnimationFrame(t),e.readyState>=e.HAVE_CURRENT_DATA&&(c.needsUpdate=!0)}()}function _e(t,e,n,i,o,r,a,s,l,c,d,u){F.call(this,null,r,a,s,l,c,i,o,d,u),this.image={width:e,height:n},this.mipmaps=t,this.generateMipmaps=this.flipY=!1}function xe(t,e,n,i,o,r,a,s,l){F.call(this,t,e,n,i,o,r,a,s,l),this.needsUpdate=!0}function we(t,e,n,i,o,r,a,s,l,c){if(1026!==(c=void 0!==c?c:1026)&&1027!==c)throw Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&1026===c&&(n=1012),void 0===n&&1027===c&&(n=1020),F.call(this,null,i,o,r,a,s,c,n,l),this.image={width:t,height:e},this.magFilter=void 0!==a?a:1003,this.minFilter=void 0!==s?s:1003,this.generateMipmaps=this.flipY=!1}function Ee(t){Ht.call(this),this.type="WireframeGeometry";var e,n,i,o,r,a,s=[],l=[0,0],c={},d=["a","b","c"];if(t&&t.isGeometry){var u=t.faces;for(e=0,i=u.length;e<i;e++){var h=u[e];for(n=0;n<3;n++)r=h[d[n]],a=h[d[(n+1)%3]],l[0]=Math.min(r,a),l[1]=Math.max(r,a),void 0===c[r=l[0]+","+l[1]]&&(c[r]={index1:l[0],index2:l[1]})}for(r in c)e=c[r],d=t.vertices[e.index1],s.push(d.x,d.y,d.z),d=t.vertices[e.index2],s.push(d.x,d.y,d.z)}else if(t&&t.isBufferGeometry){var p;d=new kt;if(null!==t.index){for(u=t.attributes.position,h=t.index,0===(p=t.groups).length&&(p=[{start:0,count:h.count,materialIndex:0}]),t=0,o=p.length;t<o;++t)for(n=(e=p[t]).start,i=e.count,i=(e=n)+i;e<i;e+=3)for(n=0;n<3;n++)r=h.getX(e+n),a=h.getX(e+(n+1)%3),l[0]=Math.min(r,a),l[1]=Math.max(r,a),void 0===c[r=l[0]+","+l[1]]&&(c[r]={index1:l[0],index2:l[1]});for(r in c)e=c[r],d.fromBufferAttribute(u,e.index1),s.push(d.x,d.y,d.z),d.fromBufferAttribute(u,e.index2),s.push(d.x,d.y,d.z)}else for(e=0,i=(u=t.attributes.position).count/3;e<i;e++)for(n=0;n<3;n++)c=3*e+n,d.fromBufferAttribute(u,c),s.push(d.x,d.y,d.z),c=3*e+(n+1)%3,d.fromBufferAttribute(u,c),s.push(d.x,d.y,d.z)}this.addAttribute("position",new ot(s,3))}function Me(t,e,n){lt.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:n},this.fromBufferGeometry(new Te(t,e,n)),this.mergeVertices()}function Te(t,e,n){Ht.call(this),this.type="ParametricBufferGeometry",this.parameters={func:t,slices:e,stacks:n};var i,o,r=[],a=[],s=[],l=[],c=new kt,d=new kt,u=new kt,h=new kt,p=new kt,f=e+1;for(i=0;i<=n;i++){var m=i/n;for(o=0;o<=e;o++){var g=o/e;d=t(g,m,d);a.push(d.x,d.y,d.z),0<=g-1e-5?(u=t(g-1e-5,m,u),h.subVectors(d,u)):(u=t(g+1e-5,m,u),h.subVectors(u,d)),0<=m-1e-5?(u=t(g,m-1e-5,u),p.subVectors(d,u)):(u=t(g,m+1e-5,u),p.subVectors(u,d)),c.crossVectors(h,p).normalize(),s.push(c.x,c.y,c.z),l.push(g,m)}}for(i=0;i<n;i++)for(o=0;o<e;o++)t=i*f+o+1,c=(i+1)*f+o+1,d=(i+1)*f+o,r.push(i*f+o,t,d),r.push(t,c,d);this.setIndex(r),this.addAttribute("position",new ot(a,3)),this.addAttribute("normal",new ot(s,3)),this.addAttribute("uv",new ot(l,2))}function Ce(t,e,n,i){lt.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:n,detail:i},this.fromBufferGeometry(new Se(t,e,n,i)),this.mergeVertices()}function Se(i,m,t,e){function g(t){u.push(t.x,t.y,t.z)}function v(t,e){var n=3*t;e.x=i[n+0],e.y=i[n+1],e.z=i[n+2]}function d(t,e,n,i){i<0&&1===t.x&&(h[e]=t.x-1),0===n.x&&0===n.z&&(h[e]=i/2/Math.PI+.5)}Ht.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:i,indices:m,radius:t,detail:e},t=t||1;var u=[],h=[];!function(t){for(var e=new kt,n=new kt,i=new kt,o=0;o<m.length;o+=3){v(m[o+0],e),v(m[o+1],n),v(m[o+2],i);var r,a,s=e,l=n,c=i,d=Math.pow(2,t),u=[];for(r=0;r<=d;r++){u[r]=[];var h=s.clone().lerp(c,r/d),p=l.clone().lerp(c,r/d),f=d-r;for(a=0;a<=f;a++)u[r][a]=0===a&&r===d?h:h.clone().lerp(p,a/f)}for(r=0;r<d;r++)for(a=0;a<2*(d-r)-1;a++)s=Math.floor(a/2),0==a%2?(g(u[r][s+1]),g(u[r+1][s]),g(u[r][s])):(g(u[r][s+1]),g(u[r+1][s+1]),g(u[r+1][s]))}}(e||0),function(t){for(var e=new kt,n=0;n<u.length;n+=3)e.x=u[n+0],e.y=u[n+1],e.z=u[n+2],e.normalize().multiplyScalar(t),u[n+0]=e.x,u[n+1]=e.y,u[n+2]=e.z}(t),function(){for(var t=new kt,e=0;e<u.length;e+=3)t.x=u[e+0],t.y=u[e+1],t.z=u[e+2],h.push(Math.atan2(t.z,-t.x)/2/Math.PI+.5,1-(Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))/Math.PI+.5));t=new kt,e=new kt;for(var n=new kt,i=new kt,o=new Y,r=new Y,a=new Y,s=0,l=0;s<u.length;s+=9,l+=6){t.set(u[s+0],u[s+1],u[s+2]),e.set(u[s+3],u[s+4],u[s+5]),n.set(u[s+6],u[s+7],u[s+8]),o.set(h[l+0],h[l+1]),r.set(h[l+2],h[l+3]),a.set(h[l+4],h[l+5]),i.copy(t).add(e).add(n).divideScalar(3);var c=Math.atan2(i.z,-i.x);d(o,l+0,t,c),d(r,l+2,e,c),d(a,l+4,n,c)}for(t=0;t<h.length;t+=6)e=h[t+0],n=h[t+2],i=h[t+4],o=Math.min(e,n,i),.9<Math.max(e,n,i)&&o<.1&&(e<.2&&(h[t+0]+=1),n<.2&&(h[t+2]+=1),i<.2&&(h[t+4]+=1))}(),this.addAttribute("position",new ot(u,3)),this.addAttribute("normal",new ot(u.slice(),3)),this.addAttribute("uv",new ot(h,2)),this.normalizeNormals()}function Ae(t,e){lt.call(this),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new ke(t,e)),this.mergeVertices()}function ke(t,e){Se.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],t,e),this.type="TetrahedronBufferGeometry",this.parameters={radius:t,detail:e}}function De(t,e){lt.call(this),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Oe(t,e)),this.mergeVertices()}function Oe(t,e){Se.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],t,e),this.type="OctahedronBufferGeometry",this.parameters={radius:t,detail:e}}function Pe(t,e){lt.call(this),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Ne(t,e)),this.mergeVertices()}function Ne(t,e){var n=(1+Math.sqrt(5))/2;Se.call(this,[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],t,e),this.type="IcosahedronBufferGeometry",this.parameters={radius:t,detail:e}}function Le(t,e){lt.call(this),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Ie(t,e)),this.mergeVertices()}function Ie(t,e){var n=(1+Math.sqrt(5))/2,i=1/n;Se.call(this,[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-n,0,-i,n,0,i,-n,0,i,n,-i,-n,0,-i,n,0,i,-n,0,i,n,0,-n,0,-i,n,0,-i,-n,0,i,n,0,i],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],t,e),this.type="DodecahedronBufferGeometry",this.parameters={radius:t,detail:e}}function Re(t,e,n,i,o,r){lt.call(this),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:i,closed:o},void 0!==r&&console.warn("THREE.TubeGeometry: taper has been removed."),t=new $e(t,e,n,i,o),this.tangents=t.tangents,this.normals=t.normals,this.binormals=t.binormals,this.fromBufferGeometry(t),this.mergeVertices()}function $e(r,a,s,l,t){function e(t){var e=r.getPointAt(t/a),n=c.normals[t];for(t=c.binormals[t],d=0;d<=l;d++){var i=d/l*Math.PI*2,o=Math.sin(i);i=-Math.cos(i);h.x=i*n.x+o*t.x,h.y=i*n.y+o*t.y,h.z=i*n.z+o*t.z,h.normalize(),f.push(h.x,h.y,h.z),u.x=e.x+s*h.x,u.y=e.y+s*h.y,u.z=e.z+s*h.z,p.push(u.x,u.y,u.z)}}Ht.call(this),this.type="TubeBufferGeometry",this.parameters={path:r,tubularSegments:a,radius:s,radialSegments:l,closed:t},a=a||64,s=s||1,l=l||8,t=t||!1;var c=r.computeFrenetFrames(a,t);this.tangents=c.tangents,this.normals=c.normals,this.binormals=c.binormals;var i,d,u=new kt,h=new kt,n=new Y,p=[],f=[],o=[],m=[];for(i=0;i<a;i++)e(i);for(e(!1===t?a:0),i=0;i<=a;i++)for(d=0;d<=l;d++)n.x=i/a,n.y=d/l,o.push(n.x,n.y);!function(){for(d=1;d<=a;d++)for(i=1;i<=l;i++){var t=(l+1)*d+(i-1),e=(l+1)*d+i,n=(l+1)*(d-1)+i;m.push((l+1)*(d-1)+(i-1),t,n),m.push(t,e,n)}}(),this.setIndex(m),this.addAttribute("position",new ot(p,3)),this.addAttribute("normal",new ot(f,3)),this.addAttribute("uv",new ot(o,2))}function Fe(t,e,n,i,o,r,a){lt.call(this),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:i,p:o,q:r},void 0!==a&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new ze(t,e,n,i,o,r)),this.mergeVertices()}function ze(t,e,n,i,o,r){function a(t,e,n,i,o){var r=Math.sin(t);e=n/e*t,n=Math.cos(e),o.x=i*(2+n)*.5*Math.cos(t),o.y=i*(2+n)*r*.5,o.z=i*Math.sin(e)*.5}Ht.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:i,p:o,q:r},t=t||100,e=e||40,n=Math.floor(n)||64,i=Math.floor(i)||8,o=o||2,r=r||3;var s,l,c=[],d=[],u=[],h=[],p=new kt,f=new kt,m=new kt,g=new kt,v=new kt,y=new kt,b=new kt;for(s=0;s<=n;++s)for(a(l=s/n*o*Math.PI*2,o,r,t,m),a(l+.01,o,r,t,g),y.subVectors(g,m),b.addVectors(g,m),v.crossVectors(y,b),b.crossVectors(v,y),v.normalize(),b.normalize(),l=0;l<=i;++l){var _=l/i*Math.PI*2,x=-e*Math.cos(_);_=e*Math.sin(_);p.x=m.x+(x*b.x+_*v.x),p.y=m.y+(x*b.y+_*v.y),p.z=m.z+(x*b.z+_*v.z),d.push(p.x,p.y,p.z),f.subVectors(p,m).normalize(),u.push(f.x,f.y,f.z),h.push(s/n),h.push(l/i)}for(l=1;l<=n;l++)for(s=1;s<=i;s++)t=(i+1)*l+(s-1),e=(i+1)*l+s,o=(i+1)*(l-1)+s,c.push((i+1)*(l-1)+(s-1),t,o),c.push(t,e,o);this.setIndex(c),this.addAttribute("position",new ot(d,3)),this.addAttribute("normal",new ot(u,3)),this.addAttribute("uv",new ot(h,2))}function He(t,e,n,i,o){lt.call(this),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:i,arc:o},this.fromBufferGeometry(new Be(t,e,n,i,o)),this.mergeVertices()}function Be(t,e,n,i,o){Ht.call(this),this.type="TorusBufferGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:i,arc:o},t=t||100,e=e||40,n=Math.floor(n)||8,i=Math.floor(i)||6,o=o||2*Math.PI;var r,a,s=[],l=[],c=[],d=[],u=new kt,h=new kt,p=new kt;for(r=0;r<=n;r++)for(a=0;a<=i;a++){var f=a/i*o,m=r/n*Math.PI*2;h.x=(t+e*Math.cos(m))*Math.cos(f),h.y=(t+e*Math.cos(m))*Math.sin(f),h.z=e*Math.sin(m),l.push(h.x,h.y,h.z),u.x=t*Math.cos(f),u.y=t*Math.sin(f),p.subVectors(h,u).normalize(),c.push(p.x,p.y,p.z),d.push(a/i),d.push(r/n)}for(r=1;r<=n;r++)for(a=1;a<=i;a++)t=(i+1)*(r-1)+a-1,e=(i+1)*(r-1)+a,o=(i+1)*r+a,s.push((i+1)*r+a-1,t,o),s.push(t,e,o);this.setIndex(s),this.addAttribute("position",new ot(l,3)),this.addAttribute("normal",new ot(c,3)),this.addAttribute("uv",new ot(d,2))}function Ue(t,e){lt.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},this.fromBufferGeometry(new je(t,e)),this.mergeVertices()}function je(t,e){void 0!==t&&(Ht.call(this),this.type="ExtrudeBufferGeometry",t=Array.isArray(t)?t:[t],this.addShapeList(t,e),this.computeVertexNormals())}function Ve(t,e){lt.call(this),this.type="TextGeometry",this.parameters={text:t,parameters:e},this.fromBufferGeometry(new Ge(t,e)),this.mergeVertices()}function Ge(t,e){var n=(e=e||{}).font;if(!1===(n&&n.isFont))return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new lt;n=n.generateShapes(t,e.size,e.curveSegments),e.amount=void 0!==e.height?e.height:50,void 0===e.bevelThickness&&(e.bevelThickness=10),void 0===e.bevelSize&&(e.bevelSize=8),void 0===e.bevelEnabled&&(e.bevelEnabled=!1),je.call(this,n,e),this.type="TextBufferGeometry"}function We(t,e,n,i,o,r,a){lt.call(this),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:i,phiLength:o,thetaStart:r,thetaLength:a},this.fromBufferGeometry(new Ye(t,e,n,i,o,r,a)),this.mergeVertices()}function Ye(t,e,n,i,o,r,a){Ht.call(this),this.type="SphereBufferGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:i,phiLength:o,thetaStart:r,thetaLength:a},t=t||50,e=Math.max(3,Math.floor(e)||8),n=Math.max(2,Math.floor(n)||6),i=void 0!==i?i:0,o=void 0!==o?o:2*Math.PI;var s,l,c=(r=void 0!==r?r:0)+(a=void 0!==a?a:Math.PI),d=0,u=[],h=new kt,p=new kt,f=[],m=[],g=[],v=[];for(l=0;l<=n;l++){var y=[],b=l/n;for(s=0;s<=e;s++){var _=s/e;h.x=-t*Math.cos(i+_*o)*Math.sin(r+b*a),h.y=t*Math.cos(r+b*a),h.z=t*Math.sin(i+_*o)*Math.sin(r+b*a),m.push(h.x,h.y,h.z),p.set(h.x,h.y,h.z).normalize(),g.push(p.x,p.y,p.z),v.push(_,1-b),y.push(d++)}u.push(y)}for(l=0;l<n;l++)for(s=0;s<e;s++)t=u[l][s+1],i=u[l][s],o=u[l+1][s],a=u[l+1][s+1],(0!==l||0<r)&&f.push(t,i,a),(l!==n-1||c<Math.PI)&&f.push(i,o,a);this.setIndex(f),this.addAttribute("position",new ot(m,3)),this.addAttribute("normal",new ot(g,3)),this.addAttribute("uv",new ot(v,2))}function qe(t,e,n,i,o,r){lt.call(this),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:i,thetaStart:o,thetaLength:r},this.fromBufferGeometry(new Xe(t,e,n,i,o,r)),this.mergeVertices()}function Xe(t,e,n,i,o,r){Ht.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:i,thetaStart:o,thetaLength:r},t=t||20,e=e||50,o=void 0!==o?o:0,r=void 0!==r?r:2*Math.PI,n=void 0!==n?Math.max(3,n):8;var a,s,l=[],c=[],d=[],u=[],h=t,p=(e-t)/(i=void 0!==i?Math.max(1,i):1),f=new kt,m=new Y;for(a=0;a<=i;a++){for(s=0;s<=n;s++)t=o+s/n*r,f.x=h*Math.cos(t),f.y=h*Math.sin(t),c.push(f.x,f.y,f.z),d.push(0,0,1),m.x=(f.x/e+1)/2,m.y=(f.y/e+1)/2,u.push(m.x,m.y);h+=p}for(a=0;a<i;a++)for(e=a*(n+1),s=0;s<n;s++)o=(t=s+e)+n+1,r=t+n+2,h=t+1,l.push(t,o,h),l.push(o,r,h);this.setIndex(l),this.addAttribute("position",new ot(c,3)),this.addAttribute("normal",new ot(d,3)),this.addAttribute("uv",new ot(u,2))}function Ze(t,e,n,i){lt.call(this),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:n,phiLength:i},this.fromBufferGeometry(new Ke(t,e,n,i)),this.mergeVertices()}function Ke(t,e,n,i){Ht.call(this),this.type="LatheBufferGeometry",this.parameters={points:t,segments:e,phiStart:n,phiLength:i},e=Math.floor(e)||12,n=n||0,i=i||2*Math.PI,i=yo.clamp(i,0,2*Math.PI);var o,r,a=[],s=[],l=[],c=1/e,d=new kt,u=new Y;for(o=0;o<=e;o++){r=n+o*c*i;var h=Math.sin(r),p=Math.cos(r);for(r=0;r<=t.length-1;r++)d.x=t[r].x*h,d.y=t[r].y,d.z=t[r].x*p,s.push(d.x,d.y,d.z),u.x=o/e,u.y=r/(t.length-1),l.push(u.x,u.y)}for(o=0;o<e;o++)for(r=0;r<t.length-1;r++)c=(n=r+o*t.length)+t.length,d=n+t.length+1,u=n+1,a.push(n,c,u),a.push(c,d,u);if(this.setIndex(a),this.addAttribute("position",new ot(s,3)),this.addAttribute("uv",new ot(l,2)),this.computeVertexNormals(),i===2*Math.PI)for(i=this.attributes.normal.array,a=new kt,s=new kt,l=new kt,n=e*t.length*3,r=o=0;o<t.length;o++,r+=3)a.x=i[r+0],a.y=i[r+1],a.z=i[r+2],s.x=i[n+r+0],s.y=i[n+r+1],s.z=i[n+r+2],l.addVectors(a,s).normalize(),i[r+0]=i[n+r+0]=l.x,i[r+1]=i[n+r+1]=l.y,i[r+2]=i[n+r+2]=l.z}function Qe(t,e){lt.call(this),this.type="ShapeGeometry","object"==typeof e&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),e=e.curveSegments),this.parameters={shapes:t,curveSegments:e},this.fromBufferGeometry(new Je(t,e)),this.mergeVertices()}function Je(t,s){function e(t){var e,n,i=c.length/3,o=(t=t.extractPoints(s)).shape,r=t.holes;if(!1===$a.isClockWise(o))for(o=o.reverse(),t=0,e=r.length;t<e;t++)n=r[t],!0===$a.isClockWise(n)&&(r[t]=n.reverse());var a=$a.triangulateShape(o,r);for(t=0,e=r.length;t<e;t++)n=r[t],o=o.concat(n);for(t=0,e=o.length;t<e;t++)n=o[t],c.push(n.x,n.y,0),d.push(0,0,1),u.push(n.x,n.y);for(t=0,e=a.length;t<e;t++)o=a[t],l.push(o[0]+i,o[1]+i,o[2]+i),h+=3}Ht.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:t,curveSegments:s},s=s||12;var l=[],c=[],d=[],u=[],n=0,h=0;if(!1===Array.isArray(t))e(t);else for(var i=0;i<t.length;i++)e(t[i]),this.addGroup(n,h,i),n+=h,h=0;this.setIndex(l),this.addAttribute("position",new ot(c,3)),this.addAttribute("normal",new ot(d,3)),this.addAttribute("uv",new ot(u,2))}function tn(t,e){Ht.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:e};var n,i,o,r=[],a=Math.cos(yo.DEG2RAD*(void 0!==e?e:1)),s=[0,0],l={},c=["a","b","c"];t.isBufferGeometry?(o=new lt).fromBufferGeometry(t):o=t.clone(),o.mergeVertices(),o.computeFaceNormals();for(var d=o.vertices,u=0,h=(o=o.faces).length;u<h;u++)for(var p=o[u],f=0;f<3;f++)n=p[c[f]],i=p[c[(f+1)%3]],s[0]=Math.min(n,i),s[1]=Math.max(n,i),void 0===l[n=s[0]+","+s[1]]?l[n]={index1:s[0],index2:s[1],face1:u,face2:void 0}:l[n].face2=u;for(n in l)(void 0===(s=l[n]).face2||o[s.face1].normal.dot(o[s.face2].normal)<=a)&&(c=d[s.index1],r.push(c.x,c.y,c.z),c=d[s.index2],r.push(c.x,c.y,c.z));this.addAttribute("position",new ot(r,3))}function en(t,e,n,i,o,r,a,s){lt.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:i,heightSegments:o,openEnded:r,thetaStart:a,thetaLength:s},this.fromBufferGeometry(new nn(t,e,n,i,o,r,a,s)),this.mergeVertices()}function nn(h,p,f,m,g,t,v,y){function e(t){var e,n,i,o=new Y,r=new kt,a=0,s=!0===t?h:p,l=!0===t?1:-1;for(n=M,e=1;e<=m;e++)x.push(0,C*l,0),w.push(0,l,0),E.push(.5,.5),M++;for(i=M,e=0;e<=m;e++){var c=e/m*y+v,d=Math.cos(c);c=Math.sin(c);r.x=s*c,r.y=C*l,r.z=s*d,x.push(r.x,r.y,r.z),w.push(0,l,0),o.x=.5*d+.5,o.y=.5*c*l+.5,E.push(o.x,o.y),M++}for(e=0;e<m;e++)o=n+e,r=i+e,!0===t?_.push(r,r+1,o):_.push(r+1,r,o),a+=3;b.addGroup(S,a,!0===t?1:2),S+=a}Ht.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:h,radiusBottom:p,height:f,radialSegments:m,heightSegments:g,openEnded:t,thetaStart:v,thetaLength:y};var b=this;h=void 0!==h?h:20,p=void 0!==p?p:20,f=void 0!==f?f:100,m=Math.floor(m)||8,g=Math.floor(g)||1,t=void 0!==t&&t,v=void 0!==v?v:0,y=void 0!==y?y:2*Math.PI;var _=[],x=[],w=[],E=[],M=0,T=[],C=f/2,S=0;!function(){var t,e,n=new kt,i=new kt,o=0,r=(p-h)/f;for(e=0;e<=g;e++){var a=[],s=e/g,l=s*(p-h)+h;for(t=0;t<=m;t++){var c=t/m,d=c*y+v,u=Math.sin(d);d=Math.cos(d);i.x=l*u,i.y=-s*f+C,i.z=l*d,x.push(i.x,i.y,i.z),n.set(u,r,d).normalize(),w.push(n.x,n.y,n.z),E.push(c,1-s),a.push(M++)}T.push(a)}for(t=0;t<m;t++)for(e=0;e<g;e++)n=T[e+1][t],i=T[e+1][t+1],r=T[e][t+1],_.push(T[e][t],n,r),_.push(n,i,r),o+=6;b.addGroup(S,o,0),S+=o}(),!1===t&&(0<h&&e(!0),0<p&&e(!1)),this.setIndex(_),this.addAttribute("position",new ot(x,3)),this.addAttribute("normal",new ot(w,3)),this.addAttribute("uv",new ot(E,2))}function on(t,e,n,i,o,r,a){en.call(this,0,t,e,n,i,o,r,a),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:i,openEnded:o,thetaStart:r,thetaLength:a}}function rn(t,e,n,i,o,r,a){nn.call(this,0,t,e,n,i,o,r,a),this.type="ConeBufferGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:i,openEnded:o,thetaStart:r,thetaLength:a}}function an(t,e,n,i){lt.call(this),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:i},this.fromBufferGeometry(new sn(t,e,n,i)),this.mergeVertices()}function sn(t,e,n,i){Ht.call(this),this.type="CircleBufferGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:i},t=t||50,e=void 0!==e?Math.max(3,e):8,n=void 0!==n?n:0,i=void 0!==i?i:2*Math.PI;var o,r,a=[],s=[],l=[],c=[],d=new kt,u=new Y;for(s.push(0,0,0),l.push(0,0,1),c.push(.5,.5),r=0,o=3;r<=e;r++,o+=3){var h=n+r/e*i;d.x=t*Math.cos(h),d.y=t*Math.sin(h),s.push(d.x,d.y,d.z),l.push(0,0,1),u.x=(s[o]/t+1)/2,u.y=(s[o+1]/t+1)/2,c.push(u.x,u.y)}for(o=1;o<=e;o++)a.push(o,o+1,0);this.setIndex(a),this.addAttribute("position",new ot(s,3)),this.addAttribute("normal",new ot(l,3)),this.addAttribute("uv",new ot(c,2))}function ln(t){Rt.call(this,{uniforms:Zo.merge([Xo.lights,{opacity:{value:1}}]),vertexShader:Ko.shadow_vert,fragmentShader:Ko.shadow_frag}),this.transparent=this.lights=!0,Object.defineProperties(this,{opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(t){this.uniforms.opacity.value=t}}}),this.setValues(t)}function cn(t){Rt.call(this,t),this.type="RawShaderMaterial"}function dn(t){L.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Nt(16777215),this.metalness=this.roughness=.5,this.lightMap=this.map=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Nt(0),this.emissiveIntensity=1,this.bumpMap=this.emissiveMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new Y(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.envMap=this.alphaMap=this.metalnessMap=this.roughnessMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(t)}function un(t){dn.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoatRoughness=this.clearCoat=0,this.setValues(t)}function hn(t){L.call(this),this.type="MeshPhongMaterial",this.color=new Nt(16777215),this.specular=new Nt(1118481),this.shininess=30,this.lightMap=this.map=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Nt(0),this.emissiveIntensity=1,this.bumpMap=this.emissiveMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new Y(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.envMap=this.alphaMap=this.specularMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(t)}function pn(t){hn.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(t)}function fn(t){L.call(this,t),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new Y(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.morphNormals=this.morphTargets=this.skinning=this.lights=this.fog=!1,this.setValues(t)}function mn(t){L.call(this),this.type="MeshLambertMaterial",this.color=new Nt(16777215),this.lightMap=this.map=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Nt(0),this.emissiveIntensity=1,this.envMap=this.alphaMap=this.specularMap=this.emissiveMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(t)}function gn(t){L.call(this),this.type="LineDashedMaterial",this.color=new Nt(16777215),this.scale=this.linewidth=1,this.dashSize=3,this.gapSize=1,this.lights=!1,this.setValues(t)}function vn(t,e,n){var i=this,o=!1,r=0,a=0;this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.itemStart=function(t){a++,!1===o&&void 0!==i.onStart&&i.onStart(t,r,a),o=!0},this.itemEnd=function(t){r++,void 0!==i.onProgress&&i.onProgress(t,r,a),r===a&&(o=!1,void 0!==i.onLoad)&&i.onLoad()},this.itemError=function(t){void 0!==i.onError&&i.onError(t)}}function yn(t){this.manager=void 0!==t?t:Ba}function bn(t){this.manager=void 0!==t?t:Ba,this._parser=null}function _n(t){this.manager=void 0!==t?t:Ba,this._parser=null}function xn(t){this.manager=void 0!==t?t:Ba}function wn(t){this.manager=void 0!==t?t:Ba}function En(t){this.manager=void 0!==t?t:Ba}function Mn(t,e){G.call(this),this.type="Light",this.color=new Nt(t),this.intensity=void 0!==e?e:1,this.receiveShadow=void 0}function Tn(t,e,n){Mn.call(this,t,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(G.DefaultUp),this.updateMatrix(),this.groundColor=new Nt(e)}function Cn(t){this.camera=t,this.bias=0,this.radius=1,this.mapSize=new Y(512,512),this.map=null,this.matrix=new Dt}function Sn(){Cn.call(this,new Vt(50,1,.5,500))}function An(t,e,n,i,o,r){Mn.call(this,t,e),this.type="SpotLight",this.position.copy(G.DefaultUp),this.updateMatrix(),this.target=new G,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==i?i:Math.PI/3,this.penumbra=void 0!==o?o:0,this.decay=void 0!==r?r:1,this.shadow=new Sn}function kn(t,e,n,i){Mn.call(this,t,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==i?i:1,this.shadow=new Cn(new Vt(90,1,.5,500))}function Dn(){Cn.call(this,new Gt(-5,5,5,-5,.5,500))}function On(t,e){Mn.call(this,t,e),this.type="DirectionalLight",this.position.copy(G.DefaultUp),this.updateMatrix(),this.target=new G,this.shadow=new Dn}function Pn(t,e){Mn.call(this,t,e),this.type="AmbientLight",this.castShadow=void 0}function Nn(t,e,n,i){Mn.call(this,t,e),this.type="RectAreaLight",this.position.set(0,1,0),this.updateMatrix(),this.width=void 0!==n?n:10,this.height=void 0!==i?i:10}function Ln(t,e,n,i){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new e.constructor(n),this.sampleValues=e,this.valueSize=n}function In(t,e,n,i){Ln.call(this,t,e,n,i),this._offsetNext=this._weightNext=this._offsetPrev=this._weightPrev=-0}function Rn(t,e,n,i){Ln.call(this,t,e,n,i)}function $n(t,e,n,i){Ln.call(this,t,e,n,i)}function Fn(t,e,n,i){if(void 0===t)throw Error("track name is undefined");if(void 0===e||0===e.length)throw Error("no keyframes in track named "+t);this.name=t,this.times=ja.convertArray(e,this.TimeBufferType),this.values=ja.convertArray(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation),this.validate(),this.optimize()}function zn(t,e,n,i){Fn.call(this,t,e,n,i)}function Hn(t,e,n,i){Ln.call(this,t,e,n,i)}function Bn(t,e,n,i){Fn.call(this,t,e,n,i)}function Un(t,e,n,i){Fn.call(this,t,e,n,i)}function jn(t,e,n,i){Fn.call(this,t,e,n,i)}function Vn(t,e,n){Fn.call(this,t,e,n)}function Gn(t,e,n,i){Fn.call(this,t,e,n,i)}function Wn(t,e,n,i){Fn.apply(this,arguments)}function Yn(t,e,n){this.name=t,this.tracks=n,this.duration=void 0!==e?e:-1,this.uuid=yo.generateUUID(),this.duration<0&&this.resetDuration(),this.optimize()}function qn(t){this.manager=void 0!==t?t:Ba,this.textures={}}function Xn(t){this.manager=void 0!==t?t:Ba}function Zn(){this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}}function Kn(t){"boolean"==typeof t&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),t=void 0),this.manager=void 0!==t?t:Ba,this.withCredentials=!1}function Qn(t){this.manager=void 0!==t?t:Ba,this.texturePath=""}function Jn(t,e,n,i,o){var r=t*t;return(2*n-2*i+(e=.5*(i-e))+(o=.5*(o-n)))*t*r+(-3*n+3*i-2*e-o)*r+e*t+n}function ti(t,e,n,i){var o=1-t;return o*o*e+2*(1-t)*t*n+t*t*i}function ei(t,e,n,i,o){var r=1-t,a=1-t;return r*r*r*e+3*a*a*t*n+3*(1-t)*t*t*i+t*t*t*o}function ni(){this.arcLengthDivisions=200}function ii(t,e){this.arcLengthDivisions=200,this.v1=t,this.v2=e}function oi(){this.arcLengthDivisions=200,this.curves=[],this.autoClose=!1}function ri(t,e,n,i,o,r,a,s){this.arcLengthDivisions=200,this.aX=t,this.aY=e,this.xRadius=n,this.yRadius=i,this.aStartAngle=o,this.aEndAngle=r,this.aClockwise=a,this.aRotation=s||0}function ai(t){this.arcLengthDivisions=200,this.points=void 0===t?[]:t}function si(t,e,n,i){this.arcLengthDivisions=200,this.v0=t,this.v1=e,this.v2=n,this.v3=i}function li(t,e,n){this.arcLengthDivisions=200,this.v0=t,this.v1=e,this.v2=n}function ci(t){oi.call(this),this.currentPoint=new Y,t&&this.fromPoints(t)}function di(){ci.apply(this,arguments),this.holes=[]}function ui(){this.subPaths=[],this.currentPath=null}function hi(t){this.data=t}function pi(t){this.manager=void 0!==t?t:Ba}function fi(t){this.manager=void 0!==t?t:Ba}function mi(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Vt,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Vt,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}function gi(t,e,n){G.call(this),this.type="CubeCamera";var o=new Vt(90,1,t,e);o.up.set(0,-1,0),o.lookAt(new kt(1,0,0)),this.add(o);var r=new Vt(90,1,t,e);r.up.set(0,-1,0),r.lookAt(new kt(-1,0,0)),this.add(r);var a=new Vt(90,1,t,e);a.up.set(0,0,1),a.lookAt(new kt(0,1,0)),this.add(a);var s=new Vt(90,1,t,e);s.up.set(0,0,-1),s.lookAt(new kt(0,-1,0)),this.add(s);var l=new Vt(90,1,t,e);l.up.set(0,-1,0),l.lookAt(new kt(0,0,1)),this.add(l);var c=new Vt(90,1,t,e);c.up.set(0,-1,0),c.lookAt(new kt(0,0,-1)),this.add(c),this.renderTarget=new i(n,n,{format:1022,magFilter:1006,minFilter:1006}),this.renderTarget.texture.name="CubeCamera",this.updateCubeMap=function(t,e){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,i=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,n.activeCubeFace=0,t.render(e,o,n),n.activeCubeFace=1,t.render(e,r,n),n.activeCubeFace=2,t.render(e,a,n),n.activeCubeFace=3,t.render(e,s,n),n.activeCubeFace=4,t.render(e,l,n),n.texture.generateMipmaps=i,n.activeCubeFace=5,t.render(e,c,n),t.setRenderTarget(null)}}function vi(t){Vt.call(this),this.enabled=!1,this.cameras=t||[]}function yi(){G.call(this),this.type="AudioListener",this.context=Us.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null}function bi(t){G.call(this),this.type="Audio",this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.loop=!1,this.startTime=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function _i(t){bi.call(this,t),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function xi(t,e){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=void 0!==e?e:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}function wi(t,e,n){switch(this.binding=t,this.valueSize=n,t=Float64Array,e){case"quaternion":e=this._slerp;break;case"string":case"bool":t=Array,e=this._select;break;default:e=this._lerp}this.buffer=new t(4*n),this._mixBufferRegion=e,this.referenceCount=this.useCount=this.cumulativeWeight=0}function Ei(t,e,n){n=n||Mi.parseTrackName(e),this._targetGroup=t,this._bindings=t.subscribe_(e,n)}function Mi(t,e,n){this.path=e,this.parsedPath=n||Mi.parseTrackName(e),this.node=Mi.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}function Ti(t){this.uuid=yo.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var n=0,i=arguments.length;n!==i;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var o=this;this.stats={objects:{get total(){return o._objects.length},get inUse(){return this.total-o.nCachedObjects_}},get bindingsPerObject(){return o._bindings.length}}}function Ci(t,e,n){this._mixer=t,this._clip=e,this._localRoot=n||null,e=(t=e.tracks).length,n=Array(e);for(var i={endingStart:2400,endingEnd:2400},o=0;o!==e;++o){var r=t[o].createInterpolant(null);(n[o]=r).settings=i}this._interpolantSettings=i,this._interpolants=n,this._propertyBindings=Array(e),this._weightInterpolant=this._timeScaleInterpolant=this._byClipCacheIndex=this._cacheIndex=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this._effectiveWeight=this.weight=this._effectiveTimeScale=this.timeScale=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtEnd=this.zeroSlopeAtStart=!0}function Si(t){this._root=t,this._initMemoryManager(),this.time=this._accuIndex=0,this.timeScale=1}function Ai(t,e){"string"==typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=e),this.value=t}function ki(){Ht.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function Di(t,e,n,i){this.uuid=yo.generateUUID(),this.data=t,this.itemSize=e,this.offset=n,this.normalized=!0===i}function Oi(t,e){this.uuid=yo.generateUUID(),this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function Pi(t,e,n){Oi.call(this,t,e),this.meshPerAttribute=n||1}function Ni(t,e,n){Z.call(this,t,e),this.meshPerAttribute=n||1}function Li(t,e,n,i){this.ray=new U(t,e),this.near=n||0,this.far=i||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function Ii(t,e){return t.distance-e.distance}function Ri(t,e,n,i){if(!1!==t.visible&&(t.raycast(e,n),!0===i)){i=0;for(var o=(t=t.children).length;i<o;i++)Ri(t[i],e,n,!0)}}function $i(t){this.autoStart=void 0===t||t,this.elapsedTime=this.oldTime=this.startTime=0,this.running=!1}function Fi(t,e,n){return this.radius=void 0!==t?t:1,this.phi=void 0!==e?e:0,this.theta=void 0!==n?n:0,this}function zi(t,e,n){return this.radius=void 0!==t?t:1,this.theta=void 0!==e?e:0,this.y=void 0!==n?n:0,this}function Hi(t,e){Bt.call(this,t,e),this.animationsMap={},this.animationsList=[];var n=this.geometry.morphTargets.length;this.createAnimation("__default",0,n-1,n/1),this.setAnimationWeight("__default",1)}function Bi(t){G.call(this),this.material=t,this.render=function(t){}}function Ui(t,e,n,i){this.object=t,this.size=void 0!==e?e:1,t=void 0!==n?n:16711680,i=void 0!==i?i:1,e=0,(n=this.object.geometry)&&n.isGeometry?e=3*n.faces.length:n&&n.isBufferGeometry&&(e=n.attributes.normal.count),n=new Ht,e=new ot(6*e,3),n.addAttribute("position",e),fe.call(this,n,new he({color:t,linewidth:i})),this.matrixAutoUpdate=!1,this.update()}function ji(t){G.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,t=new Ht;for(var e=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],n=0,i=1;n<32;n++,i++){var o=n/32*Math.PI*2,r=i/32*Math.PI*2;e.push(Math.cos(o),Math.sin(o),1,Math.cos(r),Math.sin(r),1)}t.addAttribute("position",new ot(e,3)),e=new he({fog:!1}),this.cone=new fe(t,e),this.add(this.cone),this.update()}function Vi(t){this.bones=this.getBoneList(t);for(var e=new Ht,n=[],i=[],o=new Nt(0,0,1),r=new Nt(0,1,0),a=0;a<this.bones.length;a++){var s=this.bones[a];s.parent&&s.parent.isBone&&(n.push(0,0,0),n.push(0,0,0),i.push(o.r,o.g,o.b),i.push(r.r,r.g,r.b))}e.addAttribute("position",new ot(n,3)),e.addAttribute("color",new ot(i,3)),n=new he({vertexColors:2,depthTest:!1,depthWrite:!1,transparent:!0}),fe.call(this,e,n),this.root=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function Gi(t,e){this.light=t,this.light.updateMatrixWorld();var n=new Ye(e,4,2),i=new zt({wireframe:!0,fog:!1});i.color.copy(this.light.color).multiplyScalar(this.light.intensity),Bt.call(this,n,i),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1}function Wi(t){G.call(this),this.light=t,this.light.updateMatrixWorld();var e=new zt({color:t.color,fog:!1});t=new zt({color:t.color,fog:!1,wireframe:!0});var n=new Ht;n.addAttribute("position",new Z(new Float32Array(18),3)),this.add(new Bt(n,e)),this.add(new Bt(n,t)),this.update()}function Yi(t,e){G.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1;var n=new Oe(e);n.rotateY(.5*Math.PI);var i=new zt({vertexColors:2,wireframe:!0}),o=n.getAttribute("position");o=new Float32Array(3*o.count);n.addAttribute("color",new Z(o,3)),this.add(new Bt(n,i)),this.update()}function qi(t,e,n,i){t=t||10,e=e||10,n=new Nt(void 0!==n?n:4473924),i=new Nt(void 0!==i?i:8947848);var o=e/2,r=t/e,a=t/2;t=[];for(var s=[],l=0,c=0,d=-a;l<=e;l++,d+=r){t.push(-a,0,d,a,0,d),t.push(d,0,-a,d,0,a);var u=l===o?n:i;u.toArray(s,c),c+=3,u.toArray(s,c),c+=3,u.toArray(s,c),c+=3,u.toArray(s,c),c+=3}(e=new Ht).addAttribute("position",new ot(t,3)),e.addAttribute("color",new ot(s,3)),n=new he({vertexColors:2}),fe.call(this,e,n)}function Xi(t,e,n,i,o,r){t=t||10,e=e||16,n=n||8,i=i||64,o=new Nt(void 0!==o?o:4473924),r=new Nt(void 0!==r?r:8947848);var a,s,l,c,d,u=[],h=[];for(l=0;l<=e;l++)s=l/e*2*Math.PI,a=Math.sin(s)*t,s=Math.cos(s)*t,u.push(0,0,0),u.push(a,0,s),d=1&l?o:r,h.push(d.r,d.g,d.b),h.push(d.r,d.g,d.b);for(l=0;l<=n;l++)for(d=1&l?o:r,c=t-t/n*l,e=0;e<i;e++)s=e/i*2*Math.PI,a=Math.sin(s)*c,s=Math.cos(s)*c,u.push(a,0,s),h.push(d.r,d.g,d.b),s=(e+1)/i*2*Math.PI,a=Math.sin(s)*c,s=Math.cos(s)*c,u.push(a,0,s),h.push(d.r,d.g,d.b);(t=new Ht).addAttribute("position",new ot(u,3)),t.addAttribute("color",new ot(h,3)),u=new he({vertexColors:2}),fe.call(this,t,u)}function Zi(t,e,n,i){this.object=t,this.size=void 0!==e?e:1,t=void 0!==n?n:16776960,i=void 0!==i?i:1,e=0,(n=this.object.geometry)&&n.isGeometry?e=n.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead."),n=new Ht,e=new ot(6*e,3),n.addAttribute("position",e),fe.call(this,n,new he({color:t,linewidth:i})),this.matrixAutoUpdate=!1,this.update()}function Ki(t,e){G.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,void 0===e&&(e=1);var n=new Ht;n.addAttribute("position",new ot([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));var i=new he({fog:!1});this.add(new pe(n,i)),(n=new Ht).addAttribute("position",new ot([0,0,0,0,0,1],3)),this.add(new pe(n,i)),this.update()}function Qi(t){function e(t,e,n){i(t,n),i(e,n)}function i(t,e){r.push(0,0,0),a.push(e.r,e.g,e.b),void 0===s[t]&&(s[t]=[]),s[t].push(r.length/3-1)}var n=new Ht,o=new he({color:16777215,vertexColors:1}),r=[],a=[],s={},l=new Nt(16755200),c=new Nt(16711680),d=new Nt(43775),u=new Nt(16777215),h=new Nt(3355443);e("n1","n2",l),e("n2","n4",l),e("n4","n3",l),e("n3","n1",l),e("f1","f2",l),e("f2","f4",l),e("f4","f3",l),e("f3","f1",l),e("n1","f1",l),e("n2","f2",l),e("n3","f3",l),e("n4","f4",l),e("p","n1",c),e("p","n2",c),e("p","n3",c),e("p","n4",c),e("u1","u2",d),e("u2","u3",d),e("u3","u1",d),e("c","t",u),e("p","c",h),e("cn1","cn2",h),e("cn3","cn4",h),e("cf1","cf2",h),e("cf3","cf4",h),n.addAttribute("position",new ot(r,3)),n.addAttribute("color",new ot(a,3)),fe.call(this,n,o),this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update()}function Ji(t,e){this.object=t,void 0===e&&(e=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(24),o=new Ht;o.setIndex(new Z(n,1)),o.addAttribute("position",new Z(i,3)),fe.call(this,o,new he({color:e})),this.matrixAutoUpdate=!1,this.update()}function to(t,e,n,i,o,r){G.call(this),void 0===i&&(i=16776960),void 0===n&&(n=1),void 0===o&&(o=.2*n),void 0===r&&(r=.2*o),void 0===Fs&&((Fs=new Ht).addAttribute("position",new ot([0,0,0,0,1,0],3)),(zs=new nn(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(e),this.line=new pe(Fs,new he({color:i})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Bt(zs,new zt({color:i})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(n,o,r)}function eo(t){var e=[0,0,0,t=t||1,0,0,0,0,0,0,t,0,0,0,0,0,0,t];(t=new Ht).addAttribute("position",new ot(e,3)),t.addAttribute("color",new ot([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3)),e=new he({vertexColors:2}),fe.call(this,t,e)}function no(){var s=0,l=0,c=0,d=0;return{initCatmullRom:function(t,e,n,i,o){c=-3*(s=e)+3*n-2*(l=t=o*(n-t))-(i=o*(i-e)),d=2*e-2*n+t+i},initNonuniformCatmullRom:function(t,e,n,i,o,r,a){c=-3*(s=e)+3*n-2*(l=t=((e-t)/o-(n-t)/(o+r)+(n-e)/r)*r)-(i=((n-e)/r-(i-e)/(r+a)+(i-n)/a)*r),d=2*e-2*n+t+i},calc:function(t){var e=t*t;return s+l*t+c*e+d*e*t}}}function io(t){this.arcLengthDivisions=200,this.points=t||[],this.closed=!1}function oo(t,e,n,i){this.arcLengthDivisions=200,this.v0=t,this.v1=e,this.v2=n,this.v3=i}function ro(t,e,n){this.arcLengthDivisions=200,this.v0=t,this.v1=e,this.v2=n}function ao(t,e){this.arcLengthDivisions=200,this.v1=t,this.v2=e}function so(t,e,n,i,o,r){ri.call(this,t,e,n,n,i,o,r)}function lo(t){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),io.call(this,t),this.type="catmullrom",this.closed=!0}function co(t){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),io.call(this,t),this.type="catmullrom"}function uo(t){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),io.call(this,t),this.type="catmullrom"}void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),void 0===Math.sign&&(Math.sign=function(t){return t<0?-1:0<t?1:+t}),void 0===Function.prototype.name&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e}),Object.assign(e.prototype,{addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)},removeEventListener:function(t,e){if(void 0!==this._listeners){var n=this._listeners[t];if(void 0!==n){var i=n.indexOf(e);-1!==i&&n.splice(i,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners[t.type];if(void 0!==e){t.target=this;var n,i=[],o=e.length;for(n=0;n<o;n++)i[n]=e[n];for(n=0;n<o;n++)i[n].call(this,t)}}}});var ho,po,fo,mo,go,vo,yo={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:(po="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),fo=Array(36),mo=0,function(){for(var t=0;t<36;t++)fo[t]=8===t||13===t||18===t||23===t?"-":14===t?"4":(mo<=2&&(mo=33554432+16777216*Math.random()|0),ho=15&mo,mo>>=4,po[19===t?3&ho|8:ho]);return fo.join("")}),clamp:function(t,e,n){return Math.max(e,Math.min(n,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,n,i,o){return i+(t-e)*(o-i)/(n-e)},lerp:function(t,e,n){return(1-n)*t+n*e},smoothstep:function(t,e,n){return t<=e?0:n<=t?1:(t=(t-e)/(n-e))*t*(3-2*t)},smootherstep:function(t,e,n){return t<=e?0:n<=t?1:(t=(t-e)/(n-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*yo.DEG2RAD},radToDeg:function(t){return t*yo.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},nearestPowerOfTwo:function(t){return Math.pow(2,Math.round(Math.log(t)/Math.LN2))},nextPowerOfTwo:function(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,++t}};Object.defineProperties(Y.prototype,{width:{get:function(){return this.x},set:function(t){this.x=t}},height:{get:function(){return this.y},set:function(t){this.y=t}}}),Object.assign(Y.prototype,{isVector2:!0,set:function(t,e){return this.x=t,this.y=e,this},setScalar:function(t){return this.y=this.x=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this},clampScalar:(go=new Y,vo=new Y,function(t,e){return go.set(t,t),vo.set(e,e),this.clamp(go,vo)}),clampLength:function(t,e){var n=this.length();return this.multiplyScalar(Math.max(t,Math.min(e,n))/n)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length())},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x;return e*e+(t=this.y-t.y)*t},distanceToManhattan:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this},rotateAround:function(t,e){var n=Math.cos(e),i=Math.sin(e),o=this.x-t.x,r=this.y-t.y;return this.x=o*n-r*i+t.x,this.y=o*i+r*n+t.y,this}});var bo,_o,xo,wo,Eo,Mo,To,Co,So,Ao,ko,Do,Oo,Po,No,Lo,Io,Ro,$o,Fo=0;F.DEFAULT_IMAGE=void 0,F.DEFAULT_MAPPING=300,Object.defineProperty(F.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(F.prototype,e.prototype,{constructor:F,isTexture:!0,clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.name=t.name,this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){if(void 0!==t.textures[this.uuid])return t.textures[this.uuid];var e={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(void 0!==this.image){var n=this.image;if(void 0===n.uuid&&(n.uuid=yo.generateUUID()),void 0===t.images[n.uuid]){var i,o=t.images,r=n.uuid,a=n.uuid;void 0!==n.toDataURL?i=n:((i=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")).width=n.width,i.height=n.height,i.getContext("2d").drawImage(n,0,0,n.width,n.height)),i=2048<i.width||2048<i.height?i.toDataURL("image/jpeg",.6):i.toDataURL("image/png"),o[r]={uuid:a,url:i}}e.image=n.uuid}return t.textures[this.uuid]=e},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(300===this.mapping){if(t.multiply(this.repeat),t.add(this.offset),t.x<0||1<t.x)switch(this.wrapS){case 1e3:t.x-=Math.floor(t.x);break;case 1001:t.x=t.x<0?0:1;break;case 1002:t.x=1===Math.abs(Math.floor(t.x)%2)?Math.ceil(t.x)-t.x:t.x-Math.floor(t.x)}if(t.y<0||1<t.y)switch(this.wrapT){case 1e3:t.y-=Math.floor(t.y);break;case 1001:t.y=t.y<0?0:1;break;case 1002:t.y=1===Math.abs(Math.floor(t.y)%2)?Math.ceil(t.y)-t.y:t.y-Math.floor(t.y)}this.flipY&&(t.y=1-t.y)}}}),Object.assign(At.prototype,{isVector4:!0,set:function(t,e,n,i){return this.x=t,this.y=e,this.z=n,this.w=i,this},setScalar:function(t){return this.w=this.z=this.y=this.x=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},applyMatrix4:function(t){var e=this.x,n=this.y,i=this.z,o=this.w;return t=t.elements,this.x=t[0]*e+t[4]*n+t[8]*i+t[12]*o,this.y=t[1]*e+t[5]*n+t[9]*i+t[13]*o,this.z=t[2]*e+t[6]*n+t[10]*i+t[14]*o,this.w=t[3]*e+t[7]*n+t[11]*i+t[15]*o,this},divideScalar:function(t){return this.multiplyScalar(1/t)},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return this.z=e<1e-4?(this.x=1,this.y=0):(this.x=t.x/e,this.y=t.y/e,t.z/e),this},setAxisAngleFromRotationMatrix:function(t){var e,n,i,o=(t=t.elements)[0];i=t[4];var r=t[8],a=t[1],s=t[5],l=t[9];n=t[2],e=t[6];var c=t[10];return Math.abs(i-a)<.01&&Math.abs(r-n)<.01&&Math.abs(l-e)<.01?Math.abs(i+a)<.1&&Math.abs(r+n)<.1&&Math.abs(l+e)<.1&&Math.abs(o+s+c-3)<.1?this.set(1,0,0,0):(t=Math.PI,c=(c+1)/2,i=(i+a)/4,r=(r+n)/4,l=(l+e)/4,(s=(s+1)/2)<(o=(o+1)/2)&&c<o?i=o<.01?(e=0,n=.707106781):(n=i/(e=Math.sqrt(o)),r/e):c<s?i=s<.01?(n=0,e=.707106781):(e=i/(n=Math.sqrt(s)),l/n):c<.01?(n=e=.707106781,i=0):(e=r/(i=Math.sqrt(c)),n=l/i),this.set(e,n,i,t)):(t=Math.sqrt((e-l)*(e-l)+(r-n)*(r-n)+(a-i)*(a-i)),Math.abs(t)<.001&&(t=1),this.x=(e-l)/t,this.y=(r-n)/t,this.z=(a-i)/t,this.w=Math.acos((o+s+c-1)/2)),this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this},clampScalar:(bo=new At,_o=new At,function(t,e){return bo.set(t,t,t,t),_o.set(e,e,e,e),this.clamp(bo,_o)}),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}}),Object.assign(A.prototype,e.prototype,{isWebGLRenderTarget:!0,setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),((i.prototype=Object.create(A.prototype)).constructor=i).prototype.isWebGLRenderTargetCube=!0,Object.assign(s,{slerp:function(t,e,n,i){return n.copy(t).slerp(e,i)},slerpFlat:function(t,e,n,i,o,r,a){var s=n[i+0],l=n[i+1],c=n[i+2];n=n[i+3],i=o[r+0];var d=o[r+1],u=o[r+2];if(n!==(o=o[r+3])||s!==i||l!==d||c!==u){r=1-a;var h=s*i+l*d+c*u+n*o,p=0<=h?1:-1,f=1-h*h;f>Number.EPSILON&&(f=Math.sqrt(f),h=Math.atan2(f,h*p),r=Math.sin(r*h)/f,a=Math.sin(a*h)/f),s=s*r+i*(p*=a),l=l*r+d*p,c=c*r+u*p,n=n*r+o*p,r===1-a&&(s*=a=1/Math.sqrt(s*s+l*l+c*c+n*n),l*=a,c*=a,n*=a)}t[e]=s,t[e+1]=l,t[e+2]=c,t[e+3]=n}}),Object.defineProperties(s.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(t){this._w=t,this.onChangeCallback()}}}),Object.assign(s.prototype,{set:function(t,e,n,i){return this._x=t,this._y=e,this._z=n,this._w=i,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this},setFromEuler:function(t,e){if(!1===(t&&t.isEuler))throw Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=t._x,i=t._y,o=t._z,r=t.order,a=Math.cos,s=Math.sin,l=a(n/2),c=a(i/2);a=a(o/2),n=s(n/2),i=s(i/2),o=s(o/2);return"XYZ"===r?(this._x=n*c*a+l*i*o,this._y=l*i*a-n*c*o,this._z=l*c*o+n*i*a,this._w=l*c*a-n*i*o):"YXZ"===r?(this._x=n*c*a+l*i*o,this._y=l*i*a-n*c*o,this._z=l*c*o-n*i*a,this._w=l*c*a+n*i*o):"ZXY"===r?(this._x=n*c*a-l*i*o,this._y=l*i*a+n*c*o,this._z=l*c*o+n*i*a,this._w=l*c*a-n*i*o):"ZYX"===r?(this._x=n*c*a-l*i*o,this._y=l*i*a+n*c*o,this._z=l*c*o-n*i*a,this._w=l*c*a+n*i*o):"YZX"===r?(this._x=n*c*a+l*i*o,this._y=l*i*a+n*c*o,this._z=l*c*o-n*i*a,this._w=l*c*a-n*i*o):"XZY"===r&&(this._x=n*c*a-l*i*o,this._y=l*i*a-n*c*o,this._z=l*c*o+n*i*a,this._w=l*c*a+n*i*o),!1!==e&&this.onChangeCallback(),this},setFromAxisAngle:function(t,e){var n=e/2,i=Math.sin(n);return this._x=t.x*i,this._y=t.y*i,this._z=t.z*i,this._w=Math.cos(n),this.onChangeCallback(),this},setFromRotationMatrix:function(t){var e=(n=t.elements)[0];t=n[4];var n,i=n[8],o=n[1],r=n[5],a=n[9],s=n[2],l=n[6],c=e+r+(n=n[10]);return this._z=0<c?(e=.5/Math.sqrt(c+1),this._w=.25/e,this._x=(l-a)*e,this._y=(i-s)*e,(o-t)*e):r<e&&n<e?(e=2*Math.sqrt(1+e-r-n),this._w=(l-a)/e,this._x=.25*e,this._y=(t+o)/e,(i+s)/e):n<r?(e=2*Math.sqrt(1+r-e-n),this._w=(i-s)/e,this._x=(t+o)/e,this._y=.25*e,(a+l)/e):(e=2*Math.sqrt(1+n-e-r),this._w=(o-t)/e,this._x=(i+s)/e,this._y=(a+l)/e,.25*e),this.onChangeCallback(),this},setFromUnitVectors:(wo=new kt,function(t,e){return void 0===wo&&(wo=new kt),(xo=t.dot(e)+1)<1e-6?(xo=0,Math.abs(t.x)>Math.abs(t.z)?wo.set(-t.y,t.x,0):wo.set(0,-t.z,t.y)):wo.crossVectors(t,e),this._x=wo.x,this._y=wo.y,this._z=wo.z,this._w=xo,this.normalize()}),inverse:function(){return this.conjugate().normalize()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._z=this._y=this._x=0,this._w=1):(t=1/t,this._x*=t,this._y*=t,this._z*=t,this._w*=t),this.onChangeCallback(),this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)},premultiply:function(t){return this.multiplyQuaternions(t,this)},multiplyQuaternions:function(t,e){var n=t._x,i=t._y,o=t._z,r=t._w,a=e._x,s=e._y,l=e._z,c=e._w;return this._x=n*c+r*a+i*l-o*s,this._y=i*c+r*s+o*a-n*l,this._z=o*c+r*l+n*s-i*a,this._w=r*c-n*a-i*s-o*l,this.onChangeCallback(),this},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var n=this._x,i=this._y,o=this._z,r=this._w;if((l=r*t._w+n*t._x+i*t._y+o*t._z)<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,l=-l):this.copy(t),1<=l)return this._w=r,this._x=n,this._y=i,this._z=o,this;var a=Math.sqrt(1-l*l);if(Math.abs(a)<.001)return this._w=.5*(r+this._w),this._x=.5*(n+this._x),this._y=.5*(i+this._y),this._z=.5*(o+this._z),this;var s=Math.atan2(a,l),l=Math.sin((1-e)*s)/a;a=Math.sin(e*s)/a;return this._w=r*l+this._w*a,this._x=n*l+this._x*a,this._y=i*l+this._y*a,this._z=o*l+this._z*a,this.onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}}),Object.assign(kt.prototype,{isVector3:!0,set:function(t,e,n){return this.x=t,this.y=e,this.z=n,this},setScalar:function(t){return this.z=this.y=this.x=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},applyEuler:(Do=new s,function(t){return!1===(t&&t.isEuler)&&console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(Do.setFromEuler(t))}),applyAxisAngle:(ko=new s,function(t,e){return this.applyQuaternion(ko.setFromAxisAngle(t,e))}),applyMatrix3:function(t){var e=this.x,n=this.y,i=this.z;return t=t.elements,this.x=t[0]*e+t[3]*n+t[6]*i,this.y=t[1]*e+t[4]*n+t[7]*i,this.z=t[2]*e+t[5]*n+t[8]*i,this},applyMatrix4:function(t){var e=this.x,n=this.y,i=this.z;return t=t.elements,this.x=t[0]*e+t[4]*n+t[8]*i+t[12],this.y=t[1]*e+t[5]*n+t[9]*i+t[13],this.z=t[2]*e+t[6]*n+t[10]*i+t[14],this.divideScalar(t[3]*e+t[7]*n+t[11]*i+t[15])},applyQuaternion:function(t){var e=this.x,n=this.y,i=this.z,o=t.x,r=t.y,a=t.z,s=(t=t.w)*e+r*i-a*n,l=t*n+a*e-o*i,c=t*i+o*n-r*e;e=-o*e-r*n-a*i;return this.x=s*t+e*-o+l*-a-c*-r,this.y=l*t+e*-r+c*-o-s*-a,this.z=c*t+e*-a+s*-r-l*-o,this},project:(Ao=new Dt,function(t){return Ao.multiplyMatrices(t.projectionMatrix,Ao.getInverse(t.matrixWorld)),this.applyMatrix4(Ao)}),unproject:(So=new Dt,function(t){return So.multiplyMatrices(t.matrixWorld,So.getInverse(t.projectionMatrix)),this.applyMatrix4(So)}),transformDirection:function(t){var e=this.x,n=this.y,i=this.z;return t=t.elements,this.x=t[0]*e+t[4]*n+t[8]*i,this.y=t[1]*e+t[5]*n+t[9]*i,this.z=t[2]*e+t[6]*n+t[10]*i,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},clampScalar:(To=new kt,Co=new kt,function(t,e){return To.set(t,t,t),Co.set(e,e,e),this.clamp(To,Co)}),clampLength:function(t,e){var n=this.length();return this.multiplyScalar(Math.max(t,Math.min(e,n))/n)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},cross:function(t,e){if(void 0!==e)return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e);var n=this.x,i=this.y,o=this.z;return this.x=i*t.z-o*t.y,this.y=o*t.x-n*t.z,this.z=n*t.y-i*t.x,this},crossVectors:function(t,e){var n=t.x,i=t.y,o=t.z,r=e.x,a=e.y,s=e.z;return this.x=i*s-o*a,this.y=o*r-n*s,this.z=n*a-i*r,this},projectOnVector:function(t){var e=t.dot(this)/t.lengthSq();return this.copy(t).multiplyScalar(e)},projectOnPlane:(Mo=new kt,function(t){return Mo.copy(this).projectOnVector(t),this.sub(Mo)}),reflect:(Eo=new kt,function(t){return this.sub(Eo.copy(t).multiplyScalar(2*this.dot(t)))}),angleTo:function(t){return t=this.dot(t)/Math.sqrt(this.lengthSq()*t.lengthSq()),Math.acos(yo.clamp(t,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n+(t=this.z-t.z)*t},distanceToManhattan:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},setFromSpherical:function(t){var e=Math.sin(t.phi)*t.radius;return this.x=e*Math.sin(t.theta),this.y=Math.cos(t.phi)*t.radius,this.z=e*Math.cos(t.theta),this},setFromCylindrical:function(t){return this.x=t.radius*Math.sin(t.theta),this.y=t.y,this.z=t.radius*Math.cos(t.theta),this},setFromMatrixPosition:function(t){return this.setFromMatrixColumn(t,3)},setFromMatrixScale:function(t){var e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length();return t=this.setFromMatrixColumn(t,2).length(),this.x=e,this.y=n,this.z=t,this},setFromMatrixColumn:function(t,e){return this.fromArray(t.elements,4*e)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}}),Object.assign(Dt.prototype,{isMatrix4:!0,set:function(t,e,n,i,o,r,a,s,l,c,d,u,h,p,f,m){var g=this.elements;return g[0]=t,g[4]=e,g[8]=n,g[12]=i,g[1]=o,g[5]=r,g[9]=a,g[13]=s,g[2]=l,g[6]=c,g[10]=d,g[14]=u,g[3]=h,g[7]=p,g[11]=f,g[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new Dt).fromArray(this.elements)},copy:function(t){var e=this.elements;return t=t.elements,e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],this},copyPosition:function(t){var e=this.elements;return t=t.elements,e[12]=t[12],e[13]=t[13],e[14]=t[14],this},extractBasis:function(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this},extractRotation:($o=new kt,function(t){var e=this.elements,n=t.elements,i=1/$o.setFromMatrixColumn(t,0).length(),o=1/$o.setFromMatrixColumn(t,1).length();return t=1/$o.setFromMatrixColumn(t,2).length(),e[0]=n[0]*i,e[1]=n[1]*i,e[2]=n[2]*i,e[4]=n[4]*o,e[5]=n[5]*o,e[6]=n[6]*o,e[8]=n[8]*t,e[9]=n[9]*t,e[10]=n[10]*t,this}),makeRotationFromEuler:function(t){!1===(t&&t.isEuler)&&console.error("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var e=this.elements,n=t.x,i=t.y,o=t.z,r=Math.cos(n),a=(n=Math.sin(n),Math.cos(i)),s=(i=Math.sin(i),Math.cos(o));o=Math.sin(o);if("XYZ"===t.order){t=r*s;var l=r*o,c=n*s,d=n*o;e[0]=a*s,e[4]=-a*o,e[8]=i,e[1]=l+c*i,e[5]=t-d*i,e[9]=-n*a,e[2]=d-t*i,e[6]=c+l*i,e[10]=r*a}else"YXZ"===t.order?(t=a*s,l=a*o,c=i*s,d=i*o,e[0]=t+d*n,e[4]=c*n-l,e[8]=r*i,e[1]=r*o,e[5]=r*s,e[9]=-n,e[2]=l*n-c,e[6]=d+t*n,e[10]=r*a):"ZXY"===t.order?(t=a*s,l=a*o,c=i*s,d=i*o,e[0]=t-d*n,e[4]=-r*o,e[8]=c+l*n,e[1]=l+c*n,e[5]=r*s,e[9]=d-t*n,e[2]=-r*i,e[6]=n,e[10]=r*a):"ZYX"===t.order?(t=r*s,l=r*o,c=n*s,d=n*o,e[0]=a*s,e[4]=c*i-l,e[8]=t*i+d,e[1]=a*o,e[5]=d*i+t,e[9]=l*i-c,e[2]=-i,e[6]=n*a,e[10]=r*a):"YZX"===t.order?(t=r*a,l=r*i,c=n*a,d=n*i,e[0]=a*s,e[4]=d-t*o,e[8]=c*o+l,e[1]=o,e[5]=r*s,e[9]=-n*s,e[2]=-i*s,e[6]=l*o+c,e[10]=t-d*o):"XZY"===t.order&&(t=r*a,l=r*i,c=n*a,d=n*i,e[0]=a*s,e[4]=-o,e[8]=i*s,e[1]=t*o+d,e[5]=r*s,e[9]=l*o-c,e[2]=c*o-l,e[6]=n*s,e[10]=d*o+t);return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromQuaternion:function(t){var e=this.elements,n=t._x,i=t._y,o=t._z,r=t._w,a=o+o;t=n*(c=n+n);var s=n*(d=i+i),l=(n=n*a,i*d),c=(i=i*a,o=o*a,r*c),d=r*d;r*=a;return e[0]=1-(l+o),e[4]=s-r,e[8]=n+d,e[1]=s+r,e[5]=1-(t+o),e[9]=i-c,e[2]=n-d,e[6]=i+c,e[10]=1-(t+l),e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},lookAt:(Lo=new kt,Io=new kt,Ro=new kt,function(t,e,n){var i=this.elements;return Ro.subVectors(t,e),0===Ro.lengthSq()&&(Ro.z=1),Ro.normalize(),Lo.crossVectors(n,Ro),0===Lo.lengthSq()&&(Ro.z+=1e-4,Lo.crossVectors(n,Ro)),Lo.normalize(),Io.crossVectors(Ro,Lo),i[0]=Lo.x,i[4]=Io.x,i[8]=Ro.x,i[1]=Lo.y,i[5]=Io.y,i[9]=Ro.y,i[2]=Lo.z,i[6]=Io.z,i[10]=Ro.z,this}),multiply:function(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var n=t.elements,i=e.elements,o=this.elements,r=n[0],a=n[4],s=n[8],l=n[12],c=n[1],d=n[5],u=n[9],h=n[13],p=n[2],f=n[6],m=n[10],g=n[14],v=n[3],y=n[7],b=n[11],_=(n=n[15],i[0]),x=i[4],w=i[8],E=i[12],M=i[1],T=i[5],C=i[9],S=i[13],A=i[2],k=i[6],D=i[10],O=i[14],P=i[3],N=i[7],L=i[11];i=i[15];return o[0]=r*_+a*M+s*A+l*P,o[4]=r*x+a*T+s*k+l*N,o[8]=r*w+a*C+s*D+l*L,o[12]=r*E+a*S+s*O+l*i,o[1]=c*_+d*M+u*A+h*P,o[5]=c*x+d*T+u*k+h*N,o[9]=c*w+d*C+u*D+h*L,o[13]=c*E+d*S+u*O+h*i,o[2]=p*_+f*M+m*A+g*P,o[6]=p*x+f*T+m*k+g*N,o[10]=p*w+f*C+m*D+g*L,o[14]=p*E+f*S+m*O+g*i,o[3]=v*_+y*M+b*A+n*P,o[7]=v*x+y*T+b*k+n*N,o[11]=v*w+y*C+b*D+n*L,o[15]=v*E+y*S+b*O+n*i,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},applyToBufferAttribute:(No=new kt,function(t){for(var e=0,n=t.count;e<n;e++)No.x=t.getX(e),No.y=t.getY(e),No.z=t.getZ(e),No.applyMatrix4(this),t.setXYZ(e,No.x,No.y,No.z);return t}),determinant:function(){var t=this.elements,e=t[0],n=t[4],i=t[8],o=t[12],r=t[1],a=t[5],s=t[9],l=t[13],c=t[2],d=t[6],u=t[10],h=t[14];return t[3]*(+o*s*d-i*l*d-o*a*u+n*l*u+i*a*h-n*s*h)+t[7]*(+e*s*h-e*l*u+o*r*u-i*r*h+i*l*c-o*s*c)+t[11]*(+e*l*d-e*a*h-o*r*d+n*r*h+o*a*c-n*l*c)+t[15]*(-i*a*c-e*s*d+e*a*u+i*r*d-n*r*u+n*s*c)},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(t){var e=this.elements;return e[12]=t.x,e[13]=t.y,e[14]=t.z,this},getInverse:function(t,e){var n,i=this.elements,o=(n=t.elements)[0],r=n[1],a=n[2],s=n[3],l=n[4],c=n[5],d=n[6],u=n[7],h=n[8],p=n[9],f=n[10],m=n[11],g=n[12],v=n[13],y=n[14],b=p*y*u-v*f*u+v*d*m-c*y*m-p*d*(n=n[15])+c*f*n,_=g*f*u-h*y*u-g*d*m+l*y*m+h*d*n-l*f*n,x=h*v*u-g*p*u+g*c*m-l*v*m-h*c*n+l*p*n,w=g*p*d-h*v*d-g*c*f+l*v*f+h*c*y-l*p*y,E=o*b+r*_+a*x+s*w;if(0!==E)return E=1/E,i[0]=b*E,i[1]=(v*f*s-p*y*s-v*a*m+r*y*m+p*a*n-r*f*n)*E,i[2]=(c*y*s-v*d*s+v*a*u-r*y*u-c*a*n+r*d*n)*E,i[3]=(p*d*s-c*f*s-p*a*u+r*f*u+c*a*m-r*d*m)*E,i[4]=_*E,i[5]=(h*y*s-g*f*s+g*a*m-o*y*m-h*a*n+o*f*n)*E,i[6]=(g*d*s-l*y*s-g*a*u+o*y*u+l*a*n-o*d*n)*E,i[7]=(l*f*s-h*d*s+h*a*u-o*f*u-l*a*m+o*d*m)*E,i[8]=x*E,i[9]=(g*p*s-h*v*s-g*r*m+o*v*m+h*r*n-o*p*n)*E,i[10]=(l*v*s-g*c*s+g*r*u-o*v*u-l*r*n+o*c*n)*E,i[11]=(h*c*s-l*p*s-h*r*u+o*p*u+l*r*m-o*c*m)*E,i[12]=w*E,i[13]=(h*v*a-g*p*a+g*r*f-o*v*f-h*r*y+o*p*y)*E,i[14]=(g*c*a-l*v*a-g*r*d+o*v*d+l*r*y-o*c*y)*E,i[15]=(l*p*a-h*c*a+h*r*d-o*p*d-l*r*f+o*c*f)*E,this;if(!0===e)throw Error("THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0");return console.warn("THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0"),this.identity()},scale:function(t){var e=this.elements,n=t.x,i=t.y;return t=t.z,e[0]*=n,e[4]*=i,e[8]*=t,e[1]*=n,e[5]*=i,e[9]*=t,e[2]*=n,e[6]*=i,e[10]*=t,e[3]*=n,e[7]*=i,e[11]*=t,this},getMaxScaleOnAxis:function(){var t=this.elements;return Math.sqrt(Math.max(t[0]*t[0]+t[1]*t[1]+t[2]*t[2],t[4]*t[4]+t[5]*t[5]+t[6]*t[6],t[8]*t[8]+t[9]*t[9]+t[10]*t[10]))},makeTranslation:function(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this},makeRotationX:function(t){var e=Math.cos(t);return t=Math.sin(t),this.set(1,0,0,0,0,e,-t,0,0,t,e,0,0,0,0,1),this},makeRotationY:function(t){var e=Math.cos(t);return t=Math.sin(t),this.set(e,0,t,0,0,1,0,0,-t,0,e,0,0,0,0,1),this},makeRotationZ:function(t){var e=Math.cos(t);return t=Math.sin(t),this.set(e,-t,0,0,t,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){var n=Math.cos(e),i=Math.sin(e),o=1-n,r=t.x,a=t.y,s=t.z,l=o*r,c=o*a;return this.set(l*r+n,l*a-i*s,l*s+i*a,0,l*a+i*s,c*a+n,c*s-i*r,0,l*s-i*a,c*s+i*r,o*s*s+n,0,0,0,0,1),this},makeScale:function(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(t,e,n){return this.set(1,e,n,0,t,1,n,0,t,e,1,0,0,0,0,1),this},compose:function(t,e,n){return this.makeRotationFromQuaternion(e),this.scale(n),this.setPosition(t),this},decompose:(Oo=new kt,Po=new Dt,function(t,e,n){var i=this.elements,o=Oo.set(i[0],i[1],i[2]).length(),r=Oo.set(i[4],i[5],i[6]).length(),a=Oo.set(i[8],i[9],i[10]).length();this.determinant()<0&&(o=-o),t.x=i[12],t.y=i[13],t.z=i[14],Po.copy(this),t=1/o,i=1/r;var s=1/a;return Po.elements[0]*=t,Po.elements[1]*=t,Po.elements[2]*=t,Po.elements[4]*=i,Po.elements[5]*=i,Po.elements[6]*=i,Po.elements[8]*=s,Po.elements[9]*=s,Po.elements[10]*=s,e.setFromRotationMatrix(Po),n.x=o,n.y=r,n.z=a,this}),makePerspective:function(t,e,n,i,o,r){void 0===r&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var a=this.elements;return a[0]=2*o/(e-t),a[4]=0,a[8]=(e+t)/(e-t),a[12]=0,a[1]=0,a[5]=2*o/(n-i),a[9]=(n+i)/(n-i),a[13]=0,a[2]=0,a[6]=0,a[10]=-(r+o)/(r-o),a[14]=-2*r*o/(r-o),a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makeOrthographic:function(t,e,n,i,o,r){var a=this.elements,s=1/(e-t),l=1/(n-i),c=1/(r-o);return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-(e+t)*s,a[1]=0,a[5]=2*l,a[9]=0,a[13]=-(n+i)*l,a[2]=0,a[6]=0,a[10]=-2*c,a[14]=-(r+o)*c,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function(t){var e=this.elements;t=t.elements;for(var n=0;n<16;n++)if(e[n]!==t[n])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var n=0;n<16;n++)this.elements[n]=t[n+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}}),((Ot.prototype=Object.create(F.prototype)).constructor=Ot).prototype.isDataTexture=!0,((l.prototype=Object.create(F.prototype)).constructor=l).prototype.isCubeTexture=!0,Object.defineProperty(l.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}});var zo=new F,Ho=new l,Bo=[],Uo=[],jo=new Float32Array(16),Vo=new Float32Array(9);N.prototype.setValue=function(t,e){for(var n=this.seq,i=0,o=n.length;i!==o;++i){var r=n[i];r.setValue(t,e[r.id])}};var Go=/([\w\d_]+)(\])?(\[|\.)?/g;Pt.prototype.setValue=function(t,e,n){void 0!==(e=this.map[e])&&e.setValue(t,n,this.renderer)},Pt.prototype.setOptional=function(t,e,n){void 0!==(e=e[n])&&this.setValue(t,n,e)},Pt.upload=function(t,e,n,i){for(var o=0,r=e.length;o!==r;++o){var a=e[o],s=n[a.id];!1!==s.needsUpdate&&a.setValue(t,s.value,i)}},Pt.seqWithValue=function(t,e){for(var n=[],i=0,o=t.length;i!==o;++i){var r=t[i];r.id in e&&n.push(r)}return n};var Wo={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Object.assign(Nt.prototype,{isColor:!0,r:1,g:1,b:1,set:function(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this},setScalar:function(t){return this.b=this.g=this.r=t,this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,e,n){return this.r=t,this.g=e,this.b=n,this},setHSL:function(){function i(t,e,n){return n<0&&(n+=1),1<n&&--n,n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t}return function(t,e,n){return t=yo.euclideanModulo(t,1),e=yo.clamp(e,0,1),n=yo.clamp(n,0,1),0===e?this.r=this.g=this.b=n:(n=2*n-(e=n<=.5?n*(1+e):n+e-n*e),this.r=i(n,e,t+1/3),this.g=i(n,e,t),this.b=i(n,e,t-1/3)),this}}(),setStyle:function(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var i=n[2];switch(n[1]){case"rgb":case"rgba":if(n=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(i))return this.r=Math.min(255,parseInt(n[1],10))/255,this.g=Math.min(255,parseInt(n[2],10))/255,this.b=Math.min(255,parseInt(n[3],10))/255,t(n[5]),this;if(n=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(i))return this.r=Math.min(100,parseInt(n[1],10))/100,this.g=Math.min(100,parseInt(n[2],10))/100,this.b=Math.min(100,parseInt(n[3],10))/100,t(n[5]),this;break;case"hsl":case"hsla":if(n=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(i)){i=parseFloat(n[1])/360;var o=parseInt(n[2],10)/100,r=parseInt(n[3],10)/100;return t(n[5]),this.setHSL(i,o,r)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(e)){if(3===(i=(n=n[1]).length))return this.r=parseInt(n.charAt(0)+n.charAt(0),16)/255,this.g=parseInt(n.charAt(1)+n.charAt(1),16)/255,this.b=parseInt(n.charAt(2)+n.charAt(2),16)/255,this;if(6===i)return this.r=parseInt(n.charAt(0)+n.charAt(1),16)/255,this.g=parseInt(n.charAt(2)+n.charAt(3),16)/255,this.b=parseInt(n.charAt(4)+n.charAt(5),16)/255,this}return e&&0<e.length&&(void 0!==(n=Wo[e])?this.setHex(n):console.warn("THREE.Color: Unknown color "+e)),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,e){return void 0===e&&(e=2),this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this},copyLinearToGamma:function(t,e){void 0===e&&(e=2);var n=0<e?1/e:1;return this.r=Math.pow(t.r,n),this.g=Math.pow(t.g,n),this.b=Math.pow(t.b,n),this},convertGammaToLinear:function(){var t=this.r,e=this.g,n=this.b;return this.r=t*t,this.g=e*e,this.b=n*n,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){t=t||{h:0,s:0,l:0};var e,n=this.r,i=this.g,o=this.b,r=Math.max(n,i,o),a=((l=Math.min(n,i,o))+r)/2;if(l===r)l=e=0;else{var s=r-l,l=a<=.5?s/(r+l):s/(2-r-l);switch(r){case n:e=(i-o)/s+(i<o?6:0);break;case i:e=(o-n)/s+2;break;case o:e=(n-i)/s+4}e/=6}return t.h=e,t.s=l,t.l=a,t},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(t,e,n){var i=this.getHSL();return i.h+=t,i.s+=e,i.l+=n,this.setHSL(i.h,i.s,i.l),this},add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},sub:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this},equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,e){return void 0===e&&(e=0),this.r=t[e],this.g=t[e+1],this.b=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t},toJSON:function(){return this.getHex()}});var Yo,qo,Xo={common:{diffuse:{value:new Nt(15658734)},opacity:{value:1},map:{value:null},offsetRepeat:{value:new At(0,0,1,1)},specularMap:{value:null},alphaMap:{value:null},envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Y(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Nt(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new Nt(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},offsetRepeat:{value:new At(0,0,1,1)}}},Zo={merge:function(t){for(var e={},n=0;n<t.length;n++){var i,o=this.clone(t[n]);for(i in o)e[i]=o[i]}return e},clone:function(t){var e,n={};for(e in t)for(var i in n[e]={},t[e]){var o=t[e][i];o&&(o.isColor||o.isMatrix3||o.isMatrix4||o.isVector2||o.isVector3||o.isVector4||o.isTexture)?n[e][i]=o.clone():Array.isArray(o)?n[e][i]=o.slice():n[e][i]=o}return n}},Ko={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"\nvec3 transformed = vec3( position );\n",beginnormal_vertex:"\nvec3 objectNormal = vec3( normal );\n",bsdfs:"float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t\t}\n\t\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 ltcTextureCoords( const in GeometricContext geometry, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = (LUT_SIZE - 1.0)/LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5/LUT_SIZE;\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 P = geometry.position;\n\tfloat theta = acos( dot( N, V ) );\n\tvec2 uv = vec2(\n\t\tsqrt( saturate( roughness ) ),\n\t\tsaturate( theta / ( 0.5 * PI ) ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nvoid clipQuadToHorizon( inout vec3 L[5], out int n ) {\n\tint config = 0;\n\tif ( L[0].z > 0.0 ) config += 1;\n\tif ( L[1].z > 0.0 ) config += 2;\n\tif ( L[2].z > 0.0 ) config += 4;\n\tif ( L[3].z > 0.0 ) config += 8;\n\tn = 0;\n\tif ( config == 0 ) {\n\t} else if ( config == 1 ) {\n\t\tn = 3;\n\t\tL[1] = -L[1].z * L[0] + L[0].z * L[1];\n\t\tL[2] = -L[3].z * L[0] + L[0].z * L[3];\n\t} else if ( config == 2 ) {\n\t\tn = 3;\n\t\tL[0] = -L[0].z * L[1] + L[1].z * L[0];\n\t\tL[2] = -L[2].z * L[1] + L[1].z * L[2];\n\t} else if ( config == 3 ) {\n\t\tn = 4;\n\t\tL[2] = -L[2].z * L[1] + L[1].z * L[2];\n\t\tL[3] = -L[3].z * L[0] + L[0].z * L[3];\n\t} else if ( config == 4 ) {\n\t\tn = 3;\n\t\tL[0] = -L[3].z * L[2] + L[2].z * L[3];\n\t\tL[1] = -L[1].z * L[2] + L[2].z * L[1];\n\t} else if ( config == 5 ) {\n\t\tn = 0;\n\t} else if ( config == 6 ) {\n\t\tn = 4;\n\t\tL[0] = -L[0].z * L[1] + L[1].z * L[0];\n\t\tL[3] = -L[3].z * L[2] + L[2].z * L[3];\n\t} else if ( config == 7 ) {\n\t\tn = 5;\n\t\tL[4] = -L[3].z * L[0] + L[0].z * L[3];\n\t\tL[3] = -L[3].z * L[2] + L[2].z * L[3];\n\t} else if ( config == 8 ) {\n\t\tn = 3;\n\t\tL[0] = -L[0].z * L[3] + L[3].z * L[0];\n\t\tL[1] = -L[2].z * L[3] + L[3].z * L[2];\n\t\tL[2] =  L[3];\n\t} else if ( config == 9 ) {\n\t\tn = 4;\n\t\tL[1] = -L[1].z * L[0] + L[0].z * L[1];\n\t\tL[2] = -L[2].z * L[3] + L[3].z * L[2];\n\t} else if ( config == 10 ) {\n\t\tn = 0;\n\t} else if ( config == 11 ) {\n\t\tn = 5;\n\t\tL[4] = L[3];\n\t\tL[3] = -L[2].z * L[3] + L[3].z * L[2];\n\t\tL[2] = -L[2].z * L[1] + L[1].z * L[2];\n\t} else if ( config == 12 ) {\n\t\tn = 4;\n\t\tL[1] = -L[1].z * L[2] + L[2].z * L[1];\n\t\tL[0] = -L[0].z * L[3] + L[3].z * L[0];\n\t} else if ( config == 13 ) {\n\t\tn = 5;\n\t\tL[4] = L[3];\n\t\tL[3] = L[2];\n\t\tL[2] = -L[1].z * L[2] + L[2].z * L[1];\n\t\tL[1] = -L[1].z * L[0] + L[0].z * L[1];\n\t} else if ( config == 14 ) {\n\t\tn = 5;\n\t\tL[4] = -L[0].z * L[3] + L[3].z * L[0];\n\t\tL[0] = -L[0].z * L[1] + L[1].z * L[0];\n\t} else if ( config == 15 ) {\n\t\tn = 4;\n\t}\n\tif ( n == 3 )\n\t\tL[3] = L[0];\n\tif ( n == 4 )\n\t\tL[4] = L[0];\n}\nfloat integrateLtcBrdfOverRectEdge( vec3 v1, vec3 v2 ) {\n\tfloat cosTheta = dot( v1, v2 );\n\tfloat theta = acos( cosTheta );\n\tfloat res = cross( v1, v2 ).z * ( ( theta > 0.001 ) ? theta / sin( theta ) : 1.0 );\n\treturn res;\n}\nvoid initRectPoints( const in vec3 pos, const in vec3 halfWidth, const in vec3 halfHeight, out vec3 rectPoints[4] ) {\n\trectPoints[0] = pos - halfWidth - halfHeight;\n\trectPoints[1] = pos + halfWidth - halfHeight;\n\trectPoints[2] = pos + halfWidth + halfHeight;\n\trectPoints[3] = pos - halfWidth + halfHeight;\n}\nvec3 integrateLtcBrdfOverRect( const in GeometricContext geometry, const in mat3 brdfMat, const in vec3 rectPoints[4] ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 P = geometry.position;\n\tvec3 T1, T2;\n\tT1 = normalize(V - N * dot( V, N ));\n\tT2 = - cross( N, T1 );\n\tmat3 brdfWrtSurface = brdfMat * transpose( mat3( T1, T2, N ) );\n\tvec3 clippedRect[5];\n\tclippedRect[0] = brdfWrtSurface * ( rectPoints[0] - P );\n\tclippedRect[1] = brdfWrtSurface * ( rectPoints[1] - P );\n\tclippedRect[2] = brdfWrtSurface * ( rectPoints[2] - P );\n\tclippedRect[3] = brdfWrtSurface * ( rectPoints[3] - P );\n\tint n;\n\tclipQuadToHorizon(clippedRect, n);\n\tif ( n == 0 )\n\t\treturn vec3( 0, 0, 0 );\n\tclippedRect[0] = normalize( clippedRect[0] );\n\tclippedRect[1] = normalize( clippedRect[1] );\n\tclippedRect[2] = normalize( clippedRect[2] );\n\tclippedRect[3] = normalize( clippedRect[3] );\n\tclippedRect[4] = normalize( clippedRect[4] );\n\tfloat sum = 0.0;\n\tsum += integrateLtcBrdfOverRectEdge( clippedRect[0], clippedRect[1] );\n\tsum += integrateLtcBrdfOverRectEdge( clippedRect[1], clippedRect[2] );\n\tsum += integrateLtcBrdfOverRectEdge( clippedRect[2], clippedRect[3] );\n\tif (n >= 4)\n\t\tsum += integrateLtcBrdfOverRectEdge( clippedRect[3], clippedRect[4] );\n\tif (n == 5)\n\t\tsum += integrateLtcBrdfOverRectEdge( clippedRect[4], clippedRect[0] );\n\tsum = max( 0.0, sum );\n\tvec3 Lo_i = vec3( sum, sum, sum );\n\treturn Lo_i/(2.0 * PI);\n}\nfloat ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length(f);\n\treturn max((l*l + f.z)/(l+1.0), 0.0);\n}\nvec3 EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot(v1, v2);\n\tfloat y = abs(x);\n\tfloat a = 0.86267 + (0.49788 + 0.01436*y)*y;\n\tfloat b = 3.45068 + (4.18814 + y)*y;\n\tfloat v = a/b;\n\tfloat theta_sintheta = (x > 0.0) ? v : 0.5*inversesqrt(1.0 - x*x) - v;\n\treturn cross(v1, v2)*theta_sintheta;\n}\nvec3 integrateLtcBrdfOverRectOptimized( const in GeometricContext geometry, const in mat3 brdfMat, const in vec3 rectPoints[4] ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 P = geometry.position;\n\tvec3 T1, T2;\n\tT1 = normalize(V - N * dot( V, N ));\n\tT2 = - cross( N, T1 );\n\tmat3 brdfWrtSurface = brdfMat * transpose( mat3( T1, T2, N ) );\n\tvec3 clippedRect[4];\n\tclippedRect[0] = brdfWrtSurface * ( rectPoints[0] - P );\n\tclippedRect[1] = brdfWrtSurface * ( rectPoints[1] - P );\n\tclippedRect[2] = brdfWrtSurface * ( rectPoints[2] - P );\n\tclippedRect[3] = brdfWrtSurface * ( rectPoints[3] - P );\n\tvec3 v1 = clippedRect[1] - clippedRect[0];\n\tvec3 v2 = clippedRect[3] - clippedRect[0];\n\tvec3 lightNormal = cross(v1, v2);\n\tbool bSameSide = dot(lightNormal, clippedRect[0]) > 0.0;\n\tif( !bSameSide )\n\t\treturn vec3(0.0);\n\tclippedRect[0] = normalize( clippedRect[0] );\n\tclippedRect[1] = normalize( clippedRect[1] );\n\tclippedRect[2] = normalize( clippedRect[2] );\n\tclippedRect[3] = normalize( clippedRect[3] );\n\tvec3 edgeVectorFormFactor = vec3(0.0);\n\tedgeVectorFormFactor += EdgeVectorFormFactor( clippedRect[0], clippedRect[1] );\n\tedgeVectorFormFactor += EdgeVectorFormFactor( clippedRect[1], clippedRect[2] );\n\tedgeVectorFormFactor += EdgeVectorFormFactor( clippedRect[2], clippedRect[3] );\n\tedgeVectorFormFactor += EdgeVectorFormFactor( clippedRect[3], clippedRect[0] );\n\tvec3 Lo_i = vec3( ClippedSphereFormFactor( edgeVectorFormFactor ) );\n\treturn Lo_i;\n}\nvec3 Rect_Area_Light_Specular_Reflectance(\n\t\tconst in GeometricContext geometry,\n\t\tconst in vec3 lightPos, const in vec3 lightHalfWidth, const in vec3 lightHalfHeight,\n\t\tconst in float roughness,\n\t\tconst in sampler2D ltcMat, const in sampler2D ltcMag ) {\n\tvec3 rectPoints[4];\n\tinitRectPoints( lightPos, lightHalfWidth, lightHalfHeight, rectPoints );\n\tvec2 uv = ltcTextureCoords( geometry, roughness );\n\tvec4 brdfLtcApproxParams, t;\n\tbrdfLtcApproxParams = texture2D( ltcMat, uv );\n\tt = texture2D( ltcMat, uv );\n\tfloat brdfLtcScalar = texture2D( ltcMag, uv ).a;\n\tmat3 brdfLtcApproxMat = mat3(\n\t\tvec3(   1,   0, t.y ),\n\t\tvec3(   0, t.z,   0 ),\n\t\tvec3( t.w,   0, t.x )\n\t);\n\tvec3 specularReflectance = integrateLtcBrdfOverRectOptimized( geometry, brdfLtcApproxMat, rectPoints );\n\tspecularReflectance *= brdfLtcScalar;\n\treturn specularReflectance;\n}\nvec3 Rect_Area_Light_Diffuse_Reflectance(\n\t\tconst in GeometricContext geometry,\n\t\tconst in vec3 lightPos, const in vec3 lightHalfWidth, const in vec3 lightHalfHeight ) {\n\tvec3 rectPoints[4];\n\tinitRectPoints( lightPos, lightHalfWidth, lightHalfHeight, rectPoints );\n\tmat3 diffuseBrdfMat = mat3(1);\n\tvec3 diffuseReflectance = integrateLtcBrdfOverRectOptimized( geometry, diffuseBrdfMat, rectPoints );\n\treturn diffuseReflectance;\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos );\n\t\tvec3 vSigmaY = dFdy( surf_pos );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; ++ i ) {\n\t\tvec4 plane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t\t\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; ++ i ) {\n\t\t\tvec4 plane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t\n\t#endif\n#endif\n",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transpose( const in mat3 v ) {\n\tmat3 tmp;\n\ttmp[0] = vec3(v[0].x, v[1].x, v[2].x);\n\ttmp[1] = vec3(v[0].y, v[1].y, v[2].y);\n\ttmp[2] = vec3(v[0].z, v[1].z, v[2].z);\n\treturn tmp;\n}\n",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n",defaultnormal_vertex:"#ifdef FLIP_SIDED\n\tobjectNormal = -objectNormal;\n#endif\nvec3 transformedNormal = normalMatrix * objectNormal;\n",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normal * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n",encodings_fragment:"  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM            = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat D      = max( maxRange / maxRGB, 1.0 );\n\tD            = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract(Le);\n\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max(vRGB, 0.0), 1.0 );\n}\n",envmap_fragment:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\tvec3 reflectView = flipNormal * normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n",envmap_pars_fragment:"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n",envmap_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n",fog_vertex:"\n#ifdef USE_FOG\nfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n  varying float fogDepth;\n#endif\n",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif\n",gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif\n",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n",lights_pars:"uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltcMat;\tuniform sampler2D ltcMag;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = saturate( reflectVec.y * 0.5 + 0.5 );\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_BlinnPhong( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 matDiffColor = material.diffuseColor;\n\t\tvec3 matSpecColor = material.specularColor;\n\t\tvec3 lightColor   = rectAreaLight.color;\n\t\tfloat roughness = BlinnExponentToGGXRoughness( material.specularShininess );\n\t\tvec3 spec = Rect_Area_Light_Specular_Reflectance(\n\t\t\t\tgeometry,\n\t\t\t\trectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight,\n\t\t\t\troughness,\n\t\t\t\tltcMat, ltcMag );\n\t\tvec3 diff = Rect_Area_Light_Diffuse_Reflectance(\n\t\t\t\tgeometry,\n\t\t\t\trectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight );\n\t\treflectedLight.directSpecular += lightColor * matSpecColor * spec;\n\t\treflectedLight.directDiffuse  += lightColor * matDiffColor * diff;\n\t}\n#endif\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 matDiffColor = material.diffuseColor;\n\t\tvec3 matSpecColor = material.specularColor;\n\t\tvec3 lightColor   = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 spec = Rect_Area_Light_Specular_Reflectance(\n\t\t\t\tgeometry,\n\t\t\t\trectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight,\n\t\t\t\troughness,\n\t\t\t\tltcMat, ltcMag );\n\t\tvec3 diff = Rect_Area_Light_Diffuse_Reflectance(\n\t\t\t\tgeometry,\n\t\t\t\trectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight );\n\t\treflectedLight.directSpecular += lightColor * matSpecColor * spec;\n\t\treflectedLight.directDiffuse  += lightColor * matDiffColor * diff;\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",lights_template:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\t#ifndef STANDARD\n\t\tvec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\n\t#else\n\t\tvec3 clearCoatRadiance = vec3( 0.0 );\n\t#endif\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n",logdepthbuf_fragment:"#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\n\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n\t#endif\n#endif\n",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n",map_particle_fragment:"#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform vec4 offsetRepeat;\n\tuniform sampler2D map;\n#endif\n",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif\n",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n",normal_flip:"#ifdef DOUBLE_SIDED\n\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n#else\n\tfloat flipNormal = 1.0;\n#endif\n",normal_fragment:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal ) * flipNormal;\n#endif\n#ifdef USE_NORMALMAP\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 1.0 - 2.0 * rgb.xyz;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",project_vertex:"#ifdef USE_SKINNING\n\tvec4 mvPosition = modelViewMatrix * skinned;\n#else\n\tvec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n#endif\ngl_Position = projectionMatrix * mvPosition;\n",dithering_fragment:"#if defined( DITHERING )\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif\n",dithering_pars_fragment:"#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif\n",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif\n",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn 1.0;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\tfloat dp = ( length( lightToPosition ) - shadowBias ) / 1000.0;\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\tskinned  = bindMatrixInverse * skinned;\n#endif\n",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",tonemapping_pars_fragment:"#define saturate(a) clamp( a, 0.0, 1.0 )\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",uv_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform vec4 offsetRepeat;\n#endif\n",uv_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( PHYSICAL ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n\t#ifdef USE_SKINNING\n\t\tvec4 worldPosition = modelMatrix * skinned;\n\t#else\n\t\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n\t#endif\n#endif\n",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n",cube_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",distanceRGBA_frag:"uniform vec3 lightPos;\nvarying vec4 vWorldPosition;\n#include <common>\n#include <packing>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tgl_FragColor = packDepthToRGBA( length( vWorldPosition.xyz - lightPos.xyz ) / 1000.0 );\n}\n",distanceRGBA_vert:"varying vec4 vWorldPosition;\n#include <common>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition;\n}\n",equirect_frag:"uniform sampler2D tEquirect;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n",equirect_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <normal_flip>\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}\n",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <normal_flip>\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshphysical_frag:"#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshphysical_vert:"#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}\n",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}\n",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",shadow_frag:"uniform float opacity;\n#include <common>\n#include <packing>\n#include <bsdfs>\n#include <lights_pars>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( 0.0, 0.0, 0.0, opacity * ( 1.0 - getShadowMask() ) );\n}\n",shadow_vert:"#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n"},Qo={basic:{uniforms:Zo.merge([Xo.common,Xo.aomap,Xo.lightmap,Xo.fog]),vertexShader:Ko.meshbasic_vert,fragmentShader:Ko.meshbasic_frag},lambert:{uniforms:Zo.merge([Xo.common,Xo.aomap,Xo.lightmap,Xo.emissivemap,Xo.fog,Xo.lights,{emissive:{value:new Nt(0)}}]),vertexShader:Ko.meshlambert_vert,fragmentShader:Ko.meshlambert_frag},phong:{uniforms:Zo.merge([Xo.common,Xo.aomap,Xo.lightmap,Xo.emissivemap,Xo.bumpmap,Xo.normalmap,Xo.displacementmap,Xo.gradientmap,Xo.fog,Xo.lights,{emissive:{value:new Nt(0)},specular:{value:new Nt(1118481)},shininess:{value:30}}]),vertexShader:Ko.meshphong_vert,fragmentShader:Ko.meshphong_frag},standard:{uniforms:Zo.merge([Xo.common,Xo.aomap,Xo.lightmap,Xo.emissivemap,Xo.bumpmap,Xo.normalmap,Xo.displacementmap,Xo.roughnessmap,Xo.metalnessmap,Xo.fog,Xo.lights,{emissive:{value:new Nt(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:Ko.meshphysical_vert,fragmentShader:Ko.meshphysical_frag},points:{uniforms:Zo.merge([Xo.points,Xo.fog]),vertexShader:Ko.points_vert,fragmentShader:Ko.points_frag},dashed:{uniforms:Zo.merge([Xo.common,Xo.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ko.linedashed_vert,fragmentShader:Ko.linedashed_frag},depth:{uniforms:Zo.merge([Xo.common,Xo.displacementmap]),vertexShader:Ko.depth_vert,fragmentShader:Ko.depth_frag},normal:{uniforms:Zo.merge([Xo.common,Xo.bumpmap,Xo.normalmap,Xo.displacementmap,{opacity:{value:1}}]),vertexShader:Ko.normal_vert,fragmentShader:Ko.normal_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Ko.cube_vert,fragmentShader:Ko.cube_frag},equirect:{uniforms:{tEquirect:{value:null},tFlip:{value:-1}},vertexShader:Ko.equirect_vert,fragmentShader:Ko.equirect_frag},distanceRGBA:{uniforms:{lightPos:{value:new kt}},vertexShader:Ko.distanceRGBA_vert,fragmentShader:Ko.distanceRGBA_frag}};Qo.physical={uniforms:Zo.merge([Qo.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:Ko.meshphysical_vert,fragmentShader:Ko.meshphysical_frag},Object.assign(R.prototype,{set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:(qo=new Y,function(t,e){var n=qo.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(t){return t=t||new Y,this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){return t=t||new Y,this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y},getParameter:function(t,e){return(e||new Y).set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)},clampPoint:function(t,e){return(e||new Y).copy(t).clamp(this.min,this.max)},distanceToPoint:(Yo=new Y,function(t){return Yo.copy(t).clamp(this.min,this.max).sub(t).length()}),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}});var Jo,tr,er,nr,ir,or,rr,ar,sr,lr,cr,dr,ur,hr,pr,fr,mr,gr,vr,yr,br,_r,xr,wr,Er,Mr,Tr,Cr,Sr,Ar,kr=0;Object.assign(L.prototype,e.prototype,{isMaterial:!0,setValues:function(t){if(void 0!==t)for(var e in t){var n=t[e];if(void 0===n)console.warn("THREE.Material: '"+e+"' parameter is undefined.");else{var i=this[e];void 0===i?console.warn("THREE."+this.type+": '"+e+"' is not a property of this material."):i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[e]="overdraw"===e?Number(n):n}}},toJSON:function(t){function e(t){var e,n=[];for(e in t){var i=t[e];delete i.metadata,n.push(i)}return n}var n=void 0===t;n&&(t={textures:{},images:{}});var i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};return i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),void 0!==this.clearCoat&&(i.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(i.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(t).uuid),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(t).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(t).uuid,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(t).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(t).uuid,i.reflectivity=this.reflectivity),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.size&&(i.size=this.size),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(i.blending=this.blending),2!==this.shading&&(i.shading=this.shading),0!==this.side&&(i.side=this.side),0!==this.vertexColors&&(i.vertexColors=this.vertexColors),this.opacity<1&&(i.opacity=this.opacity),!0===this.transparent&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,0<this.alphaTest&&(i.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(i.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(i.wireframe=this.wireframe),1<this.wireframeLinewidth&&(i.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(i.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(i.wireframeLinejoin=this.wireframeLinejoin),i.skinning=this.skinning,i.morphTargets=this.morphTargets,i.dithering=this.dithering,n&&(n=e(t.textures),t=e(t.images),0<n.length&&(i.textures=n),0<t.length&&(i.images=t)),i},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.lights=t.lights,this.blending=t.blending,this.side=t.side,this.shading=t.shading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.overdraw=t.overdraw,this.visible=t.visible,this.clipShadows=t.clipShadows,this.clipIntersection=t.clipIntersection;var e=null;if(null!==(t=t.clippingPlanes))for(var n=t.length,i=(e=Array(n),0);i!==n;++i)e[i]=t[i].clone();return this.clippingPlanes=e,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),((Rt.prototype=Object.create(L.prototype)).constructor=Rt).prototype.isShaderMaterial=!0,Rt.prototype.copy=function(t){return L.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=Zo.clone(t.uniforms),this.defines=t.defines,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=t.extensions,this},Rt.prototype.toJSON=function(t){return(t=L.prototype.toJSON.call(this,t)).uniforms=this.uniforms,t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t},((I.prototype=Object.create(L.prototype)).constructor=I).prototype.isMeshDepthMaterial=!0,I.prototype.copy=function(t){return L.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},Object.assign($.prototype,{isBox3:!0,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromArray:function(t){for(var e=1/0,n=1/0,i=1/0,o=-1/0,r=-1/0,a=-1/0,s=0,l=t.length;s<l;s+=3){var c=t[s],d=t[s+1],u=t[s+2];c<e&&(e=c),d<n&&(n=d),u<i&&(i=u),o<c&&(o=c),r<d&&(r=d),a<u&&(a=u)}return this.min.set(e,n,i),this.max.set(o,r,a),this},setFromBufferAttribute:function(t){for(var e=1/0,n=1/0,i=1/0,o=-1/0,r=-1/0,a=-1/0,s=0,l=t.count;s<l;s++){var c=t.getX(s),d=t.getY(s),u=t.getZ(s);c<e&&(e=c),d<n&&(n=d),u<i&&(i=u),o<c&&(o=c),r<d&&(r=d),a<u&&(a=u)}return this.min.set(e,n,i),this.max.set(o,r,a),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:(or=new kt,function(t,e){var n=or.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}),setFromObject:function(t){return this.makeEmpty(),this.expandByObject(t)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(t){return t=t||new kt,this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){return t=t||new kt,this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},expandByObject:(ir=new kt,function(t){var o=this;return t.updateMatrixWorld(!0),t.traverse(function(t){var e,n;if(void 0!==(e=t.geometry))if(e.isGeometry){var i=e.vertices;for(e=0,n=i.length;e<n;e++)ir.copy(i[e]),ir.applyMatrix4(t.matrixWorld),o.expandByPoint(ir)}else if(e.isBufferGeometry&&void 0!==(i=e.attributes.position))for(e=0,n=i.count;e<n;e++)ir.fromBufferAttribute(i,e).applyMatrix4(t.matrixWorld),o.expandByPoint(ir)}),this}),containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(t,e){return(e||new kt).set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},intersectsSphere:(nr=new kt,function(t){return this.clampPoint(t.center,nr),nr.distanceToSquared(t.center)<=t.radius*t.radius}),intersectsPlane:function(t){var e,n;return n=0<t.normal.x?(e=t.normal.x*this.min.x,t.normal.x*this.max.x):(e=t.normal.x*this.max.x,t.normal.x*this.min.x),0<t.normal.y?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),0<t.normal.z?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=t.constant&&n>=t.constant},clampPoint:function(t,e){return(e||new kt).copy(t).clamp(this.min,this.max)},distanceToPoint:(er=new kt,function(t){return er.copy(t).clamp(this.min,this.max).sub(t).length()}),getBoundingSphere:(tr=new kt,function(t){return t=t||new z,this.getCenter(t.center),t.radius=.5*this.getSize(tr).length(),t}),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:(Jo=[new kt,new kt,new kt,new kt,new kt,new kt,new kt,new kt],function(t){return this.isEmpty()||(Jo[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),Jo[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),Jo[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),Jo[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),Jo[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),Jo[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),Jo[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),Jo[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(Jo)),this}),translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}),Object.assign(z.prototype,{set:function(t,e){return this.center.copy(t),this.radius=e,this},setFromPoints:(rr=new $,function(t,e){var n=this.center;void 0!==e?n.copy(e):rr.setFromPoints(t).getCenter(n);for(var i=0,o=0,r=t.length;o<r;o++)i=Math.max(i,n.distanceToSquared(t[o]));return this.radius=Math.sqrt(i),this}),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},empty:function(){return this.radius<=0},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},intersectsBox:function(t){return t.intersectsSphere(this)},intersectsPlane:function(t){return Math.abs(this.center.dot(t.normal)-t.constant)<=this.radius},clampPoint:function(t,e){var n=this.center.distanceToSquared(t),i=e||new kt;return i.copy(t),n>this.radius*this.radius&&(i.sub(this.center).normalize(),i.multiplyScalar(this.radius).add(this.center)),i},getBoundingBox:function(t){return(t=t||new $).set(this.center,this.center),t.expandByScalar(this.radius),t},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius*=t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius}}),Object.assign(H.prototype,{isMatrix3:!0,set:function(t,e,n,i,o,r,a,s,l){var c=this.elements;return c[0]=t,c[1]=i,c[2]=a,c[3]=e,c[4]=o,c[5]=s,c[6]=n,c[7]=r,c[8]=l,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(t){var e=this.elements;return t=t.elements,e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],this},setFromMatrix4:function(t){return t=t.elements,this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},applyToBufferAttribute:(ar=new kt,function(t){for(var e=0,n=t.count;e<n;e++)ar.x=t.getX(e),ar.y=t.getY(e),ar.z=t.getZ(e),ar.applyMatrix3(this),t.setXYZ(e,ar.x,ar.y,ar.z);return t}),multiply:function(t){return this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var n=t.elements,i=e.elements,o=this.elements,r=n[0],a=n[3],s=n[6],l=n[1],c=n[4],d=n[7],u=n[2],h=n[5],p=(n=n[8],i[0]),f=i[3],m=i[6],g=i[1],v=i[4],y=i[7],b=i[2],_=i[5];i=i[8];return o[0]=r*p+a*g+s*b,o[3]=r*f+a*v+s*_,o[6]=r*m+a*y+s*i,o[1]=l*p+c*g+d*b,o[4]=l*f+c*v+d*_,o[7]=l*m+c*y+d*i,o[2]=u*p+h*g+n*b,o[5]=u*f+h*v+n*_,o[8]=u*m+h*y+n*i,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},determinant:function(){var t,e=(t=this.elements)[0],n=t[1],i=t[2],o=t[3],r=t[4],a=t[5],s=t[6],l=t[7];return e*r*(t=t[8])-e*a*l-n*o*t+n*a*s+i*o*l-i*r*s},getInverse:function(t,e){t&&t.isMatrix4&&console.error("THREE.Matrix3.getInverse no longer takes a Matrix4 argument.");var n=t.elements,i=this.elements,o=n[0],r=n[1],a=n[2],s=n[3],l=n[4],c=n[5],d=n[6],u=n[7],h=(n=n[8])*l-c*u,p=c*d-n*s,f=u*s-l*d,m=o*h+r*p+a*f;if(0!==m)return m=1/m,i[0]=h*m,i[1]=(a*u-n*r)*m,i[2]=(c*r-a*l)*m,i[3]=p*m,i[4]=(n*o-a*d)*m,i[5]=(a*s-c*o)*m,i[6]=f*m,i[7]=(r*d-u*o)*m,i[8]=(l*o-r*s)*m,this;if(!0===e)throw Error("THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0");return console.warn("THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0"),this.identity()},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},getNormalMatrix:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},transposeIntoArray:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this},equals:function(t){var e=this.elements;t=t.elements;for(var n=0;n<9;n++)if(e[n]!==t[n])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var n=0;n<9;n++)this.elements[n]=t[n+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}}),Object.assign(B.prototype,{set:function(t,e){return this.normal.copy(t),this.constant=e,this},setComponents:function(t,e,n,i){return this.normal.set(t,e,n),this.constant=i,this},setFromNormalAndCoplanarPoint:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this},setFromCoplanarPoints:(dr=new kt,ur=new kt,function(t,e,n){return e=dr.subVectors(n,e).cross(ur.subVectors(t,e)).normalize(),this.setFromNormalAndCoplanarPoint(e,t),this}),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,e){return this.orthoPoint(t,e).sub(t).negate()},orthoPoint:function(t,e){var n=this.distanceToPoint(t);return(e||new kt).copy(this.normal).multiplyScalar(n)},intersectLine:(cr=new kt,function(t,e){var n=e||new kt,i=t.delta(cr),o=this.normal.dot(i);return 0!==o?(o=-(t.start.dot(this.normal)+this.constant)/o)<0||1<o?void 0:n.copy(i).multiplyScalar(o).add(t.start):0===this.distanceToPoint(t.start)?n.copy(t.start):void 0}),intersectsLine:function(t){var e=this.distanceToPoint(t.start);return t=this.distanceToPoint(t.end),e<0&&0<t||t<0&&0<e},intersectsBox:function(t){return t.intersectsPlane(this)},intersectsSphere:function(t){return t.intersectsPlane(this)},coplanarPoint:function(t){return(t||new kt).copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:(sr=new kt,lr=new H,function(t,e){var n=this.coplanarPoint(sr).applyMatrix4(t),i=e||lr.getNormalMatrix(t);return i=this.normal.applyMatrix3(i).normalize(),this.constant=-n.dot(i),this}),translate:function(t){return this.constant-=t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}}),Object.assign($t.prototype,{set:function(t,e,n,i,o,r){var a=this.planes;return a[0].copy(t),a[1].copy(e),a[2].copy(n),a[3].copy(i),a[4].copy(o),a[5].copy(r),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){for(var e=this.planes,n=0;n<6;n++)e[n].copy(t.planes[n]);return this},setFromMatrix:function(t){var e=this.planes;t=(g=t.elements)[0];var n=g[1],i=g[2],o=g[3],r=g[4],a=g[5],s=g[6],l=g[7],c=g[8],d=g[9],u=g[10],h=g[11],p=g[12],f=g[13],m=g[14],g=g[15];return e[0].setComponents(o-t,l-r,h-c,g-p).normalize(),e[1].setComponents(o+t,l+r,h+c,g+p).normalize(),e[2].setComponents(o+n,l+a,h+d,g+f).normalize(),e[3].setComponents(o-n,l-a,h-d,g-f).normalize(),e[4].setComponents(o-i,l-s,h-u,g-m).normalize(),e[5].setComponents(o+i,l+s,h+u,g+m).normalize(),this},intersectsObject:(mr=new z,function(t){var e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),mr.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(mr)}),intersectsSprite:(fr=new z,function(t){return fr.center.set(0,0,0),fr.radius=.7071067811865476,fr.applyMatrix4(t.matrixWorld),this.intersectsSphere(fr)}),intersectsSphere:function(t){var e=this.planes,n=t.center;t=-t.radius;for(var i=0;i<6;i++)if(e[i].distanceToPoint(n)<t)return!1;return!0},intersectsBox:(hr=new kt,pr=new kt,function(t){for(var e=this.planes,n=0;n<6;n++){var i=e[n];hr.x=0<i.normal.x?t.min.x:t.max.x,pr.x=0<i.normal.x?t.max.x:t.min.x,hr.y=0<i.normal.y?t.min.y:t.max.y,pr.y=0<i.normal.y?t.max.y:t.min.y,hr.z=0<i.normal.z?t.min.z:t.max.z,pr.z=0<i.normal.z?t.max.z:t.min.z;var o=i.distanceToPoint(hr);if(i=i.distanceToPoint(pr),o<0&&i<0)return!1}return!0}),containsPoint:function(t){for(var e=this.planes,n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}}),Object.assign(U.prototype,{set:function(t,e){return this.origin.copy(t),this.direction.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},at:function(t,e){return(e||new kt).copy(this.direction).multiplyScalar(t).add(this.origin)},lookAt:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this},recast:(Cr=new kt,function(t){return this.origin.copy(this.at(t,Cr)),this}),closestPointToPoint:function(t,e){var n=e||new kt;n.subVectors(t,this.origin);var i=n.dot(this.direction);return i<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(i).add(this.origin)},distanceToPoint:function(t){return Math.sqrt(this.distanceSqToPoint(t))},distanceSqToPoint:(Tr=new kt,function(t){var e=Tr.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(Tr.copy(this.direction).multiplyScalar(e).add(this.origin),Tr.distanceToSquared(t))}),distanceSqToSegment:(wr=new kt,Er=new kt,Mr=new kt,function(t,e,n,i){wr.copy(t).add(e).multiplyScalar(.5),Er.copy(e).sub(t).normalize(),Mr.copy(this.origin).sub(wr);var o,r=.5*t.distanceTo(e),a=-this.direction.dot(Er),s=Mr.dot(this.direction),l=-Mr.dot(Er),c=Mr.lengthSq(),d=Math.abs(1-a*a);return a=0<d?(e=a*s-l,o=r*d,0<=(t=a*l-s)?-o<=e?e<=o?(t*=r=1/d)*(t+a*(e*=r)+2*s)+e*(a*t+e+2*l)+c:(e=r,-(t=Math.max(0,-(a*e+s)))*t+e*(e+2*l)+c):(e=-r,-(t=Math.max(0,-(a*e+s)))*t+e*(e+2*l)+c):e<=-o?-(t=Math.max(0,-(-a*r+s)))*t+(e=0<t?-r:Math.min(Math.max(-r,-l),r))*(e+2*l)+c:e<=o?(t=0,(e=Math.min(Math.max(-r,-l),r))*(e+2*l)+c):-(t=Math.max(0,-(a*r+s)))*t+(e=0<t?r:Math.min(Math.max(-r,-l),r))*(e+2*l)+c):(e=0<a?-r:r,-(t=Math.max(0,-(a*e+s)))*t+e*(e+2*l)+c),n&&n.copy(this.direction).multiplyScalar(t).add(this.origin),i&&i.copy(Er).multiplyScalar(e).add(wr),a}),intersectSphere:(xr=new kt,function(t,e){xr.subVectors(t.center,this.origin);var n=xr.dot(this.direction),i=xr.dot(xr)-n*n,o=t.radius*t.radius;return o<i?null:(i=n-(o=Math.sqrt(o-i)),n+=o,i<0&&n<0?null:i<0?this.at(n,e):this.at(i,e))}),intersectsSphere:function(t){return this.distanceToPoint(t.center)<=t.radius},distanceToPlane:function(t){var e=t.normal.dot(this.direction);return 0===e?0===t.distanceToPoint(this.origin)?0:null:0<=(t=-(this.origin.dot(t.normal)+t.constant)/e)?t:null},intersectPlane:function(t,e){var n=this.distanceToPlane(t);return null===n?null:this.at(n,e)},intersectsPlane:function(t){var e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0},intersectBox:function(t,e){var n,i,o,r,a;i=1/this.direction.x,r=1/this.direction.y,a=1/this.direction.z;var s=this.origin;return 0<=i?(n=(t.min.x-s.x)*i,i*=t.max.x-s.x):(n=(t.max.x-s.x)*i,i*=t.min.x-s.x),0<=r?(o=(t.min.y-s.y)*r,r*=t.max.y-s.y):(o=(t.max.y-s.y)*r,r*=t.min.y-s.y),r<n||i<o?null:((n<o||n!=n)&&(n=o),(r<i||i!=i)&&(i=r),0<=a?(o=(t.min.z-s.z)*a,a*=t.max.z-s.z):(o=(t.max.z-s.z)*a,a*=t.min.z-s.z),a<n||i<o?null:((n<o||n!=n)&&(n=o),(a<i||i!=i)&&(i=a),i<0?null:this.at(0<=n?n:i,e)))},intersectsBox:(_r=new kt,function(t){return null!==this.intersectBox(t,_r)}),intersectTriangle:(gr=new kt,vr=new kt,yr=new kt,br=new kt,function(t,e,n,i,o){if(vr.subVectors(e,t),yr.subVectors(n,t),br.crossVectors(vr,yr),0<(e=this.direction.dot(br))){if(i)return null;i=1}else{if(!(e<0))return null;i=-1,e=-e}return gr.subVectors(this.origin,t),(t=i*this.direction.dot(yr.crossVectors(gr,yr)))<0?null:(n=i*this.direction.dot(vr.cross(gr)))<0||e<t+n?null:(t=-i*gr.dot(br))<0?null:this.at(t/e,o)}),applyMatrix4:function(t){return this.direction.add(this.origin).applyMatrix4(t),this.origin.applyMatrix4(t),this.direction.sub(this.origin),this.direction.normalize(),this},equals:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}}),j.RotationOrders="XYZ YZX ZXY XZY YXZ ZYX".split(" "),j.DefaultOrder="XYZ",Object.defineProperties(j.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(t){this._order=t,this.onChangeCallback()}}}),Object.assign(j.prototype,{isEuler:!0,set:function(t,e,n,i){return this._x=t,this._y=e,this._z=n,this._order=i||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this.onChangeCallback(),this},setFromRotationMatrix:function(t,e,n){var i=yo.clamp;t=(u=t.elements)[0];var o=u[4],r=u[8],a=u[1],s=u[5],l=u[9],c=u[2],d=u[6],u=u[10];return"XYZ"===(e=e||this._order)?(this._y=Math.asin(i(r,-1,1)),Math.abs(r)<.99999?(this._x=Math.atan2(-l,u),this._z=Math.atan2(-o,t)):(this._x=Math.atan2(d,s),this._z=0)):"YXZ"===e?(this._x=Math.asin(-i(l,-1,1)),Math.abs(l)<.99999?(this._y=Math.atan2(r,u),this._z=Math.atan2(a,s)):(this._y=Math.atan2(-c,t),this._z=0)):"ZXY"===e?(this._x=Math.asin(i(d,-1,1)),Math.abs(d)<.99999?(this._y=Math.atan2(-c,u),this._z=Math.atan2(-o,s)):(this._y=0,this._z=Math.atan2(a,t))):"ZYX"===e?(this._y=Math.asin(-i(c,-1,1)),Math.abs(c)<.99999?(this._x=Math.atan2(d,u),this._z=Math.atan2(a,t)):(this._x=0,this._z=Math.atan2(-o,s))):"YZX"===e?(this._z=Math.asin(i(a,-1,1)),Math.abs(a)<.99999?(this._x=Math.atan2(-l,s),this._y=Math.atan2(-c,t)):(this._x=0,this._y=Math.atan2(r,u))):"XZY"===e?(this._z=Math.asin(-i(o,-1,1)),Math.abs(o)<.99999?(this._x=Math.atan2(d,s),this._y=Math.atan2(r,t)):(this._x=Math.atan2(-l,u),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+e),this._order=e,!1!==n&&this.onChangeCallback(),this},setFromQuaternion:(Ar=new Dt,function(t,e,n){return Ar.makeRotationFromQuaternion(t),this.setFromRotationMatrix(Ar,e,n)}),setFromVector3:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},reorder:(Sr=new s,function(t){return Sr.setFromEuler(this),this.setFromQuaternion(Sr,t)}),equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new kt(this._x,this._y,this._z)},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}}),Object.assign(V.prototype,{set:function(t){this.mask=1<<t|0},enable:function(t){this.mask=this.mask|1<<t|0},toggle:function(t){this.mask^=1<<t|0},disable:function(t){this.mask&=~(1<<t|0)},test:function(t){return 0!=(this.mask&t.mask)}});var Dr,Or,Pr,Nr,Lr,Ir,Rr,$r,Fr,zr,Hr,Br,Ur,jr,Vr,Gr,Wr,Yr,qr,Xr,Zr,Kr,Qr,Jr,ta,ea,na,ia,oa,ra=0;G.DefaultUp=new kt(0,1,0),G.DefaultMatrixAutoUpdate=!0,Object.assign(G.prototype,e.prototype,{isObject3D:!0,applyMatrix:function(t){this.matrix.multiplyMatrices(t,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:(Gr=new s,function(t,e){return Gr.setFromAxisAngle(t,e),this.quaternion.multiply(Gr),this}),rotateX:(Vr=new kt(1,0,0),function(t){return this.rotateOnAxis(Vr,t)}),rotateY:(jr=new kt(0,1,0),function(t){return this.rotateOnAxis(jr,t)}),rotateZ:(Ur=new kt(0,0,1),function(t){return this.rotateOnAxis(Ur,t)}),translateOnAxis:(Br=new kt,function(t,e){return Br.copy(t).applyQuaternion(this.quaternion),this.position.add(Br.multiplyScalar(e)),this}),translateX:(Hr=new kt(1,0,0),function(t){return this.translateOnAxis(Hr,t)}),translateY:(zr=new kt(0,1,0),function(t){return this.translateOnAxis(zr,t)}),translateZ:(Fr=new kt(0,0,1),function(t){return this.translateOnAxis(Fr,t)}),localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:($r=new Dt,function(t){return t.applyMatrix4($r.getInverse(this.matrixWorld))}),lookAt:(Rr=new Dt,function(t){this.isCamera?Rr.lookAt(this.position,t,this.up):Rr.lookAt(t,this.position,this.up),this.quaternion.setFromRotationMatrix(Rr)}),add:function(t){if(1<arguments.length){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?console.error("THREE.Object3D.add: object can't be added as a child of itself.",t):t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,t.dispatchEvent({type:"added"}),this.children.push(t)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this},remove:function(t){if(1<arguments.length)for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);-1!==(e=this.children.indexOf(t))&&(t.parent=null,t.dispatchEvent({type:"removed"}),this.children.splice(e,1))},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(var n=0,i=this.children.length;n<i;n++){var o=this.children[n].getObjectByProperty(t,e);if(void 0!==o)return o}},getWorldPosition:function(t){return t=t||new kt,this.updateMatrixWorld(!0),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:(Lr=new kt,Ir=new kt,function(t){return t=t||new s,this.updateMatrixWorld(!0),this.matrixWorld.decompose(Lr,t,Ir),t}),getWorldRotation:(Nr=new s,function(t){return t=t||new j,this.getWorldQuaternion(Nr),t.setFromQuaternion(Nr,this.rotation.order,!1)}),getWorldScale:(Or=new kt,Pr=new s,function(t){return t=t||new kt,this.updateMatrixWorld(!0),this.matrixWorld.decompose(Or,Pr,t),t}),getWorldDirection:(Dr=new s,function(t){return t=t||new kt,this.getWorldQuaternion(Dr),t.set(0,0,1).applyQuaternion(Dr)}),raycast:function(){},traverse:function(t){t(this);for(var e=this.children,n=0,i=e.length;n<i;n++)e[n].traverse(t)},traverseVisible:function(t){if(!1!==this.visible){t(this);for(var e=this.children,n=0,i=e.length;n<i;n++)e[n].traverseVisible(t)}},traverseAncestors:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t=!(this.matrixWorldNeedsUpdate=!1));for(var e=this.children,n=0,i=e.length;n<i;n++)e[n].updateMatrixWorld(t)},toJSON:function(n){function t(t,e){return void 0===t[e.uuid]&&(t[e.uuid]=e.toJSON(n)),e.uuid}function e(t){var e,n=[];for(e in t){var i=t[e];delete i.metadata,n.push(i)}return n}var i=void 0===n||""===n,o={};i&&(n={geometries:{},materials:{},textures:{},images:{}},o.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var r={};if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),r.matrix=this.matrix.toArray(),void 0!==this.geometry&&(r.geometry=t(n.geometries,this.geometry)),void 0!==this.material)if(Array.isArray(this.material)){for(var a=[],s=0,l=this.material.length;s<l;s++)a.push(t(n.materials,this.material[s]));r.material=a}else r.material=t(n.materials,this.material);if(0<this.children.length)for(r.children=[],s=0;s<this.children.length;s++)r.children.push(this.children[s].toJSON(n).object);return i&&(i=e(n.geometries),a=e(n.materials),s=e(n.textures),l=e(n.images),0<i.length&&(o.geometries=i),0<a.length&&(o.materials=a),0<s.length&&(o.textures=s),0<l.length&&(o.images=l)),o.object=r,o},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e){if(void 0===e&&(e=!0),this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(var n=0;n<t.children.length;n++)this.add(t.children[n].clone());return this}}),Object.assign(W.prototype,{set:function(t,e){return this.start.copy(t),this.end.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.start.copy(t.start),this.end.copy(t.end),this},getCenter:function(t){return(t||new kt).addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(t){return(t||new kt).subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(t,e){var n=e||new kt;return this.delta(n).multiplyScalar(t).add(this.start)},closestPointToPointParameter:(Wr=new kt,Yr=new kt,function(t,e){Wr.subVectors(t,this.start),Yr.subVectors(this.end,this.start);var n=Yr.dot(Yr);return n=Yr.dot(Wr)/n,e&&(n=yo.clamp(n,0,1)),n}),closestPointToPoint:function(t,e,n){return t=this.closestPointToPointParameter(t,e),n=n||new kt,this.delta(n).multiplyScalar(t).add(this.start)},applyMatrix4:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this},equals:function(t){return t.start.equals(this.start)&&t.end.equals(this.end)}}),Object.assign(q,{normal:(Qr=new kt,function(t,e,n,i){return(i=i||new kt).subVectors(n,e),Qr.subVectors(t,e),i.cross(Qr),0<(t=i.lengthSq())?i.multiplyScalar(1/Math.sqrt(t)):i.set(0,0,0)}),barycoordFromPoint:(Xr=new kt,Zr=new kt,Kr=new kt,function(t,e,n,i,o){Xr.subVectors(i,e),Zr.subVectors(n,e),Kr.subVectors(t,e),t=Xr.dot(Xr),e=Xr.dot(Zr),n=Xr.dot(Kr);var r=Zr.dot(Zr);i=Zr.dot(Kr);var a=t*r-e*e;return o=o||new kt,0===a?o.set(-2,-1,-1):(r=(r*n-e*i)*(a=1/a),t=(t*i-e*n)*a,o.set(1-r-t,t,r))}),containsPoint:(qr=new kt,function(t,e,n,i){return 0<=(t=q.barycoordFromPoint(t,e,n,i,qr)).x&&0<=t.y&&t.x+t.y<=1})}),Object.assign(q.prototype,{set:function(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this},setFromPointsAndIndices:function(t,e,n,i){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[i]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this},area:(ia=new kt,oa=new kt,function(){return ia.subVectors(this.c,this.b),oa.subVectors(this.a,this.b),.5*ia.cross(oa).length()}),midpoint:function(t){return(t||new kt).addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(t){return q.normal(this.a,this.b,this.c,t)},plane:function(t){return(t||new B).setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(t,e){return q.barycoordFromPoint(t,this.a,this.b,this.c,e)},containsPoint:function(t){return q.containsPoint(t,this.a,this.b,this.c)},closestPointToPoint:(Jr=new B,ta=[new W,new W,new W],ea=new kt,na=new kt,function(t,e){var n=e||new kt,i=1/0;if(Jr.setFromCoplanarPoints(this.a,this.b,this.c),Jr.projectPoint(t,ea),!0===this.containsPoint(ea))n.copy(ea);else{ta[0].set(this.a,this.b),ta[1].set(this.b,this.c),ta[2].set(this.c,this.a);for(var o=0;o<ta.length;o++){ta[o].closestPointToPoint(ea,!0,na);var r=ea.distanceToSquared(na);r<i&&(i=r,n.copy(na))}}return n}),equals:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}),Object.assign(X.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(var e=0,n=t.vertexNormals.length;e<n;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(e=0,n=t.vertexColors.length;e<n;e++)this.vertexColors[e]=t.vertexColors[e].clone();return this}}),((zt.prototype=Object.create(L.prototype)).constructor=zt).prototype.isMeshBasicMaterial=!0,zt.prototype.copy=function(t){return L.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this},Object.defineProperty(Z.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(Z.prototype,{isBufferAttribute:!0,setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==t?t.length/this.itemSize:0,this.array=t},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.dynamic=t.dynamic,this},copyAt:function(t,e,n){t*=this.itemSize,n*=e.itemSize;for(var i=0,o=this.itemSize;i<o;i++)this.array[t+i]=e.array[n+i];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){for(var e=this.array,n=0,i=0,o=t.length;i<o;i++){var r=t[i];void 0===r&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),r=new Nt),e[n++]=r.r,e[n++]=r.g,e[n++]=r.b}return this},copyIndicesArray:function(t){for(var e=this.array,n=0,i=0,o=t.length;i<o;i++){var r=t[i];e[n++]=r.a,e[n++]=r.b,e[n++]=r.c}return this},copyVector2sArray:function(t){for(var e=this.array,n=0,i=0,o=t.length;i<o;i++){var r=t[i];void 0===r&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),r=new Y),e[n++]=r.x,e[n++]=r.y}return this},copyVector3sArray:function(t){for(var e=this.array,n=0,i=0,o=t.length;i<o;i++){var r=t[i];void 0===r&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),r=new kt),e[n++]=r.x,e[n++]=r.y,e[n++]=r.z}return this},copyVector4sArray:function(t){for(var e=this.array,n=0,i=0,o=t.length;i<o;i++){var r=t[i];void 0===r&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),r=new At),e[n++]=r.x,e[n++]=r.y,e[n++]=r.z,e[n++]=r.w}return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this},setXYZ:function(t,e,n,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=i,this},setXYZW:function(t,e,n,i,o){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=i,this.array[t+3]=o,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}}),(K.prototype=Object.create(Z.prototype)).constructor=K,(Q.prototype=Object.create(Z.prototype)).constructor=Q,(J.prototype=Object.create(Z.prototype)).constructor=J,(tt.prototype=Object.create(Z.prototype)).constructor=tt,(et.prototype=Object.create(Z.prototype)).constructor=et,(nt.prototype=Object.create(Z.prototype)).constructor=nt,(it.prototype=Object.create(Z.prototype)).constructor=it,(ot.prototype=Object.create(Z.prototype)).constructor=ot,(rt.prototype=Object.create(Z.prototype)).constructor=rt,Object.assign(at.prototype,{computeGroups:function(t){var e,n=[],i=void 0;t=t.faces;for(var o=0;o<t.length;o++){var r=t[o];r.materialIndex!==i&&(i=r.materialIndex,void 0!==e&&(e.count=3*o-e.start,n.push(e)),e={start:3*o,materialIndex:i})}void 0!==e&&(e.count=3*o-e.start,n.push(e)),this.groups=n},fromGeometry:function(t){var e,n=t.faces,i=t.vertices,o=t.faceVertexUvs,r=o[0]&&0<o[0].length,a=o[1]&&0<o[1].length,s=t.morphTargets,l=s.length;if(0<l){e=[];for(var c=0;c<l;c++)e[c]=[];this.morphTargets.position=e}var d,u=t.morphNormals,h=u.length;if(0<h){for(d=[],c=0;c<h;c++)d[c]=[];this.morphTargets.normal=d}var p=t.skinIndices,f=t.skinWeights,m=p.length===i.length,g=f.length===i.length;for(c=0;c<n.length;c++){var v=n[c];this.vertices.push(i[v.a],i[v.b],i[v.c]);var y=v.vertexNormals;for(3===y.length?this.normals.push(y[0],y[1],y[2]):(y=v.normal,this.normals.push(y,y,y)),3===(y=v.vertexColors).length?this.colors.push(y[0],y[1],y[2]):(y=v.color,this.colors.push(y,y,y)),!0===r&&(void 0!==(y=o[0][c])?this.uvs.push(y[0],y[1],y[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",c),this.uvs.push(new Y,new Y,new Y))),!0===a&&(void 0!==(y=o[1][c])?this.uvs2.push(y[0],y[1],y[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",c),this.uvs2.push(new Y,new Y,new Y))),y=0;y<l;y++){var b=s[y].vertices;e[y].push(b[v.a],b[v.b],b[v.c])}for(y=0;y<h;y++)b=u[y].vertexNormals[c],d[y].push(b.a,b.b,b.c);m&&this.skinIndices.push(p[v.a],p[v.b],p[v.c]),g&&this.skinWeights.push(f[v.a],f[v.b],f[v.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this}});var aa,sa,la,ca,da,ua,ha,pa,fa,ma,ga,va,ya,ba,_a,xa=0;Object.assign(lt.prototype,e.prototype,{isGeometry:!0,applyMatrix:function(t){for(var e=(new H).getNormalMatrix(t),n=0,i=this.vertices.length;n<i;n++)this.vertices[n].applyMatrix4(t);for(n=0,i=this.faces.length;n<i;n++){(t=this.faces[n]).normal.applyMatrix3(e).normalize();for(var o=0,r=t.vertexNormals.length;o<r;o++)t.vertexNormals[o].applyMatrix3(e).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.normalsNeedUpdate=this.verticesNeedUpdate=!0,this},rotateX:(ua=new Dt,function(t){return ua.makeRotationX(t),this.applyMatrix(ua),this}),rotateY:(da=new Dt,function(t){return da.makeRotationY(t),this.applyMatrix(da),this}),rotateZ:(ca=new Dt,function(t){return ca.makeRotationZ(t),this.applyMatrix(ca),this}),translate:(la=new Dt,function(t,e,n){return la.makeTranslation(t,e,n),this.applyMatrix(la),this}),scale:(sa=new Dt,function(t,e,n){return sa.makeScale(t,e,n),this.applyMatrix(sa),this}),lookAt:(aa=new G,function(t){aa.lookAt(t),aa.updateMatrix(),this.applyMatrix(aa.matrix)}),fromBufferGeometry:function(t){function e(t,e,n,i){i=new X(t,e,n,void 0!==a?[d[t].clone(),d[e].clone(),d[n].clone()]:[],void 0!==s?[o.colors[t].clone(),o.colors[e].clone(),o.colors[n].clone()]:[],i),o.faces.push(i),void 0!==l&&o.faceVertexUvs[0].push([u[t].clone(),u[e].clone(),u[n].clone()]),void 0!==c&&o.faceVertexUvs[1].push([h[t].clone(),h[e].clone(),h[n].clone()])}var o=this,n=null!==t.index?t.index.array:void 0,i=t.attributes,r=i.position.array,a=void 0!==i.normal?i.normal.array:void 0,s=void 0!==i.color?i.color.array:void 0,l=void 0!==i.uv?i.uv.array:void 0,c=void 0!==i.uv2?i.uv2.array:void 0;void 0!==c&&(this.faceVertexUvs[1]=[]);for(var d=[],u=[],h=[],p=i=0;i<r.length;i+=3,p+=2)o.vertices.push(new kt(r[i],r[i+1],r[i+2])),void 0!==a&&d.push(new kt(a[i],a[i+1],a[i+2])),void 0!==s&&o.colors.push(new Nt(s[i],s[i+1],s[i+2])),void 0!==l&&u.push(new Y(l[p],l[p+1])),void 0!==c&&h.push(new Y(c[p],c[p+1]));var f=t.groups;if(0<f.length)for(i=0;i<f.length;i++){p=m=(r=f[i]).start;for(var m=m+r.count;p<m;p+=3)void 0!==n?e(n[p],n[p+1],n[p+2],r.materialIndex):e(p,p+1,p+2,r.materialIndex)}else if(void 0!==n)for(i=0;i<n.length;i+=3)e(n[i],n[i+1],n[i+2]);else for(i=0;i<r.length/3;i+=3)e(i,i+1,i+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var t=this.boundingBox.getCenter().negate();return this.translate(t.x,t.y,t.z),t},normalize:function(){this.computeBoundingSphere();var t=this.boundingSphere.center,e=0===(e=this.boundingSphere.radius)?1:1/e,n=new Dt;return n.set(e,0,0,-e*t.x,0,e,0,-e*t.y,0,0,e,-e*t.z,0,0,0,1),this.applyMatrix(n),this},computeFaceNormals:function(){for(var t=new kt,e=new kt,n=0,i=this.faces.length;n<i;n++){var o=this.faces[n],r=this.vertices[o.a],a=this.vertices[o.b];t.subVectors(this.vertices[o.c],a),e.subVectors(r,a),t.cross(e),t.normalize(),o.normal.copy(t)}},computeVertexNormals:function(t){var e,n,i;for(void 0===t&&(t=!0),i=Array(this.vertices.length),e=0,n=this.vertices.length;e<n;e++)i[e]=new kt;if(t){var o,r,a,s=new kt,l=new kt;for(t=0,e=this.faces.length;t<e;t++)n=this.faces[t],o=this.vertices[n.a],r=this.vertices[n.b],a=this.vertices[n.c],s.subVectors(a,r),l.subVectors(o,r),s.cross(l),i[n.a].add(s),i[n.b].add(s),i[n.c].add(s)}else for(this.computeFaceNormals(),t=0,e=this.faces.length;t<e;t++)i[(n=this.faces[t]).a].add(n.normal),i[n.b].add(n.normal),i[n.c].add(n.normal);for(e=0,n=this.vertices.length;e<n;e++)i[e].normalize();for(t=0,e=this.faces.length;t<e;t++)3===(o=(n=this.faces[t]).vertexNormals).length?(o[0].copy(i[n.a]),o[1].copy(i[n.b]),o[2].copy(i[n.c])):(o[0]=i[n.a].clone(),o[1]=i[n.b].clone(),o[2]=i[n.c].clone());0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var t,e,n;for(this.computeFaceNormals(),t=0,e=this.faces.length;t<e;t++){var i=(n=this.faces[t]).vertexNormals;3===i.length?(i[0].copy(n.normal),i[1].copy(n.normal),i[2].copy(n.normal)):(i[0]=n.normal.clone(),i[1]=n.normal.clone(),i[2]=n.normal.clone())}0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var t,e,n,i,o;for(n=0,i=this.faces.length;n<i;n++)for((o=this.faces[n]).__originalFaceNormal?o.__originalFaceNormal.copy(o.normal):o.__originalFaceNormal=o.normal.clone(),o.__originalVertexNormals||(o.__originalVertexNormals=[]),t=0,e=o.vertexNormals.length;t<e;t++)o.__originalVertexNormals[t]?o.__originalVertexNormals[t].copy(o.vertexNormals[t]):o.__originalVertexNormals[t]=o.vertexNormals[t].clone();var r=new lt;for(r.faces=this.faces,t=0,e=this.morphTargets.length;t<e;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[],o=this.morphNormals[t].faceNormals;var a,s,l=this.morphNormals[t].vertexNormals;for(n=0,i=this.faces.length;n<i;n++)a=new kt,s={a:new kt,b:new kt,c:new kt},o.push(a),l.push(s)}for(l=this.morphNormals[t],r.vertices=this.morphTargets[t].vertices,r.computeFaceNormals(),r.computeVertexNormals(),n=0,i=this.faces.length;n<i;n++)o=this.faces[n],a=l.faceNormals[n],s=l.vertexNormals[n],a.copy(o.normal),s.a.copy(o.vertexNormals[0]),s.b.copy(o.vertexNormals[1]),s.c.copy(o.vertexNormals[2])}for(n=0,i=this.faces.length;n<i;n++)(o=this.faces[n]).normal=o.__originalFaceNormal,o.vertexNormals=o.__originalVertexNormals},computeLineDistances:function(){for(var t=0,e=this.vertices,n=0,i=e.length;n<i;n++)0<n&&(t+=e[n].distanceTo(e[n-1])),this.lineDistances[n]=t},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new $),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new z),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,n){if(!1===(t&&t.isGeometry))console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",t);else{var i,o=this.vertices.length,r=this.vertices,a=t.vertices,s=this.faces,l=t.faces,c=this.faceVertexUvs[0],d=t.faceVertexUvs[0],u=this.colors,h=t.colors;void 0===n&&(n=0),void 0!==e&&(i=(new H).getNormalMatrix(e)),t=0;for(var p=a.length;t<p;t++){var f=a[t].clone();void 0!==e&&f.applyMatrix4(e),r.push(f)}for(t=0,p=h.length;t<p;t++)u.push(h[t].clone());for(t=0,p=l.length;t<p;t++){var m=(a=l[t]).vertexNormals;h=a.vertexColors;for((u=new X(a.a+o,a.b+o,a.c+o)).normal.copy(a.normal),void 0!==i&&u.normal.applyMatrix3(i).normalize(),e=0,r=m.length;e<r;e++)f=m[e].clone(),void 0!==i&&f.applyMatrix3(i).normalize(),u.vertexNormals.push(f);for(u.color.copy(a.color),e=0,r=h.length;e<r;e++)f=h[e],u.vertexColors.push(f.clone());u.materialIndex=a.materialIndex+n,s.push(u)}for(t=0,p=d.length;t<p;t++)if(i=[],void 0!==(n=d[t])){for(e=0,r=n.length;e<r;e++)i.push(n[e].clone());c.push(i)}}},mergeMesh:function(t){!1===(t&&t.isMesh)?console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",t):(t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix))},mergeVertices:function(){var t,e,n,i={},o=[],r=[],a=Math.pow(10,4);for(e=0,n=this.vertices.length;e<n;e++)t=this.vertices[e],void 0===i[t=Math.round(t.x*a)+"_"+Math.round(t.y*a)+"_"+Math.round(t.z*a)]?(i[t]=e,o.push(this.vertices[e]),r[e]=o.length-1):r[e]=r[i[t]];for(i=[],e=0,n=this.faces.length;e<n;e++)for((a=this.faces[e]).a=r[a.a],a.b=r[a.b],a.c=r[a.c],a=[a.a,a.b,a.c],t=0;t<3;t++)if(a[t]===a[(t+1)%3]){i.push(e);break}for(e=i.length-1;0<=e;e--)for(a=i[e],this.faces.splice(a,1),r=0,n=this.faceVertexUvs.length;r<n;r++)this.faceVertexUvs[r].splice(a,1);return e=this.vertices.length-o.length,this.vertices=o,e},sortFacesByMaterialIndex:function(){for(var t=this.faces,e=t.length,n=0;n<e;n++)t[n]._id=n;t.sort(function(t,e){return t.materialIndex-e.materialIndex});var i,o,r=this.faceVertexUvs[0],a=this.faceVertexUvs[1];for(r&&r.length===e&&(i=[]),a&&a.length===e&&(o=[]),n=0;n<e;n++){var s=t[n]._id;i&&i.push(r[s]),o&&o.push(a[s])}i&&(this.faceVertexUvs[0]=i),o&&(this.faceVertexUvs[1]=o)},toJSON:function(){function t(t,e,n){return n?t|1<<e:t&~(1<<e)}function e(t){var e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==c[e]||(c[e]=l.length/3,l.push(t.x,t.y,t.z)),c[e]}function n(t){var e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==u[e]||(u[e]=d.length,d.push(t.getHex())),u[e]}function i(t){var e=t.x.toString()+t.y.toString();return void 0!==p[e]||(p[e]=h.length/2,h.push(t.x,t.y)),p[e]}var o={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(o.uuid=this.uuid,o.type=this.type,""!==this.name&&(o.name=this.name),void 0!==this.parameters){var r,a=this.parameters;for(r in a)void 0!==a[r]&&(o[r]=a[r]);return o}for(a=[],r=0;r<this.vertices.length;r++){var s=this.vertices[r];a.push(s.x,s.y,s.z)}s=[];var l=[],c={},d=[],u={},h=[],p={};for(r=0;r<this.faces.length;r++){var f=this.faces[r],m=void 0!==this.faceVertexUvs[0][r],g=0<f.normal.length(),v=0<f.vertexNormals.length,y=1!==f.color.r||1!==f.color.g||1!==f.color.b,b=0<f.vertexColors.length,_=t(_=t(_=t(_=t(_=t(_=t(_=t(_=t(_=0,0,0),1,!0),2,!1),3,m),4,g),5,v),6,y),7,b);s.push(_),s.push(f.a,f.b,f.c),s.push(f.materialIndex),m&&(m=this.faceVertexUvs[0][r],s.push(i(m[0]),i(m[1]),i(m[2]))),g&&s.push(e(f.normal)),v&&(g=f.vertexNormals,s.push(e(g[0]),e(g[1]),e(g[2]))),y&&s.push(n(f.color)),b&&(f=f.vertexColors,s.push(n(f[0]),n(f[1]),n(f[2])))}return o.data={},o.data.vertices=a,o.data.normals=l,0<d.length&&(o.data.colors=d),0<h.length&&(o.data.uvs=[h]),o.data.faces=s,o},clone:function(){return(new lt).copy(this)},copy:function(t){var e,n,i,o,r,a;for(this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingSphere=this.boundingBox=null,this.name=t.name,e=0,n=(i=t.vertices).length;e<n;e++)this.vertices.push(i[e].clone());for(e=0,n=(i=t.colors).length;e<n;e++)this.colors.push(i[e].clone());for(e=0,n=(i=t.faces).length;e<n;e++)this.faces.push(i[e].clone());for(e=0,n=t.faceVertexUvs.length;e<n;e++){var s=t.faceVertexUvs[e];for(void 0===this.faceVertexUvs[e]&&(this.faceVertexUvs[e]=[]),i=0,o=s.length;i<o;i++){var l=s[i],c=[];for(r=0,a=l.length;r<a;r++)c.push(l[r].clone());this.faceVertexUvs[e].push(c)}}for(e=0,n=(r=t.morphTargets).length;e<n;e++){if((a={}).name=r[e].name,void 0!==r[e].vertices)for(a.vertices=[],i=0,o=r[e].vertices.length;i<o;i++)a.vertices.push(r[e].vertices[i].clone());if(void 0!==r[e].normals)for(a.normals=[],i=0,o=r[e].normals.length;i<o;i++)a.normals.push(r[e].normals[i].clone());this.morphTargets.push(a)}for(e=0,n=(r=t.morphNormals).length;e<n;e++){if(a={},void 0!==r[e].vertexNormals)for(a.vertexNormals=[],i=0,o=r[e].vertexNormals.length;i<o;i++)s=r[e].vertexNormals[i],(l={}).a=s.a.clone(),l.b=s.b.clone(),l.c=s.c.clone(),a.vertexNormals.push(l);if(void 0!==r[e].faceNormals)for(a.faceNormals=[],i=0,o=r[e].faceNormals.length;i<o;i++)a.faceNormals.push(r[e].faceNormals[i].clone());this.morphNormals.push(a)}for(e=0,n=(i=t.skinWeights).length;e<n;e++)this.skinWeights.push(i[e].clone());for(e=0,n=(i=t.skinIndices).length;e<n;e++)this.skinIndices.push(i[e].clone());for(e=0,n=(i=t.lineDistances).length;e<n;e++)this.lineDistances.push(i[e]);return null!==(e=t.boundingBox)&&(this.boundingBox=e.clone()),null!==(e=t.boundingSphere)&&(this.boundingSphere=e.clone()),this.elementsNeedUpdate=t.elementsNeedUpdate,this.verticesNeedUpdate=t.verticesNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.lineDistancesNeedUpdate=t.lineDistancesNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Ht.MaxIndex=65535,Object.assign(Ht.prototype,e.prototype,{isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){Array.isArray(t)?this.index=new(65535<st(t)?it:et)(t,1):this.index=t},addAttribute:function(t,e,n){if(!1===(e&&e.isBufferAttribute)&&!1===(e&&e.isInterleavedBufferAttribute))console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.addAttribute(t,new Z(e,n));else{if("index"!==t)return this.attributes[t]=e,this;console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e)}},getAttribute:function(t){return this.attributes[t]},removeAttribute:function(t){return delete this.attributes[t],this},addGroup:function(t,e,n){this.groups.push({start:t,count:e,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix:function(t){var e=this.attributes.position;return void 0!==e&&(t.applyToBufferAttribute(e),e.needsUpdate=!0),void 0!==(e=this.attributes.normal)&&((new H).getNormalMatrix(t).applyToBufferAttribute(e),e.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:(ba=new Dt,function(t){return ba.makeRotationX(t),this.applyMatrix(ba),this}),rotateY:(ya=new Dt,function(t){return ya.makeRotationY(t),this.applyMatrix(ya),this}),rotateZ:(va=new Dt,function(t){return va.makeRotationZ(t),this.applyMatrix(va),this}),translate:(ga=new Dt,function(t,e,n){return ga.makeTranslation(t,e,n),this.applyMatrix(ga),this}),scale:(ma=new Dt,function(t,e,n){return ma.makeScale(t,e,n),this.applyMatrix(ma),this}),lookAt:(fa=new G,function(t){fa.lookAt(t),fa.updateMatrix(),this.applyMatrix(fa.matrix)}),center:function(){this.computeBoundingBox();var t=this.boundingBox.getCenter().negate();return this.translate(t.x,t.y,t.z),t},setFromObject:function(t){var e=t.geometry;if(t.isPoints||t.isLine){t=new ot(3*e.vertices.length,3);var n=new ot(3*e.colors.length,3);this.addAttribute("position",t.copyVector3sArray(e.vertices)),this.addAttribute("color",n.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length&&(t=new ot(e.lineDistances.length,1),this.addAttribute("lineDistance",t.copyArray(e.lineDistances))),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else t.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},updateFromObject:function(t){var e=t.geometry;if(t.isMesh){var n=e.__directGeometry;if(!0===e.elementsNeedUpdate&&(n=void 0,e.elementsNeedUpdate=!1),void 0===n)return this.fromGeometry(e);n.verticesNeedUpdate=e.verticesNeedUpdate,n.normalsNeedUpdate=e.normalsNeedUpdate,n.colorsNeedUpdate=e.colorsNeedUpdate,n.uvsNeedUpdate=e.uvsNeedUpdate,n.groupsNeedUpdate=e.groupsNeedUpdate,e.verticesNeedUpdate=!1,e.normalsNeedUpdate=!1,e.colorsNeedUpdate=!1,e.uvsNeedUpdate=!1,e.groupsNeedUpdate=!1,e=n}return!0===e.verticesNeedUpdate&&(void 0!==(n=this.attributes.position)&&(n.copyVector3sArray(e.vertices),n.needsUpdate=!0),e.verticesNeedUpdate=!1),!0===e.normalsNeedUpdate&&(void 0!==(n=this.attributes.normal)&&(n.copyVector3sArray(e.normals),n.needsUpdate=!0),e.normalsNeedUpdate=!1),!0===e.colorsNeedUpdate&&(void 0!==(n=this.attributes.color)&&(n.copyColorsArray(e.colors),n.needsUpdate=!0),e.colorsNeedUpdate=!1),e.uvsNeedUpdate&&(void 0!==(n=this.attributes.uv)&&(n.copyVector2sArray(e.uvs),n.needsUpdate=!0),e.uvsNeedUpdate=!1),e.lineDistancesNeedUpdate&&(void 0!==(n=this.attributes.lineDistance)&&(n.copyArray(e.lineDistances),n.needsUpdate=!0),e.lineDistancesNeedUpdate=!1),e.groupsNeedUpdate&&(e.computeGroups(t.geometry),this.groups=e.groups,e.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new at).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){var e=new Float32Array(3*t.vertices.length);for(var n in this.addAttribute("position",new Z(e,3).copyVector3sArray(t.vertices)),0<t.normals.length&&(e=new Float32Array(3*t.normals.length),this.addAttribute("normal",new Z(e,3).copyVector3sArray(t.normals))),0<t.colors.length&&(e=new Float32Array(3*t.colors.length),this.addAttribute("color",new Z(e,3).copyColorsArray(t.colors))),0<t.uvs.length&&(e=new Float32Array(2*t.uvs.length),this.addAttribute("uv",new Z(e,2).copyVector2sArray(t.uvs))),0<t.uvs2.length&&(e=new Float32Array(2*t.uvs2.length),this.addAttribute("uv2",new Z(e,2).copyVector2sArray(t.uvs2))),0<t.indices.length&&(e=new(65535<st(t.indices)?Uint32Array:Uint16Array)(3*t.indices.length),this.setIndex(new Z(e,1).copyIndicesArray(t.indices))),this.groups=t.groups,t.morphTargets){e=[];for(var i=t.morphTargets[n],o=0,r=i.length;o<r;o++){var a=i[o],s=new ot(3*a.length,3);e.push(s.copyVector3sArray(a))}this.morphAttributes[n]=e}return 0<t.skinIndices.length&&(n=new ot(4*t.skinIndices.length,4),this.addAttribute("skinIndex",n.copyVector4sArray(t.skinIndices))),0<t.skinWeights.length&&(n=new ot(4*t.skinWeights.length,4),this.addAttribute("skinWeight",n.copyVector4sArray(t.skinWeights))),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new $);var t=this.attributes.position;void 0!==t?this.boundingBox.setFromBufferAttribute(t):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:(ha=new $,pa=new kt,function(){null===this.boundingSphere&&(this.boundingSphere=new z);var t=this.attributes.position;if(t){var e=this.boundingSphere.center;ha.setFromBufferAttribute(t),ha.getCenter(e);for(var n=0,i=0,o=t.count;i<o;i++)pa.x=t.getX(i),pa.y=t.getY(i),pa.z=t.getZ(i),n=Math.max(n,e.distanceToSquared(pa));this.boundingSphere.radius=Math.sqrt(n),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}),computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.index,e=this.attributes,n=this.groups;if(e.position){var i=e.position.array;if(void 0===e.normal)this.addAttribute("normal",new Z(new Float32Array(i.length),3));else for(var o=0,r=(c=e.normal.array).length;o<r;o++)c[o]=0;var a,s,l,c=e.normal.array,d=new kt,u=new kt,h=new kt,p=new kt,f=new kt;if(t){t=t.array,0===n.length&&this.addGroup(0,t.length);for(var m=0,g=n.length;m<g;++m)for(r=(o=n[m]).start,a=o.count,o=r,r+=a;o<r;o+=3)a=3*t[o+0],s=3*t[o+1],l=3*t[o+2],d.fromArray(i,a),u.fromArray(i,s),h.fromArray(i,l),p.subVectors(h,u),f.subVectors(d,u),p.cross(f),c[a]+=p.x,c[a+1]+=p.y,c[a+2]+=p.z,c[s]+=p.x,c[s+1]+=p.y,c[s+2]+=p.z,c[l]+=p.x,c[l+1]+=p.y,c[l+2]+=p.z}else for(o=0,r=i.length;o<r;o+=9)d.fromArray(i,o),u.fromArray(i,o+3),h.fromArray(i,o+6),p.subVectors(h,u),f.subVectors(d,u),p.cross(f),c[o]=p.x,c[o+1]=p.y,c[o+2]=p.z,c[o+3]=p.x,c[o+4]=p.y,c[o+5]=p.z,c[o+6]=p.x,c[o+7]=p.y,c[o+8]=p.z;this.normalizeNormals(),e.normal.needsUpdate=!0}},merge:function(t,e){if(!1!==(t&&t.isBufferGeometry)){void 0===e&&(e=0);var n,i=this.attributes;for(n in i)if(void 0!==t.attributes[n])for(var o=i[n].array,r=(s=t.attributes[n]).array,a=0,s=s.itemSize*e;a<r.length;a++,s++)o[s]=r[a];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t)},normalizeNormals:function(){for(var t,e,n,i,o=this.attributes.normal,r=0,a=o.count;r<a;r++)t=o.getX(r),e=o.getY(r),n=o.getZ(r),i=1/Math.sqrt(t*t+e*e+n*n),o.setXYZ(r,t*i,e*i,n*i)},toNonIndexed:function(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var t,e=new Ht,n=this.index.array,i=this.attributes;for(t in i){for(var o,r=(a=i[t]).array,a=a.itemSize,s=new r.constructor(n.length*a),l=0,c=0,d=n.length;c<d;c++){o=n[c]*a;for(var u=0;u<a;u++)s[l++]=r[o++]}e.addAttribute(t,new Z(s,a))}return e},toJSON:function(){var t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){var e,n=this.parameters;for(e in n)void 0!==n[e]&&(t[e]=n[e]);return t}t.data={attributes:{}};var i=this.index;for(e in null!==i&&(n=Array.prototype.slice.call(i.array),t.data.index={type:i.array.constructor.name,array:n}),i=this.attributes){var o=i[e];n=Array.prototype.slice.call(o.array);t.data.attributes[e]={itemSize:o.itemSize,type:o.array.constructor.name,array:n,normalized:o.normalized}}return 0<(e=this.groups).length&&(t.data.groups=JSON.parse(JSON.stringify(e))),null!==(e=this.boundingSphere)&&(t.data.boundingSphere={center:e.center.toArray(),radius:e.radius}),t},clone:function(){return(new Ht).copy(this)},copy:function(t){var e,n,i;for(e in this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingSphere=this.boundingBox=null,this.name=t.name,null!==(n=t.index)&&this.setIndex(n.clone()),n=t.attributes)this.addAttribute(e,n[e].clone());var o=t.morphAttributes;for(e in o){var r=[],a=o[e];for(n=0,i=a.length;n<i;n++)r.push(a[n].clone());this.morphAttributes[e]=r}for(n=0,i=(e=t.groups).length;n<i;n++)o=e[n],this.addGroup(o.start,o.count,o.materialIndex);return null!==(e=t.boundingBox)&&(this.boundingBox=e.clone()),null!==(e=t.boundingSphere)&&(this.boundingSphere=e.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Bt.prototype=Object.assign(Object.create(G.prototype),{constructor:Bt,isMesh:!0,setDrawMode:function(t){this.drawMode=t},copy:function(t){return G.prototype.copy.call(this,t),this.drawMode=t.drawMode,this},updateMorphTargets:function(){var t=this.geometry.morphTargets;if(void 0!==t&&0<t.length){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var e=0,n=t.length;e<n;e++)this.morphTargetInfluences.push(0),this.morphTargetDictionary[t[e].name]=e}},raycast:function(){function _(t,e,n,i,o,r,a){return q.barycoordFromPoint(t,e,n,i,s),o.multiplyScalar(s.x),r.multiplyScalar(s.y),a.multiplyScalar(s.z),o.add(r).add(a),o.clone()}function x(t,e,n,i,o,r,a){var s=t.material;return null===(1===s.side?n.intersectTriangle(r,o,i,!0,a):n.intersectTriangle(i,o,r,2!==s.side,a))?null:(l.copy(a),l.applyMatrix4(t.matrixWorld),(n=e.ray.origin.distanceTo(l))<e.near||n>e.far?null:{distance:n,point:l.clone(),object:t})}function w(t,e,n,i,o,r,a,s){return C.fromBufferAttribute(i,r),S.fromBufferAttribute(i,a),A.fromBufferAttribute(i,s),(t=x(t,e,n,C,S,A,I))&&(o&&(P.fromBufferAttribute(o,r),N.fromBufferAttribute(o,a),L.fromBufferAttribute(o,s),t.uv=_(I,C,S,A,P,N,L)),t.face=new X(r,a,s,q.normal(C,S,A)),t.faceIndex=r),t}var E=new Dt,M=new U,T=new z,C=new kt,S=new kt,A=new kt,k=new kt,D=new kt,O=new kt,P=new Y,N=new Y,L=new Y,s=new kt,I=new kt,l=new kt;return function(t,e){var n,i=this.geometry,o=this.material,r=this.matrixWorld;if(void 0!==o&&(null===i.boundingSphere&&i.computeBoundingSphere(),T.copy(i.boundingSphere),T.applyMatrix4(r),!1!==t.ray.intersectsSphere(T)&&(E.getInverse(r),M.copy(t.ray).applyMatrix4(E),null===i.boundingBox||!1!==M.intersectsBox(i.boundingBox))))if(i.isBufferGeometry){o=i.index;var a,s,l,c,d=i.attributes.position;r=i.attributes.uv;if(null!==o)for(l=0,c=o.count;l<c;l+=3)i=o.getX(l),a=o.getX(l+1),s=o.getX(l+2),(n=w(this,t,M,d,r,i,a,s))&&(n.faceIndex=Math.floor(l/3),e.push(n));else for(l=0,c=d.count;l<c;l+=3)(n=w(this,t,M,d,r,i=l,a=l+1,s=l+2))&&(n.index=i,e.push(n))}else if(i.isGeometry){var u;r=Array.isArray(o);l=i.vertices,c=i.faces,0<(a=i.faceVertexUvs[0]).length&&(d=a);for(var h=0,p=c.length;h<p;h++){var f=c[h];if(void 0!==(n=r?o[f.materialIndex]:o)){if(a=l[f.a],s=l[f.b],u=l[f.c],!0===n.morphTargets){n=i.morphTargets;var m=this.morphTargetInfluences;C.set(0,0,0),S.set(0,0,0),A.set(0,0,0);for(var g=0,v=n.length;g<v;g++){var y=m[g];if(0!==y){var b=n[g].vertices;C.addScaledVector(k.subVectors(b[f.a],a),y),S.addScaledVector(D.subVectors(b[f.b],s),y),A.addScaledVector(O.subVectors(b[f.c],u),y)}}C.add(a),S.add(s),A.add(u),a=C,s=S,u=A}(n=x(this,t,M,a,s,u,I))&&(d&&d[h]&&(m=d[h],P.copy(m[0]),N.copy(m[1]),L.copy(m[2]),n.uv=_(I,a,s,u,P,N,L)),n.face=f,n.faceIndex=h,e.push(n))}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),(ct.prototype=Object.create(lt.prototype)).constructor=ct,(Ut.prototype=Object.create(Ht.prototype)).constructor=Ut,(dt.prototype=Object.create(lt.prototype)).constructor=dt,(jt.prototype=Object.create(Ht.prototype)).constructor=jt,ut.prototype=Object.assign(Object.create(G.prototype),{constructor:ut,isCamera:!0,copy:function(t){return G.prototype.copy.call(this,t),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this},getWorldDirection:(_a=new s,function(t){return t=t||new kt,this.getWorldQuaternion(_a),t.set(0,0,-1).applyQuaternion(_a)}),clone:function(){return(new this.constructor).copy(this)}}),Vt.prototype=Object.assign(Object.create(ut.prototype),{constructor:Vt,isPerspectiveCamera:!0,copy:function(t){return ut.prototype.copy.call(this,t),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){t=.5*this.getFilmHeight()/t,this.fov=2*yo.RAD2DEG*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){var t=Math.tan(.5*yo.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*yo.RAD2DEG*Math.atan(Math.tan(.5*yo.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,n,i,o,r){this.aspect=t/e,this.view={fullWidth:t,fullHeight:e,offsetX:n,offsetY:i,width:o,height:r},this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null,this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=this.near,e=2*(a=t*Math.tan(.5*yo.DEG2RAD*this.fov)/this.zoom),n=-.5*(s=this.aspect*e),i=this.view;if(null!==i){var o=i.fullWidth,r=i.fullHeight,a=(n=n+i.offsetX*s/o,a-i.offsetY*e/r),s=i.width/o*s;e=i.height/r*e}0!==(i=this.filmOffset)&&(n+=t*i/this.getFilmWidth()),this.projectionMatrix.makePerspective(n,n+s,a,a-e,t,this.far)},toJSON:function(t){return(t=G.prototype.toJSON.call(this,t)).object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}),Gt.prototype=Object.assign(Object.create(ut.prototype),{constructor:Gt,isOrthographicCamera:!0,copy:function(t){return ut.prototype.copy.call(this,t),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this},setViewOffset:function(t,e,n,i,o,r){this.view={fullWidth:t,fullHeight:e,offsetX:n,offsetY:i,width:o,height:r},this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null,this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(i=(this.right+this.left)/2)-t,i=i+t;t=(r=(this.top+this.bottom)/2)+e,e=r-e;if(null!==this.view){i=this.zoom/(this.view.width/this.view.fullWidth),e=this.zoom/(this.view.height/this.view.fullHeight);var o=(this.right-this.left)/this.view.width,r=(this.top-this.bottom)/this.view.height;i=(n=n+this.view.offsetX/i*o)+this.view.width/i*o,e=(t=t-this.view.offsetY/e*r)-this.view.height/e*r}this.projectionMatrix.makeOrthographic(n,i,t,e,this.near,this.far)},toJSON:function(t){return(t=G.prototype.toJSON.call(this,t)).object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}});var wa,Ea,Ma,Ta,Ca,Sa,Aa,ka,Da,Oa,Pa,Na,La,Ia,Ra=0;Mt.prototype.isFogExp2=!0,Mt.prototype.clone=function(){return new Mt(this.color.getHex(),this.density)},Mt.prototype.toJSON=function(t){return{type:"FogExp2",color:this.color.getHex(),density:this.density}},Tt.prototype.isFog=!0,Tt.prototype.clone=function(){return new Tt(this.color.getHex(),this.near,this.far)},Tt.prototype.toJSON=function(t){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}},Ct.prototype=Object.assign(Object.create(G.prototype),{constructor:Ct,copy:function(t,e){return G.prototype.copy.call(this,t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this},toJSON:function(t){var e=G.prototype.toJSON.call(this,t);return null!==this.background&&(e.object.background=this.background.toJSON(t)),null!==this.fog&&(e.object.fog=this.fog.toJSON()),e}}),St.prototype=Object.assign(Object.create(G.prototype),{constructor:St,isLensFlare:!0,copy:function(t){G.prototype.copy.call(this,t),this.positionScreen.copy(t.positionScreen),this.customUpdateCallback=t.customUpdateCallback;for(var e=0,n=t.lensFlares.length;e<n;e++)this.lensFlares.push(t.lensFlares[e]);return this},add:function(t,e,n,i,o,r){void 0===e&&(e=-1),void 0===n&&(n=0),void 0===r&&(r=1),void 0===o&&(o=new Nt(16777215)),void 0===i&&(i=1),n=Math.min(n,Math.max(0,n)),this.lensFlares.push({texture:t,size:e,distance:n,x:0,y:0,z:0,scale:1,rotation:0,opacity:r,color:o,blending:i})},updateLensFlares:function(){var t,e,n=this.lensFlares.length,i=2*-this.positionScreen.x,o=2*-this.positionScreen.y;for(t=0;t<n;t++)(e=this.lensFlares[t]).x=this.positionScreen.x+i*e.distance,e.y=this.positionScreen.y+o*e.distance,e.wantedRotation=e.x*Math.PI*.25,e.rotation+=.25*(e.wantedRotation-e.rotation)}}),((ae.prototype=Object.create(L.prototype)).constructor=ae).prototype.isSpriteMaterial=!0,ae.prototype.copy=function(t){return L.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.rotation=t.rotation,this},se.prototype=Object.assign(Object.create(G.prototype),{constructor:se,isSprite:!0,raycast:(wa=new kt,Ea=new kt,Ma=new kt,function(t,e){Ea.setFromMatrixPosition(this.matrixWorld),t.ray.closestPointToPoint(Ea,wa),Ma.setFromMatrixScale(this.matrixWorld);var n=Ma.x*Ma.y/4;Ea.distanceToSquared(wa)>n||(n=t.ray.origin.distanceTo(wa))<t.near||n>t.far||e.push({distance:n,point:wa.clone(),face:null,object:this})}),clone:function(){return new this.constructor(this.material).copy(this)}}),le.prototype=Object.assign(Object.create(G.prototype),{constructor:le,copy:function(t){G.prototype.copy.call(this,t,!1);for(var e=0,n=(t=t.levels).length;e<n;e++){var i=t[e];this.addLevel(i.object.clone(),i.distance)}return this},addLevel:function(t,e){void 0===e&&(e=0),e=Math.abs(e);for(var n=this.levels,i=0;i<n.length&&!(e<n[i].distance);i++);n.splice(i,0,{distance:e,object:t}),this.add(t)},getObjectForDistance:function(t){for(var e=this.levels,n=1,i=e.length;n<i&&!(t<e[n].distance);n++);return e[n-1].object},raycast:(Sa=new kt,function(t,e){Sa.setFromMatrixPosition(this.matrixWorld);var n=t.ray.origin.distanceTo(Sa);this.getObjectForDistance(n).raycast(t,e)}),update:(Ta=new kt,Ca=new kt,function(t){var e=this.levels;if(1<e.length){Ta.setFromMatrixPosition(t.matrixWorld),Ca.setFromMatrixPosition(this.matrixWorld),t=Ta.distanceTo(Ca),e[0].object.visible=!0;for(var n=1,i=e.length;n<i&&t>=e[n].distance;n++)e[n-1].object.visible=!1,e[n].object.visible=!0;for(;n<i;n++)e[n].object.visible=!1}}),toJSON:function(t){(t=G.prototype.toJSON.call(this,t)).object.levels=[];for(var e=this.levels,n=0,i=e.length;n<i;n++){var o=e[n];t.object.levels.push({object:o.object.uuid,distance:o.distance})}return t}}),Object.assign(ce.prototype,{calculateInverses:function(){this.boneInverses=[];for(var t=0,e=this.bones.length;t<e;t++){var n=new Dt;this.bones[t]&&n.getInverse(this.bones[t].matrixWorld),this.boneInverses.push(n)}},pose:function(){var t,e,n;for(e=0,n=this.bones.length;e<n;e++)(t=this.bones[e])&&t.matrixWorld.getInverse(this.boneInverses[e]);for(e=0,n=this.bones.length;e<n;e++)(t=this.bones[e])&&(t.parent&&t.parent.isBone?(t.matrix.getInverse(t.parent.matrixWorld),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))},update:(Aa=new Dt,ka=new Dt,function(){for(var t=this.bones,e=this.boneInverses,n=this.boneMatrices,i=this.boneTexture,o=0,r=t.length;o<r;o++)Aa.multiplyMatrices(t[o]?t[o].matrixWorld:ka,e[o]),Aa.toArray(n,16*o);void 0!==i&&(i.needsUpdate=!0)}),clone:function(){return new ce(this.bones,this.boneInverses)}}),de.prototype=Object.assign(Object.create(G.prototype),{constructor:de,isBone:!0}),ue.prototype=Object.assign(Object.create(Bt.prototype),{constructor:ue,isSkinnedMesh:!0,initBones:function(){var t,e,n,i,o=[];if(this.geometry&&void 0!==this.geometry.bones){for(n=0,i=this.geometry.bones.length;n<i;n++)e=this.geometry.bones[n],t=new de,o.push(t),t.name=e.name,t.position.fromArray(e.pos),t.quaternion.fromArray(e.rotq),void 0!==e.scl&&t.scale.fromArray(e.scl);for(n=0,i=this.geometry.bones.length;n<i;n++)-1!==(e=this.geometry.bones[n]).parent&&null!==e.parent&&void 0!==o[e.parent]?o[e.parent].add(o[n]):this.add(o[n])}return this.updateMatrixWorld(!0),o},bind:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.getInverse(e)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){var t,e;if(this.geometry&&this.geometry.isGeometry)for(e=0;e<this.geometry.skinWeights.length;e++){1/0!==(t=1/(n=this.geometry.skinWeights[e]).lengthManhattan())?n.multiplyScalar(t):n.set(1,0,0,0)}else if(this.geometry&&this.geometry.isBufferGeometry){var n=new At,i=this.geometry.attributes.skinWeight;for(e=0;e<i.count;e++)n.x=i.getX(e),n.y=i.getY(e),n.z=i.getZ(e),n.w=i.getW(e),1/0!==(t=1/n.lengthManhattan())?n.multiplyScalar(t):n.set(1,0,0,0),i.setXYZW(e,n.x,n.y,n.z,n.w)}},updateMatrixWorld:function(t){Bt.prototype.updateMatrixWorld.call(this,t),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),((he.prototype=Object.create(L.prototype)).constructor=he).prototype.isLineBasicMaterial=!0,he.prototype.copy=function(t){return L.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this},pe.prototype=Object.assign(Object.create(G.prototype),{constructor:pe,isLine:!0,raycast:(Da=new Dt,Oa=new U,Pa=new z,function(t,e){var n=(n=t.linePrecision)*n,i=this.geometry,o=this.matrixWorld;if(null===i.boundingSphere&&i.computeBoundingSphere(),Pa.copy(i.boundingSphere),Pa.applyMatrix4(o),!1!==t.ray.intersectsSphere(Pa)){Da.getInverse(o),Oa.copy(t.ray).applyMatrix4(Da);var r=new kt,a=new kt,s=(o=new kt,new kt),l=this&&this.isLineSegments?2:1;if(i.isBufferGeometry){var c=i.index,d=i.attributes.position.array;if(null!==c){i=0;for(var u=(c=c.array).length-1;i<u;i+=l){var h=c[i+1];r.fromArray(d,3*c[i]),a.fromArray(d,3*h),n<(h=Oa.distanceSqToSegment(r,a,s,o))||(s.applyMatrix4(this.matrixWorld),(h=t.ray.origin.distanceTo(s))<t.near||h>t.far||e.push({distance:h,point:o.clone().applyMatrix4(this.matrixWorld),index:i,face:null,faceIndex:null,object:this}))}}else for(i=0,u=d.length/3-1;i<u;i+=l)r.fromArray(d,3*i),a.fromArray(d,3*i+3),n<(h=Oa.distanceSqToSegment(r,a,s,o))||(s.applyMatrix4(this.matrixWorld),(h=t.ray.origin.distanceTo(s))<t.near||h>t.far||e.push({distance:h,point:o.clone().applyMatrix4(this.matrixWorld),index:i,face:null,faceIndex:null,object:this}))}else if(i.isGeometry)for(a=(r=i.vertices).length,i=0;i<a-1;i+=l)n<(h=Oa.distanceSqToSegment(r[i],r[i+1],s,o))||(s.applyMatrix4(this.matrixWorld),(h=t.ray.origin.distanceTo(s))<t.near||h>t.far||e.push({distance:h,point:o.clone().applyMatrix4(this.matrixWorld),index:i,face:null,faceIndex:null,object:this}))}}),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),fe.prototype=Object.assign(Object.create(pe.prototype),{constructor:fe,isLineSegments:!0}),me.prototype=Object.assign(Object.create(pe.prototype),{constructor:me,isLineLoop:!0}),((ge.prototype=Object.create(L.prototype)).constructor=ge).prototype.isPointsMaterial=!0,ge.prototype.copy=function(t){return L.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this},ve.prototype=Object.assign(Object.create(G.prototype),{constructor:ve,isPoints:!0,raycast:(Na=new Dt,La=new U,Ia=new z,function(r,a){function t(t,e){var n=La.distanceSqToPoint(t);if(n<c){var i=La.closestPointToPoint(t);i.applyMatrix4(l);var o=r.ray.origin.distanceTo(i);o<r.near||o>r.far||a.push({distance:o,distanceToRay:Math.sqrt(n),point:i.clone(),index:e,face:null,object:s})}}var s=this,e=this.geometry,l=this.matrixWorld,n=r.params.Points.threshold;if(null===e.boundingSphere&&e.computeBoundingSphere(),Ia.copy(e.boundingSphere),Ia.applyMatrix4(l),Ia.radius+=n,!1!==r.ray.intersectsSphere(Ia)){Na.getInverse(l),La.copy(r.ray).applyMatrix4(Na);var c=(n/=(this.scale.x+this.scale.y+this.scale.z)/3)*n;if(n=new kt,e.isBufferGeometry){var i=e.index;if(e=e.attributes.position.array,null!==i)for(var o=i.array,d=(i=0,o.length);i<d;i++){var u=o[i];n.fromArray(e,3*u),t(n,u)}else for(i=0,o=e.length/3;i<o;i++)n.fromArray(e,3*i),t(n,i)}else for(i=0,o=(n=e.vertices).length;i<o;i++)t(n[i],i)}}),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),ye.prototype=Object.assign(Object.create(G.prototype),{constructor:ye}),(be.prototype=Object.create(F.prototype)).constructor=be,((_e.prototype=Object.create(F.prototype)).constructor=_e).prototype.isCompressedTexture=!0,(xe.prototype=Object.create(F.prototype)).constructor=xe,((we.prototype=Object.create(F.prototype)).constructor=we).prototype.isDepthTexture=!0,(Ee.prototype=Object.create(Ht.prototype)).constructor=Ee,(Me.prototype=Object.create(lt.prototype)).constructor=Me,(Te.prototype=Object.create(Ht.prototype)).constructor=Te,(Ce.prototype=Object.create(lt.prototype)).constructor=Ce,(Se.prototype=Object.create(Ht.prototype)).constructor=Se,(Ae.prototype=Object.create(lt.prototype)).constructor=Ae,(ke.prototype=Object.create(Se.prototype)).constructor=ke,(De.prototype=Object.create(lt.prototype)).constructor=De,(Oe.prototype=Object.create(Se.prototype)).constructor=Oe,(Pe.prototype=Object.create(lt.prototype)).constructor=Pe,(Ne.prototype=Object.create(Se.prototype)).constructor=Ne,(Le.prototype=Object.create(lt.prototype)).constructor=Le,(Ie.prototype=Object.create(Se.prototype)).constructor=Ie,(Re.prototype=Object.create(lt.prototype)).constructor=Re,($e.prototype=Object.create(Ht.prototype)).constructor=$e,(Fe.prototype=Object.create(lt.prototype)).constructor=Fe,(ze.prototype=Object.create(Ht.prototype)).constructor=ze,(He.prototype=Object.create(lt.prototype)).constructor=He,(Be.prototype=Object.create(Ht.prototype)).constructor=Be;var $a={area:function(t){for(var e=t.length,n=0,i=e-1,o=0;o<e;i=o++)n+=t[i].x*t[o].y-t[o].x*t[i].y;return.5*n},triangulate:function(t,e){var n=t.length;if(n<3)return null;var i,o,r,a=[],s=[],l=[];if(0<$a.area(t))for(o=0;o<n;o++)s[o]=o;else for(o=0;o<n;o++)s[o]=n-1-o;var c=2*n;for(o=n-1;2<n;){if(c--<=0){console.warn("THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()");break}var d;n<=(i=o)&&(i=0),n<=(o=i+1)&&(o=0),n<=(r=o+1)&&(r=0);t:{var u,h,p,f,m,g,v,y;if(u=t[s[i]].x,h=t[s[i]].y,p=t[s[o]].x,f=t[s[o]].y,m=t[s[r]].x,(p-u)*((g=t[s[r]].y)-h)-(f-h)*(m-u)<=0)d=!1;else{var b,_,x,w,E,M,T,C,S,A;for(b=m-p,_=g-f,x=u-m,w=h-g,E=p-u,M=f-h,d=0;d<n;d++)if(v=t[s[d]].x,y=t[s[d]].y,!(v===u&&y===h||v===p&&y===f||v===m&&y===g)&&(S=v-p,A=y-f,T=E*(C=y-h)-M*(T=v-u),C=x*(y-=g)-w*(v-=m),(S=b*A-_*S)>=-Number.EPSILON&&C>=-Number.EPSILON&&T>=-Number.EPSILON)){d=!1;break t}d=!0}}if(d){for(a.push([t[s[i]],t[s[o]],t[s[r]]]),l.push([s[i],s[o],s[r]]),r=(i=o)+1;r<n;i++,r++)s[i]=s[r];c=2*--n}}return e?l:a},triangulateShape:function(b,t){function e(t){var e=t.length;2<e&&t[e-1].equals(t[0])&&t.pop()}function p(t,e,n){return t.x!==e.x?t.x<e.x?t.x<=n.x&&n.x<=e.x:e.x<=n.x&&n.x<=t.x:t.y<e.y?t.y<=n.y&&n.y<=e.y:e.y<=n.y&&n.y<=t.y}function _(t,e,n,i,o){var r=e.x-t.x,a=e.y-t.y,s=i.x-n.x,l=i.y-n.y,c=t.x-n.x,d=t.y-n.y,u=a*s-r*l,h=a*c-r*d;if(Math.abs(u)>Number.EPSILON){if(0<u){if(h<0||u<h)return[];if((s=l*c-s*d)<0||u<s)return[]}else{if(0<h||h<u)return[];if(0<(s=l*c-s*d)||s<u)return[]}return 0===s?!o||0!==h&&h!==u?[t]:[]:s===u?!o||0!==h&&h!==u?[e]:[]:0===h?[n]:h===u?[i]:(o=s/u,[{x:t.x+o*r,y:t.y+o*a}])}return 0!==h||l*c!=s*d?[]:(s=0===s&&0===l,(a=0===r&&0===a)&&s?t.x!==n.x||t.y!==n.y?[]:[t]:a?p(n,i,t)?[t]:[]:s?p(t,e,n)?[n]:[]:(n=0!==r?(t=t.x<e.x?(s=(r=t).x,(a=e).x):(s=(r=e).x,(a=t).x),n.x<i.x?(u=(e=n).x,(l=i).x):(u=(e=i).x,(l=n).x)):(t=t.y<e.y?(s=(r=t).y,(a=e).y):(s=(r=e).y,(a=t).y),n.y<i.y?(u=(e=n).y,(l=i).y):(u=(e=i).y,(l=n).y)),s<=u?t<u?[]:t===u?o?[]:[e]:t<=n?[e,a]:[e,l]:n<s?[]:s===n?o?[]:[r]:t<=n?[r,a]:[r,l]))}function x(t,e,n,i){var o=e.x-t.x,r=e.y-t.y;e=n.x-t.x,n=n.y-t.y;var a=i.x-t.x;return i=i.y-t.y,t=o*n-r*e,o=o*i-r*a,Math.abs(t)>Number.EPSILON?(e=a*n-i*e,0<t?0<=o&&0<=e:0<=o||0<=e):0<o}e(b),t.forEach(e);var n,i,o,r,a,s={};for(o=b.concat(),n=0,i=t.length;n<i;n++)Array.prototype.push.apply(o,t[n]);for(n=0,i=o.length;n<i;n++)void 0!==s[a=o[n].x+":"+o[n].y]&&console.warn("THREE.ShapeUtils: Duplicate point",a,n),s[a]=n;n=function(t,a){function e(t,e){var n=f.length-1,i=t-1;i<0&&(i=n);var o=t+1;return n<o&&(o=0),!!(n=x(f[t],f[i],f[o],r[e]))&&(n=r.length-1,(i=e-1)<0&&(i=n),n<(o=e+1)&&(o=0),!!(n=x(r[e],r[i],r[o],f[t])))}function n(t,e){var n,i;for(n=0;n<f.length;n++)if(i=n+1,i%=f.length,0<(i=_(t,e,f[n],f[i],!0)).length)return!0;return!1}function i(t,e){var n,i,o,r;for(n=0;n<m.length;n++)for(i=a[m[n]],o=0;o<i.length;o++)if(r=o+1,r%=i.length,0<(r=_(t,e,i[o],i[r],!0)).length)return!0;return!1}var r,o,s,l,c,d,u,h,p,f=b.concat(),m=[],g=[],v=0;for(o=a.length;v<o;v++)m.push(v);u=0;for(var y=2*m.length;0<m.length;){if(--y<0){console.log("Infinite Loop! Holes left:"+m.length+", Probably Hole outside Shape!");break}for(s=u;s<f.length;s++){for(l=f[s],o=-1,v=0;v<m.length;v++)if(c=m[v],void 0===g[d=l.x+":"+l.y+":"+c]){for(r=a[c],h=0;h<r.length;h++)if(c=r[h],e(s,h)&&!n(l,c)&&!i(l,c)){o=h,m.splice(v,1),u=f.slice(0,s+1),c=f.slice(s),h=r.slice(o),p=r.slice(0,o+1),f=u.concat(h).concat(p).concat(c),u=s;break}if(0<=o)break;g[d]=!0}if(0<=o)break}}return f}(0,t);var l=$a.triangulate(n,!1);for(n=0,i=l.length;n<i;n++)for(r=l[n],o=0;o<3;o++)void 0!==(a=s[a=r[o].x+":"+r[o].y])&&(r[o]=a);return l.concat()},isClockWise:function(t){return $a.area(t)<0}};(Ue.prototype=Object.create(lt.prototype)).constructor=Ue,((je.prototype=Object.create(Ht.prototype)).constructor=je).prototype.getArrays=function(){var t,e,n;return{position:t=(t=this.getAttribute("position"))?Array.prototype.slice.call(t.array):[],uv:e=(e=this.getAttribute("uv"))?Array.prototype.slice.call(e.array):[],index:n=(n=this.index)?Array.prototype.slice.call(n.array):[]}},je.prototype.addShapeList=function(t,e){var n=t.length;e.arrays=this.getArrays();for(var i=0;i<n;i++)this.addShape(t[i],e);this.setIndex(e.arrays.index),this.addAttribute("position",new ot(e.arrays.position,3)),this.addAttribute("uv",new ot(e.arrays.uv,2))},je.prototype.addShape=function(t,n){function e(t,e,n){return e||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().multiplyScalar(n).add(t)}function i(t,e,n){var i,o,r;o=t.x-e.x,r=t.y-e.y,i=n.x-t.x;var a=n.y-t.y,s=o*o+r*r;if(Math.abs(o*a-r*i)>Number.EPSILON){var l=Math.sqrt(s),c=Math.sqrt(i*i+a*a);s=e.x-r/l;if(e=e.y+o/l,(r=(i=s+o*(a=((n.x-a/c-s)*a-(n.y+i/c-e)*i)/(o*a-r*i))-t.x)*i+(o=e+r*a-t.y)*o)<=2)return new Y(i,o);r=Math.sqrt(r/2)}else t=!1,o>Number.EPSILON?i>Number.EPSILON&&(t=!0):o<-Number.EPSILON?i<-Number.EPSILON&&(t=!0):Math.sign(r)===Math.sign(a)&&(t=!0),r=t?(i=-r,Math.sqrt(s)):(i=o,o=r,Math.sqrt(s/2));return new Y(i/r,o/r)}function o(t,e){var n,i;for(j=t.length;0<=--j;){(i=(n=j)-1)<0&&(i=t.length-1);var o,r=M+2*x;for(o=0;o<r;o++){var a=B*o,s=e+i+a,l=e+i+(c=B*(o+1)),c=e+n+c;d(e+n+a),d(s),d(c),d(s),d(l),d(c),a=f.length/3,u((a=S.generateSideWallUV(O,f,a-6,a-3,a-2,a-1))[0]),u(a[1]),u(a[3]),u(a[1]),u(a[2]),u(a[3])}}}function r(t,e,n){v.push(t),v.push(e),v.push(n)}function a(t,e,n){d(t),d(e),d(n),t=f.length/3,u((t=S.generateTopUV(O,f,t-3,t-2,t-1))[0]),u(t[1]),u(t[2])}function d(t){m.push(f.length/3),f.push(v[3*t+0]),f.push(v[3*t+1]),f.push(v[3*t+2])}function u(t){g.push(t.x),g.push(t.y)}var s,l,c,h,p,f=(y=n.arrays?n.arrays:this.getArrays()).position,m=y.index,g=y.uv,v=[],y=void 0!==n.amount?n.amount:100,b=void 0!==n.bevelThickness?n.bevelThickness:6,_=void 0!==n.bevelSize?n.bevelSize:b-2,x=void 0!==n.bevelSegments?n.bevelSegments:3,w=void 0===n.bevelEnabled||n.bevelEnabled,E=void 0!==n.curveSegments?n.curveSegments:12,M=void 0!==n.steps?n.steps:1,T=n.extrudePath,C=!1,S=void 0!==n.UVGenerator?n.UVGenerator:Ue.WorldUVGenerator;T&&(s=T.getSpacedPoints(M),w=!(C=!0),l=void 0!==n.frames?n.frames:T.computeFrenetFrames(M,!1),c=new kt,h=new kt,p=new kt),w||(_=b=x=0);var A,k,D,O=this,P=(E=(T=t.extractPoints(E)).shape,T.holes);if(T=!$a.isClockWise(E)){for(E=E.reverse(),k=0,D=P.length;k<D;k++)A=P[k],$a.isClockWise(A)&&(P[k]=A.reverse());T=!1}var N=$a.triangulateShape(E,P),L=E;for(k=0,D=P.length;k<D;k++)A=P[k],E=E.concat(A);var I,R,$,F,z,H,B=E.length,U=N.length,j=(T=[],0);for(I=($=L.length)-1,R=j+1;j<$;j++,I++,R++)I===$&&(I=0),R===$&&(R=0),T[j]=i(L[j],L[I],L[R]);var V,G=[],W=T.concat();for(k=0,D=P.length;k<D;k++){for(A=P[k],V=[],j=0,I=($=A.length)-1,R=j+1;j<$;j++,I++,R++)I===$&&(I=0),R===$&&(R=0),V[j]=i(A[j],A[I],A[R]);G.push(V),W=W.concat(V)}for(I=0;I<x;I++){for($=I/x,F=b*Math.cos($*Math.PI/2),R=_*Math.sin($*Math.PI/2),j=0,$=L.length;j<$;j++)r((z=e(L[j],T[j],R)).x,z.y,-F);for(k=0,D=P.length;k<D;k++)for(A=P[k],V=G[k],j=0,$=A.length;j<$;j++)r((z=e(A[j],V[j],R)).x,z.y,-F)}for(R=_,j=0;j<B;j++)z=w?e(E[j],W[j],R):E[j],C?(h.copy(l.normals[0]).multiplyScalar(z.x),c.copy(l.binormals[0]).multiplyScalar(z.y),p.copy(s[0]).add(h).add(c),r(p.x,p.y,p.z)):r(z.x,z.y,0);for($=1;$<=M;$++)for(j=0;j<B;j++)z=w?e(E[j],W[j],R):E[j],C?(h.copy(l.normals[$]).multiplyScalar(z.x),c.copy(l.binormals[$]).multiplyScalar(z.y),p.copy(s[$]).add(h).add(c),r(p.x,p.y,p.z)):r(z.x,z.y,y/M*$);for(I=x-1;0<=I;I--){for($=I/x,F=b*Math.cos($*Math.PI/2),R=_*Math.sin($*Math.PI/2),j=0,$=L.length;j<$;j++)r((z=e(L[j],T[j],R)).x,z.y,y+F);for(k=0,D=P.length;k<D;k++)for(A=P[k],V=G[k],j=0,$=A.length;j<$;j++)z=e(A[j],V[j],R),C?r(z.x,z.y+s[M-1].y,s[M-1].x+F):r(z.x,z.y,y+F)}!function(){var t=f.length/3;if(w){var e=0*B;for(j=0;j<U;j++)a((H=N[j])[2]+e,H[1]+e,H[0]+e);for(e=B*(M+2*x),j=0;j<U;j++)a((H=N[j])[0]+e,H[1]+e,H[2]+e)}else{for(j=0;j<U;j++)a((H=N[j])[2],H[1],H[0]);for(j=0;j<U;j++)a((H=N[j])[0]+B*M,H[1]+B*M,H[2]+B*M)}O.addGroup(t,f.length/3-t,void 0!==n.material?n.material:0)}(),function(){var t=f.length/3,e=0;for(o(L,e),e+=L.length,k=0,D=P.length;k<D;k++)o(A=P[k],e),e+=A.length;O.addGroup(t,f.length/3-t,void 0!==n.extrudeMaterial?n.extrudeMaterial:1)}(),n.arrays||(this.setIndex(m),this.addAttribute("position",new ot(f,3)),this.addAttribute("uv",new ot(n.arrays.uv,2)))},Ue.WorldUVGenerator={generateTopUV:function(t,e,n,i,o){t=e[3*i],i=e[3*i+1];var r=e[3*o];return o=e[3*o+1],[new Y(e[3*n],e[3*n+1]),new Y(t,i),new Y(r,o)]},generateSideWallUV:function(t,e,n,i,o,r){t=e[3*n];var a=e[3*n+1];n=e[3*n+2];var s=e[3*i],l=e[3*i+1];i=e[3*i+2];var c=e[3*o],d=e[3*o+1];o=e[3*o+2];var u=e[3*r],h=e[3*r+1];return e=e[3*r+2],Math.abs(a-l)<.01?[new Y(t,1-n),new Y(s,1-i),new Y(c,1-o),new Y(u,1-e)]:[new Y(a,1-n),new Y(l,1-i),new Y(d,1-o),new Y(h,1-e)]}},(Ve.prototype=Object.create(lt.prototype)).constructor=Ve,(Ge.prototype=Object.create(je.prototype)).constructor=Ge,(We.prototype=Object.create(lt.prototype)).constructor=We,(Ye.prototype=Object.create(Ht.prototype)).constructor=Ye,(qe.prototype=Object.create(lt.prototype)).constructor=qe,(Xe.prototype=Object.create(Ht.prototype)).constructor=Xe,(Ze.prototype=Object.create(lt.prototype)).constructor=Ze,(Ke.prototype=Object.create(Ht.prototype)).constructor=Ke,(Qe.prototype=Object.create(lt.prototype)).constructor=Qe,(Je.prototype=Object.create(Ht.prototype)).constructor=Je,(tn.prototype=Object.create(Ht.prototype)).constructor=tn,(en.prototype=Object.create(lt.prototype)).constructor=en,(nn.prototype=Object.create(Ht.prototype)).constructor=nn,(on.prototype=Object.create(en.prototype)).constructor=on,(rn.prototype=Object.create(nn.prototype)).constructor=rn,(an.prototype=Object.create(lt.prototype)).constructor=an,(sn.prototype=Object.create(Ht.prototype)).constructor=sn;var Fa=Object.freeze({WireframeGeometry:Ee,ParametricGeometry:Me,ParametricBufferGeometry:Te,TetrahedronGeometry:Ae,TetrahedronBufferGeometry:ke,OctahedronGeometry:De,OctahedronBufferGeometry:Oe,IcosahedronGeometry:Pe,IcosahedronBufferGeometry:Ne,DodecahedronGeometry:Le,DodecahedronBufferGeometry:Ie,PolyhedronGeometry:Ce,PolyhedronBufferGeometry:Se,TubeGeometry:Re,TubeBufferGeometry:$e,TorusKnotGeometry:Fe,TorusKnotBufferGeometry:ze,TorusGeometry:He,TorusBufferGeometry:Be,TextGeometry:Ve,TextBufferGeometry:Ge,SphereGeometry:We,SphereBufferGeometry:Ye,RingGeometry:qe,RingBufferGeometry:Xe,PlaneGeometry:dt,PlaneBufferGeometry:jt,LatheGeometry:Ze,LatheBufferGeometry:Ke,ShapeGeometry:Qe,ShapeBufferGeometry:Je,ExtrudeGeometry:Ue,ExtrudeBufferGeometry:je,EdgesGeometry:tn,ConeGeometry:on,ConeBufferGeometry:rn,CylinderGeometry:en,CylinderBufferGeometry:nn,CircleGeometry:an,CircleBufferGeometry:sn,BoxGeometry:ct,BoxBufferGeometry:Ut});((ln.prototype=Object.create(Rt.prototype)).constructor=ln).prototype.isShadowMaterial=!0,((cn.prototype=Object.create(Rt.prototype)).constructor=cn).prototype.isRawShaderMaterial=!0,((dn.prototype=Object.create(L.prototype)).constructor=dn).prototype.isMeshStandardMaterial=!0,dn.prototype.copy=function(t){return L.prototype.copy.call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},((un.prototype=Object.create(dn.prototype)).constructor=un).prototype.isMeshPhysicalMaterial=!0,un.prototype.copy=function(t){return dn.prototype.copy.call(this,t),this.defines={PHYSICAL:""},this.reflectivity=t.reflectivity,this.clearCoat=t.clearCoat,this.clearCoatRoughness=t.clearCoatRoughness,this},((hn.prototype=Object.create(L.prototype)).constructor=hn).prototype.isMeshPhongMaterial=!0,hn.prototype.copy=function(t){return L.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},((pn.prototype=Object.create(hn.prototype)).constructor=pn).prototype.isMeshToonMaterial=!0,pn.prototype.copy=function(t){return hn.prototype.copy.call(this,t),this.gradientMap=t.gradientMap,this},((fn.prototype=Object.create(L.prototype)).constructor=fn).prototype.isMeshNormalMaterial=!0,fn.prototype.copy=function(t){return L.prototype.copy.call(this,t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},((mn.prototype=Object.create(L.prototype)).constructor=mn).prototype.isMeshLambertMaterial=!0,mn.prototype.copy=function(t){return L.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},((gn.prototype=Object.create(L.prototype)).constructor=gn).prototype.isLineDashedMaterial=!0,gn.prototype.copy=function(t){return L.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this};var za=Object.freeze({ShadowMaterial:ln,SpriteMaterial:ae,RawShaderMaterial:cn,ShaderMaterial:Rt,PointsMaterial:ge,MeshPhysicalMaterial:un,MeshStandardMaterial:dn,MeshPhongMaterial:hn,MeshToonMaterial:pn,MeshNormalMaterial:fn,MeshLambertMaterial:mn,MeshDepthMaterial:I,MeshBasicMaterial:zt,LineDashedMaterial:gn,LineBasicMaterial:he,Material:L}),Ha={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}},Ba=new vn;Object.assign(yn.prototype,{load:function(n,i,e,o){void 0===n&&(n=""),void 0!==this.path&&(n=this.path+n);var r=this,t=Ha.get(n);if(void 0!==t)return r.manager.itemStart(n),setTimeout(function(){i&&i(t),r.manager.itemEnd(n)},0),t;if(l=n.match(/^data:(.*?)(;base64)?,(.*)$/)){var a=l[1],s=!!l[2],l=l[3];l=window.decodeURIComponent(l);s&&(l=window.atob(l));try{var c,d=(this.responseType||"").toLowerCase();switch(d){case"arraybuffer":case"blob":c=new ArrayBuffer(l.length);var u=new Uint8Array(c);for(s=0;s<l.length;s++)u[s]=l.charCodeAt(s);"blob"===d&&(c=new Blob([c],{type:a}));break;case"document":c=(new DOMParser).parseFromString(l,a);break;case"json":c=JSON.parse(l);break;default:c=l}window.setTimeout(function(){i&&i(c),r.manager.itemEnd(n)},0)}catch(t){window.setTimeout(function(){o&&o(t),r.manager.itemEnd(n),r.manager.itemError(n)},0)}}else{var h=new XMLHttpRequest;for(a in h.open("GET",n,!0),h.addEventListener("load",function(t){var e=t.target.response;Ha.add(n,e),200===this.status?(i&&i(e),r.manager.itemEnd(n)):0===this.status?(console.warn("THREE.FileLoader: HTTP Status 0 received."),i&&i(e),r.manager.itemEnd(n)):(o&&o(t),r.manager.itemEnd(n),r.manager.itemError(n))},!1),void 0!==e&&h.addEventListener("progress",function(t){e(t)},!1),h.addEventListener("error",function(t){o&&o(t),r.manager.itemEnd(n),r.manager.itemError(n)},!1),void 0!==this.responseType&&(h.responseType=this.responseType),void 0!==this.withCredentials&&(h.withCredentials=this.withCredentials),h.overrideMimeType&&h.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)h.setRequestHeader(a,this.requestHeader[a]);h.send(null)}return r.manager.itemStart(n),h},setPath:function(t){return this.path=t,this},setResponseType:function(t){return this.responseType=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setMimeType:function(t){return this.mimeType=t,this},setRequestHeader:function(t){return this.requestHeader=t,this}}),Object.assign(bn.prototype,{load:function(t,o,n,i){function e(e){l.load(t[e],function(t){t=r._parser(t,!0),a[e]={width:t.width,height:t.height,format:t.format,mipmaps:t.mipmaps},6===(c+=1)&&(1===t.mipmapCount&&(s.minFilter=1006),s.format=t.format,s.needsUpdate=!0,o&&o(s))},n,i)}var r=this,a=[],s=new _e;s.image=a;var l=new yn(this.manager);if(l.setPath(this.path),l.setResponseType("arraybuffer"),Array.isArray(t))for(var c=0,d=0,u=t.length;d<u;++d)e(d);else l.load(t,function(t){if((t=r._parser(t,!0)).isCubemap)for(var e=t.mipmaps.length/t.mipmapCount,n=0;n<e;n++){a[n]={mipmaps:[]};for(var i=0;i<t.mipmapCount;i++)a[n].mipmaps.push(t.mipmaps[n*t.mipmapCount+i]),a[n].format=t.format,a[n].width=t.width,a[n].height=t.height}else s.image.width=t.width,s.image.height=t.height,s.mipmaps=t.mipmaps;1===t.mipmapCount&&(s.minFilter=1006),s.format=t.format,s.needsUpdate=!0,o&&o(s)},n,i);return s},setPath:function(t){return this.path=t,this}}),Object.assign(_n.prototype,{load:function(t,e,n,i){var o=this,r=new Ot,a=new yn(this.manager);return a.setResponseType("arraybuffer"),a.load(t,function(t){(t=o._parser(t))&&(void 0!==t.image?r.image=t.image:void 0!==t.data&&(r.image.width=t.width,r.image.height=t.height,r.image.data=t.data),r.wrapS=void 0!==t.wrapS?t.wrapS:1001,r.wrapT=void 0!==t.wrapT?t.wrapT:1001,r.magFilter=void 0!==t.magFilter?t.magFilter:1006,r.minFilter=void 0!==t.minFilter?t.minFilter:1008,r.anisotropy=void 0!==t.anisotropy?t.anisotropy:1,void 0!==t.format&&(r.format=t.format),void 0!==t.type&&(r.type=t.type),void 0!==t.mipmaps&&(r.mipmaps=t.mipmaps),1===t.mipmapCount&&(r.minFilter=1006),r.needsUpdate=!0,e&&e(r,t))},n,i),r}}),Object.assign(xn.prototype,{load:function(e,t,n,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e);var o=this,r=Ha.get(e);return void 0!==r?(o.manager.itemStart(e),setTimeout(function(){t&&t(r),o.manager.itemEnd(e)},0),r):((n=document.createElementNS("http://www.w3.org/1999/xhtml","img")).addEventListener("load",function(){Ha.add(e,this),t&&t(this),o.manager.itemEnd(e)},!1),n.addEventListener("error",function(t){i&&i(t),o.manager.itemEnd(e),o.manager.itemError(e)},!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(n.crossOrigin=this.crossOrigin),o.manager.itemStart(e),n.src=e,n)},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(wn.prototype,{load:function(t,n,e,i){function o(e){a.load(t[e],function(t){r.images[e]=t,6===++s&&(r.needsUpdate=!0,n&&n(r))},void 0,i)}var r=new l,a=new xn(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);var s=0;for(e=0;e<t.length;++e)o(e);return r},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(En.prototype,{load:function(e,n,t,i){var o=new xn(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);var r=new F;return r.image=o.load(e,function(){var t=0<e.search(/\.(jpg|jpeg)$/)||0===e.search(/^data\:image\/jpeg/);r.format=t?1022:1023,r.needsUpdate=!0,void 0!==n&&n(r)},t,i),r},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Mn.prototype=Object.assign(Object.create(G.prototype),{constructor:Mn,isLight:!0,copy:function(t){return G.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){return(t=G.prototype.toJSON.call(this,t)).object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}),Tn.prototype=Object.assign(Object.create(Mn.prototype),{constructor:Tn,isHemisphereLight:!0,copy:function(t){return Mn.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),Object.assign(Cn.prototype,{copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t={};return 0!==this.bias&&(t.bias=this.bias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}),Sn.prototype=Object.assign(Object.create(Cn.prototype),{constructor:Sn,isSpotLightShadow:!0,update:function(t){var e=this.camera,n=2*yo.RAD2DEG*t.angle,i=this.mapSize.width/this.mapSize.height;t=t.distance||e.far,n===e.fov&&i===e.aspect&&t===e.far||(e.fov=n,e.aspect=i,e.far=t,e.updateProjectionMatrix())}}),An.prototype=Object.assign(Object.create(Mn.prototype),{constructor:An,isSpotLight:!0,copy:function(t){return Mn.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),kn.prototype=Object.assign(Object.create(Mn.prototype),{constructor:kn,isPointLight:!0,copy:function(t){return Mn.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),Dn.prototype=Object.assign(Object.create(Cn.prototype),{constructor:Dn}),On.prototype=Object.assign(Object.create(Mn.prototype),{constructor:On,isDirectionalLight:!0,copy:function(t){return Mn.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),Pn.prototype=Object.assign(Object.create(Mn.prototype),{constructor:Pn,isAmbientLight:!0}),Nn.prototype=Object.assign(Object.create(Mn.prototype),{constructor:Nn,isRectAreaLight:!0,copy:function(t){return Mn.prototype.copy.call(this,t),this.width=t.width,this.height=t.height,this},toJSON:function(t){return(t=Mn.prototype.toJSON.call(this,t)).object.width=this.width,t.object.height=this.height,t}});var Ua,ja={arraySlice:function(t,e,n){return ja.isTypedArray(t)?new t.constructor(t.subarray(e,void 0!==n?n:t.length)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:"number"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(n){for(var t=n.length,e=Array(t),i=0;i!==t;++i)e[i]=i;return e.sort(function(t,e){return n[t]-n[e]}),e},sortedArray:function(t,e,n){for(var i=t.length,o=new t.constructor(i),r=0,a=0;a!==i;++r)for(var s=n[r]*e,l=0;l!==e;++l)o[a++]=t[s+l];return o},flattenJSON:function(t,e,n,i){for(var o=1,r=t[0];void 0!==r&&void 0===r[i];)r=t[o++];if(void 0!==r){var a=r[i];if(void 0!==a)if(Array.isArray(a))for(;void 0!==(a=r[i])&&(e.push(r.time),n.push.apply(n,a)),void 0!==(r=t[o++]););else if(void 0!==a.toArray)for(;void 0!==(a=r[i])&&(e.push(r.time),a.toArray(n,n.length)),void 0!==(r=t[o++]););else for(;void 0!==(a=r[i])&&(e.push(r.time),n.push(a)),void 0!==(r=t[o++]););}}};Object.assign(Ln.prototype,{evaluate:function(t){var e=this.parameterPositions,n=this._cachedIndex,i=e[n],o=e[n-1];t:{e:{n:{i:if(!(t<i)){for(var r=n+2;;){if(void 0===i){if(t<o)break i;return this._cachedIndex=n=e.length,this.afterEnd_(n-1,t,o)}if(n===r)break;if(o=i,t<(i=e[++n]))break e}i=e.length;break n}if(o<=t)break t;for(t<(r=e[1])&&(n=2,o=r),r=n-2;;){if(void 0===o)return this._cachedIndex=0,this.beforeStart_(0,t,i);if(n===r)break;if(i=o,(o=e[--n-1])<=t)break e}i=n,n=0}for(;n<i;)t<e[o=n+i>>>1]?i=o:n=o+1;if(i=e[n],void 0===(o=e[n-1]))return this._cachedIndex=0,this.beforeStart_(0,t,i);if(void 0===i)return this._cachedIndex=n=e.length,this.afterEnd_(n-1,o,t)}this._cachedIndex=n,this.intervalChanged_(n,o,i)}return this.interpolate_(n,o,t,i)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){var e=this.resultBuffer,n=this.sampleValues,i=this.valueSize;t*=i;for(var o=0;o!==i;++o)e[o]=n[t+o];return e},interpolate_:function(t,e,n,i){throw Error("call to abstract method")},intervalChanged_:function(t,e,n){}}),Object.assign(Ln.prototype,{beforeStart_:Ln.prototype.copySampleValue_,afterEnd_:Ln.prototype.copySampleValue_}),In.prototype=Object.assign(Object.create(Ln.prototype),{constructor:In,DefaultSettings_:{endingStart:2400,endingEnd:2400},intervalChanged_:function(t,e,n){var i=this.parameterPositions,o=t-2,r=t+1,a=i[o],s=i[r];if(void 0===a)switch(this.getSettings_().endingStart){case 2401:o=t,a=2*e-n;break;case 2402:a=e+i[o=i.length-2]-i[o+1];break;default:o=t,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case 2401:r=t,s=2*n-e;break;case 2402:s=n+i[r=1]-i[0];break;default:r=t-1,s=e}t=.5*(n-e),i=this.valueSize,this._weightPrev=t/(e-a),this._weightNext=t/(s-n),this._offsetPrev=o*i,this._offsetNext=r*i},interpolate_:function(t,e,n,i){var o=this.resultBuffer,r=this.sampleValues,a=this.valueSize,s=(t*=a)-a,l=this._offsetPrev,c=this._offsetNext,d=this._weightPrev,u=this._weightNext,h=(n-e)/(i-e);for(e=-d*(i=(n=h*h)*h)+2*d*n-d*h,d=(1+d)*i+(-1.5-2*d)*n+(-.5+d)*h+1,h=(-1-u)*i+(1.5+u)*n+.5*h,u=u*i-u*n,n=0;n!==a;++n)o[n]=e*r[l+n]+d*r[s+n]+h*r[t+n]+u*r[c+n];return o}}),Rn.prototype=Object.assign(Object.create(Ln.prototype),{constructor:Rn,interpolate_:function(t,e,n,i){var o=this.resultBuffer,r=this.sampleValues,a=this.valueSize,s=(t*=a)-a;for(n=1-(e=(n-e)/(i-e)),i=0;i!==a;++i)o[i]=r[s+i]*n+r[t+i]*e;return o}}),$n.prototype=Object.assign(Object.create(Ln.prototype),{constructor:$n,interpolate_:function(t,e,n,i){return this.copySampleValue_(t-1)}}),Ua={TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:2301,InterpolantFactoryMethodDiscrete:function(t){return new $n(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new Rn(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new In(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){var e;switch(t){case 2300:e=this.InterpolantFactoryMethodDiscrete;break;case 2301:e=this.InterpolantFactoryMethodLinear;break;case 2302:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){if(e="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name,void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw Error(e);this.setInterpolation(this.DefaultInterpolation)}console.warn(e)}else this.createInterpolant=e},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t)for(var e=this.times,n=0,i=e.length;n!==i;++n)e[n]+=t;return this},scale:function(t){if(1!==t)for(var e=this.times,n=0,i=e.length;n!==i;++n)e[n]*=t;return this},trim:function(t,e){for(var n=this.times,i=n.length,o=0,r=i-1;o!==i&&n[o]<t;)++o;for(;-1!==r&&n[r]>e;)--r;return++r,0===o&&r===i||(r<=o&&(o=(r=Math.max(r,1))-1),i=this.getValueSize(),this.times=ja.arraySlice(n,o,r),this.values=ja.arraySlice(this.values,o*i,r*i)),this},validate:function(){var t=!0;0!=(n=this.getValueSize())-Math.floor(n)&&(console.error("invalid value size in track",this),t=!1);var e=this.times,n=this.values,i=e.length;0===i&&(console.error("track is empty",this),t=!1);for(var o=null,r=0;r!==i;r++){var a=e[r];if("number"==typeof a&&isNaN(a)){console.error("time is not a valid number",this,r,a),t=!1;break}if(null!==o&&a<o){console.error("out of order keys",this,r,a,o),t=!1;break}o=a}if(void 0!==n&&ja.isTypedArray(n))for(r=0,e=n.length;r!==e;++r)if(i=n[r],isNaN(i)){console.error("value is not a valid number",this,r,i),t=!1;break}return t},optimize:function(){for(var t=this.times,e=this.values,n=this.getValueSize(),i=2302===this.getInterpolation(),o=1,r=t.length-1,a=1;a<r;++a){var s=!1;if((u=t[a])!==t[a+1]&&(1!==a||u!==u[0]))if(i)s=!0;else for(var l=a*n,c=l-n,d=l+n,u=0;u!==n;++u){var h=e[l+u];if(h!==e[c+u]||h!==e[d+u]){s=!0;break}}if(s){if(a!==o)for(t[o]=t[a],s=a*n,l=o*n,u=0;u!==n;++u)e[l+u]=e[s+u];++o}}if(0<r){for(t[o]=t[r],s=r*n,l=o*n,u=0;u!==n;++u)e[l+u]=e[s+u];++o}return o!==t.length&&(this.times=ja.arraySlice(t,0,o),this.values=ja.arraySlice(e,0,o*n)),this}},zn.prototype=Object.assign(Object.create(Ua),{constructor:zn,ValueTypeName:"vector"}),Hn.prototype=Object.assign(Object.create(Ln.prototype),{constructor:Hn,interpolate_:function(t,e,n,i){var o=this.resultBuffer,r=this.sampleValues,a=this.valueSize;for(e=(n-e)/(i-e),n=(t*=a)+a;t!==n;t+=4)s.slerpFlat(o,0,r,t-a,r,t,e);return o}}),Bn.prototype=Object.assign(Object.create(Ua),{constructor:Bn,ValueTypeName:"quaternion",DefaultInterpolation:2301,InterpolantFactoryMethodLinear:function(t){return new Hn(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),Un.prototype=Object.assign(Object.create(Ua),{constructor:Un,ValueTypeName:"number"}),jn.prototype=Object.assign(Object.create(Ua),{constructor:jn,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Vn.prototype=Object.assign(Object.create(Ua),{constructor:Vn,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Gn.prototype=Object.assign(Object.create(Ua),{constructor:Gn,ValueTypeName:"color"}),(Wn.prototype=Ua).constructor=Wn,Object.assign(Wn,{parse:function(t){if(void 0===t.type)throw Error("track type undefined, can not parse");var e=Wn._getTrackTypeForValueTypeName(t.type);if(void 0===t.times){var n=[],i=[];ja.flattenJSON(t.keys,n,i,"value"),t.times=n,t.values=i}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)},toJSON:function(t){if(void 0!==(e=t.constructor).toJSON)e=e.toJSON(t);else{var e={name:t.name,times:ja.convertArray(t.times,Array),values:ja.convertArray(t.values,Array)},n=t.getInterpolation();n!==t.DefaultInterpolation&&(e.interpolation=n)}return e.type=t.ValueTypeName,e},_getTrackTypeForValueTypeName:function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Un;case"vector":case"vector2":case"vector3":case"vector4":return zn;case"color":return Gn;case"quaternion":return Bn;case"bool":case"boolean":return Vn;case"string":return jn}throw Error("Unsupported typeName: "+t)}}),Object.assign(Yn,{parse:function(t){for(var e=[],n=t.tracks,i=1/(t.fps||1),o=0,r=n.length;o!==r;++o)e.push(Wn.parse(n[o]).scale(i));return new Yn(t.name,t.duration,e)},toJSON:function(t){var e=[],n=t.tracks;t={name:t.name,duration:t.duration,tracks:e};for(var i=0,o=n.length;i!==o;++i)e.push(Wn.toJSON(n[i]));return t},CreateFromMorphTargetSequence:function(t,e,n,i){for(var o=e.length,r=[],a=0;a<o;a++){var s=[];(c=[]).push((a+o-1)%o,a,(a+1)%o),s.push(0,1,0);var l=ja.getKeyframeOrder(c),c=ja.sortedArray(c,1,l);s=ja.sortedArray(s,1,l);i||0!==c[0]||(c.push(o),s.push(s[0])),r.push(new Un(".morphTargetInfluences["+e[a].name+"]",c,s).scale(1/n))}return new Yn(t,-1,r)},findByName:function(t,e){var n=t;Array.isArray(t)||(n=t.geometry&&t.geometry.animations||t.animations);for(var i=0;i<n.length;i++)if(n[i].name===e)return n[i];return null},CreateClipsFromMorphTargetSequences:function(t,e,n){for(var i={},o=/^([\w-]*?)([\d]+)$/,r=0,a=t.length;r<a;r++){var s=t[r],l=s.name.match(o);if(l&&1<l.length){var c=l[1];(l=i[c])||(i[c]=l=[]),l.push(s)}}for(c in t=[],i)t.push(Yn.CreateFromMorphTargetSequence(c,i[c],e,n));return t},parseAnimation:function(t,e){if(!t)return console.error("  no animation in JSONLoader data"),null;for(var n=function(t,e,n,i,o){if(0!==n.length){var r=[],a=[];ja.flattenJSON(n,r,a,i),0!==r.length&&o.push(new t(e,r,a))}},i=[],o=t.name||"default",r=t.length||-1,a=t.fps||30,s=t.hierarchy||[],l=0;l<s.length;l++){var c=s[l].keys;if(c&&0!==c.length)if(c[0].morphTargets){r={};for(var d=0;d<c.length;d++)if(c[d].morphTargets)for(var u=0;u<c[d].morphTargets.length;u++)r[c[d].morphTargets[u]]=-1;for(var h in r){var p=[],f=[];for(u=0;u!==c[d].morphTargets.length;++u){var m=c[d];p.push(m.time),f.push(m.morphTarget===h?1:0)}i.push(new Un(".morphTargetInfluence["+h+"]",p,f))}r=r.length*(a||1)}else n(zn,(d=".bones["+e[l].name+"]")+".position",c,"pos",i),n(Bn,d+".quaternion",c,"rot",i),n(zn,d+".scale",c,"scl",i)}return 0===i.length?null:new Yn(o,r,i)}}),Object.assign(Yn.prototype,{resetDuration:function(){for(var t=0,e=0,n=this.tracks.length;e!==n;++e){var i=this.tracks[e];t=Math.max(t,i.times[i.times.length-1])}this.duration=t},trim:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},optimize:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}}),Object.assign(qn.prototype,{load:function(t,e,n,i){var o=this,r=new yn(o.manager);r.setResponseType("json"),r.load(t,function(t){e(o.parse(t))},n,i)},setTextures:function(t){this.textures=t},parse:function(t){function e(t){return void 0===n[t]&&console.warn("THREE.MaterialLoader: Undefined texture",t),n[t]}var n=this.textures,i=new za[t.type];if(void 0!==t.uuid&&(i.uuid=t.uuid),void 0!==t.name&&(i.name=t.name),void 0!==t.color&&i.color.setHex(t.color),void 0!==t.roughness&&(i.roughness=t.roughness),void 0!==t.metalness&&(i.metalness=t.metalness),void 0!==t.emissive&&i.emissive.setHex(t.emissive),void 0!==t.specular&&i.specular.setHex(t.specular),void 0!==t.shininess&&(i.shininess=t.shininess),void 0!==t.clearCoat&&(i.clearCoat=t.clearCoat),void 0!==t.clearCoatRoughness&&(i.clearCoatRoughness=t.clearCoatRoughness),void 0!==t.uniforms&&(i.uniforms=t.uniforms),void 0!==t.vertexShader&&(i.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(i.fragmentShader=t.fragmentShader),void 0!==t.vertexColors&&(i.vertexColors=t.vertexColors),void 0!==t.fog&&(i.fog=t.fog),void 0!==t.shading&&(i.shading=t.shading),void 0!==t.blending&&(i.blending=t.blending),void 0!==t.side&&(i.side=t.side),void 0!==t.opacity&&(i.opacity=t.opacity),void 0!==t.transparent&&(i.transparent=t.transparent),void 0!==t.alphaTest&&(i.alphaTest=t.alphaTest),void 0!==t.depthTest&&(i.depthTest=t.depthTest),void 0!==t.depthWrite&&(i.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(i.colorWrite=t.colorWrite),void 0!==t.wireframe&&(i.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(i.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(i.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(i.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.skinning&&(i.skinning=t.skinning),void 0!==t.morphTargets&&(i.morphTargets=t.morphTargets),void 0!==t.size&&(i.size=t.size),void 0!==t.sizeAttenuation&&(i.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(i.map=e(t.map)),void 0!==t.alphaMap&&(i.alphaMap=e(t.alphaMap),i.transparent=!0),void 0!==t.bumpMap&&(i.bumpMap=e(t.bumpMap)),void 0!==t.bumpScale&&(i.bumpScale=t.bumpScale),void 0!==t.normalMap&&(i.normalMap=e(t.normalMap)),void 0!==t.normalScale){var o=t.normalScale;!1===Array.isArray(o)&&(o=[o,o]),i.normalScale=(new Y).fromArray(o)}if(void 0!==t.displacementMap&&(i.displacementMap=e(t.displacementMap)),void 0!==t.displacementScale&&(i.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(i.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(i.roughnessMap=e(t.roughnessMap)),void 0!==t.metalnessMap&&(i.metalnessMap=e(t.metalnessMap)),void 0!==t.emissiveMap&&(i.emissiveMap=e(t.emissiveMap)),void 0!==t.emissiveIntensity&&(i.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(i.specularMap=e(t.specularMap)),void 0!==t.envMap&&(i.envMap=e(t.envMap)),void 0!==t.reflectivity&&(i.reflectivity=t.reflectivity),void 0!==t.lightMap&&(i.lightMap=e(t.lightMap)),void 0!==t.lightMapIntensity&&(i.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(i.aoMap=e(t.aoMap)),void 0!==t.aoMapIntensity&&(i.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(i.gradientMap=e(t.gradientMap)),void 0!==t.materials){o=0;for(var r=t.materials.length;o<r;o++)i.materials.push(this.parse(t.materials[o]))}return i}}),Object.assign(Xn.prototype,{load:function(t,e,n,i){var o=this,r=new yn(o.manager);r.setResponseType("json"),r.load(t,function(t){e(o.parse(t))},n,i)},parse:function(t){var e=new Ht;void 0!==(r=t.data.index)&&(r=new Xa[r.type](r.array),e.setIndex(new Z(r,1)));var n,i=t.data.attributes;for(n in i){var o=i[n],r=new Xa[o.type](o.array);e.addAttribute(n,new Z(r,o.itemSize,o.normalized))}if(void 0!==(n=t.data.groups||t.data.drawcalls||t.data.offsets))for(r=0,i=n.length;r!==i;++r)o=n[r],e.addGroup(o.start,o.count,o.materialIndex);return void 0!==(t=t.data.boundingSphere)&&(n=new kt,void 0!==t.center&&n.fromArray(t.center),e.boundingSphere=new z(n,t.radius)),e}});var Va,Ga,Wa,Ya,qa,Xa={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};Zn.Handlers={handlers:[],add:function(t,e){this.handlers.push(t,e)},get:function(t){for(var e=this.handlers,n=0,i=e.length;n<i;n+=2){var o=e[n+1];if(e[n].test(t))return o}return null}},Object.assign(Zn.prototype,{crossOrigin:void 0,extractUrlBase:function(t){return 1===(t=t.split("/")).length?"./":(t.pop(),t.join("/")+"/")},initMaterials:function(t,e,n){for(var i=[],o=0;o<t.length;++o)i[o]=this.createMaterial(t[o],e,n);return i},createMaterial:(Va={NoBlending:0,NormalBlending:1,AdditiveBlending:2,SubtractiveBlending:3,MultiplyBlending:4,CustomBlending:5},Ga=new Nt,Wa=new En,Ya=new qn,function(t,a,s){function e(t,e,n,i,o){t=a+t;var r=Zn.Handlers.get(t);return t=null!==r?r.load(t):(Wa.setCrossOrigin(s),Wa.load(t)),void 0!==e&&(t.repeat.fromArray(e),1!==e[0]&&(t.wrapS=1e3),1!==e[1]&&(t.wrapT=1e3)),void 0!==n&&t.offset.fromArray(n),void 0!==i&&("repeat"===i[0]&&(t.wrapS=1e3),"mirror"===i[0]&&(t.wrapS=1002),"repeat"===i[1]&&(t.wrapT=1e3),"mirror"===i[1]&&(t.wrapT=1002)),void 0!==o&&(t.anisotropy=o),e=yo.generateUUID(),l[e]=t,e}var n,l={},i={uuid:yo.generateUUID(),type:"MeshLambertMaterial"};for(n in t){var o=t[n];switch(n){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":i.name=o;break;case"blending":i.blending=Va[o];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",n,"is no longer supported.");break;case"colorDiffuse":i.color=Ga.fromArray(o).getHex();break;case"colorSpecular":i.specular=Ga.fromArray(o).getHex();break;case"colorEmissive":i.emissive=Ga.fromArray(o).getHex();break;case"specularCoef":i.shininess=o;break;case"shading":"basic"===o.toLowerCase()&&(i.type="MeshBasicMaterial"),"phong"===o.toLowerCase()&&(i.type="MeshPhongMaterial"),"standard"===o.toLowerCase()&&(i.type="MeshStandardMaterial");break;case"mapDiffuse":i.map=e(o,t.mapDiffuseRepeat,t.mapDiffuseOffset,t.mapDiffuseWrap,t.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":i.emissiveMap=e(o,t.mapEmissiveRepeat,t.mapEmissiveOffset,t.mapEmissiveWrap,t.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":i.lightMap=e(o,t.mapLightRepeat,t.mapLightOffset,t.mapLightWrap,t.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":i.aoMap=e(o,t.mapAORepeat,t.mapAOOffset,t.mapAOWrap,t.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":i.bumpMap=e(o,t.mapBumpRepeat,t.mapBumpOffset,t.mapBumpWrap,t.mapBumpAnisotropy);break;case"mapBumpScale":i.bumpScale=o;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":i.normalMap=e(o,t.mapNormalRepeat,t.mapNormalOffset,t.mapNormalWrap,t.mapNormalAnisotropy);break;case"mapNormalFactor":i.normalScale=[o,o];break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":i.specularMap=e(o,t.mapSpecularRepeat,t.mapSpecularOffset,t.mapSpecularWrap,t.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":i.metalnessMap=e(o,t.mapMetalnessRepeat,t.mapMetalnessOffset,t.mapMetalnessWrap,t.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":i.roughnessMap=e(o,t.mapRoughnessRepeat,t.mapRoughnessOffset,t.mapRoughnessWrap,t.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":i.alphaMap=e(o,t.mapAlphaRepeat,t.mapAlphaOffset,t.mapAlphaWrap,t.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":i.side=1;break;case"doubleSided":i.side=2;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),i.opacity=o;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":i[n]=o;break;case"vertexColors":!0===o&&(i.vertexColors=2),"face"===o&&(i.vertexColors=1);break;default:console.error("THREE.Loader.createMaterial: Unsupported",n,o)}}return"MeshBasicMaterial"===i.type&&delete i.emissive,"MeshPhongMaterial"!==i.type&&delete i.specular,i.opacity<1&&(i.transparent=!0),Ya.setTextures(l),Ya.parse(i)})}),Object.assign(Kn.prototype,{load:function(n,i,t,e){var o=this,r=this.texturePath&&"string"==typeof this.texturePath?this.texturePath:Zn.prototype.extractUrlBase(n),a=new yn(this.manager);a.setResponseType("json"),a.setWithCredentials(this.withCredentials),a.load(n,function(t){var e=t.metadata;if(void 0!==e&&void 0!==(e=e.type)){if("object"===e.toLowerCase())return void console.error("THREE.JSONLoader: "+n+" should be loaded with THREE.ObjectLoader instead.");if("scene"===e.toLowerCase())return void console.error("THREE.JSONLoader: "+n+" should be loaded with THREE.SceneLoader instead.")}t=o.parse(t,r),i(t.geometry,t.materials)},t,e)},setTexturePath:function(t){this.texturePath=t},parse:function(t,e){void 0!==t.data&&(t=t.data),t.scale=void 0!==t.scale?1/t.scale:1;var n,i,o,r,a,s,l,c,d,u,h,p,f,m,g=new lt,v=t,y=v.faces;d=v.vertices;var b=v.normals,_=v.colors;s=v.scale;var x=0;if(void 0!==v.uvs){for(n=0;n<v.uvs.length;n++)v.uvs[n].length&&x++;for(n=0;n<x;n++)g.faceVertexUvs[n]=[]}for(r=0,a=d.length;r<a;)(n=new kt).x=d[r++]*s,n.y=d[r++]*s,n.z=d[r++]*s,g.vertices.push(n);for(r=0,a=y.length;r<a;)if(u=1&(d=y[r++]),o=2&d,n=8&d,l=16&d,h=32&d,s=64&d,d&=128,u){if((u=new X).a=y[r],u.b=y[r+1],u.c=y[r+3],(p=new X).a=y[r+1],p.b=y[r+2],p.c=y[r+3],r+=4,o&&(o=y[r++],u.materialIndex=o,p.materialIndex=o),o=g.faces.length,n)for(n=0;n<x;n++)for(f=v.uvs[n],g.faceVertexUvs[n][o]=[],g.faceVertexUvs[n][o+1]=[],i=0;i<4;i++)m=new Y(m=f[2*(c=y[r++])],c=f[2*c+1]),2!==i&&g.faceVertexUvs[n][o].push(m),0!==i&&g.faceVertexUvs[n][o+1].push(m);if(l&&(l=3*y[r++],u.normal.set(b[l++],b[l++],b[l]),p.normal.copy(u.normal)),h)for(n=0;n<4;n++)l=3*y[r++],h=new kt(b[l++],b[l++],b[l]),2!==n&&u.vertexNormals.push(h),0!==n&&p.vertexNormals.push(h);if(s&&(s=_[s=y[r++]],u.color.setHex(s),p.color.setHex(s)),d)for(n=0;n<4;n++)s=_[s=y[r++]],2!==n&&u.vertexColors.push(new Nt(s)),0!==n&&p.vertexColors.push(new Nt(s));g.faces.push(u),g.faces.push(p)}else{if((u=new X).a=y[r++],u.b=y[r++],u.c=y[r++],o&&(o=y[r++],u.materialIndex=o),o=g.faces.length,n)for(n=0;n<x;n++)for(f=v.uvs[n],g.faceVertexUvs[n][o]=[],i=0;i<3;i++)m=new Y(m=f[2*(c=y[r++])],c=f[2*c+1]),g.faceVertexUvs[n][o].push(m);if(l&&(l=3*y[r++],u.normal.set(b[l++],b[l++],b[l])),h)for(n=0;n<3;n++)l=3*y[r++],h=new kt(b[l++],b[l++],b[l]),u.vertexNormals.push(h);if(s&&(s=y[r++],u.color.setHex(_[s])),d)for(n=0;n<3;n++)s=y[r++],u.vertexColors.push(new Nt(_[s]));g.faces.push(u)}if(r=void 0!==(v=t).influencesPerVertex?v.influencesPerVertex:2,v.skinWeights)for(a=0,y=v.skinWeights.length;a<y;a+=r)g.skinWeights.push(new At(v.skinWeights[a],1<r?v.skinWeights[a+1]:0,2<r?v.skinWeights[a+2]:0,3<r?v.skinWeights[a+3]:0));if(v.skinIndices)for(a=0,y=v.skinIndices.length;a<y;a+=r)g.skinIndices.push(new At(v.skinIndices[a],1<r?v.skinIndices[a+1]:0,2<r?v.skinIndices[a+2]:0,3<r?v.skinIndices[a+3]:0));if(g.bones=v.bones,g.bones&&0<g.bones.length&&(g.skinWeights.length!==g.skinIndices.length||g.skinIndices.length!==g.vertices.length)&&console.warn("When skinning, number of vertices ("+g.vertices.length+"), skinIndices ("+g.skinIndices.length+"), and skinWeights ("+g.skinWeights.length+") should match."),y=(a=t).scale,void 0!==a.morphTargets)for(v=0,r=a.morphTargets.length;v<r;v++)for(g.morphTargets[v]={},g.morphTargets[v].name=a.morphTargets[v].name,g.morphTargets[v].vertices=[],b=g.morphTargets[v].vertices,x=0,d=(_=a.morphTargets[v].vertices).length;x<d;x+=3)(s=new kt).x=_[x]*y,s.y=_[x+1]*y,s.z=_[x+2]*y,b.push(s);if(void 0!==a.morphColors&&0<a.morphColors.length)for(console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.'),y=g.faces,a=a.morphColors[0].colors,v=0,r=y.length;v<r;v++)y[v].color.fromArray(a,3*v);for(v=[],r=[],void 0!==(a=t).animation&&r.push(a.animation),void 0!==a.animations&&(a.animations.length?r=r.concat(a.animations):r.push(a.animations)),a=0;a<r.length;a++)(y=Yn.parseAnimation(r[a],g.bones))&&v.push(y);return g.morphTargets&&(r=Yn.CreateClipsFromMorphTargetSequences(g.morphTargets,10),v=v.concat(r)),0<v.length&&(g.animations=v),g.computeFaceNormals(),g.computeBoundingSphere(),void 0===t.materials||0===t.materials.length?{geometry:g}:{geometry:g,materials:v=Zn.prototype.initMaterials(t.materials,e,this.crossOrigin)}}}),Object.assign(Qn.prototype,{load:function(n,i,t,o){""===this.texturePath&&(this.texturePath=n.substring(0,n.lastIndexOf("/")+1));var r=this;new yn(r.manager).load(n,function(t){var e=null;try{e=JSON.parse(t)}catch(t){return void 0!==o&&o(t),void console.error("THREE:ObjectLoader: Can't parse "+n+".",t.message)}void 0===(t=e.metadata)||void 0===t.type||"geometry"===t.type.toLowerCase()?console.error("THREE.ObjectLoader: Can't load "+n+". Use THREE.JSONLoader instead."):r.parse(e,i)},t,o)},setTexturePath:function(t){this.texturePath=t},setCrossOrigin:function(t){this.crossOrigin=t},parse:function(t,e){var n=this.parseGeometries(t.geometries),i=this.parseImages(t.images,function(){void 0!==e&&e(o)}),o=(i=this.parseTextures(t.textures,i),i=this.parseMaterials(t.materials,i),this.parseObject(t.object,n,i));return t.animations&&(o.animations=this.parseAnimations(t.animations)),void 0!==t.images&&0!==t.images.length||void 0===e||e(o),o},parseGeometries:function(t){var e={};if(void 0!==t)for(var n=new Kn,i=new Xn,o=0,r=t.length;o<r;o++){var a,s=t[o];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":a=new Fa[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":a=new Fa[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":a=new Fa[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":a=new Fa[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":a=new Fa[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":a=new Fa[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"IcosahedronGeometry":case"OctahedronGeometry":case"TetrahedronGeometry":a=new Fa[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":a=new Fa[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":a=new Fa[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":a=new Fa[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"LatheGeometry":case"LatheBufferGeometry":a=new Fa[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"BufferGeometry":a=i.parse(s);break;case"Geometry":a=n.parse(s,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+s.type+'"');continue}a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),e[s.uuid]=a}return e},parseMaterials:function(t,e){var n={};if(void 0!==t){var i=new qn;i.setTextures(e);for(var o=0,r=t.length;o<r;o++){var a=i.parse(t[o]);n[a.uuid]=a}}return n},parseAnimations:function(t){for(var e=[],n=0;n<t.length;n++){var i=Yn.parse(t[n]);e.push(i)}return e},parseImages:function(t,e){function n(t){return i.manager.itemStart(t),r.load(t,function(){i.manager.itemEnd(t)},void 0,function(){i.manager.itemEnd(t),i.manager.itemError(t)})}var i=this,o={};if(void 0!==t&&0<t.length){var r=new xn(a=new vn(e));r.setCrossOrigin(this.crossOrigin);for(var a=0,s=t.length;a<s;a++){var l=t[a],c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l.url)?l.url:i.texturePath+l.url;o[l.uuid]=n(c)}}return o},parseTextures:function(t,e){function n(t,e){return"number"==typeof t?t:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",t),e[t])}var i={};if(void 0!==t)for(var o=0,r=t.length;o<r;o++){var a=t[o];void 0===a.image&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),void 0===e[a.image]&&console.warn("THREE.ObjectLoader: Undefined image",a.image);var s=new F(e[a.image]);s.needsUpdate=!0,s.uuid=a.uuid,void 0!==a.name&&(s.name=a.name),void 0!==a.mapping&&(s.mapping=n(a.mapping,Za)),void 0!==a.offset&&s.offset.fromArray(a.offset),void 0!==a.repeat&&s.repeat.fromArray(a.repeat),void 0!==a.wrap&&(s.wrapS=n(a.wrap[0],Ka),s.wrapT=n(a.wrap[1],Ka)),void 0!==a.minFilter&&(s.minFilter=n(a.minFilter,Qa)),void 0!==a.magFilter&&(s.magFilter=n(a.magFilter,Qa)),void 0!==a.anisotropy&&(s.anisotropy=a.anisotropy),void 0!==a.flipY&&(s.flipY=a.flipY),i[a.uuid]=s}return i},parseObject:(qa=new Dt,function(t,e,r){function n(t){return void 0===e[t]&&console.warn("THREE.ObjectLoader: Undefined geometry",t),e[t]}function i(t){if(void 0!==t){if(Array.isArray(t)){for(var e=[],n=0,i=t.length;n<i;n++){var o=t[n];void 0===r[o]&&console.warn("THREE.ObjectLoader: Undefined material",o),e.push(r[o])}return e}return void 0===r[t]&&console.warn("THREE.ObjectLoader: Undefined material",t),r[t]}}var o;switch(t.type){case"Scene":o=new Ct,void 0!==t.background&&Number.isInteger(t.background)&&(o.background=new Nt(t.background)),void 0!==t.fog&&("Fog"===t.fog.type?o.fog=new Tt(t.fog.color,t.fog.near,t.fog.far):"FogExp2"===t.fog.type&&(o.fog=new Mt(t.fog.color,t.fog.density)));break;case"PerspectiveCamera":o=new Vt(t.fov,t.aspect,t.near,t.far),void 0!==t.focus&&(o.focus=t.focus),void 0!==t.zoom&&(o.zoom=t.zoom),void 0!==t.filmGauge&&(o.filmGauge=t.filmGauge),void 0!==t.filmOffset&&(o.filmOffset=t.filmOffset),void 0!==t.view&&(o.view=Object.assign({},t.view));break;case"OrthographicCamera":o=new Gt(t.left,t.right,t.top,t.bottom,t.near,t.far);break;case"AmbientLight":o=new Pn(t.color,t.intensity);break;case"DirectionalLight":o=new On(t.color,t.intensity);break;case"PointLight":o=new kn(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":o=new Nn(t.color,t.intensity,t.width,t.height);break;case"SpotLight":o=new An(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case"HemisphereLight":o=new Tn(t.color,t.groundColor,t.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":o=n(t.geometry);var a=i(t.material);o=o.bones&&0<o.bones.length?new ue(o,a):new Bt(o,a);break;case"LOD":o=new le;break;case"Line":o=new pe(n(t.geometry),i(t.material),t.mode);break;case"LineLoop":o=new me(n(t.geometry),i(t.material));break;case"LineSegments":o=new fe(n(t.geometry),i(t.material));break;case"PointCloud":case"Points":o=new ve(n(t.geometry),i(t.material));break;case"Sprite":o=new se(i(t.material));break;case"Group":o=new ye;break;default:o=new G}if(o.uuid=t.uuid,void 0!==t.name&&(o.name=t.name),void 0!==t.matrix?(qa.fromArray(t.matrix),qa.decompose(o.position,o.quaternion,o.scale)):(void 0!==t.position&&o.position.fromArray(t.position),void 0!==t.rotation&&o.rotation.fromArray(t.rotation),void 0!==t.quaternion&&o.quaternion.fromArray(t.quaternion),void 0!==t.scale&&o.scale.fromArray(t.scale)),void 0!==t.castShadow&&(o.castShadow=t.castShadow),void 0!==t.receiveShadow&&(o.receiveShadow=t.receiveShadow),t.shadow&&(void 0!==t.shadow.bias&&(o.shadow.bias=t.shadow.bias),void 0!==t.shadow.radius&&(o.shadow.radius=t.shadow.radius),void 0!==t.shadow.mapSize&&o.shadow.mapSize.fromArray(t.shadow.mapSize),void 0!==t.shadow.camera&&(o.shadow.camera=this.parseObject(t.shadow.camera))),void 0!==t.visible&&(o.visible=t.visible),void 0!==t.userData&&(o.userData=t.userData),void 0!==t.children)for(var s in t.children)o.add(this.parseObject(t.children[s],e,r));if("LOD"===t.type)for(t=t.levels,a=0;a<t.length;a++){var l=t[a];void 0!==(s=o.getObjectByProperty("uuid",l.object))&&o.addLevel(s,l.distance)}return o})});var Za={UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,SphericalReflectionMapping:305,CubeUVReflectionMapping:306,CubeUVRefractionMapping:307},Ka={RepeatWrapping:1e3,ClampToEdgeWrapping:1001,MirroredRepeatWrapping:1002},Qa={NearestFilter:1003,NearestMipMapNearestFilter:1004,NearestMipMapLinearFilter:1005,LinearFilter:1006,LinearMipMapNearestFilter:1007,LinearMipMapLinearFilter:1008};Object.assign(ni.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(t){return t=this.getUtoTmapping(t),this.getPoint(t)},getPoints:function(t){void 0===t&&(t=5);for(var e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return e},getSpacedPoints:function(t){void 0===t&&(t=5);for(var e=[],n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(void 0===t&&(t=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,n,i=[],o=this.getPoint(0),r=0;for(i.push(0),n=1;n<=t;n++)r+=(e=this.getPoint(n/t)).distanceTo(o),i.push(r),o=e;return this.cacheArcLengths=i},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){var n,i,o=this.getLengths(),r=o.length;i=e||t*o[r-1];for(var a,s=0,l=r-1;s<=l;)if((a=o[n=Math.floor(s+(l-s)/2)]-i)<0)s=n+1;else{if(!(0<a)){l=n;break}l=n-1}return o[n=l]===i?n/(r-1):(n+(i-(s=o[n]))/(o[n+1]-s))/(r-1)},getTangent:function(t){var e=t-1e-4;return e<0&&(e=0),1<(t+=1e-4)&&(t=1),e=this.getPoint(e),this.getPoint(t).clone().sub(e).normalize()},getTangentAt:function(t){return t=this.getUtoTmapping(t),this.getTangent(t)},computeFrenetFrames:function(t,e){var n,i,o=new kt,r=[],a=[],s=[],l=new kt,c=new Dt;for(n=0;n<=t;n++)i=n/t,r[n]=this.getTangentAt(i),r[n].normalize();a[0]=new kt,s[0]=new kt,n=Number.MAX_VALUE,i=Math.abs(r[0].x);var d=Math.abs(r[0].y),u=Math.abs(r[0].z);for(i<=n&&(n=i,o.set(1,0,0)),d<=n&&(n=d,o.set(0,1,0)),u<=n&&o.set(0,0,1),l.crossVectors(r[0],o).normalize(),a[0].crossVectors(r[0],l),s[0].crossVectors(r[0],a[0]),n=1;n<=t;n++)a[n]=a[n-1].clone(),s[n]=s[n-1].clone(),l.crossVectors(r[n-1],r[n]),l.length()>Number.EPSILON&&(l.normalize(),o=Math.acos(yo.clamp(r[n-1].dot(r[n]),-1,1)),a[n].applyMatrix4(c.makeRotationAxis(l,o))),s[n].crossVectors(r[n],a[n]);if(!0===e)for(o=Math.acos(yo.clamp(a[0].dot(a[t]),-1,1)),o/=t,0<r[0].dot(l.crossVectors(a[0],a[t]))&&(o=-o),n=1;n<=t;n++)a[n].applyMatrix4(c.makeRotationAxis(r[n],o*n)),s[n].crossVectors(r[n],a[n]);return{tangents:r,normals:a,binormals:s}}}),((ii.prototype=Object.create(ni.prototype)).constructor=ii).prototype.isLineCurve=!0,ii.prototype.getPoint=function(t){if(1===t)return this.v2.clone();var e=this.v2.clone().sub(this.v1);return e.multiplyScalar(t).add(this.v1),e},ii.prototype.getPointAt=function(t){return this.getPoint(t)},ii.prototype.getTangent=function(t){return this.v2.clone().sub(this.v1).normalize()},oi.prototype=Object.assign(Object.create(ni.prototype),{constructor:oi,add:function(t){this.curves.push(t)},closePath:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new ii(e,t))},getPoint:function(t){var e=t*this.getLength(),n=this.getCurveLengths();for(t=0;t<n.length;){if(n[t]>=e)return e=n[t]-e,n=(t=this.curves[t]).getLength(),t.getPointAt(0===n?0:1-e/n);t++}return null},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,n=0,i=this.curves.length;n<i;n++)e+=this.curves[n].getLength(),t.push(e);return this.cacheLengths=t},getSpacedPoints:function(t){void 0===t&&(t=40);for(var e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t){t=t||12;for(var e,n=[],i=0,o=this.curves;i<o.length;i++)for(var r=(r=o[i]).getPoints(r&&r.isEllipseCurve?2*t:r&&r.isLineCurve?1:r&&r.isSplineCurve?t*r.points.length:t),a=0;a<r.length;a++){var s=r[a];e&&e.equals(s)||(n.push(s),e=s)}return this.autoClose&&1<n.length&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},createPointsGeometry:function(t){return t=this.getPoints(t),this.createGeometry(t)},createSpacedPointsGeometry:function(t){return t=this.getSpacedPoints(t),this.createGeometry(t)},createGeometry:function(t){for(var e=new lt,n=0,i=t.length;n<i;n++){var o=t[n];e.vertices.push(new kt(o.x,o.y,o.z||0))}return e}}),((ri.prototype=Object.create(ni.prototype)).constructor=ri).prototype.isEllipseCurve=!0,ri.prototype.getPoint=function(t){for(var e=2*Math.PI,n=this.aEndAngle-this.aStartAngle,i=Math.abs(n)<Number.EPSILON;n<0;)n+=e;for(;e<n;)n-=e;n<Number.EPSILON&&(n=i?0:e),!0!==this.aClockwise||i||(n=n===e?-e:n-e),e=this.aStartAngle+t*n,t=this.aX+this.xRadius*Math.cos(e);var o=this.aY+this.yRadius*Math.sin(e);return 0!==this.aRotation&&(e=Math.cos(this.aRotation),n=Math.sin(this.aRotation),t=(i=t-this.aX)*e-(o-=this.aY)*n+this.aX,o=i*n+o*e+this.aY),new Y(t,o)},((ai.prototype=Object.create(ni.prototype)).constructor=ai).prototype.isSplineCurve=!0,ai.prototype.getPoint=function(t){var e=(e=((r=this.points).length-1)*t)-(t=Math.floor(e)),n=r[0===t?t:t-1],i=r[t],o=r[t>r.length-2?r.length-1:t+1],r=r[t>r.length-3?r.length-1:t+2];return new Y(Jn(e,n.x,i.x,o.x,r.x),Jn(e,n.y,i.y,o.y,r.y))},((si.prototype=Object.create(ni.prototype)).constructor=si).prototype.getPoint=function(t){var e=this.v0,n=this.v1,i=this.v2,o=this.v3;return new Y(ei(t,e.x,n.x,i.x,o.x),ei(t,e.y,n.y,i.y,o.y))},((li.prototype=Object.create(ni.prototype)).constructor=li).prototype.getPoint=function(t){var e=this.v0,n=this.v1,i=this.v2;return new Y(ti(t,e.x,n.x,i.x),ti(t,e.y,n.y,i.y))};var Ja=Object.assign(Object.create(oi.prototype),{fromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,n=t.length;e<n;e++)this.lineTo(t[e].x,t[e].y)},moveTo:function(t,e){this.currentPoint.set(t,e)},lineTo:function(t,e){var n=new ii(this.currentPoint.clone(),new Y(t,e));this.curves.push(n),this.currentPoint.set(t,e)},quadraticCurveTo:function(t,e,n,i){t=new li(this.currentPoint.clone(),new Y(t,e),new Y(n,i)),this.curves.push(t),this.currentPoint.set(n,i)},bezierCurveTo:function(t,e,n,i,o,r){t=new si(this.currentPoint.clone(),new Y(t,e),new Y(n,i),new Y(o,r)),this.curves.push(t),this.currentPoint.set(o,r)},splineThru:function(t){var e=new ai(e=[this.currentPoint.clone()].concat(t));this.curves.push(e),this.currentPoint.copy(t[t.length-1])},arc:function(t,e,n,i,o,r){this.absarc(t+this.currentPoint.x,e+this.currentPoint.y,n,i,o,r)},absarc:function(t,e,n,i,o,r){this.absellipse(t,e,n,n,i,o,r)},ellipse:function(t,e,n,i,o,r,a,s){this.absellipse(t+this.currentPoint.x,e+this.currentPoint.y,n,i,o,r,a,s)},absellipse:function(t,e,n,i,o,r,a,s){t=new ri(t,e,n,i,o,r,a,s),0<this.curves.length&&((e=t.getPoint(0)).equals(this.currentPoint)||this.lineTo(e.x,e.y)),this.curves.push(t),t=t.getPoint(1),this.currentPoint.copy(t)}});(ci.prototype=Ja).constructor=ci,di.prototype=Object.assign(Object.create(Ja),{constructor:di,getPointsHoles:function(t){for(var e=[],n=0,i=this.holes.length;n<i;n++)e[n]=this.holes[n].getPoints(t);return e},extractAllPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},extractPoints:function(t){return this.extractAllPoints(t)}}),Object.assign(ui.prototype,{moveTo:function(t,e){this.currentPath=new ci,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e)},lineTo:function(t,e){this.currentPath.lineTo(t,e)},quadraticCurveTo:function(t,e,n,i){this.currentPath.quadraticCurveTo(t,e,n,i)},bezierCurveTo:function(t,e,n,i,o,r){this.currentPath.bezierCurveTo(t,e,n,i,o,r)},splineThru:function(t){this.currentPath.splineThru(t)},toShapes:function(t,e){function n(t){for(var e=[],n=0,i=t.length;n<i;n++){var o=t[n],r=new di;r.curves=o.curves,e.push(r)}return e}function i(t,e){for(var n=e.length,i=!1,o=n-1,r=0;r<n;o=r++){var a=e[o],s=e[r],l=s.x-a.x,c=s.y-a.y;if(Math.abs(c)>Number.EPSILON){if(c<0&&(a=e[r],l=-l,s=e[o],c=-c),!(t.y<a.y||t.y>s.y))if(t.y===a.y){if(t.x===a.x)return!0}else{if(0===(o=c*(t.x-a.x)-l*(t.y-a.y)))return!0;o<0||(i=!i)}}else if(t.y===a.y&&(s.x<=t.x&&t.x<=a.x||a.x<=t.x&&t.x<=s.x))return!0}return i}var o=$a.isClockWise,r=this.subPaths;if(0===r.length)return[];if(!0===e)return n(r);var a,s,l,c=[];if(1===r.length)return s=r[0],(l=new di).curves=s.curves,c.push(l),c;var d=!o(r[0].getPoints());d=t?!d:d;l=[];var u,h=[],p=[],f=0;h[f]=void 0,p[f]=[];for(var m=0,g=r.length;m<g;m++)a=o(u=(s=r[m]).getPoints()),(a=t?!a:a)?(!d&&h[f]&&f++,h[f]={s:new di,p:u},h[f].s.curves=s.curves,d&&f++,p[f]=[]):p[f].push({h:s,p:u[0]});if(!h[0])return n(r);if(1<h.length){for(m=!1,s=[],o=0,r=h.length;o<r;o++)l[o]=[];for(o=0,r=h.length;o<r;o++)for(a=p[o],d=0;d<a.length;d++){for(f=a[d],u=!0,g=0;g<h.length;g++)i(f.p,h[g].p)&&(o!==g&&s.push({froms:o,tos:g,hole:d}),u?(u=!1,l[g].push(f)):m=!0);u&&l[o].push(f)}0<s.length&&(m||(p=l))}for(m=0,o=h.length;m<o;m++)for(l=h[m].s,c.push(l),r=0,a=(s=p[m]).length;r<a;r++)l.holes.push(s[r].h);return c}}),Object.assign(hi.prototype,{isFont:!0,generateShapes:function(t,e,n){void 0===e&&(e=100),void 0===n&&(n=4);var i=this.data;t=String(t).split("");var o=e/i.resolution,r=(i.boundingBox.yMax-i.boundingBox.yMin+i.underlineThickness)*o,a=0,s=0;e=[];for(var l=0;l<t.length;l++){var c=t[l];if("\n"===c)a=0,s-=r;else{var d;d=o;var u=a,h=s;if(c=i.glyphs[c]||i.glyphs["?"]){var p,f,m,g,v,y,b,_,x=new ui,w=[];if(c.o)for(var E=c._cachedOutline||(c._cachedOutline=c.o.split(" ")),M=0,T=E.length;M<T;)switch(E[M++]){case"m":p=E[M++]*d+u,f=E[M++]*d+h,x.moveTo(p,f);break;case"l":p=E[M++]*d+u,f=E[M++]*d+h,x.lineTo(p,f);break;case"q":if(p=E[M++]*d+u,f=E[M++]*d+h,v=E[M++]*d+u,y=E[M++]*d+h,x.quadraticCurveTo(v,y,p,f),g=w[w.length-1]){m=g.x,g=g.y;for(var C=1;C<=n;C++){var S=C/n;ti(S,m,v,p),ti(S,g,y,f)}}break;case"b":if(p=E[M++]*d+u,f=E[M++]*d+h,v=E[M++]*d+u,y=E[M++]*d+h,b=E[M++]*d+u,_=E[M++]*d+h,x.bezierCurveTo(v,y,b,_,p,f),g=w[w.length-1])for(m=g.x,g=g.y,C=1;C<=n;C++)ei(S=C/n,m,v,b,p),ei(S,g,y,_,f)}d={offsetX:c.ha*d,path:x}}else d=void 0;a+=d.offsetX,e.push(d.path)}}for(n=[],i=0,t=e.length;i<t;i++)Array.prototype.push.apply(n,e[i].toShapes());return n}}),Object.assign(pi.prototype,{load:function(t,i,e,n){var o=this;new yn(this.manager).load(t,function(e){var n;try{n=JSON.parse(e)}catch(t){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(e.substring(65,e.length-2))}e=o.parse(n),i&&i(e)},e,n)},parse:function(t){return new hi(t)}});var ts,es,ns,is,os,rs,as,ss,ls,cs,ds,us,hs,ps,fs,ms,gs,vs,ys,bs,_s,xs,ws,Es,Ms,Ts,Cs,Ss,As,ks,Ds,Os,Ps,Ns,Ls,Is,Rs,$s,Fs,zs,Hs,Bs,Us={getContext:function(){return void 0===ts&&(ts=new(window.AudioContext||window.webkitAudioContext)),ts},setContext:function(t){ts=t}};Object.assign(fi.prototype,{load:function(t,e,n,i){var o=new yn(this.manager);o.setResponseType("arraybuffer"),o.load(t,function(t){Us.getContext().decodeAudioData(t,function(t){e(t)})},n,i)}}),Object.assign(mi.prototype,{update:(cs=new Dt,ds=new Dt,function(t){if(es!==this||ns!==t.focus||is!==t.fov||os!==t.aspect*this.aspect||rs!==t.near||as!==t.far||ss!==t.zoom||ls!==this.eyeSep){es=this,ns=t.focus,is=t.fov,os=t.aspect*this.aspect,rs=t.near,as=t.far,ss=t.zoom;var e,n,i=t.projectionMatrix.clone(),o=(ls=this.eyeSep/2)*rs/ns,r=rs*Math.tan(yo.DEG2RAD*is*.5)/ss;ds.elements[12]=-ls,cs.elements[12]=ls,e=-r*os+o,n=r*os+o,i.elements[0]=2*rs/(n-e),i.elements[8]=(n+e)/(n-e),this.cameraL.projectionMatrix.copy(i),e=-r*os-o,n=r*os-o,i.elements[0]=2*rs/(n-e),i.elements[8]=(n+e)/(n-e),this.cameraR.projectionMatrix.copy(i)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(ds),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(cs)})}),(gi.prototype=Object.create(G.prototype)).constructor=gi,vi.prototype=Object.assign(Object.create(Vt.prototype),{constructor:vi,isArrayCamera:!0}),yi.prototype=Object.assign(Object.create(G.prototype),{constructor:yi,getInput:function(){return this.gain},removeFilter:function(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null)},getFilter:function(){return this.filter},setFilter:function(t){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination)},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(t){this.gain.gain.value=t},updateMatrixWorld:(us=new kt,hs=new s,ps=new kt,fs=new kt,function(t){G.prototype.updateMatrixWorld.call(this,t),t=this.context.listener;var e=this.up;this.matrixWorld.decompose(us,hs,ps),fs.set(0,0,-1).applyQuaternion(hs),t.positionX?(t.positionX.setValueAtTime(us.x,this.context.currentTime),t.positionY.setValueAtTime(us.y,this.context.currentTime),t.positionZ.setValueAtTime(us.z,this.context.currentTime),t.forwardX.setValueAtTime(fs.x,this.context.currentTime),t.forwardY.setValueAtTime(fs.y,this.context.currentTime),t.forwardZ.setValueAtTime(fs.z,this.context.currentTime),t.upX.setValueAtTime(e.x,this.context.currentTime),t.upY.setValueAtTime(e.y,this.context.currentTime),t.upZ.setValueAtTime(e.z,this.context.currentTime)):(t.setPosition(us.x,us.y,us.z),t.setOrientation(fs.x,fs.y,fs.z,e.x,e.y,e.z))})}),bi.prototype=Object.assign(Object.create(G.prototype),{constructor:bi,getOutput:function(){return this.gain},setNodeSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this},setBuffer:function(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0===this.isPlaying)console.warn("THREE.Audio: Audio is already playing.");else{if(!1!==this.hasPlaybackControl){var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.onended=this.onEnded.bind(this),t.playbackRate.setValueAtTime(this.playbackRate,this.startTime),t.start(0,this.startTime),this.isPlaying=!0,this.source=t,this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}},pause:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.startTime=this.context.currentTime,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.startTime=0,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(0<this.filters.length){this.source.connect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(0<this.filters.length){this.source.disconnect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(t){return t||(t=[]),!0===this.isPlaying?(this.disconnect(),this.filters=t,this.connect()):this.filters=t,this},getFilter:function(){return this.getFilters()[0]},setFilter:function(t){return this.setFilters(t?[t]:[])},setPlaybackRate:function(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setValueAtTime(this.playbackRate,this.context.currentTime),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(t){if(!1!==this.hasPlaybackControl)return this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},getVolume:function(){return this.gain.gain.value},setVolume:function(t){return this.gain.gain.value=t,this}}),_i.prototype=Object.assign(Object.create(bi.prototype),{constructor:_i,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(t){this.panner.refDistance=t},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(t){this.panner.rolloffFactor=t},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(t){this.panner.distanceModel=t},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(t){this.panner.maxDistance=t},updateMatrixWorld:(ms=new kt,function(t){G.prototype.updateMatrixWorld.call(this,t),ms.setFromMatrixPosition(this.matrixWorld),this.panner.setPosition(ms.x,ms.y,ms.z)})}),Object.assign(xi.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var t=0,e=this.getFrequencyData(),n=0;n<e.length;n++)t+=e[n];return t/e.length}}),Object.assign(wi.prototype,{accumulate:function(t,e){var n=this.buffer,i=this.valueSize,o=t*i+i,r=this.cumulativeWeight;if(0===r){for(r=0;r!==i;++r)n[o+r]=n[r];r=e}else r+=e,this._mixBufferRegion(n,o,0,e/r,i);this.cumulativeWeight=r},apply:function(t){var e=this.valueSize,n=this.buffer;t=t*e+e;var i=this.cumulativeWeight,o=this.binding;this.cumulativeWeight=0,i<1&&this._mixBufferRegion(n,t,3*e,1-i,e);i=e;for(var r=e+e;i!==r;++i)if(n[i]!==n[i+e]){o.setValue(n,t);break}},saveOriginalState:function(){var t=this.buffer,e=this.valueSize,n=3*e;this.binding.getValue(t,n);for(var i=e;i!==n;++i)t[i]=t[n+i%e];this.cumulativeWeight=0},restoreOriginalState:function(){this.binding.setValue(this.buffer,3*this.valueSize)},_select:function(t,e,n,i,o){if(.5<=i)for(i=0;i!==o;++i)t[e+i]=t[n+i]},_slerp:function(t,e,n,i){s.slerpFlat(t,e,t,e,t,n,i)},_lerp:function(t,e,n,i,o){for(var r=1-i,a=0;a!==o;++a){var s=e+a;t[s]=t[s]*r+t[n+a]*i}}}),Object.assign(Ei.prototype,{getValue:function(t,e){this.bind();var n=this._bindings[this._targetGroup.nCachedObjects_];void 0!==n&&n.getValue(t,e)},setValue:function(t,e){for(var n=this._bindings,i=this._targetGroup.nCachedObjects_,o=n.length;i!==o;++i)n[i].setValue(t,e)},bind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()},unbind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}}),Object.assign(Mi,{Composite:Ei,create:function(t,e,n){return t&&t.isAnimationObjectGroup?new Mi.Composite(t,e,n):new Mi(t,e,n)},parseTrackName:(gs=new RegExp("^"+/((?:[\w-]+[\/:])*)/.source+/([\w-\.]+)?/.source+/(?:\.([\w-]+)(?:\[(.+)\])?)?/.source+/\.([\w-]+)(?:\[(.+)\])?/.source+"$"),vs=["material","materials","bones"],function(t){if(!(e=gs.exec(t)))throw Error("PropertyBinding: Cannot parse trackName: "+t);var e,n=(e={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]}).nodeName&&e.nodeName.lastIndexOf(".");if(void 0!==n&&-1!==n){var i=e.nodeName.substring(n+1);-1!==vs.indexOf(i)&&(e.nodeName=e.nodeName.substring(0,n),e.objectName=i)}if(null===e.propertyName||0===e.propertyName.length)throw Error("PropertyBinding: can not parse propertyName from trackName: "+t);return e}),findNode:function(t,i){if(!i||""===i||"root"===i||"."===i||-1===i||i===t.name||i===t.uuid)return t;if(t.skeleton){var e=function(t){for(var e=0;e<t.bones.length;e++){var n=t.bones[e];if(n.name===i)return n}return null}(t.skeleton);if(e)return e}if(t.children){var o=function(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.name===i||n.uuid===i||(n=o(n.children)))return n}return null};if(e=o(t.children))return e}return null}}),Object.assign(Mi.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){for(var n=this.resolvedProperty,i=0,o=n.length;i!==o;++i)t[e++]=n[i]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.node[this.propertyName]=t[e]},function(t,e){this.node[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.node[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){for(var n=this.resolvedProperty,i=0,o=n.length;i!==o;++i)n[i]=t[e++]},function(t,e){for(var n=this.resolvedProperty,i=0,o=n.length;i!==o;++i)n[i]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){for(var n=this.resolvedProperty,i=0,o=n.length;i!==o;++i)n[i]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){var t=this.node,e=this.parsedPath,n=e.objectName,i=e.propertyName,o=e.propertyIndex;if(t||(this.node=t=Mi.findNode(this.rootNode,e.nodeName)||this.rootNode),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(n){var r=e.objectIndex;switch(n){case"materials":if(!t.material)return void console.error("  can not bind to material as node does not have a material",this);if(!t.material.materials)return void console.error("  can not bind to material.materials as node.material does not have a materials array",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("  can not bind to bones as node does not have a skeleton",this);for(t=t.skeleton.bones,n=0;n<t.length;n++)if(t[n].name===r){r=n;break}break;default:if(void 0===t[n])return void console.error("  can not bind to objectName of node, undefined",this);t=t[n]}if(void 0!==r){if(void 0===t[r])return void console.error("  trying to bind to objectIndex of objectName, but is undefined:",this,t);t=t[r]}}if(void 0===(r=t[i]))console.error("  trying to update property for track: "+e.nodeName+"."+i+" but it wasn't found.",t);else{if(e=this.Versioning.None,void 0!==t.needsUpdate?(e=this.Versioning.NeedsUpdate,this.targetObject=t):void 0!==t.matrixWorldNeedsUpdate&&(e=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=t),n=this.BindingType.Direct,void 0!==o){if("morphTargetInfluences"===i){if(!t.geometry)return void console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry",this);if(!t.geometry.morphTargets)return void console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry.morphTargets",this);for(n=0;n<this.node.geometry.morphTargets.length;n++)if(t.geometry.morphTargets[n].name===o){o=n;break}}n=this.BindingType.ArrayElement,this.resolvedProperty=r,this.propertyIndex=o}else void 0!==r.fromArray&&void 0!==r.toArray?(n=this.BindingType.HasFromToArray,this.resolvedProperty=r):Array.isArray(r)?(n=this.BindingType.EntireArray,this.resolvedProperty=r):this.propertyName=i;this.getValue=this.GetterByBindingType[n],this.setValue=this.SetterByBindingTypeAndVersioning[n][e]}}else console.error("  trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(Mi.prototype,{_getValue_unbound:Mi.prototype.getValue,_setValue_unbound:Mi.prototype.setValue}),Object.assign(Ti.prototype,{isAnimationObjectGroup:!0,add:function(t){for(var e=this._objects,n=e.length,i=this.nCachedObjects_,o=this._indicesByUUID,r=this._paths,a=this._parsedPaths,s=this._bindings,l=s.length,c=0,d=arguments.length;c!==d;++c){var u=arguments[c],h=o[p=u.uuid];if(void 0===h){h=n++,o[p]=h,e.push(u);for(var p=0,f=l;p!==f;++p)s[p].push(new Mi(u,r[p],a[p]))}else if(h<i){var m=--i;for(e[o[(f=e[m]).uuid]=h]=f,e[o[p]=m]=u,p=0,f=l;p!==f;++p){var g=s[p],v=g[h];g[h]=g[m],void 0===v&&(v=new Mi(u,r[p],a[p])),g[m]=v}}else void 0!==e[h]&&console.error("Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes...")}this.nCachedObjects_=i},remove:function(t){for(var e=this._objects,n=this.nCachedObjects_,i=this._indicesByUUID,o=this._bindings,r=o.length,a=0,s=arguments.length;a!==s;++a){var l=arguments[a],c=l.uuid,d=i[c];if(void 0!==d&&n<=d){var u=n++;for(e[i[(h=e[u]).uuid]=d]=h,e[i[c]=u]=l,l=0,c=r;l!==c;++l){var h,p=(h=o[l])[d];h[d]=h[u],h[u]=p}}}this.nCachedObjects_=n},uncache:function(t){for(var e=this._objects,n=e.length,i=this.nCachedObjects_,o=this._indicesByUUID,r=this._bindings,a=r.length,s=0,l=arguments.length;s!==l;++s){var c=o[d=arguments[s].uuid];if(void 0!==c)if(delete o[d],c<i){var d,u=e[d=--i],h=--n,p=e[h];for(e[o[u.uuid]=c]=u,e[o[p.uuid]=d]=p,e.pop(),u=0,p=a;u!==p;++u){var f=r[u],m=f[h];f[c]=f[d],f[d]=m,f.pop()}}else for(e[o[(p=e[h=--n]).uuid]=c]=p,e.pop(),u=0,p=a;u!==p;++u)(f=r[u])[c]=f[h],f.pop()}this.nCachedObjects_=i},subscribe_:function(t,e){var n=this._bindingsIndicesByPath,i=n[t],o=this._bindings;if(void 0!==i)return o[i];var r=this._paths,a=this._parsedPaths,s=this._objects,l=this.nCachedObjects_,c=Array(s.length);i=o.length;for(n[t]=i,r.push(t),a.push(e),o.push(c),n=l,i=s.length;n!==i;++n)c[n]=new Mi(s[n],t,e);return c},unsubscribe_:function(t){var e=this._bindingsIndicesByPath,n=e[t];if(void 0!==n){var i=this._paths,o=this._parsedPaths,r=this._bindings,a=r.length-1,s=r[a];r[e[t[a]]=n]=s,r.pop(),o[n]=o[a],o.pop(),i[n]=i[a],i.pop()}}}),Object.assign(Ci.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(t){return this._startTime=t,this},setLoop:function(t,e){return this.loop=t,this.repetitions=e,this},setEffectiveWeight:function(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(t){return this._scheduleFading(t,0,1)},fadeOut:function(t){return this._scheduleFading(t,1,0)},crossFadeFrom:function(t,e,n){if(t.fadeOut(e),this.fadeIn(e),n){n=this._clip.duration;var i=t._clip.duration,o=n/i;t.warp(1,i/n,e),this.warp(o,1,e)}return this},crossFadeTo:function(t,e,n){return t.crossFadeFrom(this,e,n)},stopFading:function(){var t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},setEffectiveTimeScale:function(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(t){return this.timeScale=this._clip.duration/t,this.stopWarping()},syncWith:function(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()},halt:function(t){return this.warp(this._effectiveTimeScale,0,t)},warp:function(t,e,n){var i=this._mixer,o=i.time,r=this._timeScaleInterpolant,a=this.timeScale;return null===r&&(this._timeScaleInterpolant=r=i._lendControlInterpolant()),i=r.parameterPositions,r=r.sampleValues,i[0]=o,i[1]=o+n,r[0]=t/a,r[1]=e/a,this},stopWarping:function(){var t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(t,e,n,i){if(this.enabled){if(null!==(o=this._startTime)){if((e=(t-o)*n)<0||0===n)return;this._startTime=null,e*=n}if(e*=this._updateTimeScale(t),n=this._updateTime(e),0<(t=this._updateWeight(t))){e=this._interpolants;for(var o=this._propertyBindings,r=0,a=e.length;r!==a;++r)e[r].evaluate(n),o[r].accumulate(i,t)}}else this._updateWeight(t)},_updateWeight:function(t){var e=0;if(this.enabled){e=this.weight;var n=this._weightInterpolant;if(null!==n){var i=n.evaluate(t)[0];e=e*i;t>n.parameterPositions[1]&&(this.stopFading(),0===i&&(this.enabled=!1))}}return this._effectiveWeight=e},_updateTimeScale:function(t){var e=0;if(!this.paused){e=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n){e=e*n.evaluate(t)[0];t>n.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e)}}return this._effectiveTimeScale=e},_updateTime:function(t){var e=this.time+t;if(0===t)return e;var n=this._clip.duration,i=this.loop,o=this._loopCount;if(2200===i)t:{if(-1===o&&(this._loopCount=0,this._setEndings(!0,!0,!1)),n<=e)e=n;else{if(!(e<0))break t;e=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}else{if(i=2202===i,-1===o&&(0<=t?(o=0,this._setEndings(!0,0===this.repetitions,i)):this._setEndings(0===this.repetitions,!0,i)),n<=e||e<0){var r=Math.floor(e/n),a=(e=e-n*r,o=o+Math.abs(r),this.repetitions-o);a<0?(this.clampWhenFinished?this.paused=!0:this.enabled=!1,e=0<t?n:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:0<t?1:-1})):(0===a?(t=t<0,this._setEndings(t,!t,i)):this._setEndings(!1,!1,i),this._loopCount=o,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:r}))}if(i&&1==(1&o))return n-(this.time=e)}return this.time=e},_setEndings:function(t,e,n){var i=this._interpolantSettings;i.endingEnd=n?i.endingStart=2401:(i.endingStart=t?this.zeroSlopeAtStart?2401:2400:2402,e?this.zeroSlopeAtEnd?2401:2400:2402)},_scheduleFading:function(t,e,n){var i=this._mixer,o=i.time,r=this._weightInterpolant;return null===r&&(this._weightInterpolant=r=i._lendControlInterpolant()),i=r.parameterPositions,r=r.sampleValues,i[0]=o,r[0]=e,i[1]=o+t,r[1]=n,this}}),Object.assign(Si.prototype,e.prototype,{_bindAction:function(t,e){var n=t._localRoot||this._root,i=t._clip.tracks,o=i.length,r=t._propertyBindings,a=t._interpolants,s=n.uuid,l=this._bindingsByRootAndName,c=l[s];for(void 0===c&&(c={},l[s]=c),l=0;l!==o;++l){var d=i[l],u=d.name,h=c[u];if(void 0===h){if(void 0!==(h=r[l])){null===h._cacheIndex&&(++h.referenceCount,this._addInactiveBinding(h,s,u));continue}++(h=new wi(Mi.create(n,u,e&&e._propertyBindings[l].binding.parsedPath),d.ValueTypeName,d.getValueSize())).referenceCount,this._addInactiveBinding(h,s,u)}r[l]=h,a[l].resultBuffer=h.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){var e=(t._localRoot||this._root).uuid,n=t._clip.uuid,i=this._actionsByClip[n];this._bindAction(t,i&&i.knownActions[0]),this._addInactiveAction(t,n,e)}for(n=0,i=(e=t._propertyBindings).length;n!==i;++n){var o=e[n];0==o.useCount++&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){for(var e=t._propertyBindings,n=0,i=e.length;n!==i;++n){var o=e[n];0==--o.useCount&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){return null!==(t=t._cacheIndex)&&t<this._nActiveActions},_addInactiveAction:function(t,e,n){var i=this._actions,o=this._actionsByClip,r=o[e];void 0===r?(r={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,o[e]=r):(e=r.knownActions,t._byClipCacheIndex=e.length,e.push(t)),t._cacheIndex=i.length,i.push(t),r.actionByRoot[n]=t},_removeInactiveAction:function(t){var e=(i=this._actions)[i.length-1],n=t._cacheIndex;i[e._cacheIndex=n]=e,i.pop(),t._cacheIndex=null;var i=t._clip.uuid,o=(n=(e=this._actionsByClip)[i]).knownActions,r=o[o.length-1],a=t._byClipCacheIndex;o[r._byClipCacheIndex=a]=r,o.pop(),t._byClipCacheIndex=null,delete n.actionByRoot[(t._localRoot||this._root).uuid],0===o.length&&delete e[i],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){for(var e=0,n=(t=t._propertyBindings).length;e!==n;++e){var i=t[e];0==--i.referenceCount&&this._removeInactiveBinding(i)}},_lendAction:function(t){var e=this._actions,n=t._cacheIndex,i=this._nActiveActions++,o=e[i];e[t._cacheIndex=i]=t,e[o._cacheIndex=n]=o},_takeBackAction:function(t){var e=this._actions,n=t._cacheIndex,i=--this._nActiveActions,o=e[i];e[t._cacheIndex=i]=t,e[o._cacheIndex=n]=o},_addInactiveBinding:function(t,e,n){var i=this._bindingsByRootAndName,o=i[e],r=this._bindings;void 0===o&&(o={},i[e]=o),(o[n]=t)._cacheIndex=r.length,r.push(t)},_removeInactiveBinding:function(t){var e=this._bindings,n=(i=t.binding).rootNode.uuid,i=i.path,o=this._bindingsByRootAndName,r=o[n],a=e[e.length-1];t=t._cacheIndex,e[a._cacheIndex=t]=a,e.pop(),delete r[i];t:{for(var s in r)break t;delete o[n]}},_lendBinding:function(t){var e=this._bindings,n=t._cacheIndex,i=this._nActiveBindings++,o=e[i];e[t._cacheIndex=i]=t,e[o._cacheIndex=n]=o},_takeBackBinding:function(t){var e=this._bindings,n=t._cacheIndex,i=--this._nActiveBindings,o=e[i];e[t._cacheIndex=i]=t,e[o._cacheIndex=n]=o},_lendControlInterpolant:function(){var t=this._controlInterpolants,e=this._nActiveControlInterpolants++,n=t[e];return void 0===n&&(t[(n=new Rn(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=e]=n),n},_takeBackControlInterpolant:function(t){var e=this._controlInterpolants,n=t.__cacheIndex,i=--this._nActiveControlInterpolants,o=e[i];e[t.__cacheIndex=i]=t,e[o.__cacheIndex=n]=o},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(t,e){var n=(o=e||this._root).uuid,i="string"==typeof t?Yn.findByName(o,t):t,o=null!==i?i.uuid:t,r=this._actionsByClip[o],a=null;if(void 0!==r){if(void 0!==(a=r.actionByRoot[n]))return a;a=r.knownActions[0],null===i&&(i=a._clip)}return null===i?null:(i=new Ci(this,i,e),this._bindAction(i,a),this._addInactiveAction(i,o,n),i)},existingAction:function(t,e){var n=(i=e||this._root).uuid,i="string"==typeof t?Yn.findByName(i,t):t;return void 0!==(i=this._actionsByClip[i?i.uuid:t])&&i.actionByRoot[n]||null},stopAllAction:function(){for(var t=this._actions,e=this._nActiveActions,n=this._bindings,i=this._nActiveBindings,o=this._nActiveBindings=this._nActiveActions=0;o!==e;++o)t[o].reset();for(o=0;o!==i;++o)n[o].useCount=0;return this},update:function(t){t*=this.timeScale;for(var e=this._actions,n=this._nActiveActions,i=this.time+=t,o=Math.sign(t),r=this._accuIndex^=1,a=0;a!==n;++a)e[a]._update(i,t,o,r);for(t=this._bindings,e=this._nActiveBindings,a=0;a!==e;++a)t[a].apply(r);return this},getRoot:function(){return this._root},uncacheClip:function(t){var e=this._actions;t=t.uuid;var n=this._actionsByClip;if(void 0!==(i=n[t])){for(var i,o=0,r=(i=i.knownActions).length;o!==r;++o){var a=i[o];this._deactivateAction(a);var s=a._cacheIndex,l=e[e.length-1];a._cacheIndex=null,a._byClipCacheIndex=null,e[l._cacheIndex=s]=l,e.pop(),this._removeInactiveBindingsForAction(a)}delete n[t]}},uncacheRoot:function(t){t=t.uuid;var e,n=this._actionsByClip;for(e in n){var i=n[e].actionByRoot[t];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}if(void 0!==(e=this._bindingsByRootAndName[t]))for(var o in e)(t=e[o]).restoreOriginalState(),this._removeInactiveBinding(t)},uncacheAction:function(t,e){var n=this.existingAction(t,e);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}),Ai.prototype.clone=function(){return new Ai(void 0===this.value.clone?this.value:this.value.clone())},ki.prototype=Object.assign(Object.create(Ht.prototype),{constructor:ki,isInstancedBufferGeometry:!0,addGroup:function(t,e,n){this.groups.push({start:t,count:e,materialIndex:n})},copy:function(t){null!==(n=t.index)&&this.setIndex(n.clone());var e,n=t.attributes;for(e in n)this.addAttribute(e,n[e].clone());for(e=0,n=(t=t.groups).length;e<n;e++){var i=t[e];this.addGroup(i.start,i.count,i.materialIndex)}return this}}),Object.defineProperties(Di.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(Di.prototype,{isInterleavedBufferAttribute:!0,setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this},setXYZ:function(t,e,n,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=i,this},setXYZW:function(t,e,n,i,o){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=i,this.data.array[t+3]=o,this}}),Object.defineProperty(Oi.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(Oi.prototype,{isInterleavedBuffer:!0,setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==t?t.length/this.stride:0,this.array=t},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.dynamic=t.dynamic,this},copyAt:function(t,e,n){t*=this.stride,n*=e.stride;for(var i=0,o=this.stride;i<o;i++)this.array[t+i]=e.array[n+i];return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(t){return this.onUploadCallback=t,this}}),Pi.prototype=Object.assign(Object.create(Oi.prototype),{constructor:Pi,isInstancedInterleavedBuffer:!0,copy:function(t){return Oi.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this}}),Ni.prototype=Object.assign(Object.create(Z.prototype),{constructor:Ni,isInstancedBufferAttribute:!0,copy:function(t){return Z.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this}}),Object.assign(Li.prototype,{linePrecision:1,set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize()):e&&e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(t,e){var n=[];return Ri(t,this,n,e),n.sort(Ii),n},intersectObjects:function(t,e){var n=[];if(!1===Array.isArray(t))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),n;for(var i=0,o=t.length;i<o;i++)Ri(t[i],this,n,e);return n.sort(Ii),n}}),Object.assign($i.prototype,{start:function(){this.oldTime=this.startTime=("undefined"==typeof performance?Date:performance).now(),this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var e=("undefined"==typeof performance?Date:performance).now();t=(e-this.oldTime)/1e3;this.oldTime=e,this.elapsedTime+=t}return t}}),Object.assign(Fi.prototype,{set:function(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(t){return this.radius=t.length(),0===this.radius?this.phi=this.theta=0:(this.theta=Math.atan2(t.x,t.z),this.phi=Math.acos(yo.clamp(t.y/this.radius,-1,1))),this}}),Object.assign(zi.prototype,{set:function(t,e,n){return this.radius=t,this.theta=e,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this},setFromVector3:function(t){return this.radius=Math.sqrt(t.x*t.x+t.z*t.z),this.theta=Math.atan2(t.x,t.z),this.y=t.y,this}}),((Hi.prototype=Object.create(Bt.prototype)).constructor=Hi).prototype.createAnimation=function(t,e,n,i){e={start:e,end:n,length:n-e+1,fps:i,duration:(n-e)/i,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1},this.animationsMap[t]=e,this.animationsList.push(e)},Hi.prototype.autoCreateAnimations=function(t){for(var e,n=/([a-z]+)_?(\d+)/i,i={},o=this.geometry,r=0,a=o.morphTargets.length;r<a;r++){var s=o.morphTargets[r].name.match(n);if(s&&1<s.length){var l=s[1];i[l]||(i[l]={start:1/0,end:-1/0}),r<(s=i[l]).start&&(s.start=r),r>s.end&&(s.end=r),e||(e=l)}}for(l in i)s=i[l],this.createAnimation(l,s.start,s.end,t);this.firstAnimation=e},Hi.prototype.setAnimationDirectionForward=function(t){(t=this.animationsMap[t])&&(t.direction=1,t.directionBackwards=!1)},Hi.prototype.setAnimationDirectionBackward=function(t){(t=this.animationsMap[t])&&(t.direction=-1,t.directionBackwards=!0)},Hi.prototype.setAnimationFPS=function(t,e){var n=this.animationsMap[t];n&&(n.fps=e,n.duration=(n.end-n.start)/n.fps)},Hi.prototype.setAnimationDuration=function(t,e){var n=this.animationsMap[t];n&&(n.duration=e,n.fps=(n.end-n.start)/n.duration)},Hi.prototype.setAnimationWeight=function(t,e){var n=this.animationsMap[t];n&&(n.weight=e)},Hi.prototype.setAnimationTime=function(t,e){var n=this.animationsMap[t];n&&(n.time=e)},Hi.prototype.getAnimationTime=function(t){var e=0;return(t=this.animationsMap[t])&&(e=t.time),e},Hi.prototype.getAnimationDuration=function(t){var e=-1;return(t=this.animationsMap[t])&&(e=t.duration),e},Hi.prototype.playAnimation=function(t){var e=this.animationsMap[t];e?(e.time=0,e.active=!0):console.warn("THREE.MorphBlendMesh: animation["+t+"] undefined in .playAnimation()")},Hi.prototype.stopAnimation=function(t){(t=this.animationsMap[t])&&(t.active=!1)},Hi.prototype.update=function(t){for(var e=0,n=this.animationsList.length;e<n;e++){var i=this.animationsList[e];if(i.active){var o=i.duration/i.length;i.time+=i.direction*t,i.mirroredLoop?(i.time>i.duration||i.time<0)&&(i.direction*=-1,i.time>i.duration&&(i.time=i.duration,i.directionBackwards=!0),i.time<0&&(i.time=0,i.directionBackwards=!1)):(i.time%=i.duration,i.time<0&&(i.time+=i.duration));var r=i.start+yo.clamp(Math.floor(i.time/o),0,i.length-1),a=i.weight;r!==i.currentFrame&&(this.morphTargetInfluences[i.lastFrame]=0,this.morphTargetInfluences[i.currentFrame]=1*a,this.morphTargetInfluences[r]=0,i.lastFrame=i.currentFrame,i.currentFrame=r),o=i.time%o/o,i.directionBackwards&&(o=1-o),i.currentFrame!==i.lastFrame?(this.morphTargetInfluences[i.currentFrame]=o*a,this.morphTargetInfluences[i.lastFrame]=(1-o)*a):this.morphTargetInfluences[i.currentFrame]=a}}},((Bi.prototype=Object.create(G.prototype)).constructor=Bi).prototype.isImmediateRenderObject=!0,((Ui.prototype=Object.create(fe.prototype)).constructor=Ui).prototype.update=(ys=new kt,bs=new kt,_s=new H,function(){var t=["a","b","c"];this.object.updateMatrixWorld(!0),_s.getNormalMatrix(this.object.matrixWorld);var e=this.object.matrixWorld,n=this.geometry.attributes.position,i=this.object.geometry;if(i&&i.isGeometry)for(var o=i.vertices,r=i.faces,a=i=0,s=r.length;a<s;a++)for(var l=r[a],c=0,d=l.vertexNormals.length;c<d;c++){var u=l.vertexNormals[c];ys.copy(o[l[t[c]]]).applyMatrix4(e),bs.copy(u).applyMatrix3(_s).normalize().multiplyScalar(this.size).add(ys),n.setXYZ(i,ys.x,ys.y,ys.z),i+=1,n.setXYZ(i,bs.x,bs.y,bs.z),i+=1}else if(i&&i.isBufferGeometry)for(t=i.attributes.position,o=i.attributes.normal,c=i=0,d=t.count;c<d;c++)ys.set(t.getX(c),t.getY(c),t.getZ(c)).applyMatrix4(e),bs.set(o.getX(c),o.getY(c),o.getZ(c)),bs.applyMatrix3(_s).normalize().multiplyScalar(this.size).add(ys),n.setXYZ(i,ys.x,ys.y,ys.z),i+=1,n.setXYZ(i,bs.x,bs.y,bs.z),i+=1;n.needsUpdate=!0}),((ji.prototype=Object.create(G.prototype)).constructor=ji).prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},ji.prototype.update=(xs=new kt,ws=new kt,function(){var t=this.light.distance?this.light.distance:1e3,e=t*Math.tan(this.light.angle);this.cone.scale.set(e,e,t),xs.setFromMatrixPosition(this.light.matrixWorld),ws.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(ws.sub(xs)),this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)}),((Vi.prototype=Object.create(fe.prototype)).constructor=Vi).prototype.getBoneList=function(t){var e=[];t&&t.isBone&&e.push(t);for(var n=0;n<t.children.length;n++)e.push.apply(e,this.getBoneList(t.children[n]));return e},Vi.prototype.update=(Es=new kt,Ms=new Dt,Ts=new Dt,function(){var t=this.geometry,e=t.getAttribute("position");Ts.getInverse(this.root.matrixWorld);for(var n=0,i=0;n<this.bones.length;n++){var o=this.bones[n];o.parent&&o.parent.isBone&&(Ms.multiplyMatrices(Ts,o.matrixWorld),Es.setFromMatrixPosition(Ms),e.setXYZ(i,Es.x,Es.y,Es.z),Ms.multiplyMatrices(Ts,o.parent.matrixWorld),Es.setFromMatrixPosition(Ms),e.setXYZ(i+1,Es.x,Es.y,Es.z),i+=2)}t.getAttribute("position").needsUpdate=!0}),((Gi.prototype=Object.create(Bt.prototype)).constructor=Gi).prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},Gi.prototype.update=function(){this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)},((Wi.prototype=Object.create(G.prototype)).constructor=Wi).prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose(),this.children[1].geometry.dispose(),this.children[1].material.dispose()},Wi.prototype.update=(Cs=new kt,Ss=new kt,function(){var t=this.children[0],e=this.children[1];if(this.light.target){Cs.setFromMatrixPosition(this.light.matrixWorld),Ss.setFromMatrixPosition(this.light.target.matrixWorld);var n=Ss.clone().sub(Cs);t.lookAt(n),e.lookAt(n)}t.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),e.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),e=.5*this.light.width,n=.5*this.light.height;var i=(t=t.geometry.getAttribute("position")).array;i[0]=e,i[1]=-n,i[2]=0,i[3]=e,i[4]=n,i[5]=0,i[6]=-e,i[7]=n,i[8]=0,i[9]=-e,i[10]=n,i[11]=0,i[12]=-e,i[13]=-n,i[14]=0,i[15]=e,i[16]=-n,i[17]=0,t.needsUpdate=!0}),((Yi.prototype=Object.create(G.prototype)).constructor=Yi).prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},Yi.prototype.update=(As=new kt,ks=new Nt,Ds=new Nt,function(){var t=this.children[0],e=t.geometry.getAttribute("color");ks.copy(this.light.color).multiplyScalar(this.light.intensity),Ds.copy(this.light.groundColor).multiplyScalar(this.light.intensity);for(var n=0,i=e.count;n<i;n++){var o=n<i/2?ks:Ds;e.setXYZ(n,o.r,o.g,o.b)}t.lookAt(As.setFromMatrixPosition(this.light.matrixWorld).negate()),e.needsUpdate=!0}),(qi.prototype=Object.create(fe.prototype)).constructor=qi,(Xi.prototype=Object.create(fe.prototype)).constructor=Xi,((Zi.prototype=Object.create(fe.prototype)).constructor=Zi).prototype.update=(Os=new kt,Ps=new kt,Ns=new H,function(){this.object.updateMatrixWorld(!0),Ns.getNormalMatrix(this.object.matrixWorld);for(var t,e=this.object.matrixWorld,n=this.geometry.attributes.position,i=(t=this.object.geometry).vertices,o=0,r=0,a=(t=t.faces).length;r<a;r++){var s=t[r],l=s.normal;Os.copy(i[s.a]).add(i[s.b]).add(i[s.c]).divideScalar(3).applyMatrix4(e),Ps.copy(l).applyMatrix3(Ns).normalize().multiplyScalar(this.size).add(Os),n.setXYZ(o,Os.x,Os.y,Os.z),o+=1,n.setXYZ(o,Ps.x,Ps.y,Ps.z),o+=1}n.needsUpdate=!0}),((Ki.prototype=Object.create(G.prototype)).constructor=Ki).prototype.dispose=function(){var t=this.children[0],e=this.children[1];t.geometry.dispose(),t.material.dispose(),e.geometry.dispose(),e.material.dispose()},Ki.prototype.update=(Ls=new kt,Is=new kt,Rs=new kt,function(){Ls.setFromMatrixPosition(this.light.matrixWorld),Is.setFromMatrixPosition(this.light.target.matrixWorld),Rs.subVectors(Is,Ls);var t=this.children[0],e=this.children[1];t.lookAt(Rs),t.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),e.lookAt(Rs),e.scale.z=Rs.length()}),((Qi.prototype=Object.create(fe.prototype)).constructor=Qi).prototype.update=function(){function t(t,e,n,i){if(a.set(e,n,i).unproject(s),void 0!==(t=r[t]))for(e=o.getAttribute("position"),n=0,i=t.length;n<i;n++)e.setXYZ(t[n],a.x,a.y,a.z)}var o,r,a=new kt,s=new ut;return function(){o=this.geometry,r=this.pointMap,s.projectionMatrix.copy(this.camera.projectionMatrix),t("c",0,0,-1),t("t",0,0,1),t("n1",-1,-1,-1),t("n2",1,-1,-1),t("n3",-1,1,-1),t("n4",1,1,-1),t("f1",-1,-1,1),t("f2",1,-1,1),t("f3",-1,1,1),t("f4",1,1,1),t("u1",.7,1.1,-1),t("u2",-.7,1.1,-1),t("u3",0,2,-1),t("cf1",-1,0,1),t("cf2",1,0,1),t("cf3",0,-1,1),t("cf4",0,1,1),t("cn1",-1,0,-1),t("cn2",1,0,-1),t("cn3",0,-1,-1),t("cn4",0,1,-1),o.getAttribute("position").needsUpdate=!0}}(),((Ji.prototype=Object.create(fe.prototype)).constructor=Ji).prototype.update=($s=new $,function(t){if(void 0!==t&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&$s.setFromObject(this.object),!$s.isEmpty()){t=$s.min;var e=$s.max,n=this.geometry.attributes.position,i=n.array;i[0]=e.x,i[1]=e.y,i[2]=e.z,i[3]=t.x,i[4]=e.y,i[5]=e.z,i[6]=t.x,i[7]=t.y,i[8]=e.z,i[9]=e.x,i[10]=t.y,i[11]=e.z,i[12]=e.x,i[13]=e.y,i[14]=t.z,i[15]=t.x,i[16]=e.y,i[17]=t.z,i[18]=t.x,i[19]=t.y,i[20]=t.z,i[21]=e.x,i[22]=t.y,i[23]=t.z,n.needsUpdate=!0,this.geometry.computeBoundingSphere()}}),Ji.prototype.setFromObject=function(t){return this.object=t,this.update(),this},((to.prototype=Object.create(G.prototype)).constructor=to).prototype.setDirection=(Bs=new kt,function(t){.99999<t.y?this.quaternion.set(0,0,0,1):t.y<-.99999?this.quaternion.set(1,0,0,0):(Bs.set(t.z,0,-t.x).normalize(),Hs=Math.acos(t.y),this.quaternion.setFromAxisAngle(Bs,Hs))}),to.prototype.setLength=function(t,e,n){void 0===e&&(e=.2*t),void 0===n&&(n=.2*e),this.line.scale.set(1,Math.max(0,t-e),1),this.line.updateMatrix(),this.cone.scale.set(n,e,n),this.cone.position.y=t,this.cone.updateMatrix()},to.prototype.setColor=function(t){this.line.material.color.copy(t),this.cone.material.color.copy(t)},(eo.prototype=Object.create(fe.prototype)).constructor=eo;var js,Vs=new kt,Gs=new no,Ws=new no,Ys=new no;((io.prototype=Object.create(ni.prototype)).constructor=io).prototype.getPoint=function(t){var e,n,i,o=this.points;if((s=o.length)<2&&console.log("duh, you need at least 2 points"),t*=s-(this.closed?0:1),t-=r=Math.floor(t),this.closed?r+=0<r?0:(Math.floor(Math.abs(r)/o.length)+1)*o.length:0===t&&r===s-1&&(r=s-2,t=1),e=this.closed||0<r?o[(r-1)%s]:(Vs.subVectors(o[0],o[1]).add(o[0]),Vs),n=o[r%s],i=o[(r+1)%s],o=this.closed||r+2<s?o[(r+2)%s]:(Vs.subVectors(o[s-1],o[s-2]).add(o[s-1]),Vs),void 0===this.type||"centripetal"===this.type||"chordal"===this.type){var r,a="chordal"===this.type?.5:.25,s=Math.pow(e.distanceToSquared(n),a);(r=Math.pow(n.distanceToSquared(i),a))<1e-4&&(r=1),s<1e-4&&(s=r),(a=Math.pow(i.distanceToSquared(o),a))<1e-4&&(a=r),Gs.initNonuniformCatmullRom(e.x,n.x,i.x,o.x,s,r,a),Ws.initNonuniformCatmullRom(e.y,n.y,i.y,o.y,s,r,a),Ys.initNonuniformCatmullRom(e.z,n.z,i.z,o.z,s,r,a)}else"catmullrom"===this.type&&(s=void 0!==this.tension?this.tension:.5,Gs.initCatmullRom(e.x,n.x,i.x,o.x,s),Ws.initCatmullRom(e.y,n.y,i.y,o.y,s),Ys.initCatmullRom(e.z,n.z,i.z,o.z,s));return new kt(Gs.calc(t),Ws.calc(t),Ys.calc(t))},((oo.prototype=Object.create(ni.prototype)).constructor=oo).prototype.getPoint=function(t){var e=this.v0,n=this.v1,i=this.v2,o=this.v3;return new kt(ei(t,e.x,n.x,i.x,o.x),ei(t,e.y,n.y,i.y,o.y),ei(t,e.z,n.z,i.z,o.z))},((ro.prototype=Object.create(ni.prototype)).constructor=ro).prototype.getPoint=function(t){var e=this.v0,n=this.v1,i=this.v2;return new kt(ti(t,e.x,n.x,i.x),ti(t,e.y,n.y,i.y),ti(t,e.z,n.z,i.z))},((ao.prototype=Object.create(ni.prototype)).constructor=ao).prototype.getPoint=function(t){if(1===t)return this.v2.clone();var e=new kt;return e.subVectors(this.v2,this.v1),e.multiplyScalar(t),e.add(this.v1),e},(so.prototype=Object.create(ri.prototype)).constructor=so,ni.create=function(t,e){return console.log("THREE.Curve.create() has been deprecated"),t.prototype=Object.create(ni.prototype),(t.prototype.constructor=t).prototype.getPoint=e,t},lo.prototype=Object.create(io.prototype),co.prototype=Object.create(io.prototype),uo.prototype=Object.create(io.prototype),Object.assign(uo.prototype,{initFromArray:function(t){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(t){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(t){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),qi.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},Object.assign(R.prototype,{center:function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},size:function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign($.prototype,{center:function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionSphere:function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},size:function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)}}),W.prototype.center=function(t){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(t)},yo.random16=function(){return console.warn("THREE.Math.random16() has been deprecated. Use Math.random() instead."),Math.random()},Object.assign(H.prototype,{flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},multiplyVector3:function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},multiplyVector3Array:function(t){return console.warn("THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(t)},applyToBuffer:function(t,e,n){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(t)},applyToVector3Array:function(t,e,n){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(Dt.prototype,{extractPosition:function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},getPosition:function(){return void 0===js&&(js=new kt),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),js.setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector4:function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector3Array:function(t){return console.warn("THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(t)},rotateAxis:function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},crossVector:function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(t,e,n){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(t)},applyToVector3Array:function(t,e,n){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(t,e,n,i,o,r){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,e,i,n,o,r)}}),B.prototype.isIntersectionLine=function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)},s.prototype.multiplyVector3=function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)},Object.assign(U.prototype,{isIntersectionBox:function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionPlane:function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)},isIntersectionSphere:function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)}}),Object.assign(di.prototype,{extrude:function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Ue(this,t)},makeGeometry:function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Qe(this,t)}}),Object.assign(Y.prototype,{fromAttribute:function(t,e,n){return console.error("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)}}),Object.assign(kt.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)},applyProjection:function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)},fromAttribute:function(t,e,n){return console.error("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)}}),Object.assign(At.prototype,{fromAttribute:function(t,e,n){return console.error("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)}}),lt.prototype.computeTangents=function(){console.warn("THREE.Geometry: .computeTangents() has been removed.")},Object.assign(G.prototype,{getChildByName:function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)}}),Object.defineProperties(G.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(le.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(ce.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Object.defineProperty(ni.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(t){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=t}}),Vt.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(Mn.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}}),Object.defineProperties(Z.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}}}),Object.assign(Ht.prototype,{addIndex:function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},addDrawCall:function(t,e,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(Ht.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(Ai.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(L.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Nt}}}),Object.defineProperties(hn.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(Rt.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}}),Object.assign(Et.prototype,{getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")}}),Object.defineProperties(Et.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace."),this.shadowMap.cullFace=t}}}),Object.defineProperties(Ft.prototype,{cullFace:{get:function(){return this.renderReverseSided?2:1},set:function(t){t=1!==t,console.warn("WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to "+t+"."),this.renderReverseSided=t}}}),Object.defineProperties(A.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}}),bi.prototype.load=function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var e=this;return(new fi).load(t,function(t){e.setBuffer(t)}),this},xi.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},t.WebGLRenderTargetCube=i,t.WebGLRenderTarget=A,t.WebGLRenderer=Et,t.ShaderLib=Qo,t.UniformsLib=Xo,t.UniformsUtils=Zo,t.ShaderChunk=Ko,t.FogExp2=Mt,t.Fog=Tt,t.Scene=Ct,t.LensFlare=St,t.Sprite=se,t.LOD=le,t.SkinnedMesh=ue,t.Skeleton=ce,t.Bone=de,t.Mesh=Bt,t.LineSegments=fe,t.LineLoop=me,t.Line=pe,t.Points=ve,t.Group=ye,t.VideoTexture=be,t.DataTexture=Ot,t.CompressedTexture=_e,t.CubeTexture=l,t.CanvasTexture=xe,t.DepthTexture=we,t.Texture=F,t.CompressedTextureLoader=bn,t.DataTextureLoader=_n,t.CubeTextureLoader=wn,t.TextureLoader=En,t.ObjectLoader=Qn,t.MaterialLoader=qn,t.BufferGeometryLoader=Xn,t.DefaultLoadingManager=Ba,t.LoadingManager=vn,t.JSONLoader=Kn,t.ImageLoader=xn,t.FontLoader=pi,t.FileLoader=yn,t.Loader=Zn,t.Cache=Ha,t.AudioLoader=fi,t.SpotLightShadow=Sn,t.SpotLight=An,t.PointLight=kn,t.RectAreaLight=Nn,t.HemisphereLight=Tn,t.DirectionalLightShadow=Dn,t.DirectionalLight=On,t.AmbientLight=Pn,t.LightShadow=Cn,t.Light=Mn,t.StereoCamera=mi,t.PerspectiveCamera=Vt,t.OrthographicCamera=Gt,t.CubeCamera=gi,t.ArrayCamera=vi,t.Camera=ut,t.AudioListener=yi,t.PositionalAudio=_i,t.AudioContext=Us,t.AudioAnalyser=xi,t.Audio=bi,t.VectorKeyframeTrack=zn,t.StringKeyframeTrack=jn,t.QuaternionKeyframeTrack=Bn,t.NumberKeyframeTrack=Un,t.ColorKeyframeTrack=Gn,t.BooleanKeyframeTrack=Vn,t.PropertyMixer=wi,t.PropertyBinding=Mi,t.KeyframeTrack=Wn,t.AnimationUtils=ja,t.AnimationObjectGroup=Ti,t.AnimationMixer=Si,t.AnimationClip=Yn,t.Uniform=Ai,t.InstancedBufferGeometry=ki,t.BufferGeometry=Ht,t.GeometryIdCount=function(){return xa++},t.Geometry=lt,t.InterleavedBufferAttribute=Di,t.InstancedInterleavedBuffer=Pi,t.InterleavedBuffer=Oi,t.InstancedBufferAttribute=Ni,t.Face3=X,t.Object3D=G,t.Raycaster=Li,t.Layers=V,t.EventDispatcher=e,t.Clock=$i,t.QuaternionLinearInterpolant=Hn,t.LinearInterpolant=Rn,t.DiscreteInterpolant=$n,t.CubicInterpolant=In,t.Interpolant=Ln,t.Triangle=q,t.Math=yo,t.Spherical=Fi,t.Cylindrical=zi,t.Plane=B,t.Frustum=$t,t.Sphere=z,t.Ray=U,t.Matrix4=Dt,t.Matrix3=H,t.Box3=$,t.Box2=R,t.Line3=W,t.Euler=j,t.Vector4=At,t.Vector3=kt,t.Vector2=Y,t.Quaternion=s,t.Color=Nt,t.MorphBlendMesh=Hi,t.ImmediateRenderObject=Bi,t.VertexNormalsHelper=Ui,t.SpotLightHelper=ji,t.SkeletonHelper=Vi,t.PointLightHelper=Gi,t.RectAreaLightHelper=Wi,t.HemisphereLightHelper=Yi,t.GridHelper=qi,t.PolarGridHelper=Xi,t.FaceNormalsHelper=Zi,t.DirectionalLightHelper=Ki,t.CameraHelper=Qi,t.BoxHelper=Ji,t.ArrowHelper=to,t.AxisHelper=eo,t.CatmullRomCurve3=io,t.CubicBezierCurve3=oo,t.QuadraticBezierCurve3=ro,t.LineCurve3=ao,t.ArcCurve=so,t.EllipseCurve=ri,t.SplineCurve=ai,t.CubicBezierCurve=si,t.QuadraticBezierCurve=li,t.LineCurve=ii,t.Shape=di,t.Path=ci,t.ShapePath=ui,t.Font=hi,t.CurvePath=oi,t.Curve=ni,t.ShapeUtils=$a,t.SceneUtils={createMultiMaterialObject:function(t,e){for(var n=new ye,i=0,o=e.length;i<o;i++)n.add(new Bt(t,e[i]));return n},detach:function(t,e,n){t.applyMatrix(e.matrixWorld),e.remove(t),n.add(t)},attach:function(t,e,n){var i=new Dt;i.getInverse(n.matrixWorld),t.applyMatrix(i),e.remove(t),n.add(t)}},t.WireframeGeometry=Ee,t.ParametricGeometry=Me,t.ParametricBufferGeometry=Te,t.TetrahedronGeometry=Ae,t.TetrahedronBufferGeometry=ke,t.OctahedronGeometry=De,t.OctahedronBufferGeometry=Oe,t.IcosahedronGeometry=Pe,t.IcosahedronBufferGeometry=Ne,t.DodecahedronGeometry=Le,t.DodecahedronBufferGeometry=Ie,t.PolyhedronGeometry=Ce,t.PolyhedronBufferGeometry=Se,t.TubeGeometry=Re,t.TubeBufferGeometry=$e,t.TorusKnotGeometry=Fe,t.TorusKnotBufferGeometry=ze,t.TorusGeometry=He,t.TorusBufferGeometry=Be,t.TextGeometry=Ve,t.TextBufferGeometry=Ge,t.SphereGeometry=We,t.SphereBufferGeometry=Ye,t.RingGeometry=qe,t.RingBufferGeometry=Xe,t.PlaneGeometry=dt,t.PlaneBufferGeometry=jt,t.LatheGeometry=Ze,t.LatheBufferGeometry=Ke,t.ShapeGeometry=Qe,t.ShapeBufferGeometry=Je,t.ExtrudeGeometry=Ue,t.ExtrudeBufferGeometry=je,t.EdgesGeometry=tn,t.ConeGeometry=on,t.ConeBufferGeometry=rn,t.CylinderGeometry=en,t.CylinderBufferGeometry=nn,t.CircleGeometry=an,t.CircleBufferGeometry=sn,t.BoxGeometry=ct,t.BoxBufferGeometry=Ut,t.ShadowMaterial=ln,t.SpriteMaterial=ae,t.RawShaderMaterial=cn,t.ShaderMaterial=Rt,t.PointsMaterial=ge,t.MeshPhysicalMaterial=un,t.MeshStandardMaterial=dn,t.MeshPhongMaterial=hn,t.MeshToonMaterial=pn,t.MeshNormalMaterial=fn,t.MeshLambertMaterial=mn,t.MeshDepthMaterial=I,t.MeshBasicMaterial=zt,t.LineDashedMaterial=gn,t.LineBasicMaterial=he,t.Material=L,t.Float64BufferAttribute=rt,t.Float32BufferAttribute=ot,t.Uint32BufferAttribute=it,t.Int32BufferAttribute=nt,t.Uint16BufferAttribute=et,t.Int16BufferAttribute=tt,t.Uint8ClampedBufferAttribute=J,t.Uint8BufferAttribute=Q,t.Int8BufferAttribute=K,t.BufferAttribute=Z,t.REVISION="85",t.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2},t.CullFaceNone=0,t.CullFaceBack=1,t.CullFaceFront=2,t.CullFaceFrontBack=3,t.FrontFaceDirectionCW=0,t.FrontFaceDirectionCCW=1,t.BasicShadowMap=0,t.PCFShadowMap=1,t.PCFSoftShadowMap=2,t.FrontSide=0,t.BackSide=1,t.DoubleSide=2,t.FlatShading=1,t.SmoothShading=2,t.NoColors=0,t.FaceColors=1,t.VertexColors=2,t.NoBlending=0,t.NormalBlending=1,t.AdditiveBlending=2,t.SubtractiveBlending=3,t.MultiplyBlending=4,t.CustomBlending=5,t.AddEquation=100,t.SubtractEquation=101,t.ReverseSubtractEquation=102,t.MinEquation=103,t.MaxEquation=104,t.ZeroFactor=200,t.OneFactor=201,t.SrcColorFactor=202,t.OneMinusSrcColorFactor=203,t.SrcAlphaFactor=204,t.OneMinusSrcAlphaFactor=205,t.DstAlphaFactor=206,t.OneMinusDstAlphaFactor=207,t.DstColorFactor=208,t.OneMinusDstColorFactor=209,t.SrcAlphaSaturateFactor=210,t.NeverDepth=0,t.AlwaysDepth=1,t.LessDepth=2,t.LessEqualDepth=3,t.EqualDepth=4,t.GreaterEqualDepth=5,t.GreaterDepth=6,t.NotEqualDepth=7,t.MultiplyOperation=0,t.MixOperation=1,t.AddOperation=2,t.NoToneMapping=0,t.LinearToneMapping=1,t.ReinhardToneMapping=2,t.Uncharted2ToneMapping=3,t.CineonToneMapping=4,t.UVMapping=300,t.CubeReflectionMapping=301,t.CubeRefractionMapping=302,t.EquirectangularReflectionMapping=303,t.EquirectangularRefractionMapping=304,t.SphericalReflectionMapping=305,t.CubeUVReflectionMapping=306,t.CubeUVRefractionMapping=307,t.RepeatWrapping=1e3,t.ClampToEdgeWrapping=1001,t.MirroredRepeatWrapping=1002,t.NearestFilter=1003,t.NearestMipMapNearestFilter=1004,t.NearestMipMapLinearFilter=1005,t.LinearFilter=1006,t.LinearMipMapNearestFilter=1007,t.LinearMipMapLinearFilter=1008,t.UnsignedByteType=1009,t.ByteType=1010,t.ShortType=1011,t.UnsignedShortType=1012,t.IntType=1013,t.UnsignedIntType=1014,t.FloatType=1015,t.HalfFloatType=1016,t.UnsignedShort4444Type=1017,t.UnsignedShort5551Type=1018,t.UnsignedShort565Type=1019,t.UnsignedInt248Type=1020,t.AlphaFormat=1021,t.RGBFormat=1022,t.RGBAFormat=1023,t.LuminanceFormat=1024,t.LuminanceAlphaFormat=1025,t.RGBEFormat=1023,t.DepthFormat=1026,t.DepthStencilFormat=1027,t.RGB_S3TC_DXT1_Format=2001,t.RGBA_S3TC_DXT1_Format=2002,t.RGBA_S3TC_DXT3_Format=2003,t.RGBA_S3TC_DXT5_Format=2004,t.RGB_PVRTC_4BPPV1_Format=2100,t.RGB_PVRTC_2BPPV1_Format=2101,t.RGBA_PVRTC_4BPPV1_Format=2102,t.RGBA_PVRTC_2BPPV1_Format=2103,t.RGB_ETC1_Format=2151,t.LoopOnce=2200,t.LoopRepeat=2201,t.LoopPingPong=2202,t.InterpolateDiscrete=2300,t.InterpolateLinear=2301,t.InterpolateSmooth=2302,t.ZeroCurvatureEnding=2400,t.ZeroSlopeEnding=2401,t.WrapAroundEnding=2402,t.TrianglesDrawMode=0,t.TriangleStripDrawMode=1,t.TriangleFanDrawMode=2,t.LinearEncoding=3e3,t.sRGBEncoding=3001,t.GammaEncoding=3007,t.RGBEEncoding=3002,t.LogLuvEncoding=3003,t.RGBM7Encoding=3004,t.RGBM16Encoding=3005,t.RGBDEncoding=3006,t.BasicDepthPacking=3200,t.RGBADepthPacking=3201,t.CubeGeometry=ct,t.Face4=function(t,e,n,i,o,r,a){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new X(t,e,n,o,r,a)},t.LineStrip=0,t.LinePieces=1,t.MeshFaceMaterial=function(t){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),t},t.MultiMaterial=function(t){return void 0===t&&(t=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),t.isMultiMaterial=!0,(t.materials=t).clone=function(){return t.slice()},t},t.PointCloud=function(t,e){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new ve(t,e)},t.Particle=function(t){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new se(t)},t.ParticleSystem=function(t,e){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new ve(t,e)},t.PointCloudMaterial=function(t){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new ge(t)},t.ParticleBasicMaterial=function(t){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new ge(t)},t.ParticleSystemMaterial=function(t){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new ge(t)},t.Vertex=function(t,e,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new kt(t,e,n)},t.DynamicBufferAttribute=function(t,e){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new Z(t,e).setDynamic(!0)},t.Int8Attribute=function(t,e){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new K(t,e)},t.Uint8Attribute=function(t,e){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new Q(t,e)},t.Uint8ClampedAttribute=function(t,e){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new J(t,e)},t.Int16Attribute=function(t,e){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new tt(t,e)},t.Uint16Attribute=function(t,e){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new et(t,e)},t.Int32Attribute=function(t,e){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new nt(t,e)},t.Uint32Attribute=function(t,e){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new it(t,e)},t.Float32Attribute=function(t,e){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new ot(t,e)},t.Float64Attribute=function(t,e){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new rt(t,e)},t.ClosedSplineCurve3=lo,t.SplineCurve3=co,t.Spline=uo,t.BoundingBoxHelper=function(t,e){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new Ji(t,e)},t.EdgesHelper=function(t,e){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new fe(new tn(t.geometry),new he({color:void 0!==e?e:16777215}))},t.WireframeHelper=function(t,e){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new fe(new Ee(t.geometry),new he({color:void 0!==e?e:16777215}))},t.XHRLoader=function(t){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new yn(t)},t.BinaryTextureLoader=function(t){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new _n(t)},t.GeometryUtils={merge:function(t,e,n){var i;console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),e.isMesh&&(e.matrixAutoUpdate&&e.updateMatrix(),i=e.matrix,e=e.geometry),t.merge(e,i,n)},center:function(t){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),t.center()}},t.ImageUtils={crossOrigin:void 0,loadTexture:function(t,e,n,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var o=new En;return o.setCrossOrigin(this.crossOrigin),t=o.load(t,n,void 0,i),e&&(t.mapping=e),t},loadTextureCube:function(t,e,n,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var o=new wn;return o.setCrossOrigin(this.crossOrigin),t=o.load(t,n,void 0,i),e&&(t.mapping=e),t},loadCompressedTexture:function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},loadCompressedTextureCube:function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")}},t.Projector=function(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),this.projectVector=function(t,e){console.warn("THREE.Projector: .projectVector() is now vector.project()."),t.project(e)},this.unprojectVector=function(t,e){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),t.unproject(e)},this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}},t.CanvasRenderer=function(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js"),this.domElement=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}},Object.defineProperty(t,"__esModule",{value:!0})}),THREE.AssimpJSONLoader=function(t){this.manager=void 0!==t?t:THREE.DefaultLoadingManager},THREE.AssimpJSONLoader.prototype={constructor:THREE.AssimpJSONLoader,load:function(t,o,e,r){var a=this;this.texturePath=this.texturePath&&"string"==typeof this.texturePath?this.texturePath:this.extractUrlBase(t),new THREE.FileLoader(this.manager).load(t,function(t){var e,n,i=JSON.parse(t);if(void 0!==(n=i.__metadata__)){if("assimp2json"!==n.format)return void r("Not an assimp2json scene");if(n.version<100&&200<=n.version)return void r("Unsupported assimp2json file format version")}e=a.parse(i),o(e)},e,r)},setCrossOrigin:function(t){this.crossOrigin=t},setTexturePath:function(t){this.texturePath=t},extractUrlBase:function(t){var e=t.split("/");return e.pop(),(e.length<1?".":e.join("/"))+"/"},parse:function(t){var e=this.parseList(t.meshes,this.parseMesh),n=this.parseList(t.materials,this.parseMaterial);return this.parseObject(t,t.rootnode,e,n)},parseList:function(t,e){for(var n=new Array(t.length),i=0;i<t.length;++i)n[i]=e.call(this,t[i]);return n},parseMesh:function(t){var e,n,i,o=new THREE.BufferGeometry,r=[],a=t.vertices||[],s=t.normals||[],l=t.texturecoords||[],c=t.colors||[];for(l=l[0]||[],e=0,n=t.faces.length;e<n;e++)i=t.faces[e],r.push(i[0],i[1],i[2]);return o.setIndex(r),o.addAttribute("position",new THREE.Float32BufferAttribute(a,3)),0<s.length&&o.addAttribute("normal",new THREE.Float32BufferAttribute(s,3)),0<l.length&&o.addAttribute("uv",new THREE.Float32BufferAttribute(l,2)),0<c.length&&o.addAttribute("color",new THREE.Float32BufferAttribute(c,3)),o.computeBoundingSphere(),o},parseMaterial:function(t){var e,o,n,r=null,a=this,s=[],i={shading:THREE.SmoothShading};function l(t){var e=new THREE.Color;return e.setRGB(t[0],t[1],t[2]),e}for(e in t.properties)"$tex.file"===(o=t.properties[e]).key?1!==o.semantic&&5!==o.semantic&&6!==o.semantic&&2!==o.semantic||function(t){var e,n=new THREE.TextureLoader(a.manager);1===t?e="map":5===t?e="bumpMap":6===t?e="normalMap":2===t&&(e="specularMap"),s.push(e),n.setCrossOrigin(this.crossOrigin);var i=a.texturePath+"/"+o.value;i=i.replace(/\\/g,"/"),n.load(i,function(t){t&&(t.wrapS=t.wrapT=THREE.RepeatWrapping,r[e]=t,r.needsUpdate=!0)})}(o.semantic):"?mat.name"===o.key?i.name=o.value:"$clr.diffuse"===o.key?i.color=l(o.value):"$clr.specular"===o.key?i.specular=l(o.value):"$clr.emissive"===o.key?i.emissive=l(o.value):"$mat.shadingm"===o.key?1===o.value&&(i.shading=THREE.FlatShading):"$mat.shininess"===o.key&&(i.shininess=o.value);if(s.length)for(e=s.length-1;0<=e;--e)i[s[e]]=(n=void 0,(n=new Image).width=1,n.height=1,new THREE.Texture(n));return r=new THREE.MeshPhongMaterial(i)},parseObject:function(t,e,n,i){var o,r,a=new THREE.Object3D;for(a.name=e.name||"",a.matrix=(new THREE.Matrix4).fromArray(e.transformation).transpose(),a.matrix.decompose(a.position,a.quaternion,a.scale),o=0;e.meshes&&o<e.meshes.length;++o)r=e.meshes[o],a.add(new THREE.Mesh(n[r],i[t.meshes[r].materialindex]));for(o=0;e.children&&o<e.children.length;++o)a.add(this.parseObject(t,e.children[o],n,i));return a}},THREE.OrbitControls=function(t,e){var n,i,o,r,a;this.object=t,this.domElement=void 0!==e?e:document,this.enabled=!0,this.target=new THREE.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:THREE.MOUSE.LEFT,ZOOM:THREE.MOUSE.MIDDLE,PAN:THREE.MOUSE.RIGHT},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return f.phi},this.getAzimuthalAngle=function(){return f.theta},this.saveState=function(){s.target0.copy(s.target),s.position0.copy(s.object.position),s.zoom0=s.object.zoom},this.reset=function(){s.target.copy(s.target0),s.object.position.copy(s.position0),s.object.zoom=s.zoom0,s.object.updateProjectionMatrix(),s.dispatchEvent(l),s.update(),h=u.NONE},this.update=(n=new THREE.Vector3,i=(new THREE.Quaternion).setFromUnitVectors(t.up,new THREE.Vector3(0,1,0)),o=i.clone().inverse(),r=new THREE.Vector3,a=new THREE.Quaternion,function(){var t=s.object.position;return n.copy(t).sub(s.target),n.applyQuaternion(i),f.setFromVector3(n),s.autoRotate&&h===u.NONE&&k(2*Math.PI/60/60*s.autoRotateSpeed),f.theta+=m.theta,f.phi+=m.phi,f.theta=Math.max(s.minAzimuthAngle,Math.min(s.maxAzimuthAngle,f.theta)),f.phi=Math.max(s.minPolarAngle,Math.min(s.maxPolarAngle,f.phi)),f.makeSafe(),f.radius*=g,f.radius=Math.max(s.minDistance,Math.min(s.maxDistance,f.radius)),s.target.add(v),n.setFromSpherical(f),n.applyQuaternion(o),t.copy(s.target).add(n),s.object.lookAt(s.target),!0===s.enableDamping?(m.theta*=1-s.dampingFactor,m.phi*=1-s.dampingFactor):m.set(0,0,0),g=1,v.set(0,0,0),!(!(y||r.distanceToSquared(s.object.position)>p||8*(1-a.dot(s.object.quaternion))>p)||(s.dispatchEvent(l),r.copy(s.object.position),a.copy(s.object.quaternion),y=!1))}),this.dispose=function(){s.domElement.removeEventListener("contextmenu",Y,!1),s.domElement.removeEventListener("mousedown",z,!1),s.domElement.removeEventListener("wheel",U,!1),s.domElement.removeEventListener("touchstart",V,!1),s.domElement.removeEventListener("touchend",W,!1),s.domElement.removeEventListener("touchmove",G,!1),document.removeEventListener("mousemove",H,!1),document.removeEventListener("mouseup",B,!1),window.removeEventListener("keydown",j,!1)};var s=this,l={type:"change"},c={type:"start"},d={type:"end"},u={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},h=u.NONE,p=1e-6,f=new THREE.Spherical,m=new THREE.Spherical,g=1,v=new THREE.Vector3,y=!1,b=new THREE.Vector2,_=new THREE.Vector2,x=new THREE.Vector2,w=new THREE.Vector2,E=new THREE.Vector2,M=new THREE.Vector2,T=new THREE.Vector2,C=new THREE.Vector2,S=new THREE.Vector2;function A(){return Math.pow(.95,s.zoomSpeed)}function k(t){m.theta-=t}function D(t){m.phi-=t}var O,P,N,L=(O=new THREE.Vector3,function(t,e){O.setFromMatrixColumn(e,0),O.multiplyScalar(-t),v.add(O)}),I=(P=new THREE.Vector3,function(t,e){P.setFromMatrixColumn(e,1),P.multiplyScalar(t),v.add(P)}),R=(N=new THREE.Vector3,function(t,e){var n=s.domElement===document?s.domElement.body:s.domElement;if(s.object instanceof THREE.PerspectiveCamera){var i=s.object.position;N.copy(i).sub(s.target);var o=N.length();o*=Math.tan(s.object.fov/2*Math.PI/180),L(2*t*o/n.clientHeight,s.object.matrix),I(2*e*o/n.clientHeight,s.object.matrix)}else s.object instanceof THREE.OrthographicCamera?(L(t*(s.object.right-s.object.left)/s.object.zoom/n.clientWidth,s.object.matrix),I(e*(s.object.top-s.object.bottom)/s.object.zoom/n.clientHeight,s.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),s.enablePan=!1)});function $(t){s.object instanceof THREE.PerspectiveCamera?g/=t:s.object instanceof THREE.OrthographicCamera?(s.object.zoom=Math.max(s.minZoom,Math.min(s.maxZoom,s.object.zoom*t)),s.object.updateProjectionMatrix(),y=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),s.enableZoom=!1)}function F(t){s.object instanceof THREE.PerspectiveCamera?g*=t:s.object instanceof THREE.OrthographicCamera?(s.object.zoom=Math.max(s.minZoom,Math.min(s.maxZoom,s.object.zoom/t)),s.object.updateProjectionMatrix(),y=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),s.enableZoom=!1)}function z(t){if(!1!==s.enabled){switch(t.preventDefault(),t.button){case s.mouseButtons.ORBIT:if(!1===s.enableRotate)return;i=t,b.set(i.clientX,i.clientY),h=u.ROTATE;break;case s.mouseButtons.ZOOM:if(!1===s.enableZoom)return;n=t,T.set(n.clientX,n.clientY),h=u.DOLLY;break;case s.mouseButtons.PAN:if(!1===s.enablePan)return;e=t,w.set(e.clientX,e.clientY),h=u.PAN}var e,n,i;h!==u.NONE&&(document.addEventListener("mousemove",H,!1),document.addEventListener("mouseup",B,!1),s.dispatchEvent(c))}}function H(t){var e,n;if(!1!==s.enabled)switch(t.preventDefault(),h){case u.ROTATE:if(!1===s.enableRotate)return;!function(t){_.set(t.clientX,t.clientY),x.subVectors(_,b);var e=s.domElement===document?s.domElement.body:s.domElement;k(2*Math.PI*x.x/e.clientWidth*s.rotateSpeed),D(2*Math.PI*x.y/e.clientHeight*s.rotateSpeed),b.copy(_),s.update()}(t);break;case u.DOLLY:if(!1===s.enableZoom)return;n=t,C.set(n.clientX,n.clientY),S.subVectors(C,T),0<S.y?$(A()):S.y<0&&F(A()),T.copy(C),s.update();break;case u.PAN:if(!1===s.enablePan)return;e=t,E.set(e.clientX,e.clientY),M.subVectors(E,w),R(M.x,M.y),w.copy(E),s.update()}}function B(t){!1!==s.enabled&&(document.removeEventListener("mousemove",H,!1),document.removeEventListener("mouseup",B,!1),s.dispatchEvent(d),h=u.NONE)}function U(t){var e;!1===s.enabled||!1===s.enableZoom||h!==u.NONE&&h!==u.ROTATE||(t.preventDefault(),t.stopPropagation(),(e=t).deltaY<0?F(A()):0<e.deltaY&&$(A()),s.update(),s.dispatchEvent(c),s.dispatchEvent(d))}function j(t){!1!==s.enabled&&!1!==s.enableKeys&&!1!==s.enablePan&&function(t){switch(t.keyCode){case s.keys.UP:R(0,s.keyPanSpeed),s.update();break;case s.keys.BOTTOM:R(0,-s.keyPanSpeed),s.update();break;case s.keys.LEFT:R(s.keyPanSpeed,0),s.update();break;case s.keys.RIGHT:R(-s.keyPanSpeed,0),s.update()}}(t)}function V(t){if(!1!==s.enabled){switch(t.touches.length){case 1:if(!1===s.enableRotate)return;a=t,b.set(a.touches[0].pageX,a.touches[0].pageY),h=u.TOUCH_ROTATE;break;case 2:if(!1===s.enableZoom)return;i=(n=t).touches[0].pageX-n.touches[1].pageX,o=n.touches[0].pageY-n.touches[1].pageY,r=Math.sqrt(i*i+o*o),T.set(0,r),h=u.TOUCH_DOLLY;break;case 3:if(!1===s.enablePan)return;e=t,w.set(e.touches[0].pageX,e.touches[0].pageY),h=u.TOUCH_PAN;break;default:h=u.NONE}var e,n,i,o,r,a;h!==u.NONE&&s.dispatchEvent(c)}}function G(t){var e,n,i,o,r;if(!1!==s.enabled)switch(t.preventDefault(),t.stopPropagation(),t.touches.length){case 1:if(!1===s.enableRotate)return;if(h!==u.TOUCH_ROTATE)return;!function(t){_.set(t.touches[0].pageX,t.touches[0].pageY),x.subVectors(_,b);var e=s.domElement===document?s.domElement.body:s.domElement;k(2*Math.PI*x.x/e.clientWidth*s.rotateSpeed),D(2*Math.PI*x.y/e.clientHeight*s.rotateSpeed),b.copy(_),s.update()}(t);break;case 2:if(!1===s.enableZoom)return;if(h!==u.TOUCH_DOLLY)return;i=(n=t).touches[0].pageX-n.touches[1].pageX,o=n.touches[0].pageY-n.touches[1].pageY,r=Math.sqrt(i*i+o*o),C.set(0,r),S.subVectors(C,T),0<S.y?F(A()):S.y<0&&$(A()),T.copy(C),s.update();break;case 3:if(!1===s.enablePan)return;if(h!==u.TOUCH_PAN)return;e=t,E.set(e.touches[0].pageX,e.touches[0].pageY),M.subVectors(E,w),R(M.x,M.y),w.copy(E),s.update();break;default:h=u.NONE}}function W(t){!1!==s.enabled&&(s.dispatchEvent(d),h=u.NONE)}function Y(t){t.preventDefault()}s.domElement.addEventListener("contextmenu",Y,!1),s.domElement.addEventListener("mousedown",z,!1),s.domElement.addEventListener("wheel",U,!1),s.domElement.addEventListener("touchstart",V,!1),s.domElement.addEventListener("touchend",W,!1),s.domElement.addEventListener("touchmove",G,!1),window.addEventListener("keydown",j,!1),this.update()},THREE.OrbitControls.prototype=Object.create(THREE.EventDispatcher.prototype),THREE.OrbitControls.prototype.constructor=THREE.OrbitControls,Object.defineProperties(THREE.OrbitControls.prototype,{center:{get:function(){return console.warn("THREE.OrbitControls: .center has been renamed to .target"),this.target}},noZoom:{get:function(){return console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(t){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!t}},noRotate:{get:function(){return console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),!this.enableRotate},set:function(t){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),this.enableRotate=!t}},noPan:{get:function(){return console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(t){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!t}},noKeys:{get:function(){return console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(t){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!t}},staticMoving:{get:function(){return console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.enableDamping},set:function(t){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.enableDamping=!t}},dynamicDampingFactor:{get:function(){return console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor},set:function(t){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor=t}}}),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.vis=e():t.vis=e()}(this,function(){return function(n){function i(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var o={};return i.m=n,i.c=o,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=123)}([function(t,e,n){e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){e.__esModule=!0;var i,o=n(169),r=(i=o)&&i.__esModule?i:{default:i};e.default=function(){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,r.default)(t,i.key,i)}}return function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}}()},function(t,l,e){function n(t){return t&&t.__esModule?t:{default:t}}function a(t,e,n,i){var o=!1;!0===i&&(o=null===e[n]&&void 0!==t[n]),o?delete t[n]:t[n]=e[n]}var d=n(e(77)),u=n(e(29)),i=n(e(8)),h=n(e(6)),o=e(9),r=e(157);l.isNumber=function(t){return t instanceof Number||"number"==typeof t},l.recursiveDOMDelete=function(t){if(t)for(;!0===t.hasChildNodes();)l.recursiveDOMDelete(t.firstChild),t.removeChild(t.firstChild)},l.giveRange=function(t,e,n,i){if(e==t)return.5;var o=1/(e-t);return Math.max(0,(i-t)*o)},l.isString=function(t){return t instanceof String||"string"==typeof t},l.isDate=function(t){if(t instanceof Date)return!0;if(l.isString(t)){if(s.exec(t))return!0;if(!isNaN(Date.parse(t)))return!0}return!1},l.randomUUID=function(){return r.v4()},l.assignAllKeys=function(t,e){for(var n in t)t.hasOwnProperty(n)&&"object"!==(0,h.default)(t[n])&&(t[n]=e)},l.fillIfDefined=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];for(var i in t)void 0!==e[i]&&(null===e[i]||"object"!==(0,h.default)(e[i])?a(t,e,i,n):"object"===(0,h.default)(t[i])&&l.fillIfDefined(t[i],e[i],n))},l.extend=function(t,e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var o in i)i.hasOwnProperty(o)&&(t[o]=i[o])}return t},l.selectiveExtend=function(t,e,n){if(!Array.isArray(t))throw new Error("Array with property names expected as first argument");for(var i=2;i<arguments.length;i++)for(var o=arguments[i],r=0;r<t.length;r++){var a=t[r];o&&o.hasOwnProperty(a)&&(e[a]=o[a])}return e},l.selectiveDeepExtend=function(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]&&arguments[3];if(Array.isArray(n))throw new TypeError("Arrays are not supported by deepExtend");for(var o=0;o<t.length;o++){var r=t[o];if(n.hasOwnProperty(r))if(n[r]&&n[r].constructor===Object)void 0===e[r]&&(e[r]={}),e[r].constructor===Object?l.deepExtend(e[r],n[r],!1,i):a(e,n,r,i);else{if(Array.isArray(n[r]))throw new TypeError("Arrays are not supported by deepExtend");a(e,n,r,i)}}return e},l.selectiveNotDeepExtend=function(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]&&arguments[3];if(Array.isArray(n))throw new TypeError("Arrays are not supported by deepExtend");for(var o in n)if(n.hasOwnProperty(o)&&-1===t.indexOf(o))if(n[o]&&n[o].constructor===Object)void 0===e[o]&&(e[o]={}),e[o].constructor===Object?l.deepExtend(e[o],n[o]):a(e,n,o,i);else if(Array.isArray(n[o])){e[o]=[];for(var r=0;r<n[o].length;r++)e[o].push(n[o][r])}else a(e,n,o,i);return e},l.deepExtend=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],i=3<arguments.length&&void 0!==arguments[3]&&arguments[3];for(var o in e)if(e.hasOwnProperty(o)||!0===n)if(e[o]&&e[o].constructor===Object)void 0===t[o]&&(t[o]={}),t[o].constructor===Object?l.deepExtend(t[o],e[o],n):a(t,e,o,i);else if(Array.isArray(e[o])){t[o]=[];for(var r=0;r<e[o].length;r++)t[o].push(e[o][r])}else a(t,e,o,i);return t},l.equalArray=function(t,e){if(t.length!=e.length)return!1;for(var n=0,i=t.length;n<i;n++)if(t[n]!=e[n])return!1;return!0},l.convert=function(t,e){var n;if(void 0!==t){if(null===t)return null;if(!e)return t;if("string"!=typeof e&&!(e instanceof String))throw new Error("Type must be a string");switch(e){case"boolean":case"Boolean":return Boolean(t);case"number":case"Number":return l.isString(t)&&!isNaN(Date.parse(t))?o(t).valueOf():Number(t.valueOf());case"string":case"String":return String(t);case"Date":if(l.isNumber(t))return new Date(t);if(t instanceof Date)return new Date(t.valueOf());if(o.isMoment(t))return new Date(t.valueOf());if(l.isString(t))return(n=s.exec(t))?new Date(Number(n[1])):o(new Date(t)).toDate();throw new Error("Cannot convert object of type "+l.getType(t)+" to type Date");case"Moment":if(l.isNumber(t))return o(t);if(t instanceof Date)return o(t.valueOf());if(o.isMoment(t))return o(t);if(l.isString(t))return n=s.exec(t),o(n?Number(n[1]):t);throw new Error("Cannot convert object of type "+l.getType(t)+" to type Date");case"ISODate":if(l.isNumber(t))return new Date(t);if(t instanceof Date)return t.toISOString();if(o.isMoment(t))return t.toDate().toISOString();if(l.isString(t))return(n=s.exec(t))?new Date(Number(n[1])).toISOString():o(t).format();throw new Error("Cannot convert object of type "+l.getType(t)+" to type ISODate");case"ASPDate":if(l.isNumber(t))return"/Date("+t+")/";if(t instanceof Date)return"/Date("+t.valueOf()+")/";if(l.isString(t))return"/Date("+((n=s.exec(t))?new Date(Number(n[1])).valueOf():new Date(t).valueOf())+")/";throw new Error("Cannot convert object of type "+l.getType(t)+" to type ASPDate");default:throw new Error('Unknown type "'+e+'"')}}};var s=/^\/?Date\((\-?\d+)/i;l.getType=function(t){var e=void 0===t?"undefined":(0,h.default)(t);return"object"==e?null===t?"null":t instanceof Boolean?"Boolean":t instanceof Number?"Number":t instanceof String?"String":Array.isArray(t)?"Array":t instanceof Date?"Date":"Object":"number"==e?"Number":"boolean"==e?"Boolean":"string"==e?"String":void 0===e?"undefined":e},l.copyAndExtendArray=function(t,e){for(var n=[],i=0;i<t.length;i++)n.push(t[i]);return n.push(e),n},l.copyArray=function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n]);return e},l.getAbsoluteLeft=function(t){return t.getBoundingClientRect().left},l.getAbsoluteRight=function(t){return t.getBoundingClientRect().right},l.getAbsoluteTop=function(t){return t.getBoundingClientRect().top},l.addClassName=function(t,e){var n=t.className.split(" "),i=e.split(" ");n=n.concat(i.filter(function(t){return n.indexOf(t)<0})),t.className=n.join(" ")},l.removeClassName=function(t,e){var n=t.className.split(" "),i=e.split(" ");n=n.filter(function(t){return i.indexOf(t)<0}),t.className=n.join(" ")},l.forEach=function(t,e){var n,i;if(Array.isArray(t))for(n=0,i=t.length;n<i;n++)e(t[n],n,t);else for(n in t)t.hasOwnProperty(n)&&e(t[n],n,t)},l.toArray=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(t[n]);return e},l.updateProperty=function(t,e,n){return t[e]!==n&&(t[e]=n,!0)},l.throttle=function(t){var e=!1;return function(){e||(e=!0,requestAnimationFrame(function(){e=!1,t()}))}},l.addEventListener=function(t,e,n,i){t.addEventListener?(void 0===i&&(i=!1),"mousewheel"===e&&0<=navigator.userAgent.indexOf("Firefox")&&(e="DOMMouseScroll"),t.addEventListener(e,n,i)):t.attachEvent("on"+e,n)},l.removeEventListener=function(t,e,n,i){t.removeEventListener?(void 0===i&&(i=!1),"mousewheel"===e&&0<=navigator.userAgent.indexOf("Firefox")&&(e="DOMMouseScroll"),t.removeEventListener(e,n,i)):t.detachEvent("on"+e,n)},l.preventDefault=function(t){t||(t=window.event),t.preventDefault?t.preventDefault():t.returnValue=!1},l.getTarget=function(t){var e;return t||(t=window.event),t.target?e=t.target:t.srcElement&&(e=t.srcElement),null!=e.nodeType&&3==e.nodeType&&(e=e.parentNode),e},l.hasParent=function(t,e){for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1},l.option={},l.option.asBoolean=function(t,e){return"function"==typeof t&&(t=t()),null!=t?0!=t:e||null},l.option.asNumber=function(t,e){return"function"==typeof t&&(t=t()),null!=t?Number(t)||e||null:e||null},l.option.asString=function(t,e){return"function"==typeof t&&(t=t()),null!=t?String(t):e||null},l.option.asSize=function(t,e){return"function"==typeof t&&(t=t()),l.isString(t)?t:l.isNumber(t)?t+"px":e||null},l.option.asElement=function(t,e){return"function"==typeof t&&(t=t()),t||e||null},l.hexToRGB=function(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,n,i){return e+e+n+n+i+i});var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null},l.overrideOpacity=function(t,e){var n;return-1!=t.indexOf("rgba")?t:-1!=t.indexOf("rgb")?"rgba("+(n=t.substr(t.indexOf("(")+1).replace(")","").split(","))[0]+","+n[1]+","+n[2]+","+e+")":null==(n=l.hexToRGB(t))?t:"rgba("+n.r+","+n.g+","+n.b+","+e+")"},l.RGBToHex=function(t,e,n){return"#"+((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1)},l.parseColor=function(t){var e;if(!0===l.isString(t)){if(!0===l.isValidRGB(t)){var n=t.substr(4).substr(0,t.length-5).split(",").map(function(t){return parseInt(t)});t=l.RGBToHex(n[0],n[1],n[2])}if(!0===l.isValidHex(t)){var i=l.hexToHSV(t),o={h:i.h,s:.8*i.s,v:Math.min(1,1.02*i.v)},r={h:i.h,s:Math.min(1,1.25*i.s),v:.8*i.v},a=l.HSVToHex(r.h,r.s,r.v),s=l.HSVToHex(o.h,o.s,o.v);e={background:t,border:a,highlight:{background:s,border:a},hover:{background:s,border:a}}}else e={background:t,border:t,highlight:{background:t,border:t},hover:{background:t,border:t}}}else(e={}).background=t.background||void 0,e.border=t.border||void 0,l.isString(t.highlight)?e.highlight={border:t.highlight,background:t.highlight}:(e.highlight={},e.highlight.background=t.highlight&&t.highlight.background||void 0,e.highlight.border=t.highlight&&t.highlight.border||void 0),l.isString(t.hover)?e.hover={border:t.hover,background:t.hover}:(e.hover={},e.hover.background=t.hover&&t.hover.background||void 0,e.hover.border=t.hover&&t.hover.border||void 0);return e},l.RGBToHSV=function(t,e,n){t/=255,e/=255,n/=255;var i=Math.min(t,Math.min(e,n)),o=Math.max(t,Math.max(e,n));return i==o?{h:0,s:0,v:i}:{h:60*((t==i?3:n==i?1:5)-(t==i?e-n:n==i?t-e:n-t)/(o-i))/360,s:(o-i)/o,v:o}};var c=function(t){var o={};return t.split(";").forEach(function(t){if(""!=t.trim()){var e=t.split(":"),n=e[0].trim(),i=e[1].trim();o[n]=i}}),o},p=function(e){return(0,i.default)(e).map(function(t){return t+": "+e[t]}).join("; ")};l.addCssText=function(t,e){var n=c(t.style.cssText),i=c(e),o=l.extend(n,i);t.style.cssText=p(o)},l.removeCssText=function(t,e){var n=c(t.style.cssText),i=c(e);for(var o in i)i.hasOwnProperty(o)&&delete n[o];t.style.cssText=p(n)},l.HSVToRGB=function(t,e,n){var i,o,r,a=Math.floor(6*t),s=6*t-a,l=n*(1-e),c=n*(1-s*e),d=n*(1-(1-s)*e);switch(a%6){case 0:i=n,o=d,r=l;break;case 1:i=c,o=n,r=l;break;case 2:i=l,o=n,r=d;break;case 3:i=l,o=c,r=n;break;case 4:i=d,o=l,r=n;break;case 5:i=n,o=l,r=c}return{r:Math.floor(255*i),g:Math.floor(255*o),b:Math.floor(255*r)}},l.HSVToHex=function(t,e,n){var i=l.HSVToRGB(t,e,n);return l.RGBToHex(i.r,i.g,i.b)},l.hexToHSV=function(t){var e=l.hexToRGB(t);return l.RGBToHSV(e.r,e.g,e.b)},l.isValidHex=function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},l.isValidRGB=function(t){return t=t.replace(" ",""),/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/i.test(t)},l.isValidRGBA=function(t){return t=t.replace(" ",""),/rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),(.{1,3})\)/i.test(t)},l.selectiveBridgeObject=function(t,e){if(null===e||"object"!==(void 0===e?"undefined":(0,h.default)(e)))return null;for(var n=(0,u.default)(e),i=0;i<t.length;i++)e.hasOwnProperty(t[i])&&"object"==(0,h.default)(e[t[i]])&&(n[t[i]]=l.bridgeObject(e[t[i]]));return n},l.bridgeObject=function(t){if(null===t||"object"!==(void 0===t?"undefined":(0,h.default)(t)))return null;var e=(0,u.default)(t);if(t instanceof Element)e=t;else for(var n in e=(0,u.default)(t),t)t.hasOwnProperty(n)&&"object"==(0,h.default)(t[n])&&(e[n]=l.bridgeObject(t[n]));return e},l.insertSort=function(t,e){for(var n=0;n<t.length;n++){for(var i=t[n],o=n;0<o&&e(i,t[o-1])<0;o--)t[o]=t[o-1];t[o]=i}return t},l.mergeOptions=function(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},o=function(t){return null!=t},a=function(t){return null!==t&&"object"===(void 0===t?"undefined":(0,h.default)(t))};if(!a(t))throw new Error("Parameter mergeTarget must be an object");if(!a(e))throw new Error("Parameter options must be an object");if(!o(n))throw new Error("Parameter option must have a value");if(!a(i))throw new Error("Parameter globalOptions must be an object");var r=e[n],s=a(i)&&!function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}(i)?i[n]:void 0,l=s?s.enabled:void 0;if(void 0!==r){if("boolean"==typeof r)return a(t[n])||(t[n]={}),void(t[n].enabled=r);if(null===r&&!a(t[n])){if(!o(s))return;t[n]=(0,u.default)(s)}if(a(r)){var c=!0;void 0!==r.enabled?c=r.enabled:void 0!==l&&(c=s.enabled),function(t,e,n){a(t[n])||(t[n]={});var i=e[n],o=t[n];for(var r in i)i.hasOwnProperty(r)&&(o[r]=i[r])}(t,e,n),t[n].enabled=c}}},l.binarySearchCustom=function(t,e,n,i){for(var o=0,r=0,a=t.length-1;r<=a&&o<1e4;){var s=Math.floor((r+a)/2),l=t[s],c=e(void 0===i?l[n]:l[n][i]);if(0==c)return s;-1==c?r=s+1:a=s-1,o++}return-1},l.binarySearchValue=function(t,e,n,i,o){var r,a,s,l,c=0,d=0,u=t.length-1;for(o=null!=o?o:function(t,e){return t==e?0:t<e?-1:1};d<=u&&c<1e4;){if(l=Math.floor(.5*(u+d)),r=t[Math.max(0,l-1)][n],a=t[l][n],s=t[Math.min(t.length-1,l+1)][n],0==o(a,e))return l;if(o(r,e)<0&&0<o(a,e))return"before"==i?Math.max(0,l-1):l;if(o(a,e)<0&&0<o(s,e))return"before"==i?l:Math.min(t.length-1,l+1);o(a,e)<0?d=l+1:u=l-1,c++}return-1},l.easingFunctions={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}},l.getScrollBarWidth=function(){var t=document.createElement("p");t.style.width="100%",t.style.height="200px";var e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.visibility="hidden",e.style.width="200px",e.style.height="150px",e.style.overflow="hidden",e.appendChild(t),document.body.appendChild(e);var n=t.offsetWidth;e.style.overflow="scroll";var i=t.offsetWidth;return n==i&&(i=e.clientWidth),document.body.removeChild(e),n-i},l.topMost=function(t,e){var n=void 0;Array.isArray(e)||(e=[e]);var i=!0,o=!1,r=void 0;try{for(var a,s=(0,d.default)(t);!(i=(a=s.next()).done);i=!0){var l=a.value;if(l){n=l[e[0]];for(var c=1;c<e.length;c++)n&&(n=n[e[c]]);if(void 0!==n)break}}}catch(t){o=!0,r=t}finally{try{!i&&s.return&&s.return()}finally{if(o)throw r}}return n}},function(t,e,n){t.exports={default:n(194),__esModule:!0}},function(t,e,n){e.__esModule=!0;var i,o=n(6),r=(i=o)&&i.__esModule?i:{default:i};e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":(0,r.default)(e))&&"function"!=typeof e?t:e}},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=i(n(196)),r=i(n(29)),a=i(n(6));e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":(0,a.default)(e)));t.prototype=(0,r.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(o.default?(0,o.default)(t,e):t.__proto__=e)}},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=i(n(142)),r=i(n(144)),a="function"==typeof r.default&&"symbol"==typeof o.default?function(t){return typeof t}:function(t){return t&&"function"==typeof r.default&&t.constructor===r.default&&t!==r.default.prototype?"symbol":typeof t};e.default="function"==typeof r.default&&"symbol"===a(o.default)?function(t){return void 0===t?"undefined":a(t)}:function(t){return t&&"function"==typeof r.default&&t.constructor===r.default&&t!==r.default.prototype?"symbol":void 0===t?"undefined":a(t)}},function(t,e){var n=t.exports={version:"2.5.1"};"number"==typeof __e&&(__e=n)},function(t,e,n){t.exports={default:n(140),__esModule:!0}},function(t,e,n){t.exports="undefined"!=typeof window&&window.moment||n(154)},function(t,e,n){if("undefined"!=typeof window){var i=n(175),o=window.Hammer||n(176);t.exports=i(o,{preventDefault:"mouse"})}else t.exports=function(){return{on:e=function(){},off:e,destroy:e,emit:e,get:function(t){return{set:e}}};var e}},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(t&&!Array.isArray(t)&&(e=t,t=null),this._options=e||{},this._data={},this.length=0,this._fieldId=this._options.fieldId||"id",this._type={},this._options.type)for(var n=(0,v.default)(this._options.type),i=0,o=n.length;i<o;i++){var r=n[i],a=this._options.type[r];this._type[r]="Date"==a||"ISODate"==a||"ASPDate"==a?"Date":a}this._subscribers={},t&&this.add(t),this.setOptions(e)}var l=i(n(19)),h=i(n(6)),v=i(n(8)),y=n(2),r=n(43);o.prototype.setOptions=function(t){t&&void 0!==t.queue&&(!1===t.queue?this._queue&&(this._queue.destroy(),delete this._queue):(this._queue||(this._queue=r.extend(this,{replace:["add","update","remove"]})),"object"===(0,h.default)(t.queue)&&this._queue.setOptions(t.queue)))},o.prototype.on=function(t,e){var n=this._subscribers[t];n||(n=[],this._subscribers[t]=n),n.push({callback:e})},o.prototype.off=function(t,e){var n=this._subscribers[t];n&&(this._subscribers[t]=n.filter(function(t){return t.callback!=e}))},o.prototype._trigger=function(t,e,n){if("*"==t)throw new Error("Cannot trigger event *");var i=[];t in this._subscribers&&(i=i.concat(this._subscribers[t])),"*"in this._subscribers&&(i=i.concat(this._subscribers["*"]));for(var o=0,r=i.length;o<r;o++){var a=i[o];a.callback&&a.callback(t,e,n||null)}},o.prototype.add=function(t,e){var n,i=[];if(Array.isArray(t))for(var o=0,r=t.length;o<r;o++)n=this._addItem(t[o]),i.push(n);else{if(!t||"object"!==(void 0===t?"undefined":(0,h.default)(t)))throw new Error("Unknown dataType");n=this._addItem(t),i.push(n)}return i.length&&this._trigger("add",{items:i},e),i},o.prototype.update=function(t,e){var i=[],o=[],r=[],a=[],s=this,l=s._fieldId,n=function(t){var e=t[l];if(s._data[e]){var n=y.extend({},s._data[e]);e=s._updateItem(t),o.push(e),a.push(t),r.push(n)}else e=s._addItem(t),i.push(e)};if(Array.isArray(t))for(var c=0,d=t.length;c<d;c++)t[c]&&"object"===(0,h.default)(t[c])?n(t[c]):console.warn("Ignoring input item, which is not an object at index "+c);else{if(!t||"object"!==(void 0===t?"undefined":(0,h.default)(t)))throw new Error("Unknown dataType");n(t)}if(i.length&&this._trigger("add",{items:i},e),o.length){var u={items:o,oldData:r,data:a};this._trigger("update",u,e)}return i.concat(o)},o.prototype.get=function(t){var e,n,i,o,r=y.getType(t);o=(i="String"==r||"Number"==r?(e=t,arguments[1]):"Array"==r?(n=t,arguments[1]):t)&&i.returnType?-1==["Array","Object"].indexOf(i.returnType)?"Array":i.returnType:"Array";var a,s,l,c,d,u=i&&i.type||this._options.type,h=i&&i.filter,p=[];if(null!=e)(a=this._getItem(e,u))&&h&&!h(a)&&(a=null);else if(null!=n)for(c=0,d=n.length;c<d;c++)a=this._getItem(n[c],u),h&&!h(a)||p.push(a);else for(d=(s=(c=0,v.default)(this._data)).length;c<d;c++)l=s[c],a=this._getItem(l,u),h&&!h(a)||p.push(a);if(i&&i.order&&null==e&&this._sort(p,i.order),i&&i.fields){var f=i.fields;if(null!=e)a=this._filterFields(a,f);else for(c=0,d=p.length;c<d;c++)p[c]=this._filterFields(p[c],f)}if("Object"!=o)return null!=e?a:p;var m,g={};for(c=0,d=p.length;c<d;c++)g[(m=p[c]).id]=m;return g},o.prototype.getIds=function(t){var e,n,i,o,r,a=this._data,s=t&&t.filter,l=t&&t.order,c=t&&t.type||this._options.type,d=(0,v.default)(a),u=[];if(s)if(l){for(r=[],e=0,n=d.length;e<n;e++)i=d[e],s(o=this._getItem(i,c))&&r.push(o);for(this._sort(r,l),e=0,n=r.length;e<n;e++)u.push(r[e][this._fieldId])}else for(e=0,n=d.length;e<n;e++)i=d[e],s(o=this._getItem(i,c))&&u.push(o[this._fieldId]);else if(l){for(r=[],e=0,n=d.length;e<n;e++)i=d[e],r.push(a[i]);for(this._sort(r,l),e=0,n=r.length;e<n;e++)u.push(r[e][this._fieldId])}else for(e=0,n=d.length;e<n;e++)o=a[i=d[e]],u.push(o[this._fieldId]);return u},o.prototype.getDataSet=function(){return this},o.prototype.forEach=function(t,e){var n,i,o,r,a=e&&e.filter,s=e&&e.type||this._options.type,l=this._data,c=(0,v.default)(l);if(e&&e.order){var d=this.get(e);for(n=0,i=d.length;n<i;n++)t(o=d[n],r=o[this._fieldId])}else for(n=0,i=c.length;n<i;n++)r=c[n],o=this._getItem(r,s),a&&!a(o)||t(o,r)},o.prototype.map=function(t,e){var n,i,o,r,a=e&&e.filter,s=e&&e.type||this._options.type,l=[],c=this._data,d=(0,v.default)(c);for(n=0,i=d.length;n<i;n++)o=d[n],r=this._getItem(o,s),a&&!a(r)||l.push(t(r,o));return e&&e.order&&this._sort(l,e.order),l},o.prototype._filterFields=function(t,e){if(!t)return t;var n,i,o={},r=(0,v.default)(t),a=r.length;if(Array.isArray(e))for(n=0;n<a;n++)i=r[n],-1!=e.indexOf(i)&&(o[i]=t[i]);else for(n=0;n<a;n++)i=r[n],e.hasOwnProperty(i)&&(o[e[i]]=t[i]);return o},o.prototype._sort=function(t,e){if(y.isString(e)){var o=e;t.sort(function(t,e){var n=t[o],i=e[o];return i<n?1:n<i?-1:0})}else{if("function"!=typeof e)throw new TypeError("Order must be a function or a string");t.sort(e)}},o.prototype.remove=function(t,e){var n,i,o,r,a,s=[],l=[];for(n=0,i=(a=Array.isArray(t)?t:[t]).length;n<i;n++)(r=this._remove(a[n]))&&null!=(o=r[this._fieldId])&&(s.push(o),l.push(r));return s.length&&this._trigger("remove",{items:s,oldData:l},e),s},o.prototype._remove=function(t){var e,n;return y.isNumber(t)||y.isString(t)?n=t:t&&"object"===(void 0===t?"undefined":(0,h.default)(t))&&(n=t[this._fieldId]),void 0!==n&&this._data[n]?(e=this._data[n],delete this._data[n],this.length--,e):null},o.prototype.clear=function(t){var e,n,i=(0,v.default)(this._data),o=[];for(e=0,n=i.length;e<n;e++)o.push(this._data[i[e]]);return this._data={},this.length=0,this._trigger("remove",{items:i,oldData:o},t),i},o.prototype.max=function(t){var e,n,i=this._data,o=(0,v.default)(i),r=null,a=null;for(e=0,n=o.length;e<n;e++){var s=i[o[e]],l=s[t];null!=l&&(!r||a<l)&&(r=s,a=l)}return r},o.prototype.min=function(t){var e,n,i=this._data,o=(0,v.default)(i),r=null,a=null;for(e=0,n=o.length;e<n;e++){var s=i[o[e]],l=s[t];null!=l&&(!r||l<a)&&(r=s,a=l)}return r},o.prototype.distinct=function(t){var e,n,i,o=this._data,r=(0,v.default)(o),a=[],s=this._options.type&&this._options.type[t]||null,l=0;for(e=0,i=r.length;e<i;e++){var c=o[r[e]][t],d=!1;for(n=0;n<l;n++)if(a[n]==c){d=!0;break}d||void 0===c||(a[l]=c,l++)}if(s)for(e=0,i=a.length;e<i;e++)a[e]=y.convert(a[e],s);return a},o.prototype._addItem=function(t){var e=t[this._fieldId];if(null!=e){if(this._data[e])throw new Error("Cannot add item: item with id "+e+" already exists")}else e=y.randomUUID(),t[this._fieldId]=e;var n,i,o={},r=(0,v.default)(t);for(n=0,i=r.length;n<i;n++){var a=r[n],s=this._type[a];o[a]=y.convert(t[a],s)}return this._data[e]=o,this.length++,e},o.prototype._getItem=function(t,e){var n,i,o,r,a=this._data[t];if(!a)return null;var s={},l=(0,v.default)(a);if(e)for(o=0,r=l.length;o<r;o++)i=a[n=l[o]],s[n]=y.convert(i,e[n]);else for(o=0,r=l.length;o<r;o++)i=a[n=l[o]],s[n]=i;return s[this._fieldId]||(s[this._fieldId]=a.id),s},o.prototype._updateItem=function(t){var e=t[this._fieldId];if(null==e)throw new Error("Cannot update item: item has no id (item: "+(0,l.default)(t)+")");var n=this._data[e];if(!n)throw new Error("Cannot update item: no item with id "+e+" found");for(var i=(0,v.default)(t),o=0,r=i.length;o<r;o++){var a=i[o],s=this._type[a];n[a]=y.convert(t[a],s)}return e},t.exports=o},function(t,e,n){function i(t,e){this._data=null,this._ids={},this.length=0,this._options=e||{},this._fieldId="id",this._subscribers={};var n=this;this.listener=function(){n._onEvent.apply(n,arguments)},this.setData(t)}var o,r=n(8),c=(o=r)&&o.__esModule?o:{default:o},l=n(2),a=n(11);i.prototype.setData=function(t){var e,n,i,o,r;if(this._data){for(this._data.off&&this._data.off("*",this.listener),r=[],i=0,o=(e=this._data.getIds({filter:this._options&&this._options.filter})).length;i<o;i++)r.push(this._data._data[e[i]]);this._ids={},this.length=0,this._trigger("remove",{items:e,oldData:r})}if(this._data=t,this._data){for(this._fieldId=this._options.fieldId||this._data&&this._data.options&&this._data.options.fieldId||"id",i=0,o=(e=this._data.getIds({filter:this._options&&this._options.filter})).length;i<o;i++)n=e[i],this._ids[n]=!0;this.length=e.length,this._trigger("add",{items:e}),this._data.on&&this._data.on("*",this.listener)}},i.prototype.refresh=function(){var t,e,n,i=this._data.getIds({filter:this._options&&this._options.filter}),o=(0,c.default)(this._ids),r={},a=[],s=[],l=[];for(e=0,n=i.length;e<n;e++)r[t=i[e]]=!0,this._ids[t]||(a.push(t),this._ids[t]=!0);for(e=0,n=o.length;e<n;e++)r[t=o[e]]||(s.push(t),l.push(this._data._data[t]),delete this._ids[t]);this.length+=a.length-s.length,a.length&&this._trigger("add",{items:a}),s.length&&this._trigger("remove",{items:s,oldData:l})},i.prototype.get=function(t){var e,n,i,o=this,r=l.getType(t);i="String"==r||"Number"==r||"Array"==r?(e=t,n=arguments[1],arguments[2]):(n=t,arguments[1]);var a=l.extend({},this._options,n);this._options.filter&&n&&n.filter&&(a.filter=function(t){return o._options.filter(t)&&n.filter(t)});var s=[];return null!=e&&s.push(e),s.push(a),s.push(i),this._data&&this._data.get.apply(this._data,s)},i.prototype.getIds=function(e){var t;if(this._data){var n,i=this._options.filter;n=e&&e.filter?i?function(t){return i(t)&&e.filter(t)}:e.filter:i,t=this._data.getIds({filter:n,order:e&&e.order})}else t=[];return t},i.prototype.map=function(t,e){var n=[];if(this._data){var i,o=this._options.filter;i=e&&e.filter?o?function(t){return o(t)&&e.filter(t)}:e.filter:o,n=this._data.map(t,{filter:i,order:e&&e.order})}else n=[];return n},i.prototype.getDataSet=function(){for(var t=this;t instanceof i;)t=t._data;return t||null},i.prototype._onEvent=function(t,e,n){var i,o,r,a=e&&e.items,s=[],l=[],c=[],d=[],u=[],h=[];if(a&&this._data){switch(t){case"add":for(i=0,o=a.length;i<o;i++)r=a[i],this.get(r)&&(this._ids[r]=!0,s.push(r));break;case"update":for(i=0,o=a.length;i<o;i++)r=a[i],this.get(r)?this._ids[r]?(l.push(r),u.push(e.data[i]),d.push(e.oldData[i])):(this._ids[r]=!0,s.push(r)):this._ids[r]&&(delete this._ids[r],c.push(r),h.push(e.oldData[i]));break;case"remove":for(i=0,o=a.length;i<o;i++)r=a[i],this._ids[r]&&(delete this._ids[r],c.push(r),h.push(e.oldData[i]))}this.length+=s.length-c.length,s.length&&this._trigger("add",{items:s},n),l.length&&this._trigger("update",{items:l,oldData:d,data:u},n),c.length&&this._trigger("remove",{items:c,oldData:h},n)}},i.prototype.on=a.prototype.on,i.prototype.off=a.prototype.off,i.prototype._trigger=a.prototype._trigger,i.prototype.subscribe=i.prototype.on,i.prototype.unsubscribe=i.prototype.off,t.exports=i},function(t,e,n){var i=n(57)("wks"),o=n(40),r=n(18).Symbol,a="function"==typeof r;(t.exports=function(t){return i[t]||(i[t]=a&&r[t]||(a?r:o)("Symbol."+t))}).store=i},function(t,c,e){c.prepareElements=function(t){for(var e in t)t.hasOwnProperty(e)&&(t[e].redundant=t[e].used,t[e].used=[])},c.cleanupElements=function(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e].redundant){for(var n=0;n<t[e].redundant.length;n++)t[e].redundant[n].parentNode.removeChild(t[e].redundant[n]);t[e].redundant=[]}},c.resetElements=function(t){c.prepareElements(t),c.cleanupElements(t),c.prepareElements(t)},c.getSVGElement=function(t,e,n){var i;return e.hasOwnProperty(t)?0<e[t].redundant.length?(i=e[t].redundant[0],e[t].redundant.shift()):(i=document.createElementNS("http://www.w3.org/2000/svg",t),n.appendChild(i)):(i=document.createElementNS("http://www.w3.org/2000/svg",t),e[t]={used:[],redundant:[]},n.appendChild(i)),e[t].used.push(i),i},c.getDOMElement=function(t,e,n,i){var o;return e.hasOwnProperty(t)?0<e[t].redundant.length?(o=e[t].redundant[0],e[t].redundant.shift()):(o=document.createElement(t),void 0!==i?n.insertBefore(o,i):n.appendChild(o)):(o=document.createElement(t),e[t]={used:[],redundant:[]},void 0!==i?n.insertBefore(o,i):n.appendChild(o)),e[t].used.push(o),o},c.drawPoint=function(t,e,n,i,o,r){var a;if("circle"==n.style?((a=c.getSVGElement("circle",i,o)).setAttributeNS(null,"cx",t),a.setAttributeNS(null,"cy",e),a.setAttributeNS(null,"r",.5*n.size)):((a=c.getSVGElement("rect",i,o)).setAttributeNS(null,"x",t-.5*n.size),a.setAttributeNS(null,"y",e-.5*n.size),a.setAttributeNS(null,"width",n.size),a.setAttributeNS(null,"height",n.size)),void 0!==n.styles&&a.setAttributeNS(null,"style",n.styles),a.setAttributeNS(null,"class",n.className+" vis-point"),r){var s=c.getSVGElement("text",i,o);r.xOffset&&(t+=r.xOffset),r.yOffset&&(e+=r.yOffset),r.content&&(s.textContent=r.content),r.className&&s.setAttributeNS(null,"class",r.className+" vis-label"),s.setAttributeNS(null,"x",t),s.setAttributeNS(null,"y",e)}return a},c.drawBar=function(t,e,n,i,o,r,a,s){if(0!=i){i<0&&(e-=i*=-1);var l=c.getSVGElement("rect",r,a);l.setAttributeNS(null,"x",t-.5*n),l.setAttributeNS(null,"y",e),l.setAttributeNS(null,"width",n),l.setAttributeNS(null,"height",i),l.setAttributeNS(null,"class",o),s&&l.setAttributeNS(null,"style",s)}}},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.printStyle=void 0;var o=i(n(19)),r=i(n(6)),c=i(n(8)),a=i(n(0)),s=i(n(1)),p=n(2),d=!1,l=void 0,u="background: #FFeeee; color: #dd0000",h=function(){function h(){(0,a.default)(this,h)}return(0,s.default)(h,null,[{key:"validate",value:function(t,e,n){d=!1;var i=l=e;return void 0!==n&&(i=e[n]),h.parse(t,i,[]),d}},{key:"parse",value:function(t,e,n){for(var i in t)t.hasOwnProperty(i)&&h.check(i,t,e,n)}},{key:"check",value:function(t,e,n,i){if(void 0!==n[t]||void 0!==n.__any__){var o=t,r=!0;void 0===n[t]&&void 0!==n.__any__&&(o="__any__",r="object"===h.getType(e[t]));var a=n[o];r&&void 0!==a.__type__&&(a=a.__type__),h.checkFields(t,e,n,o,a,i)}else h.getSuggestion(t,n,i)}},{key:"checkFields",value:function(e,t,n,i,o,r){var a=function(t){console.log("%c"+t+h.printLocation(r,e),u)},s=h.getType(t[e]),l=o[s];void 0!==l?"array"===h.getType(l)&&-1===l.indexOf(t[e])?(a('Invalid option detected in "'+e+'". Allowed values are:'+h.print(l)+' not "'+t[e]+'". '),d=!0):"object"===s&&"__any__"!==i&&(r=p.copyAndExtendArray(r,e),h.parse(t[e],n[i],r)):void 0===o.any&&(a('Invalid type received for "'+e+'". Expected: '+h.print((0,c.default)(o))+". Received ["+s+'] "'+t[e]+'"'),d=!0)}},{key:"getType",value:function(t){var e=void 0===t?"undefined":(0,r.default)(t);return"object"===e?null===t?"null":t instanceof Boolean?"boolean":t instanceof Number?"number":t instanceof String?"string":Array.isArray(t)?"array":t instanceof Date?"date":void 0!==t.nodeType?"dom":!0===t._isAMomentObject?"moment":"object":"number"===e?"number":"boolean"===e?"boolean":"string"===e?"string":void 0===e?"undefined":e}},{key:"getSuggestion",value:function(t,e,n){var i,o=h.findInOptions(t,e,n,!1),r=h.findInOptions(t,l,[],!0);i=void 0!==o.indexMatch?" in "+h.printLocation(o.path,t,"")+'Perhaps it was incomplete? Did you mean: "'+o.indexMatch+'"?\n\n':r.distance<=4&&o.distance>r.distance?" in "+h.printLocation(o.path,t,"")+"Perhaps it was misplaced? Matching option found at: "+h.printLocation(r.path,r.closestMatch,""):o.distance<=8?'. Did you mean "'+o.closestMatch+'"?'+h.printLocation(o.path,t):". Did you mean one of these: "+h.print((0,c.default)(e))+h.printLocation(n,t),console.log('%cUnknown option detected: "'+t+'"'+i,u),d=!0}},{key:"findInOptions",value:function(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]&&arguments[3],o=1e9,r="",a=[],s=t.toLowerCase(),l=void 0;for(var c in e){var d=void 0;if(void 0!==e[c].__type__&&!0===i){var u=h.findInOptions(t,e[c],p.copyAndExtendArray(n,c));o>u.distance&&(r=u.closestMatch,a=u.path,o=u.distance,l=u.indexMatch)}else-1!==c.toLowerCase().indexOf(s)&&(l=c),(d=h.levenshteinDistance(t,c))<o&&(r=c,a=p.copyArray(n),o=d)}return{closestMatch:r,path:a,distance:o,indexMatch:l}}},{key:"printLocation",value:function(t,e){for(var n="\n\n"+(2<arguments.length&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n")+"options = {\n",i=0;i<t.length;i++){for(var o=0;o<i+1;o++)n+="  ";n+=t[i]+": {\n"}for(var r=0;r<t.length+1;r++)n+="  ";n+=e+"\n";for(var a=0;a<t.length+1;a++){for(var s=0;s<t.length-a;s++)n+="  ";n+="}\n"}return n+"\n\n"}},{key:"print",value:function(t){return(0,o.default)(t).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}},{key:"levenshteinDistance",value:function(t,e){if(0===t.length)return e.length;if(0===e.length)return t.length;var n,i,o=[];for(n=0;n<=e.length;n++)o[n]=[n];for(i=0;i<=t.length;i++)o[0][i]=i;for(n=1;n<=e.length;n++)for(i=1;i<=t.length;i++)e.charAt(n-1)==t.charAt(i-1)?o[n][i]=o[n-1][i-1]:o[n][i]=Math.min(o[n-1][i-1]+1,Math.min(o[n][i-1]+1,o[n-1][i]+1));return o[e.length][t.length]}}]),h}();e.default=h,e.printStyle=u},function(t,e,n){function i(t,e){this.options=null,this.props=null}var o=n(2);i.prototype.setOptions=function(t){t&&o.extend(this.options,t)},i.prototype.redraw=function(){return!1},i.prototype.destroy=function(){},i.prototype._isResized=function(){var t=this.props._previousWidth!==this.props.width||this.props._previousHeight!==this.props.height;return this.props._previousWidth=this.props.width,this.props._previousHeight=this.props.height,t},t.exports=i},function(t,e,n){var m=n(18),g=n(7),v=n(80),y=n(26),b=function(t,e,n){var i,o,r,a=t&b.F,s=t&b.G,l=t&b.S,c=t&b.P,d=t&b.B,u=t&b.W,h=s?g:g[e]||(g[e]={}),p=h.prototype,f=s?m:l?m[e]:(m[e]||{}).prototype;for(i in s&&(n=e),n)(o=!a&&f&&void 0!==f[i])&&i in h||(r=o?f[i]:n[i],h[i]=s&&"function"!=typeof f[i]?n[i]:d&&o?v(r,m):u&&f[i]==r?function(i){var t=function(t,e,n){if(this instanceof i){switch(arguments.length){case 0:return new i;case 1:return new i(t);case 2:return new i(t,e)}return new i(t,e,n)}return i.apply(this,arguments)};return t.prototype=i.prototype,t}(r):c&&"function"==typeof r?v(Function.call,r):r,c&&((h.virtual||(h.virtual={}))[i]=r,t&b.R&&p&&!p[i]&&y(p,i,r)))};b.F=1,b.G=2,b.S=4,b.P=8,b.B=16,b.W=32,b.U=64,b.R=128,t.exports=b},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){t.exports={default:n(160),__esModule:!0}},function(t,e,n){var i=n(27),o=n(81),r=n(53),a=Object.defineProperty;e.f=n(21)?Object.defineProperty:function(t,e,n){if(i(t),e=r(e,!0),i(n),o)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){t.exports=!n(28)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(6)),r=i(n(0)),a=i(n(1)),s=function(){function i(t,e,n){(0,r.default)(this,i),this.body=e,this.labelModule=n,this.setOptions(t),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return(0,a.default)(i,[{key:"setOptions",value:function(t){this.options=t}},{key:"_setMargins",value:function(t){this.margin={},this.options.margin&&("object"==(0,o.default)(this.options.margin)?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),t.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(t,e){var n=this.options.borderWidth;return this.resize(t),Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+n}},{key:"enableShadow",value:function(t,e){e.shadow&&(t.shadowColor=e.shadowColor,t.shadowBlur=e.shadowSize,t.shadowOffsetX=e.shadowX,t.shadowOffsetY=e.shadowY)}},{key:"disableShadow",value:function(t,e){e.shadow&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(t,e){if(!1!==e.borderDashes)if(void 0!==t.setLineDash){var n=e.borderDashes;!0===n&&(n=[5,15]),t.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,e.borderDashes=!1}},{key:"disableBorderDashes",value:function(t,e){!1!==e.borderDashes&&(void 0!==t.setLineDash?t.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,e.borderDashes=!1))}},{key:"needsRefresh",value:function(t,e){return!0===this.refreshNeeded?!(this.refreshNeeded=!1):void 0===this.width||this.labelModule.differentState(t,e)}},{key:"initContextForDraw",value:function(t,e){var n=e.borderWidth/this.body.view.scale;t.lineWidth=Math.min(this.width,n),t.strokeStyle=e.borderColor,t.fillStyle=e.color}},{key:"performStroke",value:function(t,e){var n=e.borderWidth/this.body.view.scale;t.save(),0<n&&(this.enableBorderDashes(t,e),t.stroke(),this.disableBorderDashes(t,e)),t.restore()}},{key:"performFill",value:function(t,e){this.enableShadow(t,e),t.fill(),this.disableShadow(t,e),this.performStroke(t,e)}},{key:"_addBoundingBoxMargin",value:function(t){this.boundingBox.left-=t,this.boundingBox.top-=t,this.boundingBox.bottom+=t,this.boundingBox.right+=t}},{key:"_updateBoundingBox",value:function(t,e,n,i,o){void 0!==n&&this.resize(n,i,o),this.left=t-this.width/2,this.top=e-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(t,e,n,i,o){this._updateBoundingBox(t,e,n,i,o)}},{key:"getDimensionsFromLabel",value:function(t,e,n){this.textSize=this.labelModule.getTextSize(t,e,n);var i=this.textSize.width,o=this.textSize.height;return 0===i&&(o=i=14),{width:i,height:o}}}]),i}();e.default=s},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(3)),r=i(n(0)),a=i(n(1)),s=i(n(4)),l=i(n(5)),c=function(t){function i(t,e,n){return(0,r.default)(this,i),(0,s.default)(this,(i.__proto__||(0,o.default)(i)).call(this,t,e,n))}return(0,l.default)(i,t),(0,a.default)(i,[{key:"resize",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.selected,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.hover,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{size:this.options.size};if(this.needsRefresh(e,n)){this.labelModule.getTextSize(t,e,n);var o=2*i.size;this.width=o,this.height=o,this.radius=.5*this.width}}},{key:"_drawShape",value:function(t,e,n,i,o,r,a,s){if(this.resize(t,r,a,s),this.left=i-this.width/2,this.top=o-this.height/2,this.initContextForDraw(t,s),t[e](i,o,s.size),this.performFill(t,s),void 0!==this.options.label){this.labelModule.calculateLabelSize(t,r,a,i,o,"hanging");var l=o+.5*this.height+.5*this.labelModule.size.height;this.labelModule.draw(t,i,l,r,a,"hanging")}this.updateBoundingBox(i,o)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size,void 0!==this.options.label&&0<this.labelModule.size.width&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),i}(i(n(23)).default);e.default=c},function(t,e,n){var i=n(78),o=n(51);t.exports=function(t){return i(o(t))}},function(t,e,n){var i=n(20),o=n(39);t.exports=n(21)?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var i=n(32);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){t.exports={default:n(138),__esModule:!0}},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=i(n(188)),l=i(n(77));e.default=function(t,e){if(Array.isArray(t))return t;if((0,o.default)(Object(t)))return function(t,e){var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=(0,l.default)(t);!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){o=!0,r=t}finally{try{!i&&s.return&&s.return()}finally{if(o)throw r}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,e){t.exports={}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var i=n(84),o=n(58);t.exports=Object.keys||function(t){return i(t,o)}},function(t,e,n){function i(t,e,n){this.x=void 0!==t?t:0,this.y=void 0!==e?e:0,this.z=void 0!==n?n:0}i.subtract=function(t,e){var n=new i;return n.x=t.x-e.x,n.y=t.y-e.y,n.z=t.z-e.z,n},i.add=function(t,e){var n=new i;return n.x=t.x+e.x,n.y=t.y+e.y,n.z=t.z+e.z,n},i.avg=function(t,e){return new i((t.x+e.x)/2,(t.y+e.y)/2,(t.z+e.z)/2)},i.crossProduct=function(t,e){var n=new i;return n.x=t.y*e.z-t.z*e.y,n.y=t.z*e.x-t.x*e.z,n.z=t.x*e.y-t.y*e.x,n},i.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},t.exports=i},function(t,e,n){var i,o,r;o=[],void 0!==(r="function"==typeof(i=function(){return function(t){var e,o=t&&t.preventDefault||!1,n=t&&t.container||window,i={},a={keydown:{},keyup:{}},s={};for(e=97;e<=122;e++)s[String.fromCharCode(e)]={code:e-97+65,shift:!1};for(e=65;e<=90;e++)s[String.fromCharCode(e)]={code:e,shift:!0};for(e=0;e<=9;e++)s[""+e]={code:48+e,shift:!1};for(e=1;e<=12;e++)s["F"+e]={code:111+e,shift:!1};for(e=0;e<=9;e++)s["num"+e]={code:96+e,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var r=function(t){c(t,"keydown")},l=function(t){c(t,"keyup")},c=function(t,e){if(void 0!==a[e][t.keyCode]){for(var n=a[e][t.keyCode],i=0;i<n.length;i++)void 0===n[i].shift?n[i].fn(t):1==n[i].shift&&1==t.shiftKey?n[i].fn(t):0==n[i].shift&&0==t.shiftKey&&n[i].fn(t);1==o&&t.preventDefault()}};return i.bind=function(t,e,n){if(void 0===n&&(n="keydown"),void 0===s[t])throw new Error("unsupported key: "+t);void 0===a[n][s[t].code]&&(a[n][s[t].code]=[]),a[n][s[t].code].push({fn:e,shift:s[t].shift})},i.bindAll=function(t,e){for(var n in void 0===e&&(e="keydown"),s)s.hasOwnProperty(n)&&i.bind(n,t,e)},i.getKey=function(t){for(var e in s)if(s.hasOwnProperty(e)){if(1==t.shiftKey&&1==s[e].shift&&t.keyCode==s[e].code)return e;if(0==t.shiftKey&&0==s[e].shift&&t.keyCode==s[e].code)return e;if(t.keyCode==s[e].code&&"shift"==e)return e}return"unknown key, currently not supported"},i.unbind=function(t,e,n){if(void 0===n&&(n="keydown"),void 0===s[t])throw new Error("unsupported key: "+t);if(void 0!==e){var i=[],o=a[n][s[t].code];if(void 0!==o)for(var r=0;r<o.length;r++)o[r].fn==e&&o[r].shift==s[t].shift||i.push(a[n][s[t].code][r]);a[n][s[t].code]=i}else a[n][s[t].code]=[]},i.reset=function(){a={keydown:{},keyup:{}}},i.destroy=function(){a={keydown:{},keyup:{}},n.removeEventListener("keydown",r,!0),n.removeEventListener("keyup",l,!0)},n.addEventListener("keydown",r,!0),n.addEventListener("keyup",l,!0),i}})?i.apply(e,o):i)&&(t.exports=r)},function(t,v,e){v.convertHiddenOptions=function(t,e,n){if(n&&!Array.isArray(n))return v.convertHiddenOptions(t,e,[n]);if(e.hiddenDates=[],n&&1==Array.isArray(n)){for(var i=0;i<n.length;i++)if(void 0===n[i].repeat){var o={};o.start=t(n[i].start).toDate().valueOf(),o.end=t(n[i].end).toDate().valueOf(),e.hiddenDates.push(o)}e.hiddenDates.sort(function(t,e){return t.start-e.start})}},v.updateHiddenDates=function(t,e,n){if(n&&!Array.isArray(n))return v.updateHiddenDates(t,e,[n]);if(n&&void 0!==e.domProps.centerContainer.width){v.convertHiddenOptions(t,e,n);for(var i=t(e.range.start),o=t(e.range.end),r=(e.range.end-e.range.start)/e.domProps.centerContainer.width,a=0;a<n.length;a++)if(void 0!==n[a].repeat){var s=t(n[a].start),l=t(n[a].end);if("Invalid Date"==s._d)throw new Error("Supplied start date is not valid: "+n[a].start);if("Invalid Date"==l._d)throw new Error("Supplied end date is not valid: "+n[a].end);if(4*r<=l-s){var c=0,d=o.clone();switch(n[a].repeat){case"daily":s.day()!=l.day()&&(c=1),s.dayOfYear(i.dayOfYear()),s.year(i.year()),s.subtract(7,"days"),l.dayOfYear(i.dayOfYear()),l.year(i.year()),l.subtract(7-c,"days"),d.add(1,"weeks");break;case"weekly":var u=l.diff(s,"days"),h=s.day();s.date(i.date()),s.month(i.month()),s.year(i.year()),l=s.clone(),s.day(h),l.day(h),l.add(u,"days"),s.subtract(1,"weeks"),l.subtract(1,"weeks"),d.add(1,"weeks");break;case"monthly":s.month()!=l.month()&&(c=1),s.month(i.month()),s.year(i.year()),s.subtract(1,"months"),l.month(i.month()),l.year(i.year()),l.subtract(1,"months"),l.add(c,"months"),d.add(1,"months");break;case"yearly":s.year()!=l.year()&&(c=1),s.year(i.year()),s.subtract(1,"years"),l.year(i.year()),l.subtract(1,"years"),l.add(c,"years"),d.add(1,"years");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",n[a].repeat)}for(;s<d;)switch(e.hiddenDates.push({start:s.valueOf(),end:l.valueOf()}),n[a].repeat){case"daily":s.add(1,"days"),l.add(1,"days");break;case"weekly":s.add(1,"weeks"),l.add(1,"weeks");break;case"monthly":s.add(1,"months"),l.add(1,"months");break;case"yearly":s.add(1,"y"),l.add(1,"y");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",n[a].repeat)}e.hiddenDates.push({start:s.valueOf(),end:l.valueOf()})}}v.removeDuplicates(e);var p=v.isHidden(e.range.start,e.hiddenDates),f=v.isHidden(e.range.end,e.hiddenDates),m=e.range.start,g=e.range.end;1==p.hidden&&(m=1==e.range.startToFront?p.startDate-1:p.endDate+1),1==f.hidden&&(g=1==e.range.endToFront?f.startDate-1:f.endDate+1),1!=p.hidden&&1!=f.hidden||e.range._applyRange(m,g)}},v.removeDuplicates=function(t){for(var e=t.hiddenDates,n=[],i=0;i<e.length;i++)for(var o=0;o<e.length;o++)i!=o&&1!=e[o].remove&&1!=e[i].remove&&(e[o].start>=e[i].start&&e[o].end<=e[i].end?e[o].remove=!0:e[o].start>=e[i].start&&e[o].start<=e[i].end?(e[i].end=e[o].end,e[o].remove=!0):e[o].end>=e[i].start&&e[o].end<=e[i].end&&(e[i].start=e[o].start,e[o].remove=!0));for(i=0;i<e.length;i++)!0!==e[i].remove&&n.push(e[i]);t.hiddenDates=n,t.hiddenDates.sort(function(t,e){return t.start-e.start})},v.printDates=function(t){for(var e=0;e<t.length;e++)console.log(e,new Date(t[e].start),new Date(t[e].end),t[e].start,t[e].end,t[e].remove)},v.stepOverHiddenDates=function(t,e,n){for(var i=!1,o=e.current.valueOf(),r=0;r<e.hiddenDates.length;r++){var a=e.hiddenDates[r].start,s=e.hiddenDates[r].end;if(a<=o&&o<s){i=!0;break}}if(1==i&&o<e._end.valueOf()&&o!=n){var l=t(n),c=t(s);l.year()!=c.year()?e.switchedYear=!0:l.month()!=c.month()?e.switchedMonth=!0:l.dayOfYear()!=c.dayOfYear()&&(e.switchedDay=!0),e.current=c}},v.toScreen=function(t,e,n){var i;if(0==t.body.hiddenDates.length)return i=t.range.conversion(n),(e.valueOf()-i.offset)*i.scale;var o=v.isHidden(e,t.body.hiddenDates);1==o.hidden&&(e=o.startDate);var r=v.getHiddenDurationBetween(t.body.hiddenDates,t.range.start,t.range.end);if(e<t.range.start){i=t.range.conversion(n,r);var a=v.getHiddenDurationBeforeStart(t.body.hiddenDates,e,i.offset);return e=t.options.moment(e).toDate().valueOf(),e+=a,-(i.offset-e.valueOf())*i.scale}if(e>t.range.end){var s={start:t.range.start,end:e};return e=v.correctTimeForHidden(t.options.moment,t.body.hiddenDates,s,e),i=t.range.conversion(n,r),(e.valueOf()-i.offset)*i.scale}return e=v.correctTimeForHidden(t.options.moment,t.body.hiddenDates,t.range,e),i=t.range.conversion(n,r),(e.valueOf()-i.offset)*i.scale},v.toTime=function(t,e,n){if(0==t.body.hiddenDates.length){var i=t.range.conversion(n);return new Date(e/i.scale+i.offset)}var o=v.getHiddenDurationBetween(t.body.hiddenDates,t.range.start,t.range.end),r=(t.range.end-t.range.start-o)*e/n,a=v.getAccumulatedHiddenDuration(t.body.hiddenDates,t.range,r);return new Date(a+r+t.range.start)},v.getHiddenDurationBetween=function(t,e,n){for(var i=0,o=0;o<t.length;o++){var r=t[o].start,a=t[o].end;e<=r&&a<n&&(i+=a-r)}return i},v.getHiddenDurationBeforeStart=function(t,e,n){for(var i=0,o=0;o<t.length;o++){var r=t[o].start,a=t[o].end;e<=r&&a<=n&&(i+=a-r)}return i},v.correctTimeForHidden=function(t,e,n,i){return(i=t(i).toDate().valueOf())-v.getHiddenDurationBefore(t,e,n,i)},v.getHiddenDurationBefore=function(t,e,n,i){var o=0;i=t(i).toDate().valueOf();for(var r=0;r<e.length;r++){var a=e[r].start,s=e[r].end;a>=n.start&&s<n.end&&s<=i&&(o+=s-a)}return o},v.getAccumulatedHiddenDuration=function(t,e,n){for(var i=0,o=0,r=e.start,a=0;a<t.length;a++){var s=t[a].start,l=t[a].end;if(s>=e.start&&l<e.end){if(o+=s-r,r=l,n<=o)break;i+=l-s}}return i},v.snapAwayFromHidden=function(t,e,n,i){var o=v.isHidden(e,t);return 1==o.hidden?n<0?1==i?o.startDate-(o.endDate-e)-1:o.startDate-1:1==i?o.endDate+(e-o.startDate)+1:o.endDate+1:e},v.isHidden=function(t,e){for(var n=0;n<e.length;n++){var i=e[n].start,o=e[n].end;if(i<=t&&t<o)return{hidden:!0,startDate:i,endDate:o}}return{hidden:!1,startDate:i,endDate:o}}},function(t,e,n){e.onTouch=function(t,e){e.inputHandler=function(t){t.isFirst&&e(t)},t.on("hammer.input",e.inputHandler)},e.onRelease=function(t,e){return e.inputHandler=function(t){t.isFinal&&e(t)},t.on("hammer.input",e.inputHandler)},e.offTouch=function(t,e){t.off("hammer.input",e.inputHandler)},e.offRelease=e.offTouch,e.disablePreventDefaultVertically=function(t){return t.getTouchAction=function(){return["pan-y"]},t}},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e,n){this.id=null,this.parent=null,this.data=t,this.dom=null,this.conversion=e||{},this.options=n||{},this.selected=!1,this.displayed=!1,this.groupShowing=!0,this.dirty=!0,this.top=null,this.right=null,this.left=null,this.width=null,this.height=null,this.editable=null,this._updateEditStatus()}var r=i(n(6)),a=i(n(8)),s=n(10),l=n(2),c=n(9);o.prototype.stack=!0,o.prototype.select=function(){this.selected=!0,this.dirty=!0,this.displayed&&this.redraw()},o.prototype.unselect=function(){this.selected=!1,this.dirty=!0,this.displayed&&this.redraw()},o.prototype.setData=function(t){null!=t.group&&this.data.group!=t.group&&null!=this.parent&&this.parent.itemSet._moveToGroup(this,t.group),this.parent&&(this.parent.stackDirty=!0),null!=t.subgroup&&this.data.subgroup!=t.subgroup&&null!=this.parent&&this.parent.changeSubgroup(this,this.data.subgroup,t.subgroup),this.data=t,this._updateEditStatus(),this.dirty=!0,this.displayed&&this.redraw()},o.prototype.setParent=function(t){this.displayed?(this.hide(),this.parent=t,this.parent&&this.show()):this.parent=t},o.prototype.isVisible=function(t){return!1},o.prototype.show=function(){return!1},o.prototype.hide=function(){return!1},o.prototype.redraw=function(){},o.prototype.repositionX=function(){},o.prototype.repositionY=function(){},o.prototype._repaintDragCenter=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragCenter){var e=this,t=document.createElement("div");t.className="vis-drag-center",t.dragCenterItem=this;var n=new s(t);n.on("tap",function(t){e.parent.itemSet.body.emitter.emit("click",{event:t,item:e.id})}),n.on("doubletap",function(t){t.stopPropagation(),e.parent.itemSet._onUpdateItem(e),e.parent.itemSet.body.emitter.emit("doubleClick",{event:t,item:e.id})}),this.dom.box?this.dom.dragLeft?this.dom.box.insertBefore(t,this.dom.dragLeft):this.dom.box.appendChild(t):this.dom.point&&this.dom.point.appendChild(t),this.dom.dragCenter=t}else!this.selected&&this.dom.dragCenter&&(this.dom.dragCenter.parentNode&&this.dom.dragCenter.parentNode.removeChild(this.dom.dragCenter),this.dom.dragCenter=null)},o.prototype._repaintDeleteButton=function(t){var e=(this.options.editable.overrideItems||null==this.editable)&&this.options.editable.remove||!this.options.editable.overrideItems&&null!=this.editable&&this.editable.remove;if(this.selected&&e&&!this.dom.deleteButton){var n=this,i=document.createElement("div");this.options.rtl?i.className="vis-delete-rtl":i.className="vis-delete",i.title="Delete this item",new s(i).on("tap",function(t){t.stopPropagation(),n.parent.removeFromDataSet(n)}),t.appendChild(i),this.dom.deleteButton=i}else!this.selected&&this.dom.deleteButton&&(this.dom.deleteButton.parentNode&&this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton),this.dom.deleteButton=null)},o.prototype._repaintOnItemUpdateTimeTooltip=function(t){if(this.options.tooltipOnItemUpdateTime){var e=(this.options.editable.updateTime||!0===this.data.editable)&&!1!==this.data.editable;if(this.selected&&e&&!this.dom.onItemUpdateTimeTooltip){var n=document.createElement("div");n.className="vis-onUpdateTime-tooltip",t.appendChild(n),this.dom.onItemUpdateTimeTooltip=n}else!this.selected&&this.dom.onItemUpdateTimeTooltip&&(this.dom.onItemUpdateTimeTooltip.parentNode&&this.dom.onItemUpdateTimeTooltip.parentNode.removeChild(this.dom.onItemUpdateTimeTooltip),this.dom.onItemUpdateTimeTooltip=null);if(this.dom.onItemUpdateTimeTooltip){this.dom.onItemUpdateTimeTooltip.style.visibility=this.parent.itemSet.touchParams.itemIsDragging?"visible":"hidden",this.options.rtl?this.dom.onItemUpdateTimeTooltip.style.right=this.dom.content.style.right:this.dom.onItemUpdateTimeTooltip.style.left=this.dom.content.style.left;var i,o=this.parent.itemSet.body.domProps.scrollTop;("top"==this.options.orientation.item?this.top:this.parent.height-this.top-this.height)+this.parent.top-50<-o?(this.dom.onItemUpdateTimeTooltip.style.bottom="",this.dom.onItemUpdateTimeTooltip.style.top=this.height+2+"px"):(this.dom.onItemUpdateTimeTooltip.style.top="",this.dom.onItemUpdateTimeTooltip.style.bottom=this.height+2+"px"),this.options.tooltipOnItemUpdateTime&&this.options.tooltipOnItemUpdateTime.template?i=this.options.tooltipOnItemUpdateTime.template.bind(this)(this.data):(i="start: "+c(this.data.start).format("MM/DD/YYYY hh:mm"),this.data.end&&(i+="<br> end: "+c(this.data.end).format("MM/DD/YYYY hh:mm"))),this.dom.onItemUpdateTimeTooltip.innerHTML=i}}},o.prototype._updateContents=function(t){var e,n,i,o,r=this.parent.itemSet.itemsData.get(this.id),a=this.dom.box||this.dom.point,s=a.getElementsByClassName("vis-item-visible-frame")[0];if(i=this.options.visibleFrameTemplate?(o=this.options.visibleFrameTemplate.bind(this))(r,a):"",s)if(i instanceof Object&&!(i instanceof Element))o(r,s);else if(this._contentToString(this.itemVisibleFrameContent)!==this._contentToString(i)){if(i instanceof Element)s.innerHTML="",s.appendChild(i);else if(null!=i)s.innerHTML=i;else if("background"!=this.data.type||void 0!==this.data.content)throw new Error('Property "content" missing in item '+this.id);this.itemVisibleFrameContent=i}if((e=this.options.template?(n=this.options.template.bind(this))(r,t,this.data):this.data.content)instanceof Object&&!(e instanceof Element))n(r,t);else if(this._contentToString(this.content)!==this._contentToString(e)){if(e instanceof Element)t.innerHTML="",t.appendChild(e);else if(null!=e)t.innerHTML=e;else if("background"!=this.data.type||void 0!==this.data.content)throw new Error('Property "content" missing in item '+this.id);this.content=e}},o.prototype._updateDataAttributes=function(t){if(this.options.dataAttributes&&0<this.options.dataAttributes.length){var e=[];if(Array.isArray(this.options.dataAttributes))e=this.options.dataAttributes;else{if("all"!=this.options.dataAttributes)return;e=(0,a.default)(this.data)}for(var n=0;n<e.length;n++){var i=e[n],o=this.data[i];null!=o?t.setAttribute("data-"+i,o):t.removeAttribute("data-"+i)}}},o.prototype._updateStyle=function(t){this.style&&(l.removeCssText(t,this.style),this.style=null),this.data.style&&(l.addCssText(t,this.data.style),this.style=this.data.style)},o.prototype._contentToString=function(t){return"string"==typeof t?t:t&&"outerHTML"in t?t.outerHTML:t},o.prototype._updateEditStatus=function(){this.options&&("boolean"==typeof this.options.editable?this.editable={updateTime:this.options.editable,updateGroup:this.options.editable,remove:this.options.editable}:"object"===(0,r.default)(this.options.editable)&&(this.editable={},l.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.options.editable))),this.options&&this.options.editable&&!0===this.options.editable.overrideItems||this.data&&("boolean"==typeof this.data.editable?this.editable={updateTime:this.data.editable,updateGroup:this.data.editable,remove:this.data.editable}:"object"===(0,r.default)(this.data.editable)&&(this.editable={},l.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.data.editable)))},o.prototype.getWidthLeft=function(){return 0},o.prototype.getWidthRight=function(){return 0},o.prototype.getTitle=function(){return this.data.title},t.exports=o},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},function(t,e,n){var i=n(51);t.exports=function(t){return Object(i(t))}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){function a(t){this.delay=null,this.max=1/0,this._queue=[],this._timeout=null,this._extended=null,this.setOptions(t)}a.prototype.setOptions=function(t){t&&void 0!==t.delay&&(this.delay=t.delay),t&&void 0!==t.max&&(this.max=t.max),this._flushIfNeeded()},a.extend=function(t,e){var n=new a(e);if(void 0!==t.flush)throw new Error("Target object already has a property flush");t.flush=function(){n.flush()};var i=[{name:"flush",original:void 0}];if(e&&e.replace)for(var o=0;o<e.replace.length;o++){var r=e.replace[o];i.push({name:r,original:t[r]}),n.replace(t,r)}return n._extended={object:t,methods:i},n},a.prototype.destroy=function(){if(this.flush(),this._extended){for(var t=this._extended.object,e=this._extended.methods,n=0;n<e.length;n++){var i=e[n];i.original?t[i.name]=i.original:delete t[i.name]}this._extended=null}},a.prototype.replace=function(t,e){var n=this,i=t[e];if(!i)throw new Error("Method "+e+" undefined");t[e]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];n.queue({args:t,fn:i,context:this})}},a.prototype.queue=function(t){"function"==typeof t?this._queue.push({fn:t}):this._queue.push(t),this._flushIfNeeded()},a.prototype._flushIfNeeded=function(){if(this._queue.length>this.max&&this.flush(),clearTimeout(this._timeout),0<this.queue.length&&"number"==typeof this.delay){var t=this;this._timeout=setTimeout(function(){t.flush()},this.delay)}},a.prototype.flush=function(){for(;0<this._queue.length;){var t=this._queue.shift();t.fn.apply(t.context||t.fn,t.args||[])}},t.exports=a},function(t,e){function n(t){if(t)return function(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}(t)}(t.exports=n).prototype.on=n.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},n.prototype.once=function(t,e){function n(){i.off(t,n),e.apply(this,arguments)}var i=this;return this._callbacks=this._callbacks||{},n.fn=e,this.on(t,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[t];if(!n)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var i,o=0;o<n.length;o++)if((i=n[o])===e||i.fn===e){n.splice(o,1);break}return this},n.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks[t];if(n)for(var i=0,o=(n=n.slice(0)).length;i<o;++i)n[i].apply(this,e);return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,n){function i(t,e){this.dom={foreground:null,lines:[],majorTexts:[],minorTexts:[],redundant:{lines:[],majorTexts:[],minorTexts:[]}},this.props={range:{start:0,end:0,minimumStep:0},lineTop:0},this.defaultOptions={orientation:{axis:"bottom"},showMinorLabels:!0,showMajorLabels:!0,maxMinorChars:7,format:M.FORMAT,moment:l,timeAxis:null},this.options=E.extend({},this.defaultOptions),this.body=t,this._create(),this.setOptions(e)}var o,r=n(6),a=(o=r)&&o.__esModule?o:{default:o},E=n(2),s=n(16),M=n(66),T=n(36),l=n(9);(i.prototype=new s).setOptions=function(t){t&&(E.selectiveExtend(["showMinorLabels","showMajorLabels","maxMinorChars","hiddenDates","timeAxis","moment","rtl"],this.options,t),E.selectiveDeepExtend(["format"],this.options,t),"orientation"in t&&("string"==typeof t.orientation?this.options.orientation.axis=t.orientation:"object"===(0,a.default)(t.orientation)&&"axis"in t.orientation&&(this.options.orientation.axis=t.orientation.axis)),"locale"in t&&("function"==typeof l.locale?l.locale(t.locale):l.lang(t.locale)))},i.prototype._create=function(){this.dom.foreground=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.foreground.className="vis-time-axis vis-foreground",this.dom.background.className="vis-time-axis vis-background"},i.prototype.destroy=function(){this.dom.foreground.parentNode&&this.dom.foreground.parentNode.removeChild(this.dom.foreground),this.dom.background.parentNode&&this.dom.background.parentNode.removeChild(this.dom.background),this.body=null},i.prototype.redraw=function(){var t=this.props,e=this.dom.foreground,n=this.dom.background,i="top"==this.options.orientation.axis?this.body.dom.top:this.body.dom.bottom,o=e.parentNode!==i;this._calculateCharSize();var r=this.options.showMinorLabels&&"none"!==this.options.orientation.axis,a=this.options.showMajorLabels&&"none"!==this.options.orientation.axis;t.minorLabelHeight=r?t.minorCharHeight:0,t.majorLabelHeight=a?t.majorCharHeight:0,t.height=t.minorLabelHeight+t.majorLabelHeight,t.width=e.offsetWidth,t.minorLineHeight=this.body.domProps.root.height-t.majorLabelHeight-("top"==this.options.orientation.axis?this.body.domProps.bottom.height:this.body.domProps.top.height),t.minorLineWidth=1,t.majorLineHeight=t.minorLineHeight+t.majorLabelHeight,t.majorLineWidth=1;var s=e.nextSibling,l=n.nextSibling;return e.parentNode&&e.parentNode.removeChild(e),n.parentNode&&n.parentNode.removeChild(n),e.style.height=this.props.height+"px",this._repaintLabels(),s?i.insertBefore(e,s):i.appendChild(e),l?this.body.dom.backgroundVertical.insertBefore(n,l):this.body.dom.backgroundVertical.appendChild(n),this._isResized()||o},i.prototype._repaintLabels=function(){var t=this.options.orientation.axis,e=E.convert(this.body.range.start,"Number"),n=E.convert(this.body.range.end,"Number"),i=this.body.util.toTime((this.props.minorCharWidth||10)*this.options.maxMinorChars).valueOf(),o=i-T.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this.body.range,i);o-=this.body.util.toTime(0).valueOf();var r=new M(new Date(e),new Date(n),o,this.body.hiddenDates,this.options);r.setMoment(this.options.moment),this.options.format&&r.setFormat(this.options.format),this.options.timeAxis&&r.setScale(this.options.timeAxis),this.step=r;var a=this.dom;a.redundant.lines=a.lines,a.redundant.majorTexts=a.majorTexts,a.redundant.minorTexts=a.minorTexts,a.lines=[],a.majorTexts=[],a.minorTexts=[];var s,l,c,d,u,h,p,f,m,g=0,v=void 0,y=0;for(r.start(),s=r.getCurrent(),c=this.body.util.toScreen(s);r.hasNext()&&y<1e3;){switch(y++,d=r.isMajor(),m=r.getClassName(),f=r.getLabelMinor(),l=c,r.next(),s=r.getCurrent(),r.isMajor(),h=g,g=(c=this.body.util.toScreen(s))-l,r.scale){case"week":u=!0;break;default:u=.4*h<=g}if(this.options.showMinorLabels&&u){var b=this._repaintMinorText(l,f,t,m);b.style.width=g+"px"}d&&this.options.showMajorLabels?(0<l&&(null==v&&(v=l),b=this._repaintMajorText(l,r.getLabelMajor(),t,m)),p=this._repaintMajorLine(l,g,t,m)):u?p=this._repaintMinorLine(l,g,t,m):p&&(p.style.width=parseInt(p.style.width)+g+"px")}if(1e3!==y||C||(console.warn("Something is wrong with the Timeline scale. Limited drawing of grid lines to 1000 lines."),C=!0),this.options.showMajorLabels){var _=this.body.util.toTime(0),x=r.getLabelMajor(_),w=x.length*(this.props.majorCharWidth||10)+10;(null==v||w<v)&&this._repaintMajorText(0,x,t,m)}E.forEach(this.dom.redundant,function(t){for(;t.length;){var e=t.pop();e&&e.parentNode&&e.parentNode.removeChild(e)}})},i.prototype._repaintMinorText=function(t,e,n,i){var o=this.dom.redundant.minorTexts.shift();if(!o){var r=document.createTextNode("");(o=document.createElement("div")).appendChild(r),this.dom.foreground.appendChild(o)}return this.dom.minorTexts.push(o),o.innerHTML=e,o.style.top="top"==n?this.props.majorLabelHeight+"px":"0",this.options.rtl?(o.style.left="",o.style.right=t+"px"):o.style.left=t+"px",o.className="vis-text vis-minor "+i,o},i.prototype._repaintMajorText=function(t,e,n,i){var o=this.dom.redundant.majorTexts.shift();if(!o){var r=document.createElement("div");(o=document.createElement("div")).appendChild(r),this.dom.foreground.appendChild(o)}return o.childNodes[0].innerHTML=e,o.className="vis-text vis-major "+i,o.style.top="top"==n?"0":this.props.minorLabelHeight+"px",this.options.rtl?(o.style.left="",o.style.right=t+"px"):o.style.left=t+"px",this.dom.majorTexts.push(o),o},i.prototype._repaintMinorLine=function(t,e,n,i){var o=this.dom.redundant.lines.shift();o||(o=document.createElement("div"),this.dom.background.appendChild(o)),this.dom.lines.push(o);var r=this.props;return o.style.top="top"==n?r.majorLabelHeight+"px":this.body.domProps.top.height+"px",o.style.height=r.minorLineHeight+"px",this.options.rtl?(o.style.left="",o.style.right=t-r.minorLineWidth/2+"px",o.className="vis-grid vis-vertical-rtl vis-minor "+i):(o.style.left=t-r.minorLineWidth/2+"px",o.className="vis-grid vis-vertical vis-minor "+i),o.style.width=e+"px",o},i.prototype._repaintMajorLine=function(t,e,n,i){var o=this.dom.redundant.lines.shift();o||(o=document.createElement("div"),this.dom.background.appendChild(o)),this.dom.lines.push(o);var r=this.props;return o.style.top="top"==n?"0":this.body.domProps.top.height+"px",this.options.rtl?(o.style.left="",o.style.right=t-r.majorLineWidth/2+"px",o.className="vis-grid vis-vertical-rtl vis-major "+i):(o.style.left=t-r.majorLineWidth/2+"px",o.className="vis-grid vis-vertical vis-major "+i),o.style.height=r.majorLineHeight+"px",o.style.width=e+"px",o};var C=!(i.prototype._calculateCharSize=function(){this.dom.measureCharMinor||(this.dom.measureCharMinor=document.createElement("DIV"),this.dom.measureCharMinor.className="vis-text vis-minor vis-measure",this.dom.measureCharMinor.style.position="absolute",this.dom.measureCharMinor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMinor)),this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight,this.props.minorCharWidth=this.dom.measureCharMinor.clientWidth,this.dom.measureCharMajor||(this.dom.measureCharMajor=document.createElement("DIV"),this.dom.measureCharMajor.className="vis-text vis-major vis-measure",this.dom.measureCharMajor.style.position="absolute",this.dom.measureCharMajor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMajor)),this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight,this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth});t.exports=i},function(t,e,n){function i(t,e){this.body=t,this.defaultOptions={moment:s,locales:l,locale:"en",id:void 0,title:void 0},this.options=r.extend({},this.defaultOptions),e&&e.time?this.customTime=e.time:this.customTime=new Date,this.eventParams={},this.setOptions(e),this._create()}var o=n(10),r=n(2),a=n(16),s=n(9),l=n(98);(i.prototype=new a).setOptions=function(t){t&&r.selectiveExtend(["moment","locale","locales","id"],this.options,t)},i.prototype._create=function(){function t(t){this.body.range._onMouseWheel(t)}var e=document.createElement("div");e["custom-time"]=this,e.className="vis-custom-time "+(this.options.id||""),e.style.position="absolute",e.style.top="0px",e.style.height="100%",this.bar=e;var n=document.createElement("div");n.style.position="relative",n.style.top="0px",n.style.left="-10px",n.style.height="100%",n.style.width="20px",n.addEventListener?(n.addEventListener("mousewheel",t.bind(this),!1),n.addEventListener("DOMMouseScroll",t.bind(this),!1)):n.attachEvent("onmousewheel",t.bind(this)),e.appendChild(n),this.hammer=new o(n),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:o.DIRECTION_HORIZONTAL})},i.prototype.destroy=function(){this.hide(),this.hammer.destroy(),this.hammer=null,this.body=null},i.prototype.redraw=function(){var t=this.body.dom.backgroundVertical;this.bar.parentNode!=t&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),t.appendChild(this.bar));var e=this.body.util.toScreen(this.customTime),n=this.options.locales[this.options.locale];n||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline/#Localization"),this.warned=!0),n=this.options.locales.en);var i=this.options.title;return void 0===i?i=(i=n.time+": "+this.options.moment(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss")).charAt(0).toUpperCase()+i.substring(1):"function"==typeof i&&(i=i.call(this.customTime)),this.bar.style.left=e+"px",this.bar.title=i,!1},i.prototype.hide=function(){this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar)},i.prototype.setCustomTime=function(t){this.customTime=r.convert(t,"Date"),this.redraw()},i.prototype.getCustomTime=function(){return new Date(this.customTime.valueOf())},i.prototype.setCustomTitle=function(t){this.options.title=t},i.prototype._onDragStart=function(t){this.eventParams.dragging=!0,this.eventParams.customTime=this.customTime,t.stopPropagation()},i.prototype._onDrag=function(t){if(this.eventParams.dragging){var e=this.body.util.toScreen(this.eventParams.customTime)+t.deltaX,n=this.body.util.toTime(e);this.setCustomTime(n),this.body.emitter.emit("timechange",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:t}),t.stopPropagation()}},i.prototype._onDragEnd=function(t){this.eventParams.dragging&&(this.body.emitter.emit("timechanged",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:t}),t.stopPropagation())},i.customTimeFromTarget=function(t){for(var e=t.target;e;){if(e.hasOwnProperty("custom-time"))return e["custom-time"];e=e.parentNode}return null},t.exports=i},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(n(0)),o=i(n(1)),l=n(2),c=n(117).default,r=n(48).default,d=n(193).default,u=n(200).default,h=n(201).default,p=n(202).default,f=n(203).default,m=n(204).default,g=n(205).default,v=n(206).default,y=n(207).default,b=n(208).default,_=n(209).default,x=n(210).default,w=n(211).default,E=n(212).default,M=n(213).default,T=n(15).printStyle,a=function(){function a(t,e,n,i,o,r){(0,s.default)(this,a),this.options=l.bridgeObject(o),this.globalOptions=o,this.defaultOptions=r,this.body=e,this.edges=[],this.id=void 0,this.imagelist=n,this.grouplist=i,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new c(this.body,this.options,!1),this.setOptions(t)}return(0,o.default)(a,[{key:"attachEdge",value:function(t){-1===this.edges.indexOf(t)&&this.edges.push(t)}},{key:"detachEdge",value:function(t){var e=this.edges.indexOf(t);-1!=e&&this.edges.splice(e,1)}},{key:"setOptions",value:function(t){var e=this.options.shape;if(t){if(void 0!==t.id&&(this.id=t.id),void 0===this.id)throw new Error("Node must have an id");a.checkMass(t,this.id),void 0!==t.x&&(null===t.x?(this.x=void 0,this.predefinedPosition=!1):(this.x=parseInt(t.x),this.predefinedPosition=!0)),void 0!==t.y&&(null===t.y?(this.y=void 0,this.predefinedPosition=!1):(this.y=parseInt(t.y),this.predefinedPosition=!0)),void 0!==t.size&&(this.baseSize=t.size),void 0!==t.value&&(t.value=parseFloat(t.value)),a.parseOptions(this.options,t,!0,this.globalOptions,this.grouplist);var n=[t,this.options,this.defaultOptions];return this.chooser=r.choosify("node",n),this._load_images(),this.updateLabelModule(t),this.updateShape(e),void 0!==t.hidden||void 0!==t.physics}}},{key:"_load_images",value:function(){if("circularImage"===this.options.shape||"image"===this.options.shape){if(void 0===this.options.image)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(void 0===this.imagelist)throw new Error("Internal Error: No images provided");if("string"==typeof this.options.image)this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(void 0===this.options.image.unselected)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),void 0!==this.options.image.selected?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}},{key:"getFormattingValues",value:function(){var t={color:this.options.color.background,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};return this.selected||this.hover?!0===this.chooser?this.selected?(t.borderWidth*=2,t.color=this.options.color.highlight.background,t.borderColor=this.options.color.highlight.border,t.shadow=this.options.shadow.enabled):this.hover&&(t.color=this.options.color.hover.background,t.borderColor=this.options.color.hover.border,t.shadow=this.options.shadow.enabled):"function"==typeof this.chooser&&(this.chooser(t,this.options.id,this.selected,this.hover),!1===t.shadow&&(t.shadowColor===this.options.shadow.color&&t.shadowSize===this.options.shadow.size&&t.shadowX===this.options.shadow.x&&t.shadowY===this.options.shadow.y||(t.shadow=!0))):t.shadow=this.options.shadow.enabled,t}},{key:"updateLabelModule",value:function(t){void 0!==this.options.label&&null!==this.options.label||(this.options.label=""),a.updateGroupOptions(this.options,t,this.grouplist);var e=this.grouplist.get(this.options.group,!1),n=[t,this.options,e,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,n),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(t){if(t===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new d(this.options,this.body,this.labelModule);break;case"circle":this.shape=new u(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new h(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"database":this.shape=new p(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new f(this.options,this.body,this.labelModule);break;case"dot":this.shape=new m(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new g(this.options,this.body,this.labelModule);break;case"icon":this.shape=new v(this.options,this.body,this.labelModule);break;case"image":this.shape=new y(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new b(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new _(this.options,this.body,this.labelModule);break;case"star":this.shape=new x(this.options,this.body,this.labelModule);break;case"text":this.shape=new w(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new E(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new M(this.options,this.body,this.labelModule);break;default:this.shape=new g(this.options,this.body,this.labelModule)}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(t,e){return this.shape.distanceToBorder(t,e)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"getLabelSize",value:function(){return this.labelModule.size()}},{key:"setValueRange",value:function(t,e,n){if(void 0!==this.options.value){var i=this.options.scaling.customScalingFunction(t,e,n,this.options.value),o=this.options.scaling.max-this.options.scaling.min;if(!0===this.options.scaling.label.enabled){var r=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*r}this.options.size=this.options.scaling.min+i*o}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(t){var e=this.getFormattingValues();this.shape.draw(t,this.x,this.y,this.selected,this.hover,e)}},{key:"updateBoundingBox",value:function(t){this.shape.updateBoundingBox(this.x,this.y,t)}},{key:"resize",value:function(t){var e=this.getFormattingValues();this.shape.resize(t,this.selected,this.hover,e)}},{key:"getItemsOnPoint",value:function(t){var e=[];return this.labelModule.visible()&&r.pointInRect(this.labelModule.getSize(),t)&&e.push({nodeId:this.id,labelId:0}),r.pointInRect(this.shape.boundingBox,t)&&e.push({nodeId:this.id}),e}},{key:"isOverlappingWith",value:function(t){return this.shape.left<t.right&&this.shape.left+this.shape.width>t.left&&this.shape.top<t.bottom&&this.shape.top+this.shape.height>t.top}},{key:"isBoundingBoxOverlappingWith",value:function(t){return this.shape.boundingBox.left<t.right&&this.shape.boundingBox.right>t.left&&this.shape.boundingBox.top<t.bottom&&this.shape.boundingBox.bottom>t.top}}],[{key:"updateGroupOptions",value:function(t,e,n){if(void 0!==n){var i=t.group;if(void 0!==e&&void 0!==e.group&&i!==e.group)throw new Error("updateGroupOptions: group values in options don't match.");if("number"==typeof i||"string"==typeof i&&""!=i){var o=n.get(i);l.selectiveNotDeepExtend(["font"],t,o),t.color=l.parseColor(t.color)}}}},{key:"parseOptions",value:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},o=arguments[4];if(l.selectiveNotDeepExtend(["color","fixed","shadow"],t,e,n),a.checkMass(e),l.mergeOptions(t,e,"shadow",i),void 0!==e.color&&null!==e.color){var r=l.parseColor(e.color);l.fillIfDefined(t.color,r)}else!0===n&&null===e.color&&(t.color=l.bridgeObject(i.color));void 0!==e.fixed&&null!==e.fixed&&("boolean"==typeof e.fixed?(t.fixed.x=e.fixed,t.fixed.y=e.fixed):(void 0!==e.fixed.x&&"boolean"==typeof e.fixed.x&&(t.fixed.x=e.fixed.x),void 0!==e.fixed.y&&"boolean"==typeof e.fixed.y&&(t.fixed.y=e.fixed.y))),!0===n&&null===e.font&&(t.font=l.bridgeObject(i.font)),a.updateGroupOptions(t,e,o),void 0!==e.scaling&&l.mergeOptions(t.scaling,e.scaling,"label",i.scaling)}},{key:"checkMass",value:function(t,e){if(void 0!==t.mass&&t.mass<=0){var n="";void 0!==e&&(n=" in node id: "+e),console.log("%cNegative or zero mass disallowed"+n+", setting mass to 1.",T),t.mass=1}}}]),a}();e.default=a},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=i(n(6)),o=i(n(0)),r=i(n(1)),s=n(2),l=function(){function t(){(0,o.default)(this,t)}return(0,r.default)(t,null,[{key:"choosify",value:function(t,e){var n=["node","edge","label"],i=!0,o=s.topMost(e,"chosen");if("boolean"==typeof o)i=o;else if("object"===(void 0===o?"undefined":(0,a.default)(o))){if(-1===n.indexOf(t))throw new Error("choosify: subOption '"+t+"' should be one of '"+n.join("', '")+"'");var r=s.topMost(e,["chosen",t]);"boolean"!=typeof r&&"function"!=typeof r||(i=r)}return i}},{key:"pointInRect",value:function(t,e,n){if(t.width<=0||t.height<=0)return!1;if(void 0!==n){var i={x:e.x-n.x,y:e.y-n.y};if(0!==n.angle){var o=-n.angle;e={x:Math.cos(o)*i.x-Math.sin(o)*i.y,y:Math.sin(o)*i.x+Math.cos(o)*i.y}}else e=i}var r=t.x+t.width,a=t.y+t.width;return t.left<e.x&&r>e.x&&t.top<e.y&&a>e.y}},{key:"isValidLabel",value:function(t){return"string"==typeof t&&""!==t}}]),t}();e.default=l},function(t,e,n){n(125);for(var i=n(18),o=n(26),r=n(31),a=n(13)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var c=s[l],d=i[c],u=d&&d.prototype;u&&!u[a]&&o(u,a,c),r[c]=r.Array}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){t.exports=!0},function(t,e,n){var o=n(32);t.exports=function(t,e){if(!o(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!o(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!o(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!o(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,i){var o=i(27),r=i(130),a=i(58),s=i(56)("IE_PROTO"),l=function(){},c=function(){var t,e=i(82)("iframe"),n=a.length;for(e.style.display="none",i(134).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;n--;)delete c.prototype[a[n]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(l.prototype=o(t),n=new l,l.prototype=null,n[s]=t):n=c(),void 0===e?n:r(n,e)}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?i:n)(t)}},function(t,e,n){var i=n(57)("keys"),o=n(40);t.exports=function(t){return i[t]||(i[t]=o(t))}},function(t,e,n){var i=n(18),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var i=n(20).f,o=n(22),r=n(13)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,r)&&i(t,r,{configurable:!0,value:e})}},function(t,e,n){var i=n(135)(!0);n(79)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){e.f=n(13)},function(t,e,n){var i=n(18),o=n(7),r=n(52),a=n(61),s=n(20).f;t.exports=function(t){var e=o.Symbol||(o.Symbol=r?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var n=s().hours(0).minutes(0).seconds(0).milliseconds(0),i=n.clone().add(-3,"days").valueOf(),o=n.clone().add(3,"days").valueOf();this.millisecondsPerPixelCache=void 0,this.end=void 0===e?(this.start=i,o):(this.start=e.start||i,e.end||o),this.rolling=!1,this.body=t,this.deltaDifference=0,this.scaleOffset=0,this.startToFront=!1,this.endToFront=!0,this.defaultOptions={rtl:!1,start:null,end:null,moment:s,direction:"horizontal",moveable:!0,zoomable:!0,min:null,max:null,zoomMin:10,zoomMax:31536e10,rollingMode:{follow:!1,offset:.5}},this.options=x.extend({},this.defaultOptions),this.props={touch:{}},this.animationTimer=null,this.body.emitter.on("panstart",this._onDragStart.bind(this)),this.body.emitter.on("panmove",this._onDrag.bind(this)),this.body.emitter.on("panend",this._onDragEnd.bind(this)),this.body.emitter.on("mousewheel",this._onMouseWheel.bind(this)),this.body.emitter.on("touch",this._onTouch.bind(this)),this.body.emitter.on("pinch",this._onPinch.bind(this)),this.body.dom.rollingModeBtn.addEventListener("click",this.startRolling.bind(this)),this.setOptions(e)}function h(t){if("horizontal"!=t&&"vertical"!=t)throw new TypeError('Unknown direction "'+t+'". Choose "horizontal" or "vertical".')}var r=i(n(8)),a=i(n(19)),_=i(n(6)),x=n(2),s=n(9),l=n(16),w=n(36);(o.prototype=new l).setOptions=function(t){if(t){x.selectiveExtend(["animation","direction","min","max","zoomMin","zoomMax","moveable","zoomable","moment","activate","hiddenDates","zoomKey","rtl","showCurrentTime","rollingMode","horizontalScroll"],this.options,t),t.rollingMode&&t.rollingMode.follow&&this.startRolling(),("start"in t||"end"in t)&&this.setRange(t.start,t.end)}},o.prototype.startRolling=function(){var r=this;!function t(){r.stopRolling(),r.rolling=!0;var e=r.end-r.start,n=x.convert(new Date,"Date").valueOf(),i=n-e*r.options.rollingMode.offset,o=n+e*(1-r.options.rollingMode.offset);r.setRange(i,o,{animation:!1}),(e=1/r.conversion(r.body.domProps.center.width).scale/10)<30&&(e=30),1e3<e&&(e=1e3),r.body.dom.rollingModeBtn.style.visibility="hidden",r.currentTimeTimer=setTimeout(t,e)}()},o.prototype.stopRolling=function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),this.rolling=!1,this.body.dom.rollingModeBtn.style.visibility="visible")},o.prototype.setRange=function(t,e,s,l,c){s||(s={}),!0!==s.byUser&&(s.byUser=!1);var d=this,u=null!=t?x.convert(t,"Date").valueOf():null,h=null!=e?x.convert(e,"Date").valueOf():null;if(this._cancelAnimation(),this.millisecondsPerPixelCache=void 0,s.animation){var p=this.start,f=this.end,m="object"===(0,_.default)(s.animation)&&"duration"in s.animation?s.animation.duration:500,n="object"===(0,_.default)(s.animation)&&"easingFunction"in s.animation?s.animation.easingFunction:"easeInOutQuad",g=x.easingFunctions[n];if(!g)throw new Error("Unknown easing function "+(0,a.default)(n)+". Choose from: "+(0,r.default)(x.easingFunctions).join(", "));var v=(new Date).valueOf(),y=!1;return function t(){if(!d.props.touch.dragging){var e=(new Date).valueOf()-v,n=g(e/m),i=m<e,o=i||null===u?u:p+(u-p)*n,r=i||null===h?h:f+(h-f)*n;b=d._applyRange(o,r),w.updateHiddenDates(d.options.moment,d.body,d.options.hiddenDates),y=y||b;var a={start:new Date(d.start),end:new Date(d.end),byUser:s.byUser,event:s.event};if(c&&c(n,b,i),b&&d.body.emitter.emit("rangechange",a),i){if(y&&(d.body.emitter.emit("rangechanged",a),l))return l()}else d.animationTimer=setTimeout(t,20)}}()}var b=this._applyRange(u,h);if(w.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates),b){var i={start:new Date(this.start),end:new Date(this.end),byUser:s.byUser,event:s.event};if(this.body.emitter.emit("rangechange",i),clearTimeout(d.timeoutID),d.timeoutID=setTimeout(function(){d.body.emitter.emit("rangechanged",i)},200),l)return l()}},o.prototype.getMillisecondsPerPixel=function(){return void 0===this.millisecondsPerPixelCache&&(this.millisecondsPerPixelCache=(this.end-this.start)/this.body.dom.center.clientWidth),this.millisecondsPerPixelCache},o.prototype._cancelAnimation=function(){this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=null)},o.prototype._applyRange=function(t,e){var n,i=null!=t?x.convert(t,"Date").valueOf():this.start,o=null!=e?x.convert(e,"Date").valueOf():this.end,r=null!=this.options.max?x.convert(this.options.max,"Date").valueOf():null,a=null!=this.options.min?x.convert(this.options.min,"Date").valueOf():null;if(isNaN(i)||null===i)throw new Error('Invalid start "'+t+'"');if(isNaN(o)||null===o)throw new Error('Invalid end "'+e+'"');if(o<i&&(o=i),null!==a&&i<a&&(i+=n=a-i,o+=n,null!=r&&r<o&&(o=r)),null!==r&&r<o&&(i-=n=o-r,o-=n,null!=a&&i<a&&(i=a)),null!==this.options.zoomMin){var s=parseFloat(this.options.zoomMin);s<0&&(s=0),o-i<s&&(this.end-this.start===s&&i>=this.start-.5&&o<=this.end?(i=this.start,o=this.end):(i-=(n=s-(o-i))/2,o+=n/2))}if(null!==this.options.zoomMax){var l=parseFloat(this.options.zoomMax);l<0&&(l=0),l<o-i&&(this.end-this.start===l&&i<this.start&&o>this.end?(i=this.start,o=this.end):(i+=(n=o-i-l)/2,o-=n/2))}var c=this.start!=i||this.end!=o;return i>=this.start&&i<=this.end||o>=this.start&&o<=this.end||this.start>=i&&this.start<=o||this.end>=i&&this.end<=o||this.body.emitter.emit("checkRangedItems"),this.start=i,this.end=o,c},o.prototype.getRange=function(){return{start:this.start,end:this.end}},o.prototype.conversion=function(t,e){return o.conversion(this.start,this.end,t,e)},o.conversion=function(t,e,n,i){return void 0===i&&(i=0),0!=n&&e-t!=0?{offset:t,scale:n/(e-t-i)}:{offset:0,scale:1}},o.prototype._onDragStart=function(t){this.deltaDifference=0,this.previousDelta=0,this.options.moveable&&this._isInsideRange(t)&&this.props.touch.allowDragging&&(this.stopRolling(),this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.dragging=!0,this.body.dom.root&&(this.body.dom.root.style.cursor="move"))},o.prototype._onDrag=function(t){if(t&&this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging){var e=this.options.direction;h(e);var n="horizontal"==e?t.deltaX:t.deltaY;n-=this.deltaDifference;var i=this.props.touch.end-this.props.touch.start;i-=w.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end);var o,r="horizontal"==e?this.body.domProps.center.width:this.body.domProps.center.height;o=this.options.rtl?n/r*i:-n/r*i;var a=this.props.touch.start+o,s=this.props.touch.end+o,l=w.snapAwayFromHidden(this.body.hiddenDates,a,this.previousDelta-n,!0),c=w.snapAwayFromHidden(this.body.hiddenDates,s,this.previousDelta-n,!0);if(l!=a||c!=s)return this.deltaDifference+=n,this.props.touch.start=l,this.props.touch.end=c,void this._onDrag(t);this.previousDelta=n,this._applyRange(a,s);var d=new Date(this.start),u=new Date(this.end);this.body.emitter.emit("rangechange",{start:d,end:u,byUser:!0,event:t}),this.body.emitter.emit("panmove")}},o.prototype._onDragEnd=function(t){this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.dragging=!1,this.body.dom.root&&(this.body.dom.root.style.cursor="auto"),this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end),byUser:!0,event:t}))},o.prototype._onMouseWheel=function(t){var e=0;if(t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),!(this.options.zoomKey&&!t[this.options.zoomKey]&&this.options.zoomable||!this.options.zoomable&&this.options.moveable)&&this.options.zoomable&&this.options.moveable&&this._isInsideRange(t)&&e){var n,i;if(n=e<0?1-e/5:1/(1+e/5),this.rolling)i=this.start+(this.end-this.start)*this.options.rollingMode.offset;else{var o=this.getPointer({x:t.clientX,y:t.clientY},this.body.dom.center);i=this._pointerToDate(o)}this.zoom(n,i,e,t),t.preventDefault()}},o.prototype._onTouch=function(t){this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.allowDragging=!0,this.props.touch.center=null,this.scaleOffset=0,this.deltaDifference=0,x.preventDefault(t)},o.prototype._onPinch=function(t){if(this.options.zoomable&&this.options.moveable){x.preventDefault(t),this.props.touch.allowDragging=!1,this.props.touch.center||(this.props.touch.center=this.getPointer(t.center,this.body.dom.center)),this.stopRolling();var e=1/(t.scale+this.scaleOffset),n=this._pointerToDate(this.props.touch.center),i=w.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),o=w.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,n),r=i-o,a=n-o+(this.props.touch.start-(n-o))*e,s=n+r+(this.props.touch.end-(n+r))*e;this.startToFront=1-e<=0,this.endToFront=e-1<=0;var l=w.snapAwayFromHidden(this.body.hiddenDates,a,1-e,!0),c=w.snapAwayFromHidden(this.body.hiddenDates,s,e-1,!0);l==a&&c==s||(this.props.touch.start=l,this.props.touch.end=c,this.scaleOffset=1-t.scale,a=l,s=c);var d={animation:!1,byUser:!0,event:t};this.setRange(a,s,d),this.startToFront=!1,this.endToFront=!0}},o.prototype._isInsideRange=function(t){var e,n=t.center?t.center.x:t.clientX;e=this.options.rtl?n-x.getAbsoluteLeft(this.body.dom.centerContainer):x.getAbsoluteRight(this.body.dom.centerContainer)-n;var i=this.body.util.toTime(e);return i>=this.start&&i<=this.end},o.prototype._pointerToDate=function(t){var e,n=this.options.direction;if(h(n),"horizontal"==n)return this.body.util.toTime(t.x).valueOf();var i=this.body.domProps.center.height;return e=this.conversion(i),t.y/e.scale+e.offset},o.prototype.getPointer=function(t,e){return this.options.rtl?{x:x.getAbsoluteRight(e)-t.x,y:t.y-x.getAbsoluteTop(e)}:{x:t.x-x.getAbsoluteLeft(e),y:t.y-x.getAbsoluteTop(e)}},o.prototype.zoom=function(t,e,n,i){null==e&&(e=(this.start+this.end)/2);var o=w.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),r=w.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,e),a=o-r,s=e-r+(this.start-(e-r))*t,l=e+a+(this.end-(e+a))*t;this.startToFront=!(0<n),this.endToFront=!(0<-n);var c=w.snapAwayFromHidden(this.body.hiddenDates,s,n,!0),d=w.snapAwayFromHidden(this.body.hiddenDates,l,-n,!0);c==s&&d==l||(s=c,l=d);var u={animation:!1,byUser:!0,event:i};this.setRange(s,l,u),this.startToFront=!1,this.endToFront=!0},o.prototype.move=function(t){var e=this.end-this.start,n=this.start+e*t,i=this.end+e*t;this.start=n,this.end=i},o.prototype.moveTo=function(t){var e=(this.start+this.end)/2-t,n=this.start-e,i=this.end-e;this.setRange(n,i,{animation:!1,byUser:!0,event:null})},t.exports=o},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}function o(){}var r=i(n(19)),a=i(n(6)),s=n(44),u=n(10),l=n(37),h=n(2),c=n(45),d=n(97),p=n(36),f=n(46);s(o.prototype),o.prototype._create=function(t){function e(t){this.isActive()&&this.emit("mousewheel",t);var e=0,n=0;if("detail"in t&&(n=-1*t.detail),"wheelDelta"in t&&(n=t.wheelDelta),"wheelDeltaY"in t&&(n=t.wheelDeltaY),"wheelDeltaX"in t&&(e=-1*t.wheelDeltaX),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=-1*n,n=0),"deltaY"in t&&(n=-1*t.deltaY),"deltaX"in t&&(e=t.deltaX),this.options.zoomKey&&!t[this.options.zoomKey])if(t.preventDefault(),this.options.verticalScroll&&Math.abs(n)>=Math.abs(e)){var i=this.props.scrollTop+n;this.isActive()&&(this._setScrollTop(i),this._redraw(),this.emit("scroll",t))}else if(this.options.horizontalScroll){var o=(Math.abs(e)>=Math.abs(n)?e:n)/120*(this.range.end-this.range.start)/20,r=this.range.start+o,a=this.range.end+o,s={animation:!1,byUser:!0,event:t};this.range.setRange(r,a,s)}}function n(t){if(i.options.verticalScroll&&(t.preventDefault(),i.isActive())){var e=-t.target.scrollTop;i._setScrollTop(e),i._redraw(),i.emit("scrollSide",t)}}this.dom={},this.dom.container=t,this.dom.root=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.backgroundVertical=document.createElement("div"),this.dom.backgroundHorizontal=document.createElement("div"),this.dom.centerContainer=document.createElement("div"),this.dom.leftContainer=document.createElement("div"),this.dom.rightContainer=document.createElement("div"),this.dom.center=document.createElement("div"),this.dom.left=document.createElement("div"),this.dom.right=document.createElement("div"),this.dom.top=document.createElement("div"),this.dom.bottom=document.createElement("div"),this.dom.shadowTop=document.createElement("div"),this.dom.shadowBottom=document.createElement("div"),this.dom.shadowTopLeft=document.createElement("div"),this.dom.shadowBottomLeft=document.createElement("div"),this.dom.shadowTopRight=document.createElement("div"),this.dom.shadowBottomRight=document.createElement("div"),this.dom.rollingModeBtn=document.createElement("div"),this.dom.root.className="vis-timeline",this.dom.background.className="vis-panel vis-background",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical",this.dom.backgroundHorizontal.className="vis-panel vis-background vis-horizontal",this.dom.centerContainer.className="vis-panel vis-center",this.dom.leftContainer.className="vis-panel vis-left",this.dom.rightContainer.className="vis-panel vis-right",this.dom.top.className="vis-panel vis-top",this.dom.bottom.className="vis-panel vis-bottom",this.dom.left.className="vis-content",this.dom.center.className="vis-content",this.dom.right.className="vis-content",this.dom.shadowTop.className="vis-shadow vis-top",this.dom.shadowBottom.className="vis-shadow vis-bottom",this.dom.shadowTopLeft.className="vis-shadow vis-top",this.dom.shadowBottomLeft.className="vis-shadow vis-bottom",this.dom.shadowTopRight.className="vis-shadow vis-top",this.dom.shadowBottomRight.className="vis-shadow vis-bottom",this.dom.rollingModeBtn.className="vis-rolling-mode-btn",this.dom.root.appendChild(this.dom.background),this.dom.root.appendChild(this.dom.backgroundVertical),this.dom.root.appendChild(this.dom.backgroundHorizontal),this.dom.root.appendChild(this.dom.centerContainer),this.dom.root.appendChild(this.dom.leftContainer),this.dom.root.appendChild(this.dom.rightContainer),this.dom.root.appendChild(this.dom.top),this.dom.root.appendChild(this.dom.bottom),this.dom.root.appendChild(this.dom.bottom),this.dom.root.appendChild(this.dom.rollingModeBtn),this.dom.centerContainer.appendChild(this.dom.center),this.dom.leftContainer.appendChild(this.dom.left),this.dom.rightContainer.appendChild(this.dom.right),this.dom.centerContainer.appendChild(this.dom.shadowTop),this.dom.centerContainer.appendChild(this.dom.shadowBottom),this.dom.leftContainer.appendChild(this.dom.shadowTopLeft),this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft),this.dom.rightContainer.appendChild(this.dom.shadowTopRight),this.dom.rightContainer.appendChild(this.dom.shadowBottomRight),this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0},this.on("rangechange",function(){!0===this.initialDrawDone&&this._redraw()}.bind(this)),this.on("rangechanged",function(){this.initialRangeChangeDone||(this.initialRangeChangeDone=!0)}.bind(this)),this.on("touch",this._onTouch.bind(this)),this.on("panmove",this._onDrag.bind(this));var i=this;this._origRedraw=this._redraw.bind(this),this._redraw=h.throttle(this._origRedraw),this.on("_change",function(t){i.itemSet&&i.itemSet.initialItemSetDrawn&&t&&1==t.queue?i._redraw():i._origRedraw()}),this.hammer=new u(this.dom.root);var o=this.hammer.get("pinch").set({enable:!0});l.disablePreventDefaultVertically(o),this.hammer.get("pan").set({threshold:5,direction:u.DIRECTION_HORIZONTAL}),this.listeners={},["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach(function(e){var t=function(t){i.isActive()&&i.emit(e,t)};i.hammer.on(e,t),i.listeners[e]=t}),l.onTouch(this.hammer,function(t){i.emit("touch",t)}.bind(this)),l.onRelease(this.hammer,function(t){i.emit("release",t)}.bind(this)),this.dom.centerContainer.addEventListener?(this.dom.centerContainer.addEventListener("mousewheel",e.bind(this),!1),this.dom.centerContainer.addEventListener("DOMMouseScroll",e.bind(this),!1)):this.dom.centerContainer.attachEvent("onmousewheel",e.bind(this)),this.dom.left.parentNode.addEventListener("scroll",n.bind(this)),this.dom.right.parentNode.addEventListener("scroll",n.bind(this));var r=!1;if(this.dom.center.addEventListener("dragover",function(t){if(t.preventDefault&&t.preventDefault(),!(-1<!t.target.className.indexOf("vis")||r))return t.dataTransfer.dropEffect="move",!(r=!0)}.bind(this),!1),this.dom.center.addEventListener("drop",function(t){t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation();try{var e=JSON.parse(t.dataTransfer.getData("text"));if(!e||!e.content)return}catch(t){return!1}return r=!1,t.center={x:t.clientX,y:t.clientY},"item"!==e.target?i.itemSet._onAddItem(t):i.itemSet._onDropObjectOnItem(t),i.emit("drop",i.getEventProperties(t)),!1}.bind(this),!1),this.customTimes=[],this.touch={},this.redrawCount=0,this.initialDrawDone=!1,this.initialRangeChangeDone=!1,!t)throw new Error("No container provided");t.appendChild(this.dom.root)},o.prototype.setOptions=function(e){if(e){if(h.selectiveExtend(["width","height","minHeight","maxHeight","autoResize","start","end","clickToUse","dataAttributes","hiddenDates","locale","locales","moment","rtl","zoomKey","horizontalScroll","verticalScroll"],this.options,e),this.dom.rollingModeBtn.style.visibility="hidden",this.options.rtl&&(this.dom.container.style.direction="rtl",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical-rtl"),this.options.verticalScroll&&(this.options.rtl?this.dom.rightContainer.className="vis-panel vis-right vis-vertical-scroll":this.dom.leftContainer.className="vis-panel vis-left vis-vertical-scroll"),"object"!==(0,a.default)(this.options.orientation)&&(this.options.orientation={item:void 0,axis:void 0}),"orientation"in e&&("string"==typeof e.orientation?this.options.orientation={item:e.orientation,axis:e.orientation}:"object"===(0,a.default)(e.orientation)&&("item"in e.orientation&&(this.options.orientation.item=e.orientation.item),"axis"in e.orientation&&(this.options.orientation.axis=e.orientation.axis))),"both"===this.options.orientation.axis){if(!this.timeAxis2){var n=this.timeAxis2=new c(this.body);n.setOptions=function(t){var e=t?h.extend({},t):{};e.orientation="top",c.prototype.setOptions.call(n,e)},this.components.push(n)}}else if(this.timeAxis2){var t=this.components.indexOf(this.timeAxis2);-1!==t&&this.components.splice(t,1),this.timeAxis2.destroy(),this.timeAxis2=null}if("function"==typeof e.drawPoints&&(e.drawPoints={onRender:e.drawPoints}),"hiddenDates"in this.options&&p.convertHiddenOptions(this.options.moment,this.body,this.options.hiddenDates),"clickToUse"in e&&(e.clickToUse?this.activator||(this.activator=new d(this.dom.root)):this.activator&&(this.activator.destroy(),delete this.activator)),"showCustomTime"in e)throw new Error("Option `showCustomTime` is deprecated. Create a custom time bar via timeline.addCustomTime(time [, id])");this._initAutoResize()}if(this.components.forEach(function(t){return t.setOptions(e)}),"configure"in e){this.configurator||(this.configurator=this._createConfigurator()),this.configurator.setOptions(e.configure);var i=h.deepExtend({},this.options);this.components.forEach(function(t){h.deepExtend(i,t.options)}),this.configurator.setModuleOptions({global:i})}this._redraw()},o.prototype.isActive=function(){return!this.activator||this.activator.active},o.prototype.destroy=function(){for(var t in this.setItems(null),this.setGroups(null),this.off(),this._stopAutoResize(),this.dom.root.parentNode&&this.dom.root.parentNode.removeChild(this.dom.root),this.dom=null,this.activator&&(this.activator.destroy(),delete this.activator),this.listeners)this.listeners.hasOwnProperty(t)&&delete this.listeners[t];this.listeners=null,this.hammer=null,this.components.forEach(function(t){return t.destroy()}),this.body=null},o.prototype.setCustomTime=function(t,e){var n=this.customTimes.filter(function(t){return e===t.options.id});if(0===n.length)throw new Error("No custom time bar found with id "+(0,r.default)(e));0<n.length&&n[0].setCustomTime(t)},o.prototype.getCustomTime=function(e){var t=this.customTimes.filter(function(t){return t.options.id===e});if(0===t.length)throw new Error("No custom time bar found with id "+(0,r.default)(e));return t[0].getCustomTime()},o.prototype.setCustomTimeTitle=function(t,e){var n=this.customTimes.filter(function(t){return t.options.id===e});if(0===n.length)throw new Error("No custom time bar found with id "+(0,r.default)(e));if(0<n.length)return n[0].setCustomTitle(t)},o.prototype.getEventProperties=function(t){return{event:t}},o.prototype.addCustomTime=function(t,e){var n=void 0!==t?h.convert(t,"Date").valueOf():new Date;if(this.customTimes.some(function(t){return t.options.id===e}))throw new Error("A custom time with id "+(0,r.default)(e)+" already exists");var i=new f(this.body,h.extend({},this.options,{time:n,id:e}));return this.customTimes.push(i),this.components.push(i),this._redraw(),e},o.prototype.removeCustomTime=function(e){var t=this.customTimes.filter(function(t){return t.options.id===e});if(0===t.length)throw new Error("No custom time bar found with id "+(0,r.default)(e));t.forEach(function(t){this.customTimes.splice(this.customTimes.indexOf(t),1),this.components.splice(this.components.indexOf(t),1),t.destroy()}.bind(this))},o.prototype.getVisibleItems=function(){return this.itemSet&&this.itemSet.getVisibleItems()||[]},o.prototype.fit=function(t,e){var n=this.getDataRange();if(null!==n.min||null!==n.max){var i=n.max-n.min,o=new Date(n.min.valueOf()-.01*i),r=new Date(n.max.valueOf()+.01*i),a=!t||void 0===t.animation||t.animation;this.range.setRange(o,r,{animation:a},e)}},o.prototype.getDataRange=function(){throw new Error("Cannot invoke abstract method getDataRange")},o.prototype.setWindow=function(t,e,n,i){var o,r;"function"==typeof n&&(i=n,n={}),1==arguments.length?(o=void 0===(r=t).animation||r.animation,this.range.setRange(r.start,r.end,{animation:o})):2==arguments.length&&"function"==typeof e?(i=e,o=void 0===(r=t).animation||r.animation,this.range.setRange(r.start,r.end,{animation:o},i)):(o=!n||void 0===n.animation||n.animation,this.range.setRange(t,e,{animation:o},i))},o.prototype.moveTo=function(t,e,n){"function"==typeof e&&(n=e,e={});var i=this.range.end-this.range.start,o=h.convert(t,"Date").valueOf(),r=o-i/2,a=o+i/2,s=!e||void 0===e.animation||e.animation;this.range.setRange(r,a,{animation:s},n)},o.prototype.getWindow=function(){var t=this.range.getRange();return{start:new Date(t.start),end:new Date(t.end)}},o.prototype.zoomIn=function(t,e,n){if(!(!t||t<0||1<t)){"function"==typeof e&&(n=e,e={});var i=this.getWindow(),o=i.start.valueOf(),r=i.end.valueOf(),a=r-o,s=(a-a/(1+t))/2,l=o+s,c=r-s;this.setWindow(l,c,e,n)}},o.prototype.zoomOut=function(t,e,n){if(!(!t||t<0||1<t)){"function"==typeof e&&(n=e,e={});var i=this.getWindow(),o=i.start.valueOf(),r=i.end.valueOf(),a=r-o,s=o-a*t/2,l=r+a*t/2;this.setWindow(s,l,e,n)}},o.prototype.redraw=function(){this._redraw()},o.prototype._redraw=function(){this.redrawCount++;var e=!1,t=this.options,n=this.props,i=this.dom;if(i&&i.container&&0!=i.root.offsetWidth){p.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates),"top"==t.orientation?(h.addClassName(i.root,"vis-top"),h.removeClassName(i.root,"vis-bottom")):(h.removeClassName(i.root,"vis-top"),h.addClassName(i.root,"vis-bottom")),i.root.style.maxHeight=h.option.asSize(t.maxHeight,""),i.root.style.minHeight=h.option.asSize(t.minHeight,""),i.root.style.width=h.option.asSize(t.width,""),n.border.left=(i.centerContainer.offsetWidth-i.centerContainer.clientWidth)/2,n.border.right=n.border.left,n.border.top=(i.centerContainer.offsetHeight-i.centerContainer.clientHeight)/2,n.border.bottom=n.border.top,n.borderRootHeight=i.root.offsetHeight-i.root.clientHeight,n.borderRootWidth=i.root.offsetWidth-i.root.clientWidth,0===i.centerContainer.clientHeight&&(n.border.left=n.border.top,n.border.right=n.border.left),0===i.root.clientHeight&&(n.borderRootWidth=n.borderRootHeight),n.center.height=i.center.offsetHeight,n.left.height=i.left.offsetHeight,n.right.height=i.right.offsetHeight,n.top.height=i.top.clientHeight||-n.border.top,n.bottom.height=i.bottom.clientHeight||-n.border.bottom;var o=Math.max(n.left.height,n.center.height,n.right.height),r=n.top.height+o+n.bottom.height+n.borderRootHeight+n.border.top+n.border.bottom;i.root.style.height=h.option.asSize(t.height,r+"px"),n.root.height=i.root.offsetHeight,n.background.height=n.root.height-n.borderRootHeight;var a=n.root.height-n.top.height-n.bottom.height-n.borderRootHeight;n.centerContainer.height=a,n.leftContainer.height=a,n.rightContainer.height=n.leftContainer.height,n.root.width=i.root.offsetWidth,n.background.width=n.root.width-n.borderRootWidth,this.initialDrawDone||(n.scrollbarWidth=h.getScrollBarWidth()),t.verticalScroll?t.rtl?(n.left.width=i.leftContainer.clientWidth||-n.border.left,n.right.width=i.rightContainer.clientWidth+n.scrollbarWidth||-n.border.right):(n.left.width=i.leftContainer.clientWidth+n.scrollbarWidth||-n.border.left,n.right.width=i.rightContainer.clientWidth||-n.border.right):(n.left.width=i.leftContainer.clientWidth||-n.border.left,n.right.width=i.rightContainer.clientWidth||-n.border.right),this._setDOM();var s=this._updateScrollTop();"top"!=t.orientation.item&&(s+=Math.max(n.centerContainer.height-n.center.height-n.border.top-n.border.bottom,0)),i.center.style.top=s+"px";var l=0==n.scrollTop?"hidden":"",c=n.scrollTop==n.scrollTopMin?"hidden":"";i.shadowTop.style.visibility=l,i.shadowBottom.style.visibility=c,i.shadowTopLeft.style.visibility=l,i.shadowBottomLeft.style.visibility=c,i.shadowTopRight.style.visibility=l,i.shadowBottomRight.style.visibility=c,t.verticalScroll&&(i.rightContainer.className="vis-panel vis-right vis-vertical-scroll",i.leftContainer.className="vis-panel vis-left vis-vertical-scroll",i.shadowTopRight.style.visibility="hidden",i.shadowBottomRight.style.visibility="hidden",i.shadowTopLeft.style.visibility="hidden",i.shadowBottomLeft.style.visibility="hidden",i.left.style.top="0px",i.right.style.top="0px"),(!t.verticalScroll||n.center.height<n.centerContainer.height)&&(i.left.style.top=s+"px",i.right.style.top=s+"px",i.rightContainer.className=i.rightContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),i.leftContainer.className=i.leftContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),n.left.width=i.leftContainer.clientWidth||-n.border.left,n.right.width=i.rightContainer.clientWidth||-n.border.right,this._setDOM());var d=n.center.height>n.centerContainer.height;if(this.hammer.get("pan").set({direction:d?u.DIRECTION_ALL:u.DIRECTION_HORIZONTAL}),this.components.forEach(function(t){e=t.redraw()||e}),e){if(this.redrawCount<5)return void this.body.emitter.emit("_change");console.log("WARNING: infinite loop in redraw?")}else this.redrawCount=0;this.body.emitter.emit("changed")}},o.prototype._setDOM=function(){var t=this.props,e=this.dom;t.leftContainer.width=t.left.width,t.rightContainer.width=t.right.width;var n=t.root.width-t.left.width-t.right.width-t.borderRootWidth;t.center.width=n,t.centerContainer.width=n,t.top.width=n,t.bottom.width=n,e.background.style.height=t.background.height+"px",e.backgroundVertical.style.height=t.background.height+"px",e.backgroundHorizontal.style.height=t.centerContainer.height+"px",e.centerContainer.style.height=t.centerContainer.height+"px",e.leftContainer.style.height=t.leftContainer.height+"px",e.rightContainer.style.height=t.rightContainer.height+"px",e.background.style.width=t.background.width+"px",e.backgroundVertical.style.width=t.centerContainer.width+"px",e.backgroundHorizontal.style.width=t.background.width+"px",e.centerContainer.style.width=t.center.width+"px",e.top.style.width=t.top.width+"px",e.bottom.style.width=t.bottom.width+"px",e.background.style.left="0",e.background.style.top="0",e.backgroundVertical.style.left=t.left.width+t.border.left+"px",e.backgroundVertical.style.top="0",e.backgroundHorizontal.style.left="0",e.backgroundHorizontal.style.top=t.top.height+"px",e.centerContainer.style.left=t.left.width+"px",e.centerContainer.style.top=t.top.height+"px",e.leftContainer.style.left="0",e.leftContainer.style.top=t.top.height+"px",e.rightContainer.style.left=t.left.width+t.center.width+"px",e.rightContainer.style.top=t.top.height+"px",e.top.style.left=t.left.width+"px",e.top.style.top="0",e.bottom.style.left=t.left.width+"px",e.bottom.style.top=t.top.height+t.centerContainer.height+"px",e.center.style.left="0",e.left.style.left="0",e.right.style.left="0"},o.prototype.repaint=function(){throw new Error("Function repaint is deprecated. Use redraw instead.")},o.prototype.setCurrentTime=function(t){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");this.currentTime.setCurrentTime(t)},o.prototype.getCurrentTime=function(){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");return this.currentTime.getCurrentTime()},o.prototype._toTime=function(t){return p.toTime(this,t,this.props.center.width)},o.prototype._toGlobalTime=function(t){return p.toTime(this,t,this.props.root.width)},o.prototype._toScreen=function(t){return p.toScreen(this,t,this.props.center.width)},o.prototype._toGlobalScreen=function(t){return p.toScreen(this,t,this.props.root.width)},o.prototype._initAutoResize=function(){1==this.options.autoResize?this._startAutoResize():this._stopAutoResize()},o.prototype._startAutoResize=function(){var t=this;this._stopAutoResize(),this._onResize=function(){1==t.options.autoResize?t.dom.root&&(t.dom.root.offsetWidth==t.props.lastWidth&&t.dom.root.offsetHeight==t.props.lastHeight||(t.props.lastWidth=t.dom.root.offsetWidth,t.props.lastHeight=t.dom.root.offsetHeight,t.props.scrollbarWidth=h.getScrollBarWidth(),t.body.emitter.emit("_change"))):t._stopAutoResize()},h.addEventListener(window,"resize",this._onResize),t.dom.root&&(t.props.lastWidth=t.dom.root.offsetWidth,t.props.lastHeight=t.dom.root.offsetHeight),this.watchTimer=setInterval(this._onResize,1e3)},o.prototype._stopAutoResize=function(){this.watchTimer&&(clearInterval(this.watchTimer),this.watchTimer=void 0),this._onResize&&(h.removeEventListener(window,"resize",this._onResize),this._onResize=null)},o.prototype._onTouch=function(t){this.touch.allowDragging=!0,this.touch.initialScrollTop=this.props.scrollTop},o.prototype._onPinch=function(t){this.touch.allowDragging=!1},o.prototype._onDrag=function(t){if(t&&this.touch.allowDragging){var e=t.deltaY,n=this._getScrollTop(),i=this._setScrollTop(this.touch.initialScrollTop+e);this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),i!=n&&this.emit("verticalDrag")}},o.prototype._setScrollTop=function(t){return this.props.scrollTop=t,this._updateScrollTop(),this.props.scrollTop},o.prototype._updateScrollTop=function(){var t=Math.min(this.props.centerContainer.height-this.props.center.height,0);return t!=this.props.scrollTopMin&&("top"!=this.options.orientation.item&&(this.props.scrollTop+=t-this.props.scrollTopMin),this.props.scrollTopMin=t),0<this.props.scrollTop&&(this.props.scrollTop=0),this.props.scrollTop<t&&(this.props.scrollTop=t),this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),this.props.scrollTop},o.prototype._getScrollTop=function(){return this.props.scrollTop},o.prototype._createConfigurator=function(){throw new Error("Cannot invoke abstract method _createConfigurator")},t.exports=o},function(t,e,n){function r(t,e,n,i,o){this.moment=a,this.current=this.moment(),this._start=this.moment(),this._end=this.moment(),this.autoScale=!0,this.scale="day",this.step=1,this.setRange(t,e,n),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,Array.isArray(i)?this.hiddenDates=i:this.hiddenDates=null!=i?[i]:[],this.format=r.FORMAT,this.options=o||{}}var a=n(9),i=n(36),o=n(2);r.FORMAT={minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}},r.prototype.setMoment=function(t){this.moment=t,this.current=this.moment(this.current.valueOf()),this._start=this.moment(this._start.valueOf()),this._end=this.moment(this._end.valueOf())},r.prototype.setFormat=function(t){var e=o.deepExtend({},r.FORMAT);this.format=o.deepExtend(e,t)},r.prototype.setRange=function(t,e,n){if(!(t instanceof Date&&e instanceof Date))throw"No legal start or end date in method setRange";this._start=null!=t?this.moment(t.valueOf()):new Date,this._end=null!=e?this.moment(e.valueOf()):new Date,this.autoScale&&this.setMinimumStep(n)},r.prototype.start=function(){this.current=this._start.clone(),this.roundToMinor()},r.prototype.roundToMinor=function(){switch("week"==this.scale&&this.current.weekday(0),this.scale){case"year":this.current.year(this.step*Math.floor(this.current.year()/this.step)),this.current.month(0);case"month":this.current.date(1);case"week":case"day":case"weekday":this.current.hours(0);case"hour":this.current.minutes(0);case"minute":this.current.seconds(0);case"second":this.current.milliseconds(0)}if(1!=this.step)switch(this.scale){case"millisecond":this.current.subtract(this.current.milliseconds()%this.step,"milliseconds");break;case"second":this.current.subtract(this.current.seconds()%this.step,"seconds");break;case"minute":this.current.subtract(this.current.minutes()%this.step,"minutes");break;case"hour":this.current.subtract(this.current.hours()%this.step,"hours");break;case"weekday":case"day":this.current.subtract((this.current.date()-1)%this.step,"day");break;case"week":this.current.subtract(this.current.week()%this.step,"week");break;case"month":this.current.subtract(this.current.month()%this.step,"month");break;case"year":this.current.subtract(this.current.year()%this.step,"year")}},r.prototype.hasNext=function(){return this.current.valueOf()<=this._end.valueOf()},r.prototype.next=function(){var t=this.current.valueOf();switch(this.scale){case"millisecond":this.current.add(this.step,"millisecond");break;case"second":this.current.add(this.step,"second");break;case"minute":this.current.add(this.step,"minute");break;case"hour":this.current.add(this.step,"hour"),this.current.month()<6?this.current.subtract(this.current.hours()%this.step,"hour"):this.current.hours()%this.step!=0&&this.current.add(this.step-this.current.hours()%this.step,"hour");break;case"weekday":case"day":this.current.add(this.step,"day");break;case"week":if(0!==this.current.weekday())this.current.weekday(0),this.current.add(this.step,"week");else if(!1===this.options.showMajorLabels)this.current.add(this.step,"week");else{var e=this.current.clone();e.add(1,"week"),e.isSame(this.current,"month")?this.current.add(this.step,"week"):(this.current.add(this.step,"week"),this.current.date(1))}break;case"month":this.current.add(this.step,"month");break;case"year":this.current.add(this.step,"year")}if(1!=this.step)switch(this.scale){case"millisecond":0<this.current.milliseconds()&&this.current.milliseconds()<this.step&&this.current.milliseconds(0);break;case"second":0<this.current.seconds()&&this.current.seconds()<this.step&&this.current.seconds(0);break;case"minute":0<this.current.minutes()&&this.current.minutes()<this.step&&this.current.minutes(0);break;case"hour":0<this.current.hours()&&this.current.hours()<this.step&&this.current.hours(0);break;case"weekday":case"day":this.current.date()<this.step+1&&this.current.date(1);break;case"week":this.current.week()<this.step&&this.current.week(1);break;case"month":this.current.month()<this.step&&this.current.month(0)}this.current.valueOf()==t&&(this.current=this._end.clone()),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,i.stepOverHiddenDates(this.moment,this,t)},r.prototype.getCurrent=function(){return this.current},r.prototype.setScale=function(t){t&&"string"==typeof t.scale&&(this.scale=t.scale,this.step=0<t.step?t.step:1,this.autoScale=!1)},r.prototype.setAutoScale=function(t){this.autoScale=t},r.prototype.setMinimumStep=function(t){null!=t&&(t<31104e9&&(this.scale="year",this.step=1e3),t<15552e9&&(this.scale="year",this.step=500),t<31104e8&&(this.scale="year",this.step=100),t<15552e8&&(this.scale="year",this.step=50),t<31104e7&&(this.scale="year",this.step=10),t<15552e7&&(this.scale="year",this.step=5),t<31104e6&&(this.scale="year",this.step=1),t<7776e6&&(this.scale="month",this.step=3),t<2592e6&&(this.scale="month",this.step=1),t<432e6&&(this.scale="day",this.step=5),t<1728e5&&(this.scale="day",this.step=2),t<864e5&&(this.scale="day",this.step=1),t<432e5&&(this.scale="weekday",this.step=1),t<144e5&&(this.scale="hour",this.step=4),t<36e5&&(this.scale="hour",this.step=1),t<9e5&&(this.scale="minute",this.step=15),t<6e5&&(this.scale="minute",this.step=10),t<3e5&&(this.scale="minute",this.step=5),t<6e4&&(this.scale="minute",this.step=1),t<15e3&&(this.scale="second",this.step=15),t<1e4&&(this.scale="second",this.step=10),t<5e3&&(this.scale="second",this.step=5),t<1e3&&(this.scale="second",this.step=1),t<200&&(this.scale="millisecond",this.step=200),t<100&&(this.scale="millisecond",this.step=100),t<50&&(this.scale="millisecond",this.step=50),t<10&&(this.scale="millisecond",this.step=10),t<5&&(this.scale="millisecond",this.step=5),t<1&&(this.scale="millisecond",this.step=1))},r.snap=function(t,e,n){var i=a(t);if("year"==e){var o=i.year()+Math.round(i.month()/12);i.year(Math.round(o/n)*n),i.month(0),i.date(0),i.hours(0),i.minutes(0),i.seconds(0),i.milliseconds(0)}else if("month"==e)15<i.date()?(i.date(1),i.add(1,"month")):i.date(1),i.hours(0),i.minutes(0),i.seconds(0),i.milliseconds(0);else if("week"==e)2<i.weekday()?(i.weekday(0),i.add(1,"week")):i.weekday(0),i.hours(0),i.minutes(0),i.seconds(0),i.milliseconds(0);else if("day"==e){switch(n){case 5:case 2:i.hours(24*Math.round(i.hours()/24));break;default:i.hours(12*Math.round(i.hours()/12))}i.minutes(0),i.seconds(0),i.milliseconds(0)}else if("weekday"==e){switch(n){case 5:case 2:i.hours(12*Math.round(i.hours()/12));break;default:i.hours(6*Math.round(i.hours()/6))}i.minutes(0),i.seconds(0),i.milliseconds(0)}else if("hour"==e){switch(n){case 4:i.minutes(60*Math.round(i.minutes()/60));break;default:i.minutes(30*Math.round(i.minutes()/30))}i.seconds(0),i.milliseconds(0)}else if("minute"==e){switch(n){case 15:case 10:i.minutes(5*Math.round(i.minutes()/5)),i.seconds(0);break;case 5:i.seconds(60*Math.round(i.seconds()/60));break;default:i.seconds(30*Math.round(i.seconds()/30))}i.milliseconds(0)}else if("second"==e)switch(n){case 15:case 10:i.seconds(5*Math.round(i.seconds()/5)),i.milliseconds(0);break;case 5:i.milliseconds(1e3*Math.round(i.milliseconds()/1e3));break;default:i.milliseconds(500*Math.round(i.milliseconds()/500))}else if("millisecond"==e){var r=5<n?n/2:1;i.milliseconds(Math.round(i.milliseconds()/r)*r)}return i},r.prototype.isMajor=function(){if(1==this.switchedYear)switch(this.scale){case"year":case"month":case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedMonth)switch(this.scale){case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedDay)switch(this.scale){case"millisecond":case"second":case"minute":case"hour":return!0;default:return!1}var t=this.moment(this.current);switch(this.scale){case"millisecond":return 0==t.milliseconds();case"second":return 0==t.seconds();case"minute":return 0==t.hours()&&0==t.minutes();case"hour":return 0==t.hours();case"weekday":case"day":case"week":return 1==t.date();case"month":return 0==t.month();case"year":default:return!1}},r.prototype.getLabelMinor=function(t){if(null==t&&(t=this.current),t instanceof Date&&(t=this.moment(t)),"function"==typeof this.format.minorLabels)return this.format.minorLabels(t,this.scale,this.step);var e=this.format.minorLabels[this.scale];switch(this.scale){case"week":if(this.isMajor()&&0!==t.weekday())return"";default:return e&&0<e.length?this.moment(t).format(e):""}},r.prototype.getLabelMajor=function(t){if(null==t&&(t=this.current),t instanceof Date&&(t=this.moment(t)),"function"==typeof this.format.majorLabels)return this.format.majorLabels(t,this.scale,this.step);var e=this.format.majorLabels[this.scale];return e&&0<e.length?this.moment(t).format(e):""},r.prototype.getClassName=function(){function t(t){return t/s%2==0?" vis-even":" vis-odd"}function e(t){return t.isSame(new Date,"day")?" vis-today":t.isSame(o().add(1,"day"),"day")?" vis-tomorrow":t.isSame(o().add(-1,"day"),"day")?" vis-yesterday":""}function n(t){return t.isSame(new Date,"week")?" vis-current-week":""}function i(t){return t.isSame(new Date,"month")?" vis-current-month":""}var o=this.moment,r=this.moment(this.current),a=r.locale?r.locale("en"):r.lang("en"),s=this.step,l=[];switch(this.scale){case"millisecond":l.push(e(a)),l.push(t(a.milliseconds()));break;case"second":l.push(e(a)),l.push(t(a.seconds()));break;case"minute":l.push(e(a)),l.push(t(a.minutes()));break;case"hour":l.push("vis-h"+a.hours()+(4==this.step?"-h"+(a.hours()+4):"")),l.push(e(a)),l.push(t(a.hours()));break;case"weekday":l.push("vis-"+a.format("dddd").toLowerCase()),l.push(e(a)),l.push(n(a)),l.push(t(a.date()));break;case"day":l.push("vis-day"+a.date()),l.push("vis-"+a.format("MMMM").toLowerCase()),l.push(e(a)),l.push(i(a)),l.push(this.step<=2?e(a):""),l.push(this.step<=2?"vis-"+a.format("dddd").toLowerCase():""),l.push(t(a.date()-1));break;case"week":l.push("vis-week"+a.format("w")),l.push(n(a)),l.push(t(a.week()));break;case"month":l.push("vis-"+a.format("MMMM").toLowerCase()),l.push(i(a)),l.push(t(a.month()));break;case"year":l.push("vis-year"+a.year()),l.push(a.isSame(new Date,"year")?" vis-current-year":""),l.push(t(a.year()))}return l.filter(String).join(" ")},t.exports=r},function(t,e,n){function i(t,e){this.body=t,this.defaultOptions={rtl:!1,showCurrentTime:!0,moment:a,locales:s,locale:"en"},this.options=o.extend({},this.defaultOptions),this.offset=0,this._create(),this.setOptions(e)}var o=n(2),r=n(16),a=n(9),s=n(98);(i.prototype=new r)._create=function(){var t=document.createElement("div");t.className="vis-current-time",t.style.position="absolute",t.style.top="0px",t.style.height="100%",this.bar=t},i.prototype.destroy=function(){this.options.showCurrentTime=!1,this.redraw(),this.body=null},i.prototype.setOptions=function(t){t&&o.selectiveExtend(["rtl","showCurrentTime","moment","locale","locales"],this.options,t)},i.prototype.redraw=function(){if(this.options.showCurrentTime){var t=this.body.dom.backgroundVertical;this.bar.parentNode!=t&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),t.appendChild(this.bar),this.start());var e=this.options.moment((new Date).valueOf()+this.offset),n=this.body.util.toScreen(e),i=this.options.locales[this.options.locale];i||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline/#Localization"),this.warned=!0),i=this.options.locales.en);var o=i.current+" "+i.time+": "+e.format("dddd, MMMM Do YYYY, H:mm:ss");o=o.charAt(0).toUpperCase()+o.substring(1),this.options.rtl?this.bar.style.right=n+"px":this.bar.style.left=n+"px",this.bar.title=o}else this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.stop();return!1},i.prototype.start=function(){var n=this;!function t(){n.stop();var e=1/n.body.range.conversion(n.body.domProps.center.width).scale/10;e<30&&(e=30),1e3<e&&(e=1e3),n.redraw(),n.body.emitter.emit("currentTimeTick"),n.currentTimeTimer=setTimeout(t,e)}()},i.prototype.stop=function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),delete this.currentTimeTimer)},i.prototype.setCurrentTime=function(t){var e=o.convert(t,"Date").valueOf(),n=(new Date).valueOf();this.offset=e-n,this.redraw()},i.prototype.getCurrentTime=function(){return new Date((new Date).valueOf()+this.offset)},t.exports=i},function(t,e,n){function i(t,e,n){if(this.groupId=t,this.subgroups={},this.subgroupStack={},this.subgroupStackAll=!1,this.doInnerStack=!1,this.subgroupIndex=0,this.subgroupOrderer=e&&e.subgroupOrder,this.itemSet=n,this.isVisible=null,this.stackDirty=!0,e&&e.nestedGroups&&(this.nestedGroups=e.nestedGroups,0==e.showNested?this.showNested=!1:this.showNested=!0),e&&e.subgroupStack)if("boolean"==typeof e.subgroupStack)this.doInnerStack=e.subgroupStack,this.subgroupStackAll=e.subgroupStack;else for(var i in e.subgroupStack)this.subgroupStack[i]=e.subgroupStack[i],this.doInnerStack=this.doInnerStack||e.subgroupStack[i];this.nestedInGroup=null,this.dom={},this.props={label:{width:0,height:0}},this.className=null,this.items={},this.visibleItems=[],this.itemsInRange=[],this.orderedItems={byStart:[],byEnd:[]},this.checkRangedItems=!1;var o=this;this.itemSet.body.emitter.on("checkRangedItems",function(){o.checkRangedItems=!0}),this._create(),this.setData(e)}var o,r=n(8),a=(o=r)&&o.__esModule?o:{default:o},g=n(2),u=n(100);i.prototype._create=function(){var t=document.createElement("div");this.itemSet.options.groupEditable.order?t.className="vis-label draggable":t.className="vis-label",this.dom.label=t;var e=document.createElement("div");e.className="vis-inner",t.appendChild(e),this.dom.inner=e;var n=document.createElement("div");n.className="vis-group",(n["timeline-group"]=this).dom.foreground=n,this.dom.background=document.createElement("div"),this.dom.background.className="vis-group",this.dom.axis=document.createElement("div"),this.dom.axis.className="vis-group",this.dom.marker=document.createElement("div"),this.dom.marker.style.visibility="hidden",this.dom.marker.style.position="absolute",this.dom.marker.innerHTML="",this.dom.background.appendChild(this.dom.marker)},i.prototype.setData=function(t){var e,n;if((e=this.itemSet.options&&this.itemSet.options.groupTemplate?(n=this.itemSet.options.groupTemplate.bind(this))(t,this.dom.inner):t&&t.content)instanceof Element){for(this.dom.inner.appendChild(e);this.dom.inner.firstChild;)this.dom.inner.removeChild(this.dom.inner.firstChild);this.dom.inner.appendChild(e)}else e instanceof Object?n(t,this.dom.inner):this.dom.inner.innerHTML=null!=e?e:this.groupId||"";if(this.dom.label.title=t&&t.title||"",this.dom.inner.firstChild?g.removeClassName(this.dom.inner,"vis-hidden"):g.addClassName(this.dom.inner,"vis-hidden"),t&&t.nestedGroups){this.nestedGroups&&this.nestedGroups==t.nestedGroups||(this.nestedGroups=t.nestedGroups),void 0===t.showNested&&void 0!==this.showNested||(0==t.showNested?this.showNested=!1:this.showNested=!0),g.addClassName(this.dom.label,"vis-nesting-group");var i=this.itemSet.options.rtl?"collapsed-rtl":"collapsed";this.showNested?(g.removeClassName(this.dom.label,i),g.addClassName(this.dom.label,"expanded")):(g.removeClassName(this.dom.label,"expanded"),g.addClassName(this.dom.label,i))}else this.nestedGroups&&(this.nestedGroups=null,i=this.itemSet.options.rtl?"collapsed-rtl":"collapsed",g.removeClassName(this.dom.label,i),g.removeClassName(this.dom.label,"expanded"),g.removeClassName(this.dom.label,"vis-nesting-group"));t&&t.nestedInGroup&&(g.addClassName(this.dom.label,"vis-nested-group"),this.itemSet.options&&this.itemSet.options.rtl?this.dom.inner.style.paddingRight="30px":this.dom.inner.style.paddingLeft="30px");var o=t&&t.className||null;o!=this.className&&(this.className&&(g.removeClassName(this.dom.label,this.className),g.removeClassName(this.dom.foreground,this.className),g.removeClassName(this.dom.background,this.className),g.removeClassName(this.dom.axis,this.className)),g.addClassName(this.dom.label,o),g.addClassName(this.dom.foreground,o),g.addClassName(this.dom.background,o),g.addClassName(this.dom.axis,o),this.className=o),this.style&&(g.removeCssText(this.dom.label,this.style),this.style=null),t&&t.style&&(g.addCssText(this.dom.label,t.style),this.style=t.style)},i.prototype.getLabelWidth=function(){return this.props.label.width},i.prototype._didMarkerHeightChange=function(){var t=this.dom.marker.clientHeight;if(t!=this.lastMarkerHeight){this.lastMarkerHeight=t;var n={},i=0;if(g.forEach(this.items,function(t,e){t.dirty=!0,t.displayed&&(n[e]=t.redraw(!0),i=n[e].length)}),0<i)for(var e=0;e<i;e++)g.forEach(n,function(t){t[e]()});return!0}},i.prototype._calculateGroupSizeAndPosition=function(){var t=this.dom.foreground.offsetTop,e=this.dom.foreground.offsetLeft,n=this.dom.foreground.offsetWidth;this.top=t,this.right=e,this.width=n},i.prototype._redrawItems=function(t,e,n,i){if(t||this.stackDirty||this.isVisible&&!e){var o={},r=null;if("function"==typeof this.itemSet.options.order){var a=this,s={},l=0;if(g.forEach(this.items,function(t,e){t.displayed||(s[e]=t.redraw(!0),l=s[e].length,a.visibleItems.push(t))}),0<l)for(var c=0;c<l;c++)g.forEach(s,function(t){t[c]()});if(g.forEach(this.items,function(t){t.repositionX(!1)}),this.doInnerStack&&this.itemSet.options.stackSubgroups){for(r in this.subgroups)o[r]=this.subgroups[r].items.slice().sort(function(t,e){return a.itemSet.options.order(t.data,e.data)});u.stackSubgroupsWithInnerStack(o,n,this.subgroups)}else{var d=this.orderedItems.byStart.slice().sort(function(t,e){return a.itemSet.options.order(t.data,e.data)});u.stack(d,n,!0)}this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,i)}else if(this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,i),this.itemSet.options.stack)if(this.doInnerStack&&this.itemSet.options.stackSubgroups){for(r in this.subgroups)o[r]=this.subgroups[r].items;u.stackSubgroupsWithInnerStack(o,n,this.subgroups)}else u.stack(this.visibleItems,n,!0);else u.nostack(this.visibleItems,n,this.subgroups,this.itemSet.options.stackSubgroups);this.stackDirty=!1}},i.prototype._didResize=function(t,e){t=g.updateProperty(this,"height",e)||t;var n=this.dom.inner.clientWidth,i=this.dom.inner.clientHeight;return t=g.updateProperty(this.props.label,"width",n)||t,g.updateProperty(this.props.label,"height",i)||t},i.prototype._applyGroupHeight=function(t){this.dom.background.style.height=t+"px",this.dom.foreground.style.height=t+"px",this.dom.label.style.height=t+"px"},i.prototype._updateItemsVerticalPosition=function(t){for(var e=0,n=this.visibleItems.length;e<n;e++){var i=this.visibleItems[e];i.repositionY(t),this.isVisible||"__background__"==this.groupId||i.displayed&&i.hide()}},i.prototype.redraw=function(t,e,n,i){var o,r,a=!1,s=this.isVisible,l=[function(){n=this._didMarkerHeightChange.bind(this)}.bind(this),this._updateSubGroupHeights.bind(this,e),this._calculateGroupSizeAndPosition.bind(this),function(){this.isVisible=this._isGroupVisible.bind(this)(t,e)}.bind(this),function(){this._redrawItems.bind(this)(n,s,e,t)}.bind(this),this._updateSubgroupsSizes.bind(this),function(){o=this._calculateHeight.bind(this)(e)}.bind(this),this._calculateGroupSizeAndPosition.bind(this),function(){a=this._didResize.bind(this)(a,o)}.bind(this),function(){this._applyGroupHeight.bind(this)(o)}.bind(this),function(){this._updateItemsVerticalPosition.bind(this)(e)}.bind(this),function(){return!this.isVisible&&this.height&&(a=!1),a}];return i?l:(l.forEach(function(t){r=t()}),r)},i.prototype._updateSubGroupHeights=function(e){if(0<(0,a.default)(this.subgroups).length){var n=this;this.resetSubgroups(),g.forEach(this.visibleItems,function(t){void 0!==t.data.subgroup&&(n.subgroups[t.data.subgroup].height=Math.max(n.subgroups[t.data.subgroup].height,t.height+e.item.vertical),n.subgroups[t.data.subgroup].visible=!0)})}},i.prototype._isGroupVisible=function(t,e){return this.top<=t.body.domProps.centerContainer.height-t.body.domProps.scrollTop+e.axis&&this.top+this.height+e.axis>=-t.body.domProps.scrollTop},i.prototype._calculateHeight=function(t){var e,n=this.visibleItems;if(0<n.length){var i=n[0].top,o=n[0].top+n[0].height;if(g.forEach(n,function(t){i=Math.min(i,t.top),o=Math.max(o,t.top+t.height)}),i>t.axis){var r=i-t.axis;o-=r,g.forEach(n,function(t){t.top-=r})}e=o+t.item.vertical/2}else e=0;return Math.max(e,this.props.label.height)},i.prototype.show=function(){this.dom.label.parentNode||this.itemSet.dom.labelSet.appendChild(this.dom.label),this.dom.foreground.parentNode||this.itemSet.dom.foreground.appendChild(this.dom.foreground),this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background),this.dom.axis.parentNode||this.itemSet.dom.axis.appendChild(this.dom.axis)},i.prototype.hide=function(){var t=this.dom.label;t.parentNode&&t.parentNode.removeChild(t);var e=this.dom.foreground;e.parentNode&&e.parentNode.removeChild(e);var n=this.dom.background;n.parentNode&&n.parentNode.removeChild(n);var i=this.dom.axis;i.parentNode&&i.parentNode.removeChild(i)},i.prototype.add=function(t){if((this.items[t.id]=t).setParent(this),this.stackDirty=!0,void 0!==t.data.subgroup&&(this._addToSubgroup(t),this.orderSubgroups()),-1==this.visibleItems.indexOf(t)){var e=this.itemSet.body.range;this._checkIfVisible(t,this.visibleItems,e)}},i.prototype._addToSubgroup=function(t,e){null!=(e=e||t.data.subgroup)&&void 0===this.subgroups[e]&&(this.subgroups[e]={height:0,top:0,start:t.data.start,end:t.data.end||t.data.start,visible:!1,index:this.subgroupIndex,items:[],stack:this.subgroupStackAll||this.subgroupStack[e]||!1},this.subgroupIndex++),new Date(t.data.start)<new Date(this.subgroups[e].start)&&(this.subgroups[e].start=t.data.start);var n=t.data.end||t.data.start;new Date(n)>new Date(this.subgroups[e].end)&&(this.subgroups[e].end=n),this.subgroups[e].items.push(t)},i.prototype._updateSubgroupsSizes=function(){if(this.subgroups)for(var t in this.subgroups){var e=this.subgroups[t].items[0].data.end||this.subgroups[t].items[0].data.start,n=this.subgroups[t].items[0].data.start,i=e-1;this.subgroups[t].items.forEach(function(t){new Date(t.data.start)<new Date(n)&&(n=t.data.start);var e=t.data.end||t.data.start;new Date(e)>new Date(i)&&(i=e)}),this.subgroups[t].start=n,this.subgroups[t].end=new Date(i-1)}},i.prototype.orderSubgroups=function(){if(void 0!==this.subgroupOrderer){var t,e=[];if("string"==typeof this.subgroupOrderer){for(t in this.subgroups)e.push({subgroup:t,sortField:this.subgroups[t].items[0].data[this.subgroupOrderer]});e.sort(function(t,e){return t.sortField-e.sortField})}else if("function"==typeof this.subgroupOrderer){for(t in this.subgroups)e.push(this.subgroups[t].items[0].data);e.sort(this.subgroupOrderer)}if(0<e.length)for(var n=0;n<e.length;n++)this.subgroups[e[n].subgroup].index=n}},i.prototype.resetSubgroups=function(){for(var t in this.subgroups)this.subgroups.hasOwnProperty(t)&&(this.subgroups[t].visible=!1,this.subgroups[t].height=0)},i.prototype.remove=function(t){delete this.items[t.id],t.setParent(null),this.stackDirty=!0;var e=this.visibleItems.indexOf(t);-1!=e&&this.visibleItems.splice(e,1),void 0!==t.data.subgroup&&(this._removeFromSubgroup(t),this.orderSubgroups())},i.prototype._removeFromSubgroup=function(t,e){if(null!=(e=e||t.data.subgroup)){var n=this.subgroups[e];if(n){var i=n.items.indexOf(t);0<=i&&(n.items.splice(i,1),n.items.length?this._updateSubgroupsSizes():delete this.subgroups[e])}}},i.prototype.removeFromDataSet=function(t){this.itemSet.removeItem(t.id)},i.prototype.order=function(){for(var t=g.toArray(this.items),e=[],n=[],i=0;i<t.length;i++)void 0!==t[i].data.end&&n.push(t[i]),e.push(t[i]);this.orderedItems={byStart:e,byEnd:n},u.orderByStart(this.orderedItems.byStart),u.orderByEnd(this.orderedItems.byEnd)},i.prototype._updateItemsInRange=function(t,e,n){var i=[],o={},r=(n.end-n.start)/4,a=n.start-r,s=n.end+r,l=function(t){return t<a?-1:t<=s?0:1};if(0<e.length)for(var c=0;c<e.length;c++)this._checkIfVisibleWithReference(e[c],i,o,n);var d=g.binarySearchCustom(t.byStart,l,"data","start");if(this._traceVisible(d,t.byStart,i,o,function(t){return t.data.start<a||t.data.start>s}),1==this.checkRangedItems)for(this.checkRangedItems=!1,c=0;c<t.byEnd.length;c++)this._checkIfVisibleWithReference(t.byEnd[c],i,o,n);else{var u=g.binarySearchCustom(t.byEnd,l,"data","end");this._traceVisible(u,t.byEnd,i,o,function(t){return t.data.end<a||t.data.end>s})}var h={},p=0;for(c=0;c<i.length;c++){var f=i[c];f.displayed||(h[c]=f.redraw(!0),p=h[c].length)}if(0<p)for(var m=0;m<p;m++)g.forEach(h,function(t){t[m]()});for(c=0;c<i.length;c++)i[c].repositionX();return i},i.prototype._traceVisible=function(t,e,n,i,o){if(-1!=t){var r,a;for(r=t;0<=r&&!o(a=e[r]);r--)void 0===i[a.id]&&(i[a.id]=!0,n.push(a));for(r=t+1;r<e.length&&!o(a=e[r]);r++)void 0===i[a.id]&&(i[a.id]=!0,n.push(a))}},i.prototype._checkIfVisible=function(t,e,n){t.isVisible(n)?(t.displayed||t.show(),t.repositionX(),e.push(t)):t.displayed&&t.hide()},i.prototype._checkIfVisibleWithReference=function(t,e,n,i){t.isVisible(i)?void 0===n[t.id]&&(n[t.id]=!0,e.push(t)):t.displayed&&t.hide()},i.prototype.changeSubgroup=function(t,e,n){this._removeFromSubgroup(t,e),this._addToSubgroup(t,n),this.orderSubgroups()},t.exports=i},function(t,e,n){function i(t,e,n){s.call(this,t,e,n),this.width=0,this.height=0,this.top=0,this.left=0}var o,r=n(29),a=(o=r)&&o.__esModule?o:{default:o},s=n(68);(i.prototype=(0,a.default)(s.prototype)).redraw=function(t,e,n){this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,t),this.width=this.dom.background.offsetWidth,this.dom.background.style.height="0";for(var i=0,o=this.visibleItems.length;i<o;i++)this.visibleItems[i].repositionY(e);return!1},i.prototype.show=function(){this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background)},t.exports=i},function(t,e,n){function i(t,e,n){if(this.props={content:{width:0}},this.overflow=!1,this.options=n,t){if(null==t.start)throw new Error('Property "start" missing in item '+t.id);if(null==t.end)throw new Error('Property "end" missing in item '+t.id)}o.call(this,t,e,n)}var o=n(38);(i.prototype=new o(null,null,null)).baseClassName="vis-item vis-range",i.prototype.isVisible=function(t){return this.data.start<t.end&&this.data.end>t.start},i.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.visibleFrame=document.createElement("div"),this.dom.visibleFrame.className="vis-item-visible-frame",this.dom.box.appendChild(this.dom.visibleFrame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),(this.dom.box["timeline-item"]=this).dirty=!0)},i.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(this.dom.box)}this.displayed=!0},i.prototype._updateDirtyDomComponents=function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);var t=this.editable.updateTime||this.editable.updateGroup,e=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(t?" vis-editable":" vis-readonly");this.dom.box.className=this.baseClassName+e,this.dom.content.style.maxWidth="none"}},i.prototype._getDomComponentsSizes=function(){return this.overflow="hidden"!==window.getComputedStyle(this.dom.frame).overflow,{content:{width:this.dom.content.offsetWidth},box:{height:this.dom.box.offsetHeight}}},i.prototype._updateDomComponentsSizes=function(t){this.props.content.width=t.content.width,this.height=t.box.height,this.dom.content.style.maxWidth="",this.dirty=!1},i.prototype._repaintDomAdditionals=function(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDeleteButton(this.dom.box),this._repaintDragCenter(),this._repaintDragLeft(),this._repaintDragRight()},i.prototype.redraw=function(t){var e,n,i=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),function(){this.dirty&&(e=this._getDomComponentsSizes.bind(this)())}.bind(this),function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(e)}.bind(this),this._repaintDomAdditionals.bind(this)];return t?i:(i.forEach(function(t){n=t()}),n)},i.prototype.show=function(){this.displayed||this.redraw()},i.prototype.hide=function(){if(this.displayed){var t=this.dom.box;t.parentNode&&t.parentNode.removeChild(t),this.displayed=!1}},i.prototype.repositionX=function(t){var e,n,i=this.parent.width,o=this.conversion.toScreen(this.data.start),r=this.conversion.toScreen(this.data.end),a=void 0===this.data.align?this.options.align:this.data.align;!1===this.data.limitSize||void 0!==t&&!0!==t||(o<-i&&(o=-i),2*i<r&&(r=2*i));var s=Math.max(r-o+.5,1);switch(n=this.overflow?(this.options.rtl?this.right=o:this.left=o,this.width=s+this.props.content.width,this.props.content.width):(this.options.rtl?this.right=o:this.left=o,this.width=s,Math.min(r-o,this.props.content.width)),this.options.rtl?this.dom.box.style.right=this.right+"px":this.dom.box.style.left=this.left+"px",this.dom.box.style.width=s+"px",a){case"left":this.options.rtl?this.dom.content.style.right="0":this.dom.content.style.left="0";break;case"right":this.options.rtl?this.dom.content.style.right=Math.max(s-n,0)+"px":this.dom.content.style.left=Math.max(s-n,0)+"px";break;case"center":this.options.rtl?this.dom.content.style.right=Math.max((s-n)/2,0)+"px":this.dom.content.style.left=Math.max((s-n)/2,0)+"px";break;default:e=this.overflow?0<r?Math.max(-o,0):-n:o<0?-o:0,this.options.rtl?this.dom.content.style.right=e+"px":(this.dom.content.style.left=e+"px",this.dom.content.style.width="calc(100% - "+e+"px)")}},i.prototype.repositionY=function(){var t=this.options.orientation.item;this.dom.box.style.top="top"==t?this.top+"px":this.parent.height-this.top-this.height+"px"},i.prototype._repaintDragLeft=function(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.options.editable.updateTime&&!this.dom.dragLeft){var t=document.createElement("div");t.className="vis-drag-left",(t.dragLeftItem=this).dom.box.appendChild(t),this.dom.dragLeft=t}else this.selected||this.options.itemsAlwaysDraggable.range||!this.dom.dragLeft||(this.dom.dragLeft.parentNode&&this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft),this.dom.dragLeft=null)},i.prototype._repaintDragRight=function(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.options.editable.updateTime&&!this.dom.dragRight){var t=document.createElement("div");t.className="vis-drag-right",(t.dragRightItem=this).dom.box.appendChild(t),this.dom.dragRight=t}else this.selected||this.options.itemsAlwaysDraggable.range||!this.dom.dragRight||(this.dom.dragRight.parentNode&&this.dom.dragRight.parentNode.removeChild(this.dom.dragRight),this.dom.dragRight=null)},t.exports=i},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(19)),a=i(n(6)),s=i(n(0)),l=i(n(1)),m=n(2),c=n(179).default,o=function(){function o(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1;(0,s.default)(this,o),this.parent=t,this.changedOptions=[],this.container=e,this.allowCreation=!1,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},m.extend(this.options,this.defaultOptions),this.configureOptions=n,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new c(i),this.wrapper=void 0}return(0,l.default)(o,[{key:"setOptions",value:function(t){if(void 0!==t){this.popupHistory={},this._removePopup();var e=!0;"string"==typeof t?this.options.filter=t:t instanceof Array?this.options.filter=t.join():"object"===(void 0===t?"undefined":(0,a.default)(t))?(void 0!==t.container&&(this.options.container=t.container),void 0!==t.filter&&(this.options.filter=t.filter),void 0!==t.showButton&&(this.options.showButton=t.showButton),void 0!==t.enabled&&(e=t.enabled)):"boolean"==typeof t?(this.options.filter=!0,e=t):"function"==typeof t&&(this.options.filter=t,e=!0),!1===this.options.filter&&(e=!1),this.options.enabled=e}this._clean()}},{key:"setModuleOptions",value:function(t){this.moduleOptions=t,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){var t=this;this._clean(),this.changedOptions=[];var e=this.options.filter,n=0,i=!1;for(var o in this.configureOptions)this.configureOptions.hasOwnProperty(o)&&(i=this.allowCreation=!1,"function"==typeof e?i=(i=e(o,[]))||this._handleObject(this.configureOptions[o],[o],!0):!0!==e&&-1===e.indexOf(o)||(i=!0),!1!==i&&(this.allowCreation=!0,0<n&&this._makeItem([]),this._makeHeader(o),this._handleObject(this.configureOptions[o],[o])),n++);if(!0===this.options.showButton){var r=document.createElement("div");r.className="vis-configuration vis-config-button",r.innerHTML="generate options",r.onclick=function(){t._printOptions()},r.onmouseover=function(){r.className="vis-configuration vis-config-button hover"},r.onmouseout=function(){r.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(r)}this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var t=0;t<this.domElements.length;t++)this.wrapper.appendChild(this.domElements[t]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var t=0;t<this.domElements.length;t++)this.wrapper.removeChild(this.domElements[t]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(t){for(var e=this.moduleOptions,n=0;n<t.length;n++){if(void 0===e[t[n]]){e=void 0;break}e=e[t[n]]}return e}},{key:"_makeItem",value:function(t){if(!0!==this.allowCreation)return 0;var e=document.createElement("div");e.className="vis-configuration vis-config-item vis-config-s"+t.length;for(var n=arguments.length,i=Array(1<n?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return i.forEach(function(t){e.appendChild(t)}),this.domElements.push(e),this.domElements.length}},{key:"_makeHeader",value:function(t){var e=document.createElement("div");e.className="vis-configuration vis-config-header",e.innerHTML=t,this._makeItem([],e)}},{key:"_makeLabel",value:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],i=document.createElement("div");return i.className="vis-configuration vis-config-label vis-config-s"+e.length,i.innerHTML=!0===n?"<i><b>"+t+":</b></i>":t+":",i}},{key:"_makeDropdown",value:function(t,e,n){var i=document.createElement("select");i.className="vis-configuration vis-config-select";var o=0;void 0!==e&&-1!==t.indexOf(e)&&(o=t.indexOf(e));for(var r=0;r<t.length;r++){var a=document.createElement("option");a.value=t[r],r===o&&(a.selected="selected"),a.innerHTML=t[r],i.appendChild(a)}var s=this;i.onchange=function(){s._update(this.value,n)};var l=this._makeLabel(n[n.length-1],n);this._makeItem(n,l,i)}},{key:"_makeRange",value:function(t,e,n){var i=t[0],o=t[1],r=t[2],a=t[3],s=document.createElement("input");s.className="vis-configuration vis-config-range";try{s.type="range",s.min=o,s.max=r}catch(t){}s.step=a;var l="",c=0;s.value=void 0!==e?(e<0&&1.2*e<o?(s.min=Math.ceil(1.2*e),c=s.min,l="range increased"):e/1.2<o&&(s.min=Math.ceil(e/1.2),c=s.min,l="range increased"),r<1.2*e&&1!==r&&(s.max=Math.ceil(1.2*e),c=s.max,l="range increased"),e):i;var d=document.createElement("input");d.className="vis-configuration vis-config-rangeinput",d.value=s.value;var u=this;s.onchange=function(){d.value=this.value,u._update(Number(this.value),n)},s.oninput=function(){d.value=this.value};var h=this._makeLabel(n[n.length-1],n),p=this._makeItem(n,h,s,d);""!==l&&this.popupHistory[p]!==c&&(this.popupHistory[p]=c,this._setupPopup(l,p))}},{key:"_setupPopup",value:function(t,e){var n=this;if(!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit){var i=document.createElement("div");i.id="vis-configuration-popup",i.className="vis-configuration-popup",i.innerHTML=t,i.onclick=function(){n._removePopup()},this.popupCounter+=1,this.popupDiv={html:i,index:e}}}},{key:"_removePopup",value:function(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var t=this;if(void 0!==this.popupDiv.html){var e=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=e.left+"px",this.popupDiv.html.style.top=e.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=setTimeout(function(){t.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=setTimeout(function(){t._removePopup()},1800)}}},{key:"_makeCheckbox",value:function(t,e,n){var i=document.createElement("input");i.type="checkbox",i.className="vis-configuration vis-config-checkbox",i.checked=t,void 0!==e&&((i.checked=e)!==t&&("object"===(void 0===t?"undefined":(0,a.default)(t))?e!==t.enabled&&this.changedOptions.push({path:n,value:e}):this.changedOptions.push({path:n,value:e})));var o=this;i.onchange=function(){o._update(this.checked,n)};var r=this._makeLabel(n[n.length-1],n);this._makeItem(n,r,i)}},{key:"_makeTextInput",value:function(t,e,n){var i=document.createElement("input");i.type="text",i.className="vis-configuration vis-config-text",(i.value=e)!==t&&this.changedOptions.push({path:n,value:e});var o=this;i.onchange=function(){o._update(this.value,n)};var r=this._makeLabel(n[n.length-1],n);this._makeItem(n,r,i)}},{key:"_makeColorField",value:function(t,e,n){var i=this,o=t[1],r=document.createElement("div");"none"!==(e=void 0===e?o:e)?(r.className="vis-configuration vis-config-colorBlock",r.style.backgroundColor=e):r.className="vis-configuration vis-config-colorBlock none",e=void 0===e?o:e,r.onclick=function(){i._showColorPicker(e,r,n)};var a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,r)}},{key:"_showColorPicker",value:function(t,n,i){var o=this;n.onclick=function(){},this.colorPicker.insertTo(n),this.colorPicker.show(),this.colorPicker.setColor(t),this.colorPicker.setUpdateCallback(function(t){var e="rgba("+t.r+","+t.g+","+t.b+","+t.a+")";n.style.backgroundColor=e,o._update(e,i)}),this.colorPicker.setCloseCallback(function(){n.onclick=function(){o._showColorPicker(t,n,i)}})}},{key:"_handleObject",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],i=!1,o=this.options.filter,r=!1;for(var a in t)if(t.hasOwnProperty(a)){i=!0;var s=t[a],l=m.copyAndExtendArray(e,a);if("function"==typeof o&&!1===(i=o(a,e))&&!(s instanceof Array)&&"string"!=typeof s&&"boolean"!=typeof s&&s instanceof Object&&(this.allowCreation=!1,i=this._handleObject(s,l,!0),this.allowCreation=!1===n),!1!==i){r=!0;var c=this._getValue(l);if(s instanceof Array)this._handleArray(s,c,l);else if("string"==typeof s)this._makeTextInput(s,c,l);else if("boolean"==typeof s)this._makeCheckbox(s,c,l);else if(s instanceof Object){var d=!0;if(-1!==e.indexOf("physics")&&this.moduleOptions.physics.solver!==a&&(d=!1),!0===d)if(void 0!==s.enabled){var u=m.copyAndExtendArray(l,"enabled"),h=this._getValue(u);if(!0===h){var p=this._makeLabel(a,l,!0);this._makeItem(l,p),r=this._handleObject(s,l)||r}else this._makeCheckbox(s,h,l)}else{var f=this._makeLabel(a,l,!0);this._makeItem(l,f),r=this._handleObject(s,l)||r}}else console.error("dont know how to handle",s,a,l)}}return r}},{key:"_handleArray",value:function(t,e,n){"string"==typeof t[0]&&"color"===t[0]?(this._makeColorField(t,e,n),t[1]!==e&&this.changedOptions.push({path:n,value:e})):"string"==typeof t[0]?(this._makeDropdown(t,e,n),t[0]!==e&&this.changedOptions.push({path:n,value:e})):"number"==typeof t[0]&&(this._makeRange(t,e,n),t[0]!==e&&this.changedOptions.push({path:n,value:Number(e)}))}},{key:"_update",value:function(t,e){var n=this._constructOptions(t,e);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",n),this.initialized=!0,this.parent.setOptions(n)}},{key:"_constructOptions",value:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=n;t="false"!==(t="true"===t||t)&&t;for(var o=0;o<e.length;o++)"global"!==e[o]&&(void 0===i[e[o]]&&(i[e[o]]={}),o!==e.length-1?i=i[e[o]]:i[e[o]]=t);return n}},{key:"_printOptions",value:function(){var t=this.getOptions();this.optionsContainer.innerHTML="<pre>var options = "+(0,r.default)(t,null,2)+"</pre>"}},{key:"getOptions",value:function(){for(var t={},e=0;e<this.changedOptions.length;e++)this._constructOptions(this.changedOptions[e].value,this.changedOptions[e].path,t);return t}}]),o}();e.default=o},function(t,e,n){function i(t,e){}function d(t,e){return{style:(e=void 0===e?{}:e).style||t.options.drawPoints.style,styles:e.styles||t.options.drawPoints.styles,size:e.size||t.options.drawPoints.size,className:e.className||t.className}}var o,r=n(6),u=(o=r)&&o.__esModule?o:{default:o},h=n(14);i.draw=function(t,e,n,i){i=i||0;for(var o=(l=e,c=c=void 0,(s=n).options&&s.options.drawPoints&&s.options.drawPoints.onRender&&"function"==typeof s.options.drawPoints.onRender&&(c=s.options.drawPoints.onRender),l.group.options&&l.group.options.drawPoints&&l.group.options.drawPoints.onRender&&"function"==typeof l.group.options.drawPoints.onRender&&(c=l.group.options.drawPoints.onRender),c),r=0;r<t.length;r++)if(o){var a=o(t[r],e);!0!==a&&"object"!==(void 0===a?"undefined":(0,u.default)(a))||h.drawPoint(t[r].screen_x+i,t[r].screen_y,d(e,a),n.svgElements,n.svg,t[r].label)}else h.drawPoint(t[r].screen_x+i,t[r].screen_y,d(e),n.svgElements,n.svg,t[r].label);var s,l,c},i.drawIcon=function(t,e,n,i,o,r){var a=.5*o,s=h.getSVGElement("rect",r.svgElements,r.svg);s.setAttributeNS(null,"x",e),s.setAttributeNS(null,"y",n-a),s.setAttributeNS(null,"width",i),s.setAttributeNS(null,"height",2*a),s.setAttributeNS(null,"class","vis-outline"),h.drawPoint(e+.5*i,n,d(t),r.svgElements,r.svg)},t.exports=i},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(3)),a=i(n(0)),s=i(n(1)),l=i(n(4)),c=i(n(5)),o=function(t){function o(t,e,n){(0,a.default)(this,o);var i=(0,l.default)(this,(o.__proto__||(0,r.default)(o)).call(this,t,e,n));return i.labelOffset=0,i.selected=!1,i}return(0,c.default)(o,t),(0,s.default)(o,[{key:"setOptions",value:function(t,e,n){this.options=t,void 0===e&&void 0===n||this.setImages(e,n)}},{key:"setImages",value:function(t,e){e&&this.selected?(this.imageObj=e,this.imageObjAlt=t):(this.imageObj=t,this.imageObjAlt=e)}},{key:"switchImages",value:function(t){var e=t&&!this.selected||!t&&this.selected;if(this.selected=t,void 0!==this.imageObjAlt&&e){var n=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=n}}},{key:"_resizeImage",value:function(){var t,e;if(!1===this.options.shapeProperties.useImageSize){var n=1,i=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?n=this.imageObj.width/this.imageObj.height:i=this.imageObj.height/this.imageObj.width),t=2*this.options.size*n,e=2*this.options.size*i}else t=this.imageObj.width,e=this.imageObj.height;this.width=t,this.height=e,this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(t,e,n,i){this.initContextForDraw(t,i),t.circle(e,n,i.size),this.performFill(t,i)}},{key:"_drawImageAtPosition",value:function(t,e){if(0!=this.imageObj.width){t.globalAlpha=1,this.enableShadow(t,e);var n=1;!0===this.options.shapeProperties.interpolation&&(n=this.imageObj.width/this.width/this.body.view.scale),this.imageObj.drawImageAtPosition(t,n,this.left,this.top,this.width,this.height),this.disableShadow(t,e)}}},{key:"_drawImageLabel",value:function(t,e,n,i,o){var r,a=0;if(void 0!==this.height){a=.5*this.height;var s=this.labelModule.getTextSize(t,i,o);1<=s.lineCount&&(a+=s.height/2)}r=n+a,this.options.label&&(this.labelOffset=a),this.labelModule.draw(t,e,r,i,o,"hanging")}}]),o}(i(n(23)).default);e.default=o},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var d=i(n(19)),u=i(n(6)),h=i(n(29)),r=i(n(0)),a=i(n(1)),p=n(2),s=n(117).default,f=n(48).default,l=n(215).default,c=n(217).default,m=n(218).default,g=n(219).default,o=function(){function o(t,e,n,i){if((0,r.default)(this,o),void 0===e)throw new Error("No body provided");this.options=p.bridgeObject(n),this.globalOptions=n,this.defaultOptions=i,this.body=e,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new s(this.body,this.options,!0),this.setOptions(t)}return(0,a.default)(o,[{key:"setOptions",value:function(t){if(t){o.parseOptions(this.options,t,!0,this.globalOptions),void 0!==t.id&&(this.id=t.id),void 0!==t.from&&(this.fromId=t.from),void 0!==t.to&&(this.toId=t.to),void 0!==t.title&&(this.title=t.title),void 0!==t.value&&(t.value=parseFloat(t.value));var e=[t,this.options,this.defaultOptions];this.chooser=f.choosify("edge",e),this.updateLabelModule(t);var n=this.updateEdgeType();return this._setInteractionWidths(),this.connect(),void 0===t.hidden&&void 0===t.physics||(n=!0),n}}},{key:"getFormattingValues",value:function(){var t=!0===this.options.arrows.to||!0===this.options.arrows.to.enabled,e=!0===this.options.arrows.from||!0===this.options.arrows.from.enabled,n=!0===this.options.arrows.middle||!0===this.options.arrows.middle.enabled,i=this.options.color.inherit,o={toArrow:t,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,middleArrow:n,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,fromArrow:e,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,arrowStrikethrough:this.options.arrowStrikethrough,color:i?void 0:this.options.color.color,inheritsColor:i,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width};if(this.selected||this.hover)if(!0===this.chooser){if(this.selected){var r=this.options.selectionWidth;"function"==typeof r?o.width=r(o.width):"number"==typeof r&&(o.width+=r),o.width=Math.max(o.width,.3/this.body.view.scale),o.color=this.options.color.highlight,o.shadow=this.options.shadow.enabled}else if(this.hover){var a=this.options.hoverWidth;"function"==typeof a?o.width=a(o.width):"number"==typeof a&&(o.width+=a),o.width=Math.max(o.width,.3/this.body.view.scale),o.color=this.options.color.hover,o.shadow=this.options.shadow.enabled}}else"function"==typeof this.chooser&&(this.chooser(o,this.options.id,this.selected,this.hover),void 0!==o.color&&(o.inheritsColor=!1),!1===o.shadow&&(o.shadowColor===this.options.shadow.color&&o.shadowSize===this.options.shadow.size&&o.shadowX===this.options.shadow.x&&o.shadowY===this.options.shadow.y||(o.shadow=!0)));else o.shadow=this.options.shadow.enabled,o.width=Math.max(o.width,.3/this.body.view.scale);return o}},{key:"updateLabelModule",value:function(t){var e=[t,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,e),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var t=this.options.smooth,e=!1,n=!0;return void 0!==this.edgeType&&((this.edgeType instanceof c&&!0===t.enabled&&"dynamic"===t.type||this.edgeType instanceof l&&!0===t.enabled&&"cubicBezier"===t.type||this.edgeType instanceof m&&!0===t.enabled&&"dynamic"!==t.type&&"cubicBezier"!==t.type||this.edgeType instanceof g&&!1===t.type.enabled)&&(n=!1),!0===n&&(e=this.cleanup())),!0===n?!0===t.enabled?"dynamic"===t.type?(e=!0,this.edgeType=new c(this.options,this.body,this.labelModule)):"cubicBezier"===t.type?this.edgeType=new l(this.options,this.body,this.labelModule):this.edgeType=new m(this.options,this.body,this.labelModule):this.edgeType=new g(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),e}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=void 0!==this.from&&void 0!==this.to,!0===this.connected?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(t,e,n){if(void 0!==this.options.value){var i=this.options.scaling.customScalingFunction(t,e,n,this.options.value),o=this.options.scaling.max-this.options.scaling.min;if(!0===this.options.scaling.label.enabled){var r=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*r}this.options.width=this.options.scaling.min+i*o}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){"function"==typeof this.options.hoverWidth?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,"function"==typeof this.options.selectionWidth?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}},{key:"draw",value:function(t){var e=this.getFormattingValues();if(!e.hidden){var n=this.edgeType.getViaNode(),i={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,e.fromArrow&&(i.from=this.edgeType.getArrowData(t,"from",n,this.selected,this.hover,e),!1===e.arrowStrikethrough&&(this.edgeType.fromPoint=i.from.core)),e.toArrow&&(i.to=this.edgeType.getArrowData(t,"to",n,this.selected,this.hover,e),!1===e.arrowStrikethrough&&(this.edgeType.toPoint=i.to.core)),e.middleArrow&&(i.middle=this.edgeType.getArrowData(t,"middle",n,this.selected,this.hover,e)),this.edgeType.drawLine(t,e,this.selected,this.hover,n),this.drawArrows(t,i,e),this.drawLabel(t,n)}}},{key:"drawArrows",value:function(t,e,n){n.fromArrow&&this.edgeType.drawArrowHead(t,n,this.selected,this.hover,e.from),n.middleArrow&&this.edgeType.drawArrowHead(t,n,this.selected,this.hover,e.middle),n.toArrow&&this.edgeType.drawArrowHead(t,n,this.selected,this.hover,e.to)}},{key:"drawLabel",value:function(t,e){if(void 0!==this.options.label){var n=this.from,i=this.to;if(this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(t,this.selected,this.hover),n.id!=i.id){this.labelModule.pointToSelf=!1;var o=this.edgeType.getPoint(.5,e);t.save();var r=this._getRotation(t);0!=r.angle&&(t.translate(r.x,r.y),t.rotate(r.angle)),this.labelModule.draw(t,o.x,o.y,this.selected,this.hover),t.restore()}else{this.labelModule.pointToSelf=!0;var a,s,l=this.options.selfReferenceSize;s=n.shape.width>n.shape.height?(a=n.x+.5*n.shape.width,n.y-l):(a=n.x+l,n.y-.5*n.shape.height),o=this._pointOnCircle(a,s,l,.125),this.labelModule.draw(t,o.x,o.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function(t){var e=[];if(this.labelModule.visible()){var n=this._getRotation();f.pointInRect(this.labelModule.getSize(),t,n)&&e.push({edgeId:this.id,labelId:0})}var i={left:t.x,top:t.y};return this.isOverlappingWith(i)&&e.push({edgeId:this.id}),e}},{key:"isOverlappingWith",value:function(t){if(this.connected){var e=this.from.x,n=this.from.y,i=this.to.x,o=this.to.y,r=t.left,a=t.top;return this.edgeType.getDistanceToEdge(e,n,i,o,r,a)<10}return!1}},{key:"_getRotation",value:function(t){var e=this.edgeType.getViaNode(),n=this.edgeType.getPoint(.5,e);void 0!==t&&this.labelModule.calculateLabelSize(t,this.selected,this.hover,n.x,n.y);var i={x:n.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible())return i;if("horizontal"===this.options.font.align)return i;var o=this.from.y-this.to.y,r=this.from.x-this.to.x,a=Math.atan2(o,r);return(a<-1&&r<0||0<a&&r<0)&&(a+=Math.PI),i.angle=a,i}},{key:"_pointOnCircle",value:function(t,e,n,i){var o=2*i*Math.PI;return{x:t+n*Math.cos(o),y:e-n*Math.sin(o)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}},{key:"remove",value:function(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}},{key:"endPointsValid",value:function(){return void 0!==this.body.nodes[this.fromId]&&void 0!==this.body.nodes[this.toId]}}],[{key:"parseOptions",value:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},o=4<arguments.length&&void 0!==arguments[4]&&arguments[4];if(p.selectiveDeepExtend(["arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","to","title","value","width","font","chosen","widthConstraint"],t,e,n),f.isValidLabel(e.label)?t.label=e.label:t.label=void 0,p.mergeOptions(t,e,"smooth",i),p.mergeOptions(t,e,"shadow",i),void 0!==e.dashes&&null!==e.dashes?t.dashes=e.dashes:!0===n&&null===e.dashes&&(t.dashes=(0,h.default)(i.dashes)),void 0!==e.scaling&&null!==e.scaling?(void 0!==e.scaling.min&&(t.scaling.min=e.scaling.min),void 0!==e.scaling.max&&(t.scaling.max=e.scaling.max),p.mergeOptions(t.scaling,e.scaling,"label",i.scaling)):!0===n&&null===e.scaling&&(t.scaling=(0,h.default)(i.scaling)),void 0!==e.arrows&&null!==e.arrows)if("string"==typeof e.arrows){var r=e.arrows.toLowerCase();t.arrows.to.enabled=-1!=r.indexOf("to"),t.arrows.middle.enabled=-1!=r.indexOf("middle"),t.arrows.from.enabled=-1!=r.indexOf("from")}else{if("object"!==(0,u.default)(e.arrows))throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+(0,d.default)(e.arrows));p.mergeOptions(t.arrows,e.arrows,"to",i.arrows),p.mergeOptions(t.arrows,e.arrows,"middle",i.arrows),p.mergeOptions(t.arrows,e.arrows,"from",i.arrows)}else!0===n&&null===e.arrows&&(t.arrows=(0,h.default)(i.arrows));if(void 0!==e.color&&null!==e.color){var a=e.color,s=t.color;if(o)p.deepExtend(s,i.color,!1,n);else for(var l in s)s.hasOwnProperty(l)&&delete s[l];if(p.isString(s))(((s.color=s).highlight=s).hover=s).inherit=!1,void 0===a.opacity&&(s.opacity=1);else{var c=!1;void 0!==a.color&&(s.color=a.color,c=!0),void 0!==a.highlight&&(s.highlight=a.highlight,c=!0),void 0!==a.hover&&(s.hover=a.hover,c=!0),void 0!==a.inherit&&(s.inherit=a.inherit),void 0!==a.opacity&&(s.opacity=Math.min(1,Math.max(0,a.opacity))),!0===c?s.inherit=!1:void 0===s.inherit&&(s.inherit="from")}}else!0===n&&null===e.color&&(t.color=p.bridgeObject(i.color));!0===n&&null===e.font&&(t.font=p.bridgeObject(i.font))}}]),o}();e.default=o},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(3)),r=i(n(0)),a=i(n(1)),s=i(n(4)),l=i(n(5)),c=function(t){function i(t,e,n){return(0,r.default)(this,i),(0,s.default)(this,(i.__proto__||(0,o.default)(i)).call(this,t,e,n))}return(0,l.default)(i,t),(0,a.default)(i,[{key:"_findBorderPositionBezier",value:function(t,e){var n,i,o,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this._getViaCoordinates(),a=0,s=0,l=1,c=this.to,d=!1;for(t.id===this.from.id&&(c=this.from,d=!0);s<=l&&a<10;){var u=.5*(s+l);if(n=this.getPoint(u,r),i=Math.atan2(c.y-n.y,c.x-n.x),o=c.distanceToBorder(e,i)-Math.sqrt(Math.pow(n.x-c.x,2)+Math.pow(n.y-c.y,2)),Math.abs(o)<.2)break;o<0?!1===d?s=u:l=u:!1===d?l=u:s=u,a++}return n.t=u,n}},{key:"_getDistanceToBezierEdge",value:function(t,e,n,i,o,r,a){var s=1e9,l=void 0,c=void 0,d=void 0,u=void 0,h=void 0,p=t,f=e;for(c=1;c<10;c++)d=.1*c,u=Math.pow(1-d,2)*t+2*d*(1-d)*a.x+Math.pow(d,2)*n,h=Math.pow(1-d,2)*e+2*d*(1-d)*a.y+Math.pow(d,2)*i,0<c&&(s=(l=this._getDistanceToLine(p,f,u,h,o,r))<s?l:s),p=u,f=h;return s}},{key:"_bezierCurve",value:function(t,e,n,i){var o=void 0!==n&&void 0!==n.x,r=void 0!==i&&void 0!==i.x;t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),o&&r?t.bezierCurveTo(n.x,n.y,i.x,i.y,this.toPoint.x,this.toPoint.y):o?t.quadraticCurveTo(n.x,n.y,this.toPoint.x,this.toPoint.y):t.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),i}(i(n(118)).default);e.default=c},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(0)),r=i(n(1)),a=n(2),s=function(){function t(){(0,o.default)(this,t)}return(0,r.default)(t,null,[{key:"getRange",value:function(t){var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],i=1e9,o=-1e9,r=1e9,a=-1e9;if(0<n.length)for(var s=0;s<n.length;s++)r>(e=t[n[s]]).shape.boundingBox.left&&(r=e.shape.boundingBox.left),a<e.shape.boundingBox.right&&(a=e.shape.boundingBox.right),i>e.shape.boundingBox.top&&(i=e.shape.boundingBox.top),o<e.shape.boundingBox.bottom&&(o=e.shape.boundingBox.bottom);return 1e9===r&&-1e9===a&&1e9===i&&-1e9===o&&(a=r=o=i=0),{minX:r,maxX:a,minY:i,maxY:o}}},{key:"getRangeCore",value:function(t){var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],i=1e9,o=-1e9,r=1e9,a=-1e9;if(0<n.length)for(var s=0;s<n.length;s++)r>(e=t[n[s]]).x&&(r=e.x),a<e.x&&(a=e.x),i>e.y&&(i=e.y),o<e.y&&(o=e.y);return 1e9===r&&-1e9===a&&1e9===i&&-1e9===o&&(a=r=o=i=0),{minX:r,maxX:a,minY:i,maxY:o}}},{key:"findCenter",value:function(t){return{x:.5*(t.maxX+t.minX),y:.5*(t.maxY+t.minY)}}},{key:"cloneOptions",value:function(t,e){var n={};return void 0===e||"node"===e?(a.deepExtend(n,t.options,!0),n.x=t.x,n.y=t.y,n.amountOfConnections=t.edges.length):a.deepExtend(n,t.options,!0),n}}]),t}();e.default=s},function(t,e,n){t.exports={default:n(124),__esModule:!0}},function(t,e,n){var i=n(50);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e,n){var b=n(52),_=n(17),x=n(83),w=n(26),E=n(22),M=n(31),T=n(129),C=n(59),S=n(85),A=n(13)("iterator"),k=!([].keys&&"next"in[].keys()),D=function(){return this};t.exports=function(t,e,n,i,o,r,a){T(n,e,i);var s,l,c,d=function(t){if(!k&&t in f)return f[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},u=e+" Iterator",h="values"==o,p=!1,f=t.prototype,m=f[A]||f["@@iterator"]||o&&f[o],g=m||d(o),v=o?h?d("entries"):g:void 0,y="Array"==e&&f.entries||m;if(y&&(c=S(y.call(new t)))!==Object.prototype&&c.next&&(C(c,u,!0),b||E(c,A)||w(c,A,D)),h&&m&&"values"!==m.name&&(p=!0,g=function(){return m.call(this)}),b&&!a||!k&&!p&&f[A]||w(f,A,g),M[e]=g,M[u]=D,o)if(s={values:h?g:d("values"),keys:r?g:d("keys"),entries:v},a)for(l in s)l in f||x(f,l,s[l]);else _(_.P+_.F*(k||p),e,s);return s}},function(t,e,n){var r=n(128);t.exports=function(i,o,t){if(r(i),void 0===o)return i;switch(t){case 1:return function(t){return i.call(o,t)};case 2:return function(t,e){return i.call(o,t,e)};case 3:return function(t,e,n){return i.call(o,t,e,n)}}return function(){return i.apply(o,arguments)}}},function(t,e,n){t.exports=!n(21)&&!n(28)(function(){return 7!=Object.defineProperty(n(82)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var i=n(32),o=n(18).document,r=i(o)&&i(o.createElement);t.exports=function(t){return r?o.createElement(t):{}}},function(t,e,n){t.exports=n(26)},function(t,e,n){var a=n(22),s=n(25),l=n(131)(!1),c=n(56)("IE_PROTO");t.exports=function(t,e){var n,i=s(t),o=0,r=[];for(n in i)n!=c&&a(i,n)&&r.push(n);for(;e.length>o;)a(i,n=e[o++])&&(~l(r,n)||r.push(n));return r}},function(t,e,n){var i=n(22),o=n(41),r=n(56)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),i(t,r)?t[r]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){var o=n(50),r=n(13)("toStringTag"),a="Arguments"==o(function(){return arguments}());t.exports=function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),r))?n:a?o(e):"Object"==(i=o(e))&&"function"==typeof e.callee?"Arguments":i}},function(t,e,n){var o=n(17),r=n(7),a=n(28);t.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],i={};i[t]=e(n),o(o.S+o.F*a(function(){n(1)}),"Object",i)}},function(t,e,n){var i=n(84),o=n(58).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,o)}},function(t,e,n){var i=n(42),o=n(39),r=n(25),a=n(53),s=n(22),l=n(81),c=Object.getOwnPropertyDescriptor;e.f=n(21)?c:function(t,e){if(t=r(t),e=a(e,!0),l)try{return c(t,e)}catch(t){}if(s(t,e))return o(!i.f.call(t,e),t[e])}},function(t,e,n){t.exports={default:n(162),__esModule:!0}},function(t,e,n){t.exports=function(t,e){this.x=void 0!==t?t:0,this.y=void 0!==e?e:0}},function(t,e,n){function i(t,e){if(void 0===t)throw new Error("No container element defined");if(this.container=t,this.visible=!e||null==e.visible||e.visible,this.visible){this.frame=document.createElement("DIV"),this.frame.style.width="100%",this.frame.style.position="relative",this.container.appendChild(this.frame),this.frame.prev=document.createElement("INPUT"),this.frame.prev.type="BUTTON",this.frame.prev.value="Prev",this.frame.appendChild(this.frame.prev),this.frame.play=document.createElement("INPUT"),this.frame.play.type="BUTTON",this.frame.play.value="Play",this.frame.appendChild(this.frame.play),this.frame.next=document.createElement("INPUT"),this.frame.next.type="BUTTON",this.frame.next.value="Next",this.frame.appendChild(this.frame.next),this.frame.bar=document.createElement("INPUT"),this.frame.bar.type="BUTTON",this.frame.bar.style.position="absolute",this.frame.bar.style.border="1px solid red",this.frame.bar.style.width="100px",this.frame.bar.style.height="6px",this.frame.bar.style.borderRadius="2px",this.frame.bar.style.MozBorderRadius="2px",this.frame.bar.style.border="1px solid #7F7F7F",this.frame.bar.style.backgroundColor="#E5E5E5",this.frame.appendChild(this.frame.bar),this.frame.slide=document.createElement("INPUT"),this.frame.slide.type="BUTTON",this.frame.slide.style.margin="0px",this.frame.slide.value=" ",this.frame.slide.style.position="relative",this.frame.slide.style.left="-100px",this.frame.appendChild(this.frame.slide);var n=this;this.frame.slide.onmousedown=function(t){n._onMouseDown(t)},this.frame.prev.onclick=function(t){n.prev(t)},this.frame.play.onclick=function(t){n.togglePlay(t)},this.frame.next.onclick=function(t){n.next(t)}}this.onChangeCallback=void 0,this.values=[],this.index=void 0,this.playTimeout=void 0,this.playInterval=1e3,this.playLoop=!0}var o=n(2);i.prototype.prev=function(){var t=this.getIndex();0<t&&(t--,this.setIndex(t))},i.prototype.next=function(){var t=this.getIndex();t<this.values.length-1&&(t++,this.setIndex(t))},i.prototype.playNext=function(){var t=new Date,e=this.getIndex();e<this.values.length-1?(e++,this.setIndex(e)):this.playLoop&&(e=0,this.setIndex(e));var n=new Date-t,i=Math.max(this.playInterval-n,0),o=this;this.playTimeout=setTimeout(function(){o.playNext()},i)},i.prototype.togglePlay=function(){void 0===this.playTimeout?this.play():this.stop()},i.prototype.play=function(){this.playTimeout||(this.playNext(),this.frame&&(this.frame.play.value="Stop"))},i.prototype.stop=function(){clearInterval(this.playTimeout),this.playTimeout=void 0,this.frame&&(this.frame.play.value="Play")},i.prototype.setOnChangeCallback=function(t){this.onChangeCallback=t},i.prototype.setPlayInterval=function(t){this.playInterval=t},i.prototype.getPlayInterval=function(){return this.playInterval},i.prototype.setPlayLoop=function(t){this.playLoop=t},i.prototype.onChange=function(){void 0!==this.onChangeCallback&&this.onChangeCallback()},i.prototype.redraw=function(){if(this.frame){this.frame.bar.style.top=this.frame.clientHeight/2-this.frame.bar.offsetHeight/2+"px",this.frame.bar.style.width=this.frame.clientWidth-this.frame.prev.clientWidth-this.frame.play.clientWidth-this.frame.next.clientWidth-30+"px";var t=this.indexToLeft(this.index);this.frame.slide.style.left=t+"px"}},i.prototype.setValues=function(t){this.values=t,0<this.values.length?this.setIndex(0):this.index=void 0},i.prototype.setIndex=function(t){if(!(t<this.values.length))throw new Error("Index out of range");this.index=t,this.redraw(),this.onChange()},i.prototype.getIndex=function(){return this.index},i.prototype.get=function(){return this.values[this.index]},i.prototype._onMouseDown=function(t){if(t.which?1===t.which:1===t.button){this.startClientX=t.clientX,this.startSlideX=parseFloat(this.frame.slide.style.left),this.frame.style.cursor="move";var e=this;this.onmousemove=function(t){e._onMouseMove(t)},this.onmouseup=function(t){e._onMouseUp(t)},o.addEventListener(document,"mousemove",this.onmousemove),o.addEventListener(document,"mouseup",this.onmouseup),o.preventDefault(t)}},i.prototype.leftToIndex=function(t){var e=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10,n=t-3,i=Math.round(n/e*(this.values.length-1));return i<0&&(i=0),i>this.values.length-1&&(i=this.values.length-1),i},i.prototype.indexToLeft=function(t){var e=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10;return t/(this.values.length-1)*e+3},i.prototype._onMouseMove=function(t){var e=t.clientX-this.startClientX,n=this.startSlideX+e,i=this.leftToIndex(n);this.setIndex(i),o.preventDefault()},i.prototype._onMouseUp=function(t){this.frame.style.cursor="auto",o.removeEventListener(document,"mousemove",this.onmousemove),o.removeEventListener(document,"mouseup",this.onmouseup),o.preventDefault()},t.exports=i},function(t,e,n){function i(t,e,n,i){this._start=0,this._end=0,this._step=1,this.prettyStep=!0,this.precision=5,this._current=0,this.setRange(t,e,n,i)}i.prototype.isNumeric=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},i.prototype.setRange=function(t,e,n,i){if(!this.isNumeric(t))throw new Error("Parameter 'start' is not numeric; value: "+t);if(!this.isNumeric(e))throw new Error("Parameter 'end' is not numeric; value: "+t);if(!this.isNumeric(n))throw new Error("Parameter 'step' is not numeric; value: "+t);this._start=t||0,this._end=e||0,this.setStep(n,i)},i.prototype.setStep=function(t,e){void 0===t||t<=0||(void 0!==e&&(this.prettyStep=e),!0===this.prettyStep?this._step=i.calculatePrettyStep(t):this._step=t)},i.calculatePrettyStep=function(t){var e=function(t){return Math.log(t)/Math.LN10},n=Math.pow(10,Math.round(e(t))),i=2*Math.pow(10,Math.round(e(t/2))),o=5*Math.pow(10,Math.round(e(t/5))),r=n;return Math.abs(i-t)<=Math.abs(r-t)&&(r=i),Math.abs(o-t)<=Math.abs(r-t)&&(r=o),r<=0&&(r=1),r},i.prototype.getCurrent=function(){return parseFloat(this._current.toPrecision(this.precision))},i.prototype.getStep=function(){return this._step},i.prototype.start=function(t){void 0===t&&(t=!1),this._current=this._start-this._start%this._step,t&&this.getCurrent()<this._start&&this.next()},i.prototype.next=function(){this._current+=this._step},i.prototype.end=function(){return this._current>this._end},t.exports=i},function(t,e,n){function i(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function a(t,e){return void 0===t||""===t?e:t+(void 0===(n=e)||""===n||"string"!=typeof n?n:n.charAt(0).toUpperCase()+n.slice(1));var n}function o(t,e,n,i){for(var o,r=0;r<n.length;++r)e[a(i,o=n[r])]=t[o]}function r(t,e,n,i){for(var o,r=0;r<n.length;++r)void 0!==t[o=n[r]]&&(e[a(i,o)]=t[o])}function s(t,e){var n,i;void 0!==t.backgroundColor&&function(t,e){var n="white",i="gray",o=1;if("string"==typeof t)n=t,i="none",o=0;else{if("object"!==(void 0===t?"undefined":(0,u.default)(t)))throw new Error("Unsupported type of backgroundColor");void 0!==t.fill&&(n=t.fill),void 0!==t.stroke&&(i=t.stroke),void 0!==t.strokeWidth&&(o=t.strokeWidth)}e.frame.style.backgroundColor=n,e.frame.style.borderColor=i,e.frame.style.borderWidth=o+"px",e.frame.style.borderStyle="solid"}(t.backgroundColor,e),n=t.dataColor,i=e,void 0!==n&&(void 0===i.dataColor&&(i.dataColor={}),"string"==typeof n?(i.dataColor.fill=n,i.dataColor.stroke=n):(n.fill&&(i.dataColor.fill=n.fill),n.stroke&&(i.dataColor.stroke=n.stroke),void 0!==n.strokeWidth&&(i.dataColor.strokeWidth=n.strokeWidth))),function(t,e){if(void 0!==t){var n;if("string"==typeof t){if(-1===(i=g[t],n=void 0===i?-1:i))throw new Error("Style '"+t+"' is invalid")}else{if(!function(t){var e=!1;for(var n in m)if(m[n]===t){e=!0;break}return e}(t))throw new Error("Style '"+t+"' is invalid");n=t}e.style=n}var i}(t.style,e),function(t,e){if(void 0===t){if(void 0===b.showLegend){var n=e.style===m.DOTCOLOR||e.style===m.DOTSIZE;e.showLegend=n}}else e.showLegend=t}(t.showLegend,e),l(t.cameraPosition,e),void 0!==t.tooltip&&(e.showTooltip=t.tooltip),null!=t.onclick&&(e.onclick_callback=t.onclick),void 0!==t.tooltipStyle&&h.selectiveDeepExtend(["tooltipStyle"],e,t)}function l(t,e){var n=t;void 0!==n&&(void 0===e.camera&&(e.camera=new p),e.camera.setArmRotation(n.horizontal,n.vertical),e.camera.setArmLength(n.distance))}var c,d=n(6),u=(c=d)&&c.__esModule?c:{default:c},h=n(2),p=n(95),f=n(34),m={BAR:0,BARCOLOR:1,BARSIZE:2,DOT:3,DOTLINE:4,DOTCOLOR:5,DOTSIZE:6,GRID:7,LINE:8,SURFACE:9},g={dot:m.DOT,"dot-line":m.DOTLINE,"dot-color":m.DOTCOLOR,"dot-size":m.DOTSIZE,line:m.LINE,grid:m.GRID,surface:m.SURFACE,bar:m.BAR,"bar-color":m.BARCOLOR,"bar-size":m.BARSIZE},v=["width","height","filterLabel","legendLabel","xLabel","yLabel","zLabel","xValueLabel","yValueLabel","zValueLabel","showXAxis","showYAxis","showZAxis","showGrid","showPerspective","showShadow","keepAspectRatio","verticalRatio","dotSizeRatio","dotSizeMinFraction","dotSizeMaxFraction","showAnimationControls","animationInterval","animationPreload","animationAutoStart","axisColor","gridColor","xCenter","yCenter"],y=["xBarWidth","yBarWidth","valueMin","valueMax","xMin","xMax","xStep","yMin","yMax","yStep","zMin","zMax","zStep"],b=void 0;t.exports.STYLE=m,t.exports.setDefaults=function(t,e){if(void 0===t||i(t))throw new Error("No DEFAULTS passed");if(void 0===e)throw new Error("No dst passed");o(b=t,e,v),o(t,e,y,"default"),s(t,e),e.margin=10,e.showGrayBottom=!1,e.showTooltip=!1,e.onclick_callback=null,e.eye=new f(0,0,-1)},t.exports.setOptions=function(t,e){if(void 0!==t){if(void 0===e)throw new Error("No dst passed");if(void 0===b||i(b))throw new Error("DEFAULTS not set for module Settings");r(t,e,v),r(t,e,y,"default"),s(t,e)}},t.exports.setCameraPosition=l},function(t,e,n){function i(){this.armLocation=new s,this.armRotation={},this.armRotation.horizontal=0,this.armRotation.vertical=0,this.armLength=1.7,this.cameraOffset=new s,this.offsetMultiplier=.6,this.cameraLocation=new s,this.cameraRotation=new s(.5*Math.PI,0,0),this.calculateCameraOrientation()}var o,r=n(165),a=(o=r)&&o.__esModule?o:{default:o},s=n(34);i.prototype.setOffset=function(t,e){var n=Math.abs,i=a.default,o=this.offsetMultiplier,r=this.armLength*o;n(t)>r&&(t=i(t)*r),n(e)>r&&(e=i(e)*r),this.cameraOffset.x=t,this.cameraOffset.y=e,this.calculateCameraOrientation()},i.prototype.getOffset=function(){return this.cameraOffset},i.prototype.setArmLocation=function(t,e,n){this.armLocation.x=t,this.armLocation.y=e,this.armLocation.z=n,this.calculateCameraOrientation()},i.prototype.setArmRotation=function(t,e){void 0!==t&&(this.armRotation.horizontal=t),void 0!==e&&(this.armRotation.vertical=e,this.armRotation.vertical<0&&(this.armRotation.vertical=0),this.armRotation.vertical>.5*Math.PI&&(this.armRotation.vertical=.5*Math.PI)),void 0===t&&void 0===e||this.calculateCameraOrientation()},i.prototype.getArmRotation=function(){var t={};return t.horizontal=this.armRotation.horizontal,t.vertical=this.armRotation.vertical,t},i.prototype.setArmLength=function(t){void 0!==t&&(this.armLength=t,this.armLength<.71&&(this.armLength=.71),5<this.armLength&&(this.armLength=5),this.setOffset(this.cameraOffset.x,this.cameraOffset.y),this.calculateCameraOrientation())},i.prototype.getArmLength=function(){return this.armLength},i.prototype.getCameraLocation=function(){return this.cameraLocation},i.prototype.getCameraRotation=function(){return this.cameraRotation},i.prototype.calculateCameraOrientation=function(){this.cameraLocation.x=this.armLocation.x-this.armLength*Math.sin(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.y=this.armLocation.y-this.armLength*Math.cos(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.z=this.armLocation.z+this.armLength*Math.sin(this.armRotation.vertical),this.cameraRotation.x=Math.PI/2-this.armRotation.vertical,this.cameraRotation.y=0,this.cameraRotation.z=-this.armRotation.horizontal;var t=this.cameraRotation.x,e=this.cameraRotation.z,n=this.cameraOffset.x,i=this.cameraOffset.y,o=Math.sin,r=Math.cos;this.cameraLocation.x=this.cameraLocation.x+n*r(e)+i*-o(e)*r(t),this.cameraLocation.y=this.cameraLocation.y+n*o(e)+i*r(e)*r(t),this.cameraLocation.z=this.cameraLocation.z+i*o(t)},t.exports=i},function(t,e,n){function i(t,e,n){this.dataGroup=t,this.column=e,this.graph=n,this.index=void 0,this.value=void 0,this.values=t.getDistinctValues(this.column),0<this.values.length&&this.selectValue(0),this.dataPoints=[],this.loaded=!1,this.onLoadCallback=void 0,n.animationPreload?(this.loaded=!1,this.loadInBackground()):this.loaded=!0}var o=n(12);i.prototype.isLoaded=function(){return this.loaded},i.prototype.getLoadedProgress=function(){for(var t=this.values.length,e=0;this.dataPoints[e];)e++;return Math.round(e/t*100)},i.prototype.getLabel=function(){return this.graph.filterLabel},i.prototype.getColumn=function(){return this.column},i.prototype.getSelectedValue=function(){if(void 0!==this.index)return this.values[this.index]},i.prototype.getValues=function(){return this.values},i.prototype.getValue=function(t){if(t>=this.values.length)throw new Error("Index out of range");return this.values[t]},i.prototype._getDataPoints=function(t){if(void 0===t&&(t=this.index),void 0===t)return[];var e;if(this.dataPoints[t])e=this.dataPoints[t];else{var n={};n.column=this.column,n.value=this.values[t];var i=new o(this.dataGroup.getDataSet(),{filter:function(t){return t[n.column]==n.value}}).get();e=this.dataGroup._getDataPoints(i),this.dataPoints[t]=e}return e},i.prototype.setOnLoadCallback=function(t){this.onLoadCallback=t},i.prototype.selectValue=function(t){if(t>=this.values.length)throw new Error("Index out of range");this.index=t,this.value=this.values[t]},i.prototype.loadInBackground=function(t){void 0===t&&(t=0);var e=this.graph.frame;if(t<this.values.length){void 0===e.progress&&(e.progress=document.createElement("DIV"),e.progress.style.position="absolute",e.progress.style.color="gray",e.appendChild(e.progress));var n=this.getLoadedProgress();e.progress.innerHTML="Loading animation... "+n+"%",e.progress.style.bottom="60px",e.progress.style.left="10px";var i=this;setTimeout(function(){i.loadInBackground(t+1)},10),this.loaded=!1}else this.loaded=!0,void 0!==e.progress&&(e.removeChild(e.progress),e.progress=void 0),this.onLoadCallback&&this.onLoadCallback()},t.exports=i},function(t,e,n){function i(e){this.active=!1,this.dom={container:e},this.dom.overlay=document.createElement("div"),this.dom.overlay.className="vis-overlay",this.dom.container.appendChild(this.dom.overlay),this.hammer=a(this.dom.overlay),this.hammer.on("tap",this._onTapOverlay.bind(this));var n=this;["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach(function(t){n.hammer.on(t,function(t){t.stopPropagation()})}),document&&document.body&&(this.onClick=function(t){(function(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1})(t.target,e)||n.deactivate()},document.body.addEventListener("click",this.onClick)),void 0!==this.keycharm&&this.keycharm.destroy(),this.keycharm=o(),this.escListener=this.deactivate.bind(this)}var o=n(35),r=n(44),a=n(10),s=n(2);r(i.prototype),i.current=null,i.prototype.destroy=function(){this.deactivate(),this.dom.overlay.parentNode.removeChild(this.dom.overlay),this.onClick&&document.body.removeEventListener("click",this.onClick),this.hammer.destroy(),this.hammer=null},i.prototype.activate=function(){i.current&&i.current.deactivate(),(i.current=this).active=!0,this.dom.overlay.style.display="none",s.addClassName(this.dom.container,"vis-active"),this.emit("change"),this.emit("activate"),this.keycharm.bind("esc",this.escListener)},i.prototype.deactivate=function(){this.active=!1,this.dom.overlay.style.display="",s.removeClassName(this.dom.container,"vis-active"),this.keycharm.unbind("esc",this.escListener),this.emit("change"),this.emit("deactivate")},i.prototype._onTapOverlay=function(t){this.activate(),t.stopPropagation()},t.exports=i},function(t,e,n){e.en={current:"current",time:"time"},e.en_EN=e.en,e.en_US=e.en,e.it={current:"attuale",time:"tempo"},e.it_IT=e.it,e.it_CH=e.it,e.nl={current:"huidige",time:"tijd"},e.nl_NL=e.nl,e.nl_BE=e.nl,e.de={current:"Aktuelle",time:"Zeit"},e.de_DE=e.de,e.fr={current:"actuel",time:"heure"},e.fr_FR=e.fr,e.fr_CA=e.fr,e.fr_BE=e.fr,e.es={current:"corriente",time:"hora"},e.es_ES=e.es},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}function u(t,e){this.body=t,this.defaultOptions={type:null,orientation:{item:"bottom"},align:"auto",stack:!0,stackSubgroups:!0,groupOrderSwap:function(t,e,n){var i=e.order;e.order=t.order,t.order=i},groupOrder:"order",selectable:!0,multiselect:!1,itemsAlwaysDraggable:{item:!1,range:!1},editable:{updateTime:!1,updateGroup:!1,add:!1,remove:!1,overrideItems:!1},groupEditable:{order:!1,add:!1,remove:!1},snap:l.snap,onDropObjectOnItem:function(t,e,n){n(e)},onAdd:function(t,e){e(t)},onUpdate:function(t,e){e(t)},onMove:function(t,e){e(t)},onRemove:function(t,e){e(t)},onMoving:function(t,e){e(t)},onAddGroup:function(t,e){e(t)},onMoveGroup:function(t,e){e(t)},onRemoveGroup:function(t,e){e(t)},margin:{item:{horizontal:10,vertical:10},axis:20},showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip"},tooltipOnItemUpdateTime:!1},this.options=w.extend({},this.defaultOptions),this.options.rtl=e.rtl,this.itemOptions={type:{start:"Date",end:"Date"}},this.conversion={toScreen:t.util.toScreen,toTime:t.util.toTime},this.dom={},this.props={},this.hammer=null;var i=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(t,e,n){i._onAdd(e.items)},update:function(t,e,n){i._onUpdate(e.items)},remove:function(t,e,n){i._onRemove(e.items)}},this.groupListeners={add:function(t,e,o){if(i._onAddGroups(e.items),i.groupsData&&0<i.groupsData.length){var r=i.groupsData.getDataSet();r.get().forEach(function(n){if(n.nestedGroups){0!=n.showNested&&(n.showNested=!0);var i=[];n.nestedGroups.forEach(function(t){var e=r.get(t);e&&(e.nestedInGroup=n.id,0==n.showNested&&(e.visible=!1),i=i.concat(e))}),r.update(i,o)}})}},update:function(t,e,n){i._onUpdateGroups(e.items)},remove:function(t,e,n){i._onRemoveGroups(e.items)}},this.items={},this.groups={},this.groupIds=[],this.selection=[],this.popup=null,this.touchParams={},this.groupTouchParams={},this._create(),this.setOptions(e)}var s=i(n(29)),o=i(n(6)),a=n(10),w=n(2),r=n(11),_=n(12),l=n(66),c=n(16),d=n(68),h=n(69),p=n(101),f=n(102),m=n(70),g=n(103),v=n(104).default,y="__ungrouped__",E="__background__";u.prototype=new c,u.types={background:g,box:p,range:m,point:f},u.prototype._create=function(){var t=document.createElement("div");t.className="vis-itemset",(t["timeline-itemset"]=this).dom.frame=t;var e=document.createElement("div");e.className="vis-background",t.appendChild(e),this.dom.background=e;var n=document.createElement("div");n.className="vis-foreground",t.appendChild(n),this.dom.foreground=n;var i=document.createElement("div");i.className="vis-axis",this.dom.axis=i;var o=document.createElement("div");o.className="vis-labelset",this.dom.labelSet=o,this._updateUngrouped();var r=new h(E,null,this);r.show(),this.groups[E]=r,this.hammer=new a(this.body.dom.centerContainer),this.hammer.on("hammer.input",function(t){t.isFirst&&this._onTouch(t)}.bind(this)),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:a.DIRECTION_HORIZONTAL}),this.hammer.on("tap",this._onSelectItem.bind(this)),this.hammer.on("press",this._onMultiSelectItem.bind(this)),this.hammer.on("doubletap",this._onAddItem.bind(this)),this.options.rtl?this.groupHammer=new a(this.body.dom.rightContainer):this.groupHammer=new a(this.body.dom.leftContainer),this.groupHammer.on("tap",this._onGroupClick.bind(this)),this.groupHammer.on("panstart",this._onGroupDragStart.bind(this)),this.groupHammer.on("panmove",this._onGroupDrag.bind(this)),this.groupHammer.on("panend",this._onGroupDragEnd.bind(this)),this.groupHammer.get("pan").set({threshold:5,direction:a.DIRECTION_VERTICAL}),this.body.dom.centerContainer.addEventListener("mouseover",this._onMouseOver.bind(this)),this.body.dom.centerContainer.addEventListener("mouseout",this._onMouseOut.bind(this)),this.body.dom.centerContainer.addEventListener("mousemove",this._onMouseMove.bind(this)),this.body.dom.centerContainer.addEventListener("contextmenu",this._onDragEnd.bind(this)),this.body.dom.centerContainer.addEventListener("mousewheel",this._onMouseWheel.bind(this)),this.show()},u.prototype.setOptions=function(n){if(n){w.selectiveExtend(["type","rtl","align","order","stack","stackSubgroups","selectable","multiselect","multiselectPerGroup","groupOrder","dataAttributes","template","groupTemplate","visibleFrameTemplate","hide","snap","groupOrderSwap","showTooltips","tooltip","tooltipOnItemUpdateTime"],this.options,n),"itemsAlwaysDraggable"in n&&("boolean"==typeof n.itemsAlwaysDraggable?(this.options.itemsAlwaysDraggable.item=n.itemsAlwaysDraggable,this.options.itemsAlwaysDraggable.range=!1):"object"===(0,o.default)(n.itemsAlwaysDraggable)&&(w.selectiveExtend(["item","range"],this.options.itemsAlwaysDraggable,n.itemsAlwaysDraggable),this.options.itemsAlwaysDraggable.item||(this.options.itemsAlwaysDraggable.range=!1))),"orientation"in n&&("string"==typeof n.orientation?this.options.orientation.item="top"===n.orientation?"top":"bottom":"object"===(0,o.default)(n.orientation)&&"item"in n.orientation&&(this.options.orientation.item=n.orientation.item)),"margin"in n&&("number"==typeof n.margin?(this.options.margin.axis=n.margin,this.options.margin.item.horizontal=n.margin,this.options.margin.item.vertical=n.margin):"object"===(0,o.default)(n.margin)&&(w.selectiveExtend(["axis"],this.options.margin,n.margin),"item"in n.margin&&("number"==typeof n.margin.item?(this.options.margin.item.horizontal=n.margin.item,this.options.margin.item.vertical=n.margin.item):"object"===(0,o.default)(n.margin.item)&&w.selectiveExtend(["horizontal","vertical"],this.options.margin.item,n.margin.item)))),"editable"in n&&("boolean"==typeof n.editable?(this.options.editable.updateTime=n.editable,this.options.editable.updateGroup=n.editable,this.options.editable.add=n.editable,this.options.editable.remove=n.editable,this.options.editable.overrideItems=!1):"object"===(0,o.default)(n.editable)&&w.selectiveExtend(["updateTime","updateGroup","add","remove","overrideItems"],this.options.editable,n.editable)),"groupEditable"in n&&("boolean"==typeof n.groupEditable?(this.options.groupEditable.order=n.groupEditable,this.options.groupEditable.add=n.groupEditable,this.options.groupEditable.remove=n.groupEditable):"object"===(0,o.default)(n.groupEditable)&&w.selectiveExtend(["order","add","remove"],this.options.groupEditable,n.groupEditable)),["onDropObjectOnItem","onAdd","onUpdate","onRemove","onMove","onMoving","onAddGroup","onMoveGroup","onRemoveGroup"].forEach(function(t){var e=n[t];if(e){if(!(e instanceof Function))throw new Error("option "+t+" must be a function "+t+"(item, callback)");this.options[t]=e}}.bind(this)),this.markDirty()}},u.prototype.markDirty=function(t){this.groupIds=[],t&&t.refreshItems&&w.forEach(this.items,function(t){t.dirty=!0,t.displayed&&t.redraw()})},u.prototype.destroy=function(){this.hide(),this.setItems(null),this.setGroups(null),this.hammer=null,this.body=null,this.conversion=null},u.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.axis.parentNode&&this.dom.axis.parentNode.removeChild(this.dom.axis),this.dom.labelSet.parentNode&&this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)},u.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame),this.dom.axis.parentNode||this.body.dom.backgroundVertical.appendChild(this.dom.axis),this.dom.labelSet.parentNode||(this.options.rtl?this.body.dom.right.appendChild(this.dom.labelSet):this.body.dom.left.appendChild(this.dom.labelSet))},u.prototype.setSelection=function(t){var e,n,i,o;for(null==t&&(t=[]),Array.isArray(t)||(t=[t]),e=0,n=this.selection.length;e<n;e++)i=this.selection[e],(o=this.items[i])&&o.unselect();for(this.selection=[],e=0,n=t.length;e<n;e++)i=t[e],(o=this.items[i])&&(this.selection.push(i),o.select())},u.prototype.getSelection=function(){return this.selection.concat([])},u.prototype.getVisibleItems=function(){var t,e,n=this.body.range.getRange();this.options.rtl?(t=this.body.util.toScreen(n.start),e=this.body.util.toScreen(n.end)):(e=this.body.util.toScreen(n.start),t=this.body.util.toScreen(n.end));var i=[];for(var o in this.groups)if(this.groups.hasOwnProperty(o))for(var r=this.groups[o],a=r.isVisible?r.visibleItems:[],s=0;s<a.length;s++){var l=a[s];this.options.rtl?l.right<e&&l.right+l.width>t&&i.push(l.id):l.left<t&&l.left+l.width>e&&i.push(l.id)}return i},u.prototype._deselect=function(t){for(var e=this.selection,n=0,i=e.length;n<i;n++)if(e[n]==t){e.splice(n,1);break}},u.prototype.redraw=function(){var t=this.options.margin,i=this.body.range,e=w.option.asSize,n=this.options,o=n.orientation.item,r=!1,a=this.dom.frame;this.props.top=this.body.domProps.top.height+this.body.domProps.border.top,this.options.rtl?this.props.right=this.body.domProps.right.width+this.body.domProps.border.right:this.props.left=this.body.domProps.left.width+this.body.domProps.border.left,a.className="vis-itemset",r=this._orderGroups()||r;var s=i.end-i.start,l=s!=this.lastVisibleInterval||this.props.width!=this.props.lastWidth,c=i.start!=this.lastRangeStart,d=n.stack!=this.lastStack,u=n.stackSubgroups!=this.lastStackSubgroups,h=l||c||d||u;this.lastVisibleInterval=s,this.lastRangeStart=i.start,this.lastStack=n.stack,this.lastStackSubgroups=n.stackSubgroups,this.props.lastWidth=this.props.width;var p=this._firstGroup(),f={item:t.item,axis:t.axis},m={item:t.item,axis:t.item.vertical/2},g=0,v=t.axis+t.item.vertical;this.groups[E].redraw(i,m,h);var y={},b=0;if(w.forEach(this.groups,function(t,e){if(e!==E){var n=t==p?f:m;y[e]=t.redraw(i,n,h,!0),b=y[e].length}}),0<b){for(var _={},x=0;x<b;x++)w.forEach(y,function(t,e){_[e]=t[x]()});w.forEach(this.groups,function(t,e){if(e!==E){var n=_[e];r=n||r,g+=t.height}}),g=Math.max(g,v)}return g=Math.max(g,v),a.style.height=e(g),this.props.width=a.offsetWidth,this.props.height=g,this.dom.axis.style.top=e("top"==o?this.body.domProps.top.height+this.body.domProps.border.top:this.body.domProps.top.height+this.body.domProps.centerContainer.height),this.options.rtl?this.dom.axis.style.right="0":this.dom.axis.style.left="0",this.initialItemSetDrawn=!0,r=this._isResized()||r},u.prototype._firstGroup=function(){var t="top"==this.options.orientation.item?0:this.groupIds.length-1,e=this.groupIds[t];return this.groups[e]||this.groups[y]||null},u.prototype._updateUngrouped=function(){var t,e,n=this.groups[y];if(this.groupsData){if(n)for(e in n.hide(),delete this.groups[y],this.items)if(this.items.hasOwnProperty(e)){(t=this.items[e]).parent&&t.parent.remove(t);var i=this._getGroupId(t.data),o=this.groups[i];o&&o.add(t)||t.hide()}}else if(!n){for(e in n=new d(null,null,this),this.groups[y]=n,this.items)this.items.hasOwnProperty(e)&&(t=this.items[e],n.add(t));n.show()}},u.prototype.getLabelSet=function(){return this.dom.labelSet},u.prototype.setItems=function(t){var e,n=this,i=this.itemsData;if(t){if(!(t instanceof r||t instanceof _))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=t}else this.itemsData=null;if(i&&(w.forEach(this.itemListeners,function(t,e){i.off(e,t)}),e=i.getIds(),this._onRemove(e)),this.itemsData){var o=this.id;w.forEach(this.itemListeners,function(t,e){n.itemsData.on(e,t,o)}),e=this.itemsData.getIds(),this._onAdd(e),this._updateUngrouped()}this.body.emitter.emit("_change",{queue:!0})},u.prototype.getItems=function(){return this.itemsData},u.prototype.setGroups=function(t){var e,n=this;if(this.groupsData&&(w.forEach(this.groupListeners,function(t,e){n.groupsData.off(e,t)}),e=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(e)),t){if(!(t instanceof r||t instanceof _))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=t}else this.groupsData=null;if(this.groupsData){var i=this.groupsData;this.groupsData instanceof _&&(i=this.groupsData.getDataSet()),i.get().forEach(function(n){n.nestedGroups&&n.nestedGroups.forEach(function(t){var e=i.get(t);e.nestedInGroup=n.id,0==n.showNested&&(e.visible=!1),i.update(e)})});var o=this.id;w.forEach(this.groupListeners,function(t,e){n.groupsData.on(e,t,o)}),e=this.groupsData.getIds(),this._onAddGroups(e)}this._updateUngrouped(),this._order(),this.body.emitter.emit("_change",{queue:!0})},u.prototype.getGroups=function(){return this.groupsData},u.prototype.removeItem=function(e){var t=this.itemsData.get(e),n=this.itemsData.getDataSet();t&&this.options.onRemove(t,function(t){t&&n.remove(e)})},u.prototype._getType=function(t){return t.type||this.options.type||(t.end?"range":"box")},u.prototype._getGroupId=function(t){return"background"==this._getType(t)&&null==t.group?E:this.groupsData?t.group:y},u.prototype._onAdd=u.prototype._onUpdate=function(t){var a=this;t.forEach(function(t){var e,n=a.itemsData.get(t,a.itemOptions),i=a.items[t],o=n?a._getType(n):null,r=u.types[o];if(i&&(r&&i instanceof r?a._updateItem(i,n):(e=i.selected,a._removeItem(i),i=null)),!i&&n){if(!r)throw"rangeoverflow"==o?new TypeError('Item type "rangeoverflow" is deprecated. Use css styling instead: .vis-item.vis-range .vis-item-content {overflow: visible;}'):new TypeError('Unknown item type "'+o+'"');(i=new r(n,a.conversion,a.options)).id=t,a._addItem(i),e&&(this.selection.push(t),i.select())}}.bind(this)),this._order(),this.body.emitter.emit("_change",{queue:!0})},u.prototype._onRemove=function(t){var n=0,i=this;t.forEach(function(t){var e=i.items[t];e&&(n++,i._removeItem(e))}),n&&(this._order(),this.body.emitter.emit("_change",{queue:!0}))},u.prototype._order=function(){w.forEach(this.groups,function(t){t.order()})},u.prototype._onUpdateGroups=function(t){this._onAddGroups(t)},u.prototype._onAddGroups=function(t){var a=this;t.forEach(function(t){var e=a.groupsData.get(t),n=a.groups[t];if(n)n.setData(e);else{if(t==y||t==E)throw new Error("Illegal group id. "+t+" is a reserved id.");var i=(0,s.default)(a.options);for(var o in w.extend(i,{height:null}),n=new d(t,e,a),a.groups[t]=n,a.items)if(a.items.hasOwnProperty(o)){var r=a.items[o];r.data.group==t&&n.add(r)}n.order(),n.show()}}),this.body.emitter.emit("_change",{queue:!0})},u.prototype._onRemoveGroups=function(t){var n=this.groups;t.forEach(function(t){var e=n[t];e&&(e.hide(),delete n[t])}),this.markDirty(),this.body.emitter.emit("_change",{queue:!0})},u.prototype._orderGroups=function(){if(this.groupsData){var t=this.groupsData.getIds({order:this.options.groupOrder});t=this._orderNestedGroups(t);var e=!w.equalArray(t,this.groupIds);if(e){var n=this.groups;t.forEach(function(t){n[t].hide()}),t.forEach(function(t){n[t].show()}),this.groupIds=t}return e}return!1},u.prototype._orderNestedGroups=function(t){var i=[];return t.forEach(function(e){var t=this.groupsData.get(e);if(t.nestedInGroup||i.push(e),t.nestedGroups){var n=this.groupsData.get({filter:function(t){return t.nestedInGroup==e},order:this.options.groupOrder}).map(function(t){return t.id});i=i.concat(n)}},this),i},u.prototype._addItem=function(t){this.items[t.id]=t;var e=this._getGroupId(t.data),n=this.groups[e];n?n&&n.data&&n.data.showNested&&(t.groupShowing=!0):t.groupShowing=!1,n&&n.add(t)},u.prototype._updateItem=function(t,e){t.setData(e);var n=this._getGroupId(t.data),i=this.groups[n];i?i&&i.data&&i.data.showNested&&(t.groupShowing=!0):t.groupShowing=!1},u.prototype._removeItem=function(t){t.hide(),delete this.items[t.id];var e=this.selection.indexOf(t.id);-1!=e&&this.selection.splice(e,1),t.parent&&t.parent.remove(t)},u.prototype._constructByEndArray=function(t){for(var e=[],n=0;n<t.length;n++)t[n]instanceof m&&e.push(t[n]);return e},u.prototype._onTouch=function(t){this.touchParams.item=this.itemFromTarget(t),this.touchParams.dragLeftItem=t.target.dragLeftItem||!1,this.touchParams.dragRightItem=t.target.dragRightItem||!1,this.touchParams.itemProps=null},u.prototype._getGroupIndex=function(t){for(var e=0;e<this.groupIds.length;e++)if(t==this.groupIds[e])return e},u.prototype._onDragStart=function(i){if(!this.touchParams.itemIsDragging){var t,e=this.touchParams.item||null,o=this;if(e&&(e.selected||this.options.itemsAlwaysDraggable.item)){if(this.options.editable.overrideItems&&!this.options.editable.updateTime&&!this.options.editable.updateGroup)return;if(null!=e.editable&&!e.editable.updateTime&&!e.editable.updateGroup&&!this.options.editable.overrideItems)return;var n=this.touchParams.dragLeftItem,r=this.touchParams.dragRightItem;if(this.touchParams.itemIsDragging=!0,this.touchParams.selectedItem=e,n)t={item:n,initialX:i.center.x,dragLeft:!0,data:this._cloneItemData(e.data)},this.touchParams.itemProps=[t];else if(r)t={item:r,initialX:i.center.x,dragRight:!0,data:this._cloneItemData(e.data)},this.touchParams.itemProps=[t];else if(this.options.editable.add&&(i.srcEvent.ctrlKey||i.srcEvent.metaKey))this._onDragStartAddItem(i);else{this.groupIds.length<1&&this.redraw();var a=this._getGroupIndex(e.data.group),s=this.options.itemsAlwaysDraggable.item&&!e.selected?[e.id]:this.getSelection();this.touchParams.itemProps=s.map(function(t){var e=o.items[t],n=o._getGroupIndex(e.data.group);return{item:e,initialX:i.center.x,groupOffset:a-n,data:this._cloneItemData(e.data)}}.bind(this))}i.stopPropagation()}else this.options.editable.add&&(i.srcEvent.ctrlKey||i.srcEvent.metaKey)&&this._onDragStartAddItem(i)}},u.prototype._onDragStartAddItem=function(t){var e,n,i=this.options.snap||null;n=this.options.rtl?(e=w.getAbsoluteRight(this.dom.frame))-t.center.x+10:(e=w.getAbsoluteLeft(this.dom.frame),t.center.x-e-10);var o=this.body.util.toTime(n),r=this.body.util.getScale(),a=this.body.util.getStep(),s=i?i(o,r,a):o,l={type:"range",start:s,end:s,content:"new item"},c=w.randomUUID();l[this.itemsData._fieldId]=c;var d=this.groupFromTarget(t);d&&(l.group=d.groupId);var u=new m(l,this.conversion,this.options);u.id=c,u.data=this._cloneItemData(l),this._addItem(u);var h={item:this.touchParams.selectedItem=u,initialX:t.center.x,data:u.data};this.options.rtl?h.dragLeft=!0:h.dragRight=!0,this.touchParams.itemProps=[h],t.stopPropagation()},u.prototype._onDrag=function(u){if(this.touchParams.itemProps){u.stopPropagation();var h,p=this,f=this.options.snap||null;h=this.options.rtl?this.body.dom.root.offsetLeft+this.body.domProps.right.width:this.body.dom.root.offsetLeft+this.body.domProps.left.width;var m=this.body.util.getScale(),g=this.body.util.getStep(),v=this.touchParams.selectedItem,y=(this.options.editable.overrideItems||null==v.editable)&&this.options.editable.updateGroup||!this.options.editable.overrideItems&&null!=v.editable&&v.editable.updateGroup,b=null;if(y&&v&&null!=v.data.group){var t=p.groupFromTarget(u);t&&(b=this._getGroupIndex(t.groupId))}this.touchParams.itemProps.forEach(function(e){var t,n,i,o,r,a=p.body.util.toTime(u.center.x-h),s=p.body.util.toTime(e.initialX-h);t=this.options.rtl?-(a-s):a-s;var l=this._cloneItemData(e.item.data);if(null==e.item.editable||e.item.editable.updateTime||e.item.editable.updateGroup||p.options.editable.overrideItems){if((this.options.editable.overrideItems||null==v.editable)&&this.options.editable.updateTime||!this.options.editable.overrideItems&&null!=v.editable&&v.editable.updateTime)if(e.dragLeft)this.options.rtl?null!=l.end&&(i=w.convert(e.data.end,"Date"),r=new Date(i.valueOf()+t),l.end=f?f(r,m,g):r):null!=l.start&&(n=w.convert(e.data.start,"Date"),o=new Date(n.valueOf()+t),l.start=f?f(o,m,g):o);else if(e.dragRight)this.options.rtl?null!=l.start&&(n=w.convert(e.data.start,"Date"),o=new Date(n.valueOf()+t),l.start=f?f(o,m,g):o):null!=l.end&&(i=w.convert(e.data.end,"Date"),r=new Date(i.valueOf()+t),l.end=f?f(r,m,g):r);else if(null!=l.start)if(n=w.convert(e.data.start,"Date").valueOf(),o=new Date(n+t),null!=l.end){var c=(i=w.convert(e.data.end,"Date")).valueOf()-n.valueOf();l.start=f?f(o,m,g):o,l.end=new Date(l.start.valueOf()+c)}else l.start=f?f(o,m,g):o;if(y&&!e.dragLeft&&!e.dragRight&&null!=b&&null!=l.group){var d=b-e.groupOffset;d=Math.max(0,d),d=Math.min(p.groupIds.length-1,d),l.group=p.groupIds[d]}l=this._cloneItemData(l),p.options.onMoving(l,function(t){t&&e.item.setData(this._cloneItemData(t,"Date"))}.bind(this))}}.bind(this)),this.body.emitter.emit("_change")}},u.prototype._moveToGroup=function(t,e){var n=this.groups[e];if(n&&n.groupId!=t.data.group){var i=t.parent;i.remove(t),i.order(),t.data.group=n.groupId,n.add(t),n.order()}},u.prototype._onDragEnd=function(t){if(this.touchParams.itemIsDragging=!1,this.touchParams.itemProps){t.stopPropagation();var i=this,o=this.itemsData.getDataSet(),e=this.touchParams.itemProps;this.touchParams.itemProps=null,e.forEach(function(e){var n=e.item.id;if(null!=i.itemsData.get(n,i.itemOptions)){var t=this._cloneItemData(e.item.data);i.options.onMove(t,function(t){t?(t[o._fieldId]=n,o.update(t)):(e.item.setData(e.data),i.body.emitter.emit("_change"))})}else i.options.onAdd(e.item.data,function(t){i._removeItem(e.item),t&&i.itemsData.getDataSet().add(t),i.body.emitter.emit("_change")})}.bind(this))}},u.prototype._onGroupClick=function(t){var e=this.groupFromTarget(t);if(e&&e.nestedGroups){var n=this.groupsData.getDataSet(),i=n.get(e.groupId);null==i.showNested&&(i.showNested=!0),i.showNested=!i.showNested;var o=n.get(e.nestedGroups).map(function(t){return t.visible=i.showNested,t});if(n.update(o.concat(i)),i.showNested)w.removeClassName(e.dom.label,"collapsed"),w.addClassName(e.dom.label,"expanded");else{w.removeClassName(e.dom.label,"expanded");var r=this.options.rtl?"collapsed-rtl":"collapsed";w.addClassName(e.dom.label,r)}}},u.prototype._onGroupDragStart=function(t){this.options.groupEditable.order&&(this.groupTouchParams.group=this.groupFromTarget(t),this.groupTouchParams.group&&(t.stopPropagation(),this.groupTouchParams.originalOrder=this.groupsData.getIds({order:this.options.groupOrder})))},u.prototype._onGroupDrag=function(t){if(this.options.groupEditable.order&&this.groupTouchParams.group){t.stopPropagation();var e=this.groupsData;this.groupsData instanceof _&&(e=this.groupsData.getDataSet());var n=this.groupFromTarget(t);if(n&&n.height!=this.groupTouchParams.group.height){var i=n.top<this.groupTouchParams.group.top,o=t.center?t.center.y:t.clientY,r=w.getAbsoluteTop(n.dom.foreground),a=this.groupTouchParams.group.height;if(i){if(r+a<o)return}else if(r+n.height-a>o)return}if(n&&n!=this.groupTouchParams.group){var s=e.get(n.groupId),l=e.get(this.groupTouchParams.group.groupId);l&&s&&(this.options.groupOrderSwap(l,s,e),e.update(l),e.update(s));var c=e.getIds({order:this.options.groupOrder});if(!w.equalArray(c,this.groupTouchParams.originalOrder))for(var d=this.groupTouchParams.originalOrder,u=this.groupTouchParams.group.groupId,h=Math.min(d.length,c.length),p=0,f=0,m=0;p<h;){for(;p+f<h&&p+m<h&&c[p+f]==d[p+m];)p++;if(h<=p+f)break;if(c[p+f]==u)f=1;else if(d[p+m]==u)m=1;else{var g=c.indexOf(d[p+m]),v=e.get(c[p+f]),y=e.get(d[p+m]);this.options.groupOrderSwap(v,y,e),e.update(v),e.update(y);var b=c[p+f];c[p+f]=d[p+m],c[g]=b,p++}}}}},u.prototype._onGroupDragEnd=function(t){if(this.options.groupEditable.order&&this.groupTouchParams.group){t.stopPropagation();var c=this,d=c.groupTouchParams.group.groupId,u=c.groupsData.getDataSet(),e=w.extend({},u.get(d));c.options.onMoveGroup(e,function(t){if(t)t[u._fieldId]=d,u.update(t);else{var e=u.getIds({order:c.options.groupOrder});if(!w.equalArray(e,c.groupTouchParams.originalOrder))for(var n=c.groupTouchParams.originalOrder,i=Math.min(n.length,e.length),o=0;o<i;){for(;o<i&&e[o]==n[o];)o++;if(i<=o)break;var r=e.indexOf(n[o]),a=u.get(e[o]),s=u.get(n[o]);c.options.groupOrderSwap(a,s,u),u.update(a),u.update(s);var l=e[o];e[o]=n[o],e[r]=l,o++}}}),c.body.emitter.emit("groupDragged",{groupId:d})}},u.prototype._onSelectItem=function(t){if(this.options.selectable){var e=t.srcEvent&&(t.srcEvent.ctrlKey||t.srcEvent.metaKey),n=t.srcEvent&&t.srcEvent.shiftKey;if(e||n)return void this._onMultiSelectItem(t);var i=this.getSelection(),o=this.itemFromTarget(t),r=o?[o.id]:[];this.setSelection(r);var a=this.getSelection();(0<a.length||0<i.length)&&this.body.emitter.emit("select",{items:a,event:t})}},u.prototype._onMouseOver=function(t){var e=this.itemFromTarget(t);if(e&&e!==this.itemFromRelatedTarget(t)){var n=e.getTitle();if(this.options.showTooltips&&n){null==this.popup&&(this.popup=new v(this.body.dom.root,this.options.tooltip.overflowMethod||"flip")),this.popup.setText(n);var i=this.body.dom.centerContainer;this.popup.setPosition(t.clientX-w.getAbsoluteLeft(i)+i.offsetLeft,t.clientY-w.getAbsoluteTop(i)+i.offsetTop),this.popup.show()}else null!=this.popup&&this.popup.hide();this.body.emitter.emit("itemover",{item:e.id,event:t})}},u.prototype._onMouseOut=function(t){var e=this.itemFromTarget(t);e&&e!==this.itemFromRelatedTarget(t)&&(null!=this.popup&&this.popup.hide(),this.body.emitter.emit("itemout",{item:e.id,event:t}))},u.prototype._onMouseMove=function(t){if(this.itemFromTarget(t)&&this.options.showTooltips&&this.options.tooltip.followMouse&&this.popup&&!this.popup.hidden){var e=this.body.dom.centerContainer;this.popup.setPosition(t.clientX-w.getAbsoluteLeft(e)+e.offsetLeft,t.clientY-w.getAbsoluteTop(e)+e.offsetTop),this.popup.show()}},u.prototype._onMouseWheel=function(t){this.touchParams.itemIsDragging&&this._onDragEnd(t)},u.prototype._onUpdateItem=function(t){if(this.options.selectable&&this.options.editable.add){var e=this;if(t){var n=e.itemsData.get(t.id);this.options.onUpdate(n,function(t){t&&e.itemsData.getDataSet().update(t)})}}},u.prototype._onDropObjectOnItem=function(t){var e=this.itemFromTarget(t),n=JSON.parse(t.dataTransfer.getData("text"));this.options.onDropObjectOnItem(n,e)},u.prototype._onAddItem=function(e){if(this.options.selectable&&this.options.editable.add){var t,n,i=this,o=this.options.snap||null;n=this.options.rtl?(t=w.getAbsoluteRight(this.dom.frame))-e.center.x:(t=w.getAbsoluteLeft(this.dom.frame),e.center.x-t);var r,a,s=this.body.util.toTime(n),l=this.body.util.getScale(),c=this.body.util.getStep();"drop"==e.type?((a=JSON.parse(e.dataTransfer.getData("text"))).content=a.content?a.content:"new item",a.start=a.start?a.start:o?o(s,l,c):s,a.type=a.type||"box",a[this.itemsData._fieldId]=a.id||w.randomUUID(),"range"!=a.type||a.end||(r=this.body.util.toTime(n+this.props.width/5),a.end=o?o(r,l,c):r)):((a={start:o?o(s,l,c):s,content:"new item"})[this.itemsData._fieldId]=w.randomUUID(),"range"===this.options.type&&(r=this.body.util.toTime(n+this.props.width/5),a.end=o?o(r,l,c):r));var d=this.groupFromTarget(e);d&&(a.group=d.groupId),a=this._cloneItemData(a),this.options.onAdd(a,function(t){t&&(i.itemsData.getDataSet().add(t),"drop"==e.type&&i.setSelection([t.id]))})}},u.prototype._onMultiSelectItem=function(t){if(this.options.selectable){var e=this.itemFromTarget(t);if(e){var n=this.options.multiselect?this.getSelection():[];if(t.srcEvent&&t.srcEvent.shiftKey&&this.options.multiselect){var i=this.itemsData.get(e.id).group,o=void 0;this.options.multiselectPerGroup&&0<n.length&&(o=this.itemsData.get(n[0]).group),this.options.multiselectPerGroup&&null!=o&&o!=i||n.push(e.id);var r=u._getItemRange(this.itemsData.get(n,this.itemOptions));if(!this.options.multiselectPerGroup||o==i)for(var a in n=[],this.items)if(this.items.hasOwnProperty(a)){var s=this.items[a],l=s.data.start,c=void 0!==s.data.end?s.data.end:l;!(l>=r.min&&c<=r.max)||this.options.multiselectPerGroup&&o!=this.itemsData.get(s.id).group||s instanceof g||n.push(s.id)}}else{var d=n.indexOf(e.id);-1==d?n.push(e.id):n.splice(d,1)}this.setSelection(n),this.body.emitter.emit("select",{items:this.getSelection(),event:t})}}},u._getItemRange=function(t){var e=null,n=null;return t.forEach(function(t){(null==n||t.start<n)&&(n=t.start),null!=t.end?(null==e||t.end>e)&&(e=t.end):(null==e||t.start>e)&&(e=t.start)}),{min:n,max:e}},u.prototype.itemFromElement=function(t){for(var e=t;e;){if(e.hasOwnProperty("timeline-item"))return e["timeline-item"];e=e.parentNode}return null},u.prototype.itemFromTarget=function(t){return this.itemFromElement(t.target)},u.prototype.itemFromRelatedTarget=function(t){return this.itemFromElement(t.relatedTarget)},u.prototype.groupFromTarget=function(t){var e=t.center?t.center.y:t.clientY,n=this.groupIds;n.length<=0&&this.groupsData&&(n=this.groupsData.getIds({order:this.options.groupOrder}));for(var i=0;i<n.length;i++){var o=n[i],r=this.groups[o],a=r.dom.foreground,s=w.getAbsoluteTop(a);if(s<e&&e<s+a.offsetHeight)return r;if("top"===this.options.orientation.item){if(i===this.groupIds.length-1&&s<e)return r}else if(0===i&&e<s+a.offset)return r}return null},u.itemSetFromTarget=function(t){for(var e=t.target;e;){if(e.hasOwnProperty("timeline-itemset"))return e["timeline-itemset"];e=e.parentNode}return null},u.prototype._cloneItemData=function(t,e){var n=w.extend({},t);return e||(e=this.itemsData.getDataSet()._options.type),null!=n.start&&(n.start=w.convert(n.start,e&&e.start||"Date")),null!=n.end&&(n.end=w.convert(n.end,e&&e.end||"Date")),n},t.exports=u},function(t,d,e){d.orderByStart=function(t){t.sort(function(t,e){return t.data.start-e.data.start})},d.orderByEnd=function(t){t.sort(function(t,e){return("end"in t.data?t.data.end:t.data.start)-("end"in e.data?e.data.end:e.data.start)})},d.stack=function(t,e,n){if(n)for(var i=0;i<t.length;i++)t[i].top=null;for(i=0;i<t.length;i++){var o=t[i];if(o.stack&&null===o.top){o.top=e.axis;do{for(var r=null,a=0,s=t.length;a<s;a++){var l=t[a];if(null!==l.top&&l!==o&&l.stack&&d.collision(o,l,e.item,l.options.rtl)){r=l;break}}null!=r&&(o.top=r.top+r.height+e.item.vertical)}while(r)}}},d.substack=function(t,e,n){for(var i=0;i<t.length;i++)t[i].top=null;var o=n.height;for(i=0;i<t.length;i++){var r=t[i];if(r.stack&&null===r.top){r.top=r.baseTop;do{for(var a=null,s=0,l=t.length;s<l;s++){var c=t[s];if(null!==c.top&&c!==r&&d.collision(r,c,e.item,c.options.rtl)){a=c;break}}null!=a&&(r.top=a.top+a.height+e.item.vertical),r.top+r.height>o&&(o=r.top+r.height)}while(a)}}n.height=o-n.top+.5*e.item.vertical},d.nostack=function(t,e,n,i){for(var o=0;o<t.length;o++)if(null==t[o].data.subgroup)t[o].top=e.item.vertical;else if(void 0!==t[o].data.subgroup&&i){var r=0;for(var a in n)n.hasOwnProperty(a)&&1==n[a].visible&&n[a].index<n[t[o].data.subgroup].index&&(r+=n[a].height,n[t[o].data.subgroup].top=r);t[o].top=r+.5*e.item.vertical}i||d.stackSubgroups(t,e,n)},d.stackSubgroups=function(t,e,n){for(var i in n)if(n.hasOwnProperty(i)){n[i].top=0;do{var o=null;for(var r in n)if(null!==n[r].top&&r!==i&&n[i].index>n[r].index&&d.collisionByTimes(n[i],n[r])){o=n[r];break}null!=o&&(n[i].top=o.top+o.height)}while(o)}for(var a=0;a<t.length;a++)void 0!==t[a].data.subgroup&&(t[a].top=n[t[a].data.subgroup].top+.5*e.item.vertical)},d.stackSubgroupsWithInnerStack=function(t,e,n){var i=!1,o=[];for(var r in n)n[r].hasOwnProperty("index")?o[n[r].index]=r:o.push(r);for(var a=0;a<o.length;a++)if(r=o[a],n.hasOwnProperty(r)){for(var s in i=i||n[r].stack,n[r].top=0,n)n[s].visible&&n[r].index>n[s].index&&(n[r].top+=n[s].height);for(var l=t[r],c=0;c<l.length;c++)void 0!==l[c].data.subgroup&&(l[c].top=n[l[c].data.subgroup].top+.5*e.item.vertical,n[r].stack&&(l[c].baseTop=l[c].top));i&&n[r].stack&&d.substack(t[r],e,n[r])}},d.collision=function(t,e,n,i){return i?t.right-n.horizontal+.001<e.right+e.width&&t.right+t.width+n.horizontal-.001>e.right&&t.top-n.vertical+.001<e.top+e.height&&t.top+t.height+n.vertical-.001>e.top:t.left-n.horizontal+.001<e.left+e.width&&t.left+t.width+n.horizontal-.001>e.left&&t.top-n.vertical+.001<e.top+e.height&&t.top+t.height+n.vertical-.001>e.top},d.collisionByTimes=function(t,e){return t.start<=e.start&&t.end>=e.start&&t.top<e.top+e.height&&t.top+t.height>e.top||e.start<=t.start&&e.end>=t.start&&e.top<t.top+t.height&&e.top+e.height>t.top}},function(t,e,n){function i(t,e,n){if(this.props={dot:{width:0,height:0},line:{width:0,height:0}},this.options=n,t&&null==t.start)throw new Error('Property "start" missing in item '+t);o.call(this,t,e,n)}var o=n(38);(i.prototype=new o(null,null,null)).isVisible=function(t){var e=this.options.align,n=this.width*t.getMillisecondsPerPixel();return"right"==e?this.data.start.getTime()>t.start&&this.data.start.getTime()-n<t.end:"left"==e?this.data.start.getTime()+n>t.start&&this.data.start.getTime()<t.end:this.data.start.getTime()+n/2>t.start&&this.data.start.getTime()-n/2<t.end},i.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("DIV"),this.dom.content=document.createElement("DIV"),this.dom.content.className="vis-item-content",this.dom.box.appendChild(this.dom.content),this.dom.line=document.createElement("DIV"),this.dom.line.className="vis-line",this.dom.dot=document.createElement("DIV"),this.dom.dot.className="vis-dot",(this.dom.box["timeline-item"]=this).dirty=!0)},i.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(this.dom.box)}if(!this.dom.line.parentNode){var e=this.parent.dom.background;if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(this.dom.line)}if(!this.dom.dot.parentNode){var n=this.parent.dom.axis;if(!e)throw new Error("Cannot redraw item: parent has no axis container element");n.appendChild(this.dom.dot)}this.displayed=!0},i.prototype._updateDirtyDomComponents=function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);var t=this.editable.updateTime||this.editable.updateGroup,e=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(t?" vis-editable":" vis-readonly");this.dom.box.className="vis-item vis-box"+e,this.dom.line.className="vis-item vis-line"+e,this.dom.dot.className="vis-item vis-dot"+e}},i.prototype._getDomComponentsSizes=function(){return{previous:{right:this.dom.box.style.right,left:this.dom.box.style.left},dot:{height:this.dom.dot.offsetHeight,width:this.dom.dot.offsetWidth},line:{width:this.dom.line.offsetWidth},box:{width:this.dom.box.offsetWidth,height:this.dom.box.offsetHeight}}},i.prototype._updateDomComponentsSizes=function(t){this.options.rtl?this.dom.box.style.right="0px":this.dom.box.style.left="0px",this.props.dot.height=t.dot.height,this.props.dot.width=t.dot.width,this.props.line.width=t.line.width,this.width=t.box.width,this.height=t.box.height,this.options.rtl?this.dom.box.style.right=t.previous.right:this.dom.box.style.left=t.previous.left,this.dirty=!1},i.prototype._repaintDomAdditionals=function(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.box)},i.prototype.redraw=function(t){var e,n,i=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),function(){this.dirty&&(e=this._getDomComponentsSizes())}.bind(this),function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(e)}.bind(this),this._repaintDomAdditionals.bind(this)];return t?i:(i.forEach(function(t){n=t()}),n)},i.prototype.show=function(){this.displayed||this.redraw()},i.prototype.hide=function(){if(this.displayed){var t=this.dom;t.box.parentNode&&t.box.parentNode.removeChild(t.box),t.line.parentNode&&t.line.parentNode.removeChild(t.line),t.dot.parentNode&&t.dot.parentNode.removeChild(t.dot),this.displayed=!1}},i.prototype.repositionX=function(){var t=this.conversion.toScreen(this.data.start),e=this.options.align;"right"==e?this.options.rtl?(this.right=t-this.width,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=t-this.props.line.width+"px",this.dom.dot.style.right=t-this.props.line.width/2-this.props.dot.width/2+"px"):(this.left=t-this.width,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=t-this.props.line.width+"px",this.dom.dot.style.left=t-this.props.line.width/2-this.props.dot.width/2+"px"):"left"==e?this.options.rtl?(this.right=t,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=t+"px",this.dom.dot.style.right=t+this.props.line.width/2-this.props.dot.width/2+"px"):(this.left=t,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=t+"px",this.dom.dot.style.left=t+this.props.line.width/2-this.props.dot.width/2+"px"):this.options.rtl?(this.right=t-this.width/2,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=t-this.props.line.width+"px",this.dom.dot.style.right=t-this.props.dot.width/2+"px"):(this.left=t-this.width/2,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=t-this.props.line.width/2+"px",this.dom.dot.style.left=t-this.props.dot.width/2+"px")},i.prototype.repositionY=function(){var t=this.options.orientation.item,e=this.dom.box,n=this.dom.line,i=this.dom.dot;if("top"==t)e.style.top=(this.top||0)+"px",n.style.top="0",n.style.height=this.parent.top+this.top+1+"px",n.style.bottom="";else{var o=this.parent.itemSet.props.height,r=o-this.parent.top-this.parent.height+this.top;e.style.top=(this.parent.height-this.top-this.height||0)+"px",n.style.top=o-r+"px",n.style.bottom="0"}i.style.top=-this.props.dot.height/2+"px"},i.prototype.getWidthLeft=function(){return this.width/2},i.prototype.getWidthRight=function(){return this.width/2},t.exports=i},function(t,e,n){function i(t,e,n){if(this.props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0,marginRight:0}},this.options=n,t&&null==t.start)throw new Error('Property "start" missing in item '+t);o.call(this,t,e,n)}var o=n(38);(i.prototype=new o(null,null,null)).isVisible=function(t){var e=this.width*t.getMillisecondsPerPixel();return this.data.start.getTime()+e>t.start&&this.data.start<t.end},i.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.point=document.createElement("div"),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.point.appendChild(this.dom.content),this.dom.dot=document.createElement("div"),this.dom.point.appendChild(this.dom.dot),(this.dom.point["timeline-item"]=this).dirty=!0)},i.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.point.parentNode){var t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(this.dom.point)}this.displayed=!0},i.prototype._updateDirtyDomComponents=function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.point),this._updateStyle(this.dom.point);var t=this.editable.updateTime||this.editable.updateGroup,e=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(t?" vis-editable":" vis-readonly");this.dom.point.className="vis-item vis-point"+e,this.dom.dot.className="vis-item vis-dot"+e}},i.prototype._getDomComponentsSizes=function(){return{dot:{width:this.dom.dot.offsetWidth,height:this.dom.dot.offsetHeight},content:{width:this.dom.content.offsetWidth,height:this.dom.content.offsetHeight},point:{width:this.dom.point.offsetWidth,height:this.dom.point.offsetHeight}}},i.prototype._updateDomComponentsSizes=function(t){this.props.dot.width=t.dot.width,this.props.dot.height=t.dot.height,this.props.content.height=t.content.height,this.options.rtl?this.dom.content.style.marginRight=2*this.props.dot.width+"px":this.dom.content.style.marginLeft=2*this.props.dot.width+"px",this.width=t.point.width,this.height=t.point.height,this.dom.dot.style.top=(this.height-this.props.dot.height)/2+"px",this.options.rtl?this.dom.dot.style.right=this.props.dot.width/2+"px":this.dom.dot.style.left=this.props.dot.width/2+"px",this.dirty=!1},i.prototype._repaintDomAdditionals=function(){this._repaintOnItemUpdateTimeTooltip(this.dom.point),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.point)},i.prototype.redraw=function(t){var e,n,i=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),function(){this.dirty&&(e=this._getDomComponentsSizes())}.bind(this),function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(e)}.bind(this),this._repaintDomAdditionals.bind(this)];return t?i:(i.forEach(function(t){n=t()}),n)},i.prototype.show=function(){this.displayed||this.redraw()},i.prototype.hide=function(){this.displayed&&(this.dom.point.parentNode&&this.dom.point.parentNode.removeChild(this.dom.point),this.displayed=!1)},i.prototype.repositionX=function(){var t=this.conversion.toScreen(this.data.start);this.options.rtl?(this.right=t-this.props.dot.width,this.dom.point.style.right=this.right+"px"):(this.left=t-this.props.dot.width,this.dom.point.style.left=this.left+"px")},i.prototype.repositionY=function(){var t=this.options.orientation.item;this.dom.point.style.top="top"==t?this.top+"px":this.parent.height-this.top-this.height+"px"},i.prototype.getWidthLeft=function(){return this.props.dot.width},i.prototype.getWidthRight=function(){return this.props.dot.width},t.exports=i},function(t,e,n){function i(t,e,n){if(this.props={content:{width:0}},this.overflow=!1,t){if(null==t.start)throw new Error('Property "start" missing in item '+t.id);if(null==t.end)throw new Error('Property "end" missing in item '+t.id)}o.call(this,t,e,n)}var o=n(38),r=n(69),a=n(70);(i.prototype=new o(null,null,null)).baseClassName="vis-item vis-background",i.prototype.stack=!1,i.prototype.isVisible=function(t){return this.data.start<t.end&&this.data.end>t.start},i.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dirty=!0)},i.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var t=this.parent.dom.background;if(!t)throw new Error("Cannot redraw item: parent has no background container element");t.appendChild(this.dom.box)}this.displayed=!0},i.prototype._updateDirtyDomComponents=function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.content),this._updateStyle(this.dom.box);var t=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"");this.dom.box.className=this.baseClassName+t}},i.prototype._getDomComponentsSizes=function(){return this.overflow="hidden"!==window.getComputedStyle(this.dom.content).overflow,{content:{width:this.dom.content.offsetWidth}}},i.prototype._updateDomComponentsSizes=function(t){this.props.content.width=t.content.width,this.height=0,this.dirty=!1},i.prototype._repaintDomAdditionals=function(){},i.prototype.redraw=function(t){var e,n,i=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),function(){this.dirty&&(e=this._getDomComponentsSizes.bind(this)())}.bind(this),function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(e)}.bind(this),this._repaintDomAdditionals.bind(this)];return t?i:(i.forEach(function(t){n=t()}),n)},i.prototype.show=a.prototype.show,i.prototype.hide=a.prototype.hide,i.prototype.repositionX=a.prototype.repositionX,i.prototype.repositionY=function(t){var e,n=this.options.orientation.item;if(void 0!==this.data.subgroup){var i=this.data.subgroup;this.dom.box.style.height=this.parent.subgroups[i].height+"px",this.dom.box.style.top="top"==n?this.parent.top+this.parent.subgroups[i].top+"px":this.parent.top+this.parent.height-this.parent.subgroups[i].top-this.parent.subgroups[i].height+"px",this.dom.box.style.bottom=""}else this.parent instanceof r?(e=Math.max(this.parent.height,this.parent.itemSet.body.domProps.center.height,this.parent.itemSet.body.domProps.centerContainer.height),this.dom.box.style.bottom="bottom"==n?"0":"",this.dom.box.style.top="top"==n?"0":""):(e=this.parent.height,this.dom.box.style.top=this.parent.top+"px",this.dom.box.style.bottom="");this.dom.box.style.height=e+"px"},t.exports=i},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(0)),r=i(n(1)),a=function(){function n(t,e){(0,o.default)(this,n),this.container=t,this.overflowMethod=e||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return(0,r.default)(n,[{key:"setPosition",value:function(t,e){this.x=parseInt(t),this.y=parseInt(e)}},{key:"setText",value:function(t){t instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(t)):this.frame.innerHTML=t}},{key:"show",value:function(t){if(void 0===t&&(t=!0),!0===t){var e=this.frame.clientHeight,n=this.frame.clientWidth,i=this.frame.parentNode.clientHeight,o=this.frame.parentNode.clientWidth,r=0,a=0;if("flip"==this.overflowMethod){var s=!1,l=!0;this.y-e<this.padding&&(l=!1),this.x+n>o-this.padding&&(s=!0),r=s?this.x-n:this.x,a=l?this.y-e:this.y}else(a=this.y-e)+e+this.padding>i&&(a=i-e-this.padding),a<this.padding&&(a=this.padding),(r=this.x)+n+this.padding>o&&(r=o-n-this.padding),r<this.padding&&(r=this.padding);this.frame.style.left=r+"px",this.frame.style.top=a+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),n}();e.default=a},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i="string",o="boolean",r="number",a="object",s={configure:{enabled:{boolean:o},filter:{boolean:o,function:"function"},container:{dom:"dom"},__type__:{object:a,boolean:o,function:"function"}},align:{string:i},rtl:{boolean:o,undefined:"undefined"},rollingMode:{follow:{boolean:o},offset:{number:r,undefined:"undefined"},__type__:{object:a}},verticalScroll:{boolean:o,undefined:"undefined"},horizontalScroll:{boolean:o,undefined:"undefined"},autoResize:{boolean:o},throttleRedraw:{number:r},clickToUse:{boolean:o},dataAttributes:{string:i,array:"array"},editable:{add:{boolean:o,undefined:"undefined"},remove:{boolean:o,undefined:"undefined"},updateGroup:{boolean:o,undefined:"undefined"},updateTime:{boolean:o,undefined:"undefined"},overrideItems:{boolean:o,undefined:"undefined"},__type__:{boolean:o,object:a}},end:{number:r,date:"date",string:i,moment:"moment"},format:{minorLabels:{millisecond:{string:i,undefined:"undefined"},second:{string:i,undefined:"undefined"},minute:{string:i,undefined:"undefined"},hour:{string:i,undefined:"undefined"},weekday:{string:i,undefined:"undefined"},day:{string:i,undefined:"undefined"},week:{string:i,undefined:"undefined"},month:{string:i,undefined:"undefined"},year:{string:i,undefined:"undefined"},__type__:{object:a,function:"function"}},majorLabels:{millisecond:{string:i,undefined:"undefined"},second:{string:i,undefined:"undefined"},minute:{string:i,undefined:"undefined"},hour:{string:i,undefined:"undefined"},weekday:{string:i,undefined:"undefined"},day:{string:i,undefined:"undefined"},week:{string:i,undefined:"undefined"},month:{string:i,undefined:"undefined"},year:{string:i,undefined:"undefined"},__type__:{object:a,function:"function"}},__type__:{object:a}},moment:{function:"function"},groupOrder:{string:i,function:"function"},groupEditable:{add:{boolean:o,undefined:"undefined"},remove:{boolean:o,undefined:"undefined"},order:{boolean:o,undefined:"undefined"},__type__:{boolean:o,object:a}},groupOrderSwap:{function:"function"},height:{string:i,number:r},hiddenDates:{start:{date:"date",number:r,string:i,moment:"moment"},end:{date:"date",number:r,string:i,moment:"moment"},repeat:{string:i},__type__:{object:a,array:"array"}},itemsAlwaysDraggable:{item:{boolean:o,undefined:"undefined"},range:{boolean:o,undefined:"undefined"},__type__:{boolean:o,object:a}},limitSize:{boolean:o},locale:{string:i},locales:{__any__:{any:"any"},__type__:{object:a}},margin:{axis:{number:r},item:{horizontal:{number:r,undefined:"undefined"},vertical:{number:r,undefined:"undefined"},__type__:{object:a,number:r}},__type__:{object:a,number:r}},max:{date:"date",number:r,string:i,moment:"moment"},maxHeight:{number:r,string:i},maxMinorChars:{number:r},min:{date:"date",number:r,string:i,moment:"moment"},minHeight:{number:r,string:i},moveable:{boolean:o},multiselect:{boolean:o},multiselectPerGroup:{boolean:o},onAdd:{function:"function"},onDropObjectOnItem:{function:"function"},onUpdate:{function:"function"},onMove:{function:"function"},onMoving:{function:"function"},onRemove:{function:"function"},onAddGroup:{function:"function"},onMoveGroup:{function:"function"},onRemoveGroup:{function:"function"},onInitialDrawComplete:{function:"function"},order:{function:"function"},orientation:{axis:{string:i,undefined:"undefined"},item:{string:i,undefined:"undefined"},__type__:{string:i,object:a}},selectable:{boolean:o},showCurrentTime:{boolean:o},showMajorLabels:{boolean:o},showMinorLabels:{boolean:o},stack:{boolean:o},stackSubgroups:{boolean:o},snap:{function:"function",null:"null"},start:{date:"date",number:r,string:i,moment:"moment"},template:{function:"function"},groupTemplate:{function:"function"},visibleFrameTemplate:{string:i,function:"function"},showTooltips:{boolean:o},tooltip:{followMouse:{boolean:o},overflowMethod:{string:["cap","flip"]},__type__:{object:a}},tooltipOnItemUpdateTime:{template:{function:"function"},__type__:{boolean:o,object:a}},timeAxis:{scale:{string:i,undefined:"undefined"},step:{number:r,undefined:"undefined"},__type__:{object:a}},type:{string:i},width:{string:i,number:r},zoomable:{boolean:o},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:r},zoomMin:{number:r},__type__:{object:a}};e.allOptions=s,e.configureOptions={global:{align:["center","left","right"],direction:!1,autoResize:!0,clickToUse:!1,editable:{add:!1,remove:!1,updateGroup:!1,updateTime:!1},end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}},groupsDraggable:!1,height:"",locale:"",margin:{axis:[20,0,100,1],item:{horizontal:[10,0,100,1],vertical:[10,0,100,1]}},max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!1,multiselect:!1,multiselectPerGroup:!1,orientation:{axis:["both","bottom","top"],item:["bottom","top"]},selectable:!0,showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,stack:!0,stackSubgroups:!0,start:"",showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip"},tooltipOnItemUpdateTime:!1,type:["box","point","range","background"],width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1]}}},function(t,e,n){function i(t,e){this.id=g.randomUUID(),this.body=t,this.defaultOptions={yAxisOrientation:"left",defaultGroup:"default",sort:!0,sampling:!0,stack:!1,graphHeight:"400px",shaded:{enabled:!1,orientation:"bottom"},style:"line",barChart:{width:50,sideBySide:!1,align:"center"},interpolation:{enabled:!0,parametrization:"centripetal",alpha:.5},drawPoints:{enabled:!0,size:6,style:"square"},dataAxis:{},legend:{},groups:{visibility:{}}},this.options=g.extend({},this.defaultOptions),this.dom={},this.props={},this.hammer=null,this.groups={},this.abortedGraphUpdate=!1,this.updateSVGheight=!1,this.updateSVGheightOnResize=!1,this.forceGraphUpdate=!0;var i=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(t,e,n){i._onAdd(e.items)},update:function(t,e,n){i._onUpdate(e.items)},remove:function(t,e,n){i._onRemove(e.items)}},this.groupListeners={add:function(t,e,n){i._onAddGroups(e.items)},update:function(t,e,n){i._onUpdateGroups(e.items)},remove:function(t,e,n){i._onRemoveGroups(e.items)}},this.items={},this.selection=[],this.lastStart=this.body.range.start,this.touchParams={},this.svgElements={},this.setOptions(e),this.groupsUsingDefaultStyles=[0],this.body.emitter.on("rangechanged",function(){i.lastStart=i.body.range.start,i.svg.style.left=g.option.asSize(-i.props.width),i.forceGraphUpdate=!0,i.redraw.call(i)}),this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups}}var o,r=n(6),a=(o=r)&&o.__esModule?o:{default:o},g=n(2),u=n(14),s=n(11),l=n(12),c=n(16),d=n(107),h=n(109),p=n(112),f=n(110),m=n(111),v=n(72);(i.prototype=new c)._create=function(){var t=document.createElement("div");t.className="vis-line-graph",this.dom.frame=t,this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="relative",this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",this.svg.style.display="block",t.appendChild(this.svg),this.options.dataAxis.orientation="left",this.yAxisLeft=new d(this.body,this.options.dataAxis,this.svg,this.options.groups),this.options.dataAxis.orientation="right",this.yAxisRight=new d(this.body,this.options.dataAxis,this.svg,this.options.groups),delete this.options.dataAxis.orientation,this.legendLeft=new p(this.body,this.options.legend,"left",this.options.groups),this.legendRight=new p(this.body,this.options.legend,"right",this.options.groups),this.show()},i.prototype.setOptions=function(t){if(t){void 0===t.graphHeight&&void 0!==t.height?(this.updateSVGheight=!0,this.updateSVGheightOnResize=!0):void 0!==this.body.domProps.centerContainer.height&&void 0!==t.graphHeight&&parseInt((t.graphHeight+"").replace("px",""))<this.body.domProps.centerContainer.height&&(this.updateSVGheight=!0),g.selectiveDeepExtend(["sampling","defaultGroup","stack","height","graphHeight","yAxisOrientation","style","barChart","dataAxis","sort","groups"],this.options,t),g.mergeOptions(this.options,t,"interpolation"),g.mergeOptions(this.options,t,"drawPoints"),g.mergeOptions(this.options,t,"shaded"),g.mergeOptions(this.options,t,"legend"),t.interpolation&&"object"==(0,a.default)(t.interpolation)&&t.interpolation.parametrization&&("uniform"==t.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==t.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)),this.yAxisLeft&&void 0!==t.dataAxis&&(this.yAxisLeft.setOptions(this.options.dataAxis),this.yAxisRight.setOptions(this.options.dataAxis)),this.legendLeft&&void 0!==t.legend&&(this.legendLeft.setOptions(this.options.legend),this.legendRight.setOptions(this.options.legend)),this.groups.hasOwnProperty("__ungrouped__")&&this.groups.__ungrouped__.setOptions(t)}this.dom.frame&&(this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0}))},i.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},i.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},i.prototype.setItems=function(t){var e,n=this,i=this.itemsData;if(t){if(!(t instanceof s||t instanceof l))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=t}else this.itemsData=null;if(i&&(g.forEach(this.itemListeners,function(t,e){i.off(e,t)}),e=i.getIds(),this._onRemove(e)),this.itemsData){var o=this.id;g.forEach(this.itemListeners,function(t,e){n.itemsData.on(e,t,o)}),e=this.itemsData.getIds(),this._onAdd(e)}},i.prototype.setGroups=function(t){var e,n=this;if(this.groupsData){g.forEach(this.groupListeners,function(t,e){n.groupsData.off(e,t)}),e=this.groupsData.getIds(),this.groupsData=null;for(var i=0;i<e.length;i++)this._removeGroup(e[i])}if(t){if(!(t instanceof s||t instanceof l))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=t}else this.groupsData=null;if(this.groupsData){var o=this.id;g.forEach(this.groupListeners,function(t,e){n.groupsData.on(e,t,o)}),e=this.groupsData.getIds(),this._onAddGroups(e)}},i.prototype._onUpdate=function(t){this._updateAllGroupData(t)},i.prototype._onAdd=function(t){this._onUpdate(t)},i.prototype._onRemove=function(t){this._onUpdate(t)},i.prototype._onUpdateGroups=function(t){this._updateAllGroupData(null,t)},i.prototype._onAddGroups=function(t){this._onUpdateGroups(t)},i.prototype._onRemoveGroups=function(t){for(var e=0;e<t.length;e++)this._removeGroup(t[e]);this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})},i.prototype._removeGroup=function(t){this.groups.hasOwnProperty(t)&&("right"==this.groups[t].options.yAxisOrientation?(this.yAxisRight.removeGroup(t),this.legendRight.removeGroup(t),this.legendRight.redraw()):(this.yAxisLeft.removeGroup(t),this.legendLeft.removeGroup(t),this.legendLeft.redraw()),delete this.groups[t])},i.prototype._updateGroup=function(t,e){this.groups.hasOwnProperty(e)?(this.groups[e].update(t),"right"==this.groups[e].options.yAxisOrientation?(this.yAxisRight.updateGroup(e,this.groups[e]),this.legendRight.updateGroup(e,this.groups[e]),this.yAxisLeft.removeGroup(e),this.legendLeft.removeGroup(e)):(this.yAxisLeft.updateGroup(e,this.groups[e]),this.legendLeft.updateGroup(e,this.groups[e]),this.yAxisRight.removeGroup(e),this.legendRight.removeGroup(e))):(this.groups[e]=new h(t,e,this.options,this.groupsUsingDefaultStyles),"right"==this.groups[e].options.yAxisOrientation?(this.yAxisRight.addGroup(e,this.groups[e]),this.legendRight.addGroup(e,this.groups[e])):(this.yAxisLeft.addGroup(e,this.groups[e]),this.legendLeft.addGroup(e,this.groups[e]))),this.legendLeft.redraw(),this.legendRight.redraw()},i.prototype._updateAllGroupData=function(t,e){if(null!=this.itemsData){var n={},i=this.itemsData.get(),o=this.itemsData._fieldId,r={};t&&t.map(function(t){r[t]=t});for(var a={},s=0;s<i.length;s++){var l=i[s],c=l.group;null!=c||(c="__ungrouped__"),a.hasOwnProperty(c)?a[c]++:a[c]=1}var d={};if(!e&&t)for(c in this.groups)if(this.groups.hasOwnProperty(c)){var u=(m=this.groups[c]).getItems();n[c]=u.filter(function(t){return d[t[o]]=t[o],t[o]!==r[t[o]]});var h=a[c];a[c]-=n[c].length,n[c].length<h&&(n[c][h-1]={})}for(s=0;s<i.length;s++)if(null!=(c=(l=i[s]).group)||(c="__ungrouped__"),e||!t||l[o]===r[l[o]]||!d.hasOwnProperty(l[o])){n.hasOwnProperty(c)||(n[c]=new Array(a[c]));var p=g.bridgeObject(l);p.x=g.convert(l.x,"Date"),p.end=g.convert(l.end,"Date"),p.orginalY=l.y,p.y=Number(l.y),p[o]=l[o];var f=n[c].length-a[c]--;n[c][f]=p}for(c in this.groups)this.groups.hasOwnProperty(c)&&(n.hasOwnProperty(c)||(n[c]=new Array(0)));for(c in n)if(n.hasOwnProperty(c))if(0==n[c].length)this.groups.hasOwnProperty(c)&&this._removeGroup(c);else{var m=void 0;null!=this.groupsData&&(m=this.groupsData.get(c)),null==m&&(m={id:c,content:this.options.defaultGroup+c}),this._updateGroup(m,c),this.groups[c].setItems(n[c])}this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})}},i.prototype.redraw=function(){var t=!1;this.props.width=this.dom.frame.offsetWidth,this.props.height=this.body.domProps.centerContainer.height-this.body.domProps.border.top-this.body.domProps.border.bottom,t=this._isResized()||t;var e=this.body.range.end-this.body.range.start,n=e!=this.lastVisibleInterval;if(this.lastVisibleInterval=e,1==t&&(this.svg.style.width=g.option.asSize(3*this.props.width),this.svg.style.left=g.option.asSize(-this.props.width),-1==(this.options.height+"").indexOf("%")&&1!=this.updateSVGheightOnResize||(this.updateSVGheight=!0)),1==this.updateSVGheight?(this.options.graphHeight!=this.props.height+"px"&&(this.options.graphHeight=this.props.height+"px",this.svg.style.height=this.props.height+"px"),this.updateSVGheight=!1):this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",1==t||1==n||1==this.abortedGraphUpdate||1==this.forceGraphUpdate)t=this._updateGraph()||t,this.forceGraphUpdate=!1;else if(0!=this.lastStart){var i=this.body.range.start-this.lastStart,o=this.body.range.end-this.body.range.start;if(0!=this.props.width){var r=i*(this.props.width/o);this.svg.style.left=-this.props.width-r+"px"}}return this.legendLeft.redraw(),this.legendRight.redraw(),t},i.prototype._getSortedGroupIds=function(){var t=[];for(var e in this.groups)if(this.groups.hasOwnProperty(e)){var n=this.groups[e];1!=n.visible||void 0!==this.options.groups.visibility[e]&&1!=this.options.groups.visibility[e]||t.push({id:e,zIndex:n.options.zIndex})}g.insertSort(t,function(t,e){var n=t.zIndex,i=e.zIndex;return void 0===n&&(n=0),void 0===i&&(i=0),n==i?0:n<i?-1:1});for(var i=new Array(t.length),o=0;o<t.length;o++)i[o]=t[o].id;return i},i.prototype._updateGraph=function(){if(u.prepareElements(this.svgElements),0!=this.props.width&&null!=this.itemsData){var t,e,n={},i=this.body.util.toGlobalTime(-this.body.domProps.root.width),o=this.body.util.toGlobalTime(2*this.body.domProps.root.width),r=this._getSortedGroupIds();if(0<r.length){var a={};for(this._getRelevantData(r,a,i,o),this._applySampling(r,a),e=0;e<r.length;e++)this._convertXcoordinates(a[r[e]]);if(this._getYRanges(r,a,n),1==this._updateYAxis(r,n))return u.cleanupElements(this.svgElements),this.abortedGraphUpdate=!0;this.abortedGraphUpdate=!1;var s=void 0;for(e=0;e<r.length;e++)t=this.groups[r[e]],!0===this.options.stack&&"line"===this.options.style&&(null!=t.options.excludeFromStacking&&t.options.excludeFromStacking||(null!=s&&(this._stack(a[t.id],a[s.id]),1==t.options.shaded.enabled&&"group"!==t.options.shaded.orientation&&("top"==t.options.shaded.orientation&&"group"!==s.options.shaded.orientation?(s.options.shaded.orientation="group",s.options.shaded.groupId=t.id):(t.options.shaded.orientation="group",t.options.shaded.groupId=s.id))),s=t)),this._convertYcoordinates(a[r[e]],t);var l={};for(e=0;e<r.length;e++)if("line"===(t=this.groups[r[e]]).options.style&&1==t.options.shaded.enabled){var c=a[r[e]];if(null==c||0==c.length)continue;if(l.hasOwnProperty(r[e])||(l[r[e]]=m.calcPath(c,t)),"group"===t.options.shaded.orientation){var d=t.options.shaded.groupId;if(-1===r.indexOf(d)){console.log(t.id+": Unknown shading group target given:"+d);continue}l.hasOwnProperty(d)||(l[d]=m.calcPath(a[d],this.groups[d])),m.drawShading(l[r[e]],t,l[d],this.framework)}else m.drawShading(l[r[e]],t,void 0,this.framework)}for(f.draw(r,a,this.framework),e=0;e<r.length;e++)if(t=this.groups[r[e]],0<a[r[e]].length)switch(t.options.style){case"line":l.hasOwnProperty(r[e])||(l[r[e]]=m.calcPath(a[r[e]],t)),m.draw(l[r[e]],t,this.framework);case"point":case"points":"point"!=t.options.style&&"points"!=t.options.style&&1!=t.options.drawPoints.enabled||v.draw(a[r[e]],t,this.framework)}}}return u.cleanupElements(this.svgElements),!1},i.prototype._stack=function(t,e){for(var n,i,o,r,a,s=n=0;s<t.length;s++){a=r=void 0;for(var l=n;l<e.length;l++){if(e[l].x===t[s].x){r=e[l],a=e[l],n=l;break}if(e[l].x>t[s].x){a=e[l],r=0==l?a:e[l-1],n=l;break}}void 0===a&&(r=e[e.length-1],a=e[e.length-1]),i=a.x-r.x,o=a.y-r.y,t[s].y=0==i?t[s].orginalY+a.y:t[s].orginalY+o/i*(t[s].x-r.x)+r.y}},i.prototype._getRelevantData=function(t,e,n,i){var o,r,a,s;if(0<t.length)for(r=0;r<t.length;r++){var l=(o=this.groups[t[r]]).getItems();if(1==o.options.sort){var c=function(t,e){return t.getTime()==e.getTime()?0:t<e?-1:1},d=Math.max(0,g.binarySearchValue(l,n,"x","before",c)),u=Math.min(l.length,g.binarySearchValue(l,i,"x","after",c)+1);u<=0&&(u=l.length);var h=new Array(u-d);for(a=d;a<u;a++)s=o.itemsData[a],h[a-d]=s;e[t[r]]=h}else e[t[r]]=o.itemsData}},i.prototype._applySampling=function(t,e){if(0<t.length)for(var n=0;n<t.length;n++)if(1==this.groups[t[n]].options.sampling){var i=e[t[n]];if(0<i.length){var o,r=i.length,a=r/(this.body.util.toGlobalScreen(i[i.length-1].x)-this.body.util.toGlobalScreen(i[0].x));o=Math.min(Math.ceil(.2*r),Math.max(1,Math.round(a)));for(var s=new Array(r),l=0;l<r;l+=o){s[Math.round(l/o)]=i[l]}e[t[n]]=s.splice(0,Math.round(r/o))}}},i.prototype._getYRanges=function(t,e,n){var i,o,r,a,s=[],l=[];if(0<t.length){for(r=0;r<t.length;r++)i=e[t[r]],a=this.groups[t[r]].options,0<i.length&&(o=this.groups[t[r]],!0===a.stack&&"bar"===a.style?"left"===a.yAxisOrientation?s=s.concat(i):l=l.concat(i):n[t[r]]=o.getYRange(i,t[r]));f.getStackedYRange(s,n,t,"__barStackLeft","left"),f.getStackedYRange(l,n,t,"__barStackRight","right")}},i.prototype._updateYAxis=function(t,e){var n,i,o=!1,r=!1,a=!1,s=1e9,l=1e9,c=-1e9,d=-1e9;if(0<t.length){for(var u=0;u<t.length;u++){var h=this.groups[t[u]];h&&"right"!=h.options.yAxisOrientation?(r=!0,c=-(s=1e9)):h&&h.options.yAxisOrientation&&(a=!0,d=-(l=1e9))}for(u=0;u<t.length;u++)e.hasOwnProperty(t[u])&&!0!==e[t[u]].ignore&&(n=e[t[u]].min,i=e[t[u]].max,"right"!=e[t[u]].yAxisOrientation?(r=!0,s=n<s?n:s,c=c<i?i:c):(a=!0,l=n<l?n:l,d=d<i?i:d));1==r&&this.yAxisLeft.setRange(s,c),1==a&&this.yAxisRight.setRange(l,d)}o=this._toggleAxisVisiblity(r,this.yAxisLeft)||o,o=this._toggleAxisVisiblity(a,this.yAxisRight)||o,this.yAxisRight.drawIcons=1==a&&1==r?this.yAxisLeft.drawIcons=!0:this.yAxisLeft.drawIcons=!1,this.yAxisRight.master=!r,this.yAxisRight.masterAxis=this.yAxisLeft,o=(0==this.yAxisRight.master&&(this.yAxisLeft.lineOffset=1==a?this.yAxisRight.width:0,o=this.yAxisLeft.redraw()||o),this.yAxisRight.redraw()||o);var p=["__barStackLeft","__barStackRight","__lineStackLeft","__lineStackRight"];for(u=0;u<p.length;u++)-1!=t.indexOf(p[u])&&t.splice(t.indexOf(p[u]),1);return o},i.prototype._toggleAxisVisiblity=function(t,e){var n=!1;return 0==t?e.dom.frame.parentNode&&0==e.hidden&&(e.hide(),n=!0):e.dom.frame.parentNode||1!=e.hidden||(e.show(),n=!0),n},i.prototype._convertXcoordinates=function(t){for(var e=this.body.util.toScreen,n=0;n<t.length;n++)t[n].screen_x=e(t[n].x)+this.props.width,t[n].screen_y=t[n].y,null!=t[n].end?t[n].screen_end=e(t[n].end)+this.props.width:t[n].screen_end=void 0},i.prototype._convertYcoordinates=function(t,e){var n=this.yAxisLeft,i=Number(this.svg.style.height.replace("px",""));"right"==e.options.yAxisOrientation&&(n=this.yAxisRight);for(var o=0;o<t.length;o++)t[o].screen_y=Math.round(n.convertValue(t[o].y));e.setZeroPosition(Math.min(i,n.convertValue(0)))},t.exports=i},function(t,e,n){function i(t,e,n,i){this.id=s.randomUUID(),this.body=t,this.defaultOptions={orientation:"left",showMinorLabels:!0,showMajorLabels:!0,icons:!1,majorLinesOffset:7,minorLinesOffset:4,labelOffsetX:10,labelOffsetY:2,iconWidth:20,width:"40px",visible:!0,alignZeros:!0,left:{range:{min:void 0,max:void 0},format:function(t){return""+parseFloat(t.toPrecision(3))},title:{text:void 0,style:void 0}},right:{range:{min:void 0,max:void 0},format:function(t){return""+parseFloat(t.toPrecision(3))},title:{text:void 0,style:void 0}}},this.linegraphOptions=i,this.linegraphSVG=n,this.props={},this.DOMelements={lines:{},labels:{},title:{}},this.dom={},this.scale=void 0,this.range={start:0,end:0},this.options=s.extend({},this.defaultOptions),this.conversionFactor=1,this.setOptions(e),this.width=Number((""+this.options.width).replace("px","")),this.minWidth=this.width,this.height=this.linegraphSVG.getBoundingClientRect().height,this.hidden=!1,this.stepPixels=25,this.zeroCrossing=-1,this.amountOfSteps=-1,this.lineOffset=0,this.master=!0,this.masterAxis=null,this.svgElements={},this.iconsRemoved=!1,this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups};var o=this;this.body.emitter.on("verticalDrag",function(){o.dom.lineContainer.style.top=o.body.domProps.scrollTop+"px"})}var o,r=n(8),a=(o=r)&&o.__esModule?o:{default:o},s=n(2),l=n(14),c=n(16),d=n(108);(i.prototype=new c).addGroup=function(t,e){this.groups.hasOwnProperty(t)||(this.groups[t]=e),this.amountOfGroups+=1},i.prototype.updateGroup=function(t,e){this.groups.hasOwnProperty(t)||(this.amountOfGroups+=1),this.groups[t]=e},i.prototype.removeGroup=function(t){this.groups.hasOwnProperty(t)&&(delete this.groups[t],this.amountOfGroups-=1)},i.prototype.setOptions=function(t){if(t){var e=!1;this.options.orientation!=t.orientation&&void 0!==t.orientation&&(e=!0);s.selectiveDeepExtend(["orientation","showMinorLabels","showMajorLabels","icons","majorLinesOffset","minorLinesOffset","labelOffsetX","labelOffsetY","iconWidth","width","visible","left","right","alignZeros"],this.options,t),this.minWidth=Number((""+this.options.width).replace("px","")),!0===e&&this.dom.frame&&(this.hide(),this.show())}},i.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.style.width=this.options.width,this.dom.frame.style.height=this.height,this.dom.lineContainer=document.createElement("div"),this.dom.lineContainer.style.width="100%",this.dom.lineContainer.style.height=this.height,this.dom.lineContainer.style.position="relative",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.height="100%",this.svg.style.width="100%",this.svg.style.display="block",this.dom.frame.appendChild(this.svg)},i.prototype._redrawGroupIcons=function(){l.prepareElements(this.svgElements);var t,e=this.options.iconWidth,n=11.5;t="left"===this.options.orientation?4:this.width-e-4;var i=(0,a.default)(this.groups);i.sort(function(t,e){return t<e?-1:1});for(var o=0;o<i.length;o++){var r=i[o];!0!==this.groups[r].visible||void 0!==this.linegraphOptions.visibility[r]&&!0!==this.linegraphOptions.visibility[r]||(this.groups[r].getLegend(e,15,this.framework,t,n),n+=19)}l.cleanupElements(this.svgElements),this.iconsRemoved=!1},i.prototype._cleanupIcons=function(){!1===this.iconsRemoved&&(l.prepareElements(this.svgElements),l.cleanupElements(this.svgElements),this.iconsRemoved=!0)},i.prototype.show=function(){this.hidden=!1,this.dom.frame.parentNode||("left"===this.options.orientation?this.body.dom.left.appendChild(this.dom.frame):this.body.dom.right.appendChild(this.dom.frame)),this.dom.lineContainer.parentNode||this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer)},i.prototype.hide=function(){this.hidden=!0,this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.lineContainer.parentNode&&this.dom.lineContainer.parentNode.removeChild(this.dom.lineContainer)},i.prototype.setRange=function(t,e){this.range.start=t,this.range.end=e},i.prototype.redraw=function(){var t=!1,e=0;for(var n in this.dom.lineContainer.style.top=this.body.domProps.scrollTop+"px",this.groups)this.groups.hasOwnProperty(n)&&(!0!==this.groups[n].visible||void 0!==this.linegraphOptions.visibility[n]&&!0!==this.linegraphOptions.visibility[n]||e++);if(0===this.amountOfGroups||0===e)this.hide();else{this.show(),this.height=Number(this.linegraphSVG.style.height.replace("px","")),this.dom.lineContainer.style.height=this.height+"px",this.width=!0===this.options.visible?Number((""+this.options.width).replace("px","")):0;var i=this.props,o=this.dom.frame;o.className="vis-data-axis",this._calculateCharSize();var r=this.options.orientation,a=this.options.showMinorLabels,s=this.options.showMajorLabels;i.minorLabelHeight=a?i.minorCharHeight:0,i.majorLabelHeight=s?i.majorCharHeight:0,i.minorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.minorLinesOffset,i.minorLineHeight=1,i.majorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.majorLinesOffset,i.majorLineHeight=1,this.props.height="left"===r?(o.style.top="0",o.style.left="0",o.style.bottom="",o.style.width=this.width+"px",o.style.height=this.height+"px",this.props.width=this.body.domProps.left.width,this.body.domProps.left.height):(o.style.top="",o.style.bottom="0",o.style.left="0",o.style.width=this.width+"px",o.style.height=this.height+"px",this.props.width=this.body.domProps.right.width,this.body.domProps.right.height),t=this._redrawLabels(),t=this._isResized()||t,!0===this.options.icons?this._redrawGroupIcons():this._cleanupIcons(),this._redrawTitle(r)}return t},i.prototype._redrawLabels=function(){var i=this;l.prepareElements(this.DOMelements.lines),l.prepareElements(this.DOMelements.labels);var o=this.options.orientation,t=null!=this.options[o].range?this.options[o].range:{},e=!0;null!=t.max&&(this.range.end=t.max,e=!1);var n=!0;null!=t.min&&(this.range.start=t.min,n=!1),this.scale=new d(this.range.start,this.range.end,n,e,this.dom.frame.offsetHeight,this.props.majorCharHeight,this.options.alignZeros,this.options[o].format),!1===this.master&&null!=this.masterAxis&&this.scale.followScale(this.masterAxis.scale),this.maxLabelSize=0,this.scale.getLines().forEach(function(t){var e=t.y,n=t.major;i.options.showMinorLabels&&!1===n&&i._redrawLabel(e-2,t.val,o,"vis-y-axis vis-minor",i.props.minorCharHeight),n&&0<=e&&i._redrawLabel(e-2,t.val,o,"vis-y-axis vis-major",i.props.majorCharHeight),!0===i.master&&(n?i._redrawLine(e,o,"vis-grid vis-horizontal vis-major",i.options.majorLinesOffset,i.props.majorLineWidth):i._redrawLine(e,o,"vis-grid vis-horizontal vis-minor",i.options.minorLinesOffset,i.props.minorLineWidth))});var r=0;void 0!==this.options[o].title&&void 0!==this.options[o].title.text&&(r=this.props.titleCharHeight);var a=!0===this.options.icons?Math.max(this.options.iconWidth,r)+this.options.labelOffsetX+15:r+this.options.labelOffsetX+15;return this.maxLabelSize>this.width-a&&!0===this.options.visible?(this.width=this.maxLabelSize+a,this.options.width=this.width+"px",l.cleanupElements(this.DOMelements.lines),l.cleanupElements(this.DOMelements.labels),this.redraw(),!0):this.maxLabelSize<this.width-a&&!0===this.options.visible&&this.width>this.minWidth?(this.width=Math.max(this.minWidth,this.maxLabelSize+a),this.options.width=this.width+"px",l.cleanupElements(this.DOMelements.lines),l.cleanupElements(this.DOMelements.labels),this.redraw(),!0):(l.cleanupElements(this.DOMelements.lines),l.cleanupElements(this.DOMelements.labels),!1)},i.prototype.convertValue=function(t){return this.scale.convertValue(t)},i.prototype.screenToValue=function(t){return this.scale.screenToValue(t)},i.prototype._redrawLabel=function(t,e,n,i,o){var r=l.getDOMElement("div",this.DOMelements.labels,this.dom.frame);r.className=i,r.innerHTML=e,r.style.textAlign="left"===n?(r.style.left="-"+this.options.labelOffsetX+"px","right"):(r.style.right="-"+this.options.labelOffsetX+"px","left"),r.style.top=t-.5*o+this.options.labelOffsetY+"px",e+="";var a=Math.max(this.props.majorCharWidth,this.props.minorCharWidth);this.maxLabelSize<e.length*a&&(this.maxLabelSize=e.length*a)},i.prototype._redrawLine=function(t,e,n,i,o){if(!0===this.master){var r=l.getDOMElement("div",this.DOMelements.lines,this.dom.lineContainer);r.className=n,r.innerHTML="","left"===e?r.style.left=this.width-i+"px":r.style.right=this.width-i+"px",r.style.width=o+"px",r.style.top=t+"px"}},i.prototype._redrawTitle=function(t){if(l.prepareElements(this.DOMelements.title),void 0!==this.options[t].title&&void 0!==this.options[t].title.text){var e=l.getDOMElement("div",this.DOMelements.title,this.dom.frame);e.className="vis-y-axis vis-title vis-"+t,e.innerHTML=this.options[t].title.text,void 0!==this.options[t].title.style&&s.addCssText(e,this.options[t].title.style),"left"===t?e.style.left=this.props.titleCharHeight+"px":e.style.right=this.props.titleCharHeight+"px",e.style.width=this.height+"px"}l.cleanupElements(this.DOMelements.title)},i.prototype._calculateCharSize=function(){if(!("minorCharHeight"in this.props)){var t=document.createTextNode("0"),e=document.createElement("div");e.className="vis-y-axis vis-minor vis-measure",e.appendChild(t),this.dom.frame.appendChild(e),this.props.minorCharHeight=e.clientHeight,this.props.minorCharWidth=e.clientWidth,this.dom.frame.removeChild(e)}if(!("majorCharHeight"in this.props)){var n=document.createTextNode("0"),i=document.createElement("div");i.className="vis-y-axis vis-major vis-measure",i.appendChild(n),this.dom.frame.appendChild(i),this.props.majorCharHeight=i.clientHeight,this.props.majorCharWidth=i.clientWidth,this.dom.frame.removeChild(i)}if(!("titleCharHeight"in this.props)){var o=document.createTextNode("0"),r=document.createElement("div");r.className="vis-y-axis vis-title vis-measure",r.appendChild(o),this.dom.frame.appendChild(r),this.props.titleCharHeight=r.clientHeight,this.props.titleCharWidth=r.clientWidth,this.dom.frame.removeChild(r)}},t.exports=i},function(t,e,n){function i(t,e,n,i,o,r){var a=6<arguments.length&&void 0!==arguments[6]&&arguments[6],s=7<arguments.length&&void 0!==arguments[7]&&arguments[7];if(this.majorSteps=[1,2,5,10],this.minorSteps=[.25,.5,1,2],this.customLines=null,this.containerHeight=o,this.majorCharHeight=r,this._start=t,this._end=e,this.scale=1,this.minorStepIdx=-1,this.magnitudefactor=1,this.determineScale(),this.zeroAlign=a,this.autoScaleStart=n,this.autoScaleEnd=i,this.formattingFunction=s,n||i){var l=this,c=function(t){var e=t-t%(l.magnitudefactor*l.minorSteps[l.minorStepIdx]);return t%(l.magnitudefactor*l.minorSteps[l.minorStepIdx])>l.magnitudefactor*l.minorSteps[l.minorStepIdx]*.5?e+l.magnitudefactor*l.minorSteps[l.minorStepIdx]:e};n&&(this._start-=2*this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._start=c(this._start)),i&&(this._end+=this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._end=c(this._end)),this.determineScale()}}i.prototype.setCharHeight=function(t){this.majorCharHeight=t},i.prototype.setHeight=function(t){this.containerHeight=t},i.prototype.determineScale=function(){var t=this._end-this._start;this.scale=this.containerHeight/t;var e=this.majorCharHeight/this.scale,n=0<t?Math.round(Math.log(t)/Math.LN10):0;this.minorStepIdx=-1,this.magnitudefactor=Math.pow(10,n);var i=0;n<0&&(i=n);for(var o=!1,r=i;Math.abs(r)<=Math.abs(n);r++){this.magnitudefactor=Math.pow(10,r);for(var a=0;a<this.minorSteps.length;a++)if(this.magnitudefactor*this.minorSteps[a]>=e){o=!0,this.minorStepIdx=a;break}if(!0===o)break}},i.prototype.is_major=function(t){return t%(this.magnitudefactor*this.majorSteps[this.minorStepIdx])==0},i.prototype.getStep=function(){return this.magnitudefactor*this.minorSteps[this.minorStepIdx]},i.prototype.getFirstMajor=function(){var t=this.magnitudefactor*this.majorSteps[this.minorStepIdx];return this.convertValue(this._start+(t-this._start%t)%t)},i.prototype.formatValue=function(t){var e=t.toPrecision(5);return"function"==typeof this.formattingFunction&&(e=this.formattingFunction(t)),"number"==typeof e?""+e:"string"==typeof e?e:t.toPrecision(5)},i.prototype.getLines=function(){for(var t=[],e=this.getStep(),n=(e-this._start%e)%e,i=this._start+n;1e-5<this._end-i;i+=e)i!=this._start&&t.push({major:this.is_major(i),y:this.convertValue(i),val:this.formatValue(i)});return t},i.prototype.followScale=function(t){var e=this.minorStepIdx,n=this._start,i=this._end,o=this,r=function(){o.magnitudefactor*=2},a=function(){o.magnitudefactor/=2};t.minorStepIdx<=1&&this.minorStepIdx<=1||1<t.minorStepIdx&&1<this.minorStepIdx||(t.minorStepIdx<this.minorStepIdx?(this.minorStepIdx=1,2==e||r(),r()):(this.minorStepIdx=2,1==e||a(),a()));for(var s=t.convertValue(0),l=t.getStep()*t.scale,c=!1,d=0;!c&&d++<5;){this.scale=l/(this.minorSteps[this.minorStepIdx]*this.magnitudefactor);var u=this.containerHeight/this.scale;this._start=n,this._end=this._start+u;var h=this._end*this.scale,p=this.magnitudefactor*this.majorSteps[this.minorStepIdx],f=this.getFirstMajor()-t.getFirstMajor();if(this.zeroAlign){var m=s-h;this._end+=m/this.scale,this._start=this._end-u}else this.autoScaleStart?this._start-=f/this.scale:this._start+=p-f/this.scale,this._end=this._start+u;if(!this.autoScaleEnd&&this._end>i+1e-5)a(),c=!1;else{if(!this.autoScaleStart&&this._start<n-1e-5){if(!(this.zeroAlign&&0<=n)){a(),c=!1;continue}console.warn("Can't adhere to given 'min' range, due to zeroalign")}c=!(this.autoScaleStart&&this.autoScaleEnd&&u<i-n)||(r(),!1)}}},i.prototype.convertValue=function(t){return this.containerHeight-(t-this._start)*this.scale},i.prototype.screenToValue=function(t){return(this.containerHeight-t)/this.scale+this._start},t.exports=i},function(t,e,n){function i(t,e,n,i){this.id=e;this.options=s.selectiveBridgeObject(["sampling","style","sort","yAxisOrientation","barChart","drawPoints","shaded","interpolation","zIndex","excludeFromStacking","excludeFromLegend"],n),this.usingDefaultStyle=void 0===t.className,this.groupsUsingDefaultStyles=i,this.zeroPosition=0,this.update(t),1==this.usingDefaultStyle&&(this.groupsUsingDefaultStyles[0]+=1),this.itemsData=[],this.visible=void 0===t.visible||t.visible}var o,r=n(6),a=(o=r)&&o.__esModule?o:{default:o},s=n(2),l=n(110),c=n(111),d=n(72);i.prototype.setItems=function(t){null!=t?(this.itemsData=t,1==this.options.sort&&s.insertSort(this.itemsData,function(t,e){return t.x>e.x?1:-1})):this.itemsData=[]},i.prototype.getItems=function(){return this.itemsData},i.prototype.setZeroPosition=function(t){this.zeroPosition=t},i.prototype.setOptions=function(t){if(void 0!==t){s.selectiveDeepExtend(["sampling","style","sort","yAxisOrientation","barChart","zIndex","excludeFromStacking","excludeFromLegend"],this.options,t),"function"==typeof t.drawPoints&&(t.drawPoints={onRender:t.drawPoints}),s.mergeOptions(this.options,t,"interpolation"),s.mergeOptions(this.options,t,"drawPoints"),s.mergeOptions(this.options,t,"shaded"),t.interpolation&&"object"==(0,a.default)(t.interpolation)&&t.interpolation.parametrization&&("uniform"==t.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==t.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5))}},i.prototype.update=function(t){this.group=t,this.content=t.content||"graph",this.className=t.className||this.className||"vis-graph-group"+this.groupsUsingDefaultStyles[0]%10,this.visible=void 0===t.visible||t.visible,this.style=t.style,this.setOptions(t.options)},i.prototype.getLegend=function(t,e,n,i,o){switch(null!=n&&null!=n||(n={svg:document.createElementNS("http://www.w3.org/2000/svg","svg"),svgElements:{},options:this.options,groups:[this]}),null!=i&&null!=i||(i=0),null!=o&&null!=o||(o=.5*e),this.options.style){case"line":c.drawIcon(this,i,o,t,e,n);break;case"points":case"point":d.drawIcon(this,i,o,t,e,n);break;case"bar":l.drawIcon(this,i,o,t,e,n)}return{icon:n.svg,label:this.content,orientation:this.options.yAxisOrientation}},i.prototype.getYRange=function(t){for(var e=t[0].y,n=t[0].y,i=0;i<t.length;i++)e=e>t[i].y?t[i].y:e,n=n<t[i].y?t[i].y:n;return{min:e,max:n,yAxisOrientation:this.options.yAxisOrientation}},t.exports=i},function(t,e,n){function y(t,e){}var b=n(14),_=n(72);y.drawIcon=function(t,e,n,i,o,r){var a=.5*o,s=b.getSVGElement("rect",r.svgElements,r.svg);s.setAttributeNS(null,"x",e),s.setAttributeNS(null,"y",n-a),s.setAttributeNS(null,"width",i),s.setAttributeNS(null,"height",2*a),s.setAttributeNS(null,"class","vis-outline");var l=Math.round(.3*i),c=t.options.barChart.width/l,d=Math.round(.4*o),u=Math.round(.75*o),h=Math.round((i-2*l)/3);if(b.drawBar(e+.5*l+h,n+a-d-1,l,d,t.className+" vis-bar",r.svgElements,r.svg,t.style),b.drawBar(e+1.5*l+h+2,n+a-u-1,l,u,t.className+" vis-bar",r.svgElements,r.svg,t.style),1==t.options.drawPoints.enabled){var p={style:t.options.drawPoints.style,styles:t.options.drawPoints.styles,size:t.options.drawPoints.size/c,className:t.className};b.drawPoint(e+.5*l+h,n+a-d-1,p,r.svgElements,r.svg),b.drawPoint(e+1.5*l+h+2,n+a-u-1,p,r.svgElements,r.svg)}},y.draw=function(t,e,n){var i,o,r,a,s,l,c=[],d={},u=0;for(s=0;s<t.length;s++)if("bar"===(a=n.groups[t[s]]).options.style&&!0===a.visible&&(void 0===n.options.groups.visibility[t[s]]||!0===n.options.groups.visibility[t[s]]))for(l=0;l<e[t[s]].length;l++)c.push({screen_x:e[t[s]][l].screen_x,screen_end:e[t[s]][l].screen_end,screen_y:e[t[s]][l].screen_y,x:e[t[s]][l].x,end:e[t[s]][l].end,y:e[t[s]][l].y,groupId:t[s],label:e[t[s]][l].label}),u+=1;if(0!==u)for(c.sort(function(t,e){return t.screen_x===e.screen_x?t.groupId<e.groupId?-1:1:t.screen_x-e.screen_x}),y._getDataIntersections(d,c),s=0;s<c.length;s++){var h=null!=(a=n.groups[c[s].groupId]).options.barChart.minWidth?a.options.barChart.minWidth:.1*a.options.barChart.width,p=0;if(void 0===d[o=c[s].screen_x])s+1<c.length&&(i=Math.abs(c[s+1].screen_x-o)),r=y._getSafeDrawData(i,a,h);else{var f=s+(d[o].amount-d[o].resolved);f<c.length&&(i=Math.abs(c[f].screen_x-o)),r=y._getSafeDrawData(i,a,h),d[o].resolved+=1,!0===a.options.stack&&!0!==a.options.excludeFromStacking?c[s].screen_y<a.zeroPosition?(p=d[o].accumulatedNegative,d[o].accumulatedNegative+=a.zeroPosition-c[s].screen_y):(p=d[o].accumulatedPositive,d[o].accumulatedPositive+=a.zeroPosition-c[s].screen_y):!0===a.options.barChart.sideBySide&&(r.width=r.width/d[o].amount,r.offset+=d[o].resolved*r.width-.5*r.width*(d[o].amount+1))}var m=r.width,g=c[s].screen_x;if(null!=c[s].screen_end?g+=.5*(m=c[s].screen_end-c[s].screen_x):g+=r.offset,b.drawBar(g,c[s].screen_y-p,m,a.zeroPosition-c[s].screen_y,a.className+" vis-bar",n.svgElements,n.svg,a.style),!0===a.options.drawPoints.enabled){var v={screen_x:c[s].screen_x,screen_y:c[s].screen_y-p,x:c[s].x,y:c[s].y,groupId:c[s].groupId,label:c[s].label};_.draw([v],a,n,r.offset)}}},y._getDataIntersections=function(t,e){for(var n,i=0;i<e.length;i++)i+1<e.length&&(n=Math.abs(e[i+1].screen_x-e[i].screen_x)),0<i&&(n=Math.min(n,Math.abs(e[i-1].screen_x-e[i].screen_x))),0===n&&(void 0===t[e[i].screen_x]&&(t[e[i].screen_x]={amount:0,resolved:0,accumulatedPositive:0,accumulatedNegative:0}),t[e[i].screen_x].amount+=1)},y._getSafeDrawData=function(t,e,n){var i,o;return t<e.options.barChart.width&&0<t?(i=t<n?n:t,o=0,"left"===e.options.barChart.align?o-=.5*t:"right"===e.options.barChart.align&&(o+=.5*t)):(i=e.options.barChart.width,o=0,"left"===e.options.barChart.align?o-=.5*e.options.barChart.width:"right"===e.options.barChart.align&&(o+=.5*e.options.barChart.width)),{width:i,offset:o}},y.getStackedYRange=function(t,e,n,i,o){if(0<t.length){t.sort(function(t,e){return t.screen_x===e.screen_x?t.groupId<e.groupId?-1:1:t.screen_x-e.screen_x});var r={};y._getDataIntersections(r,t),e[i]=y._getStackedYRange(r,t),e[i].yAxisOrientation=o,n.push(i)}},y._getStackedYRange=function(t,e){for(var n,i=e[0].screen_y,o=e[0].screen_y,r=0;r<e.length;r++)void 0===t[n=e[r].screen_x]?(i=i>e[r].screen_y?e[r].screen_y:i,o=o<e[r].screen_y?e[r].screen_y:o):e[r].screen_y<0?t[n].accumulatedNegative+=e[r].screen_y:t[n].accumulatedPositive+=e[r].screen_y;for(var a in t)t.hasOwnProperty(a)&&(i=(i=i>t[a].accumulatedNegative?t[a].accumulatedNegative:i)>t[a].accumulatedPositive?t[a].accumulatedPositive:i,o=(o=o<t[a].accumulatedNegative?t[a].accumulatedNegative:o)<t[a].accumulatedPositive?t[a].accumulatedPositive:o);return{min:i,max:o}},t.exports=y},function(t,e,n){function i(t,e){}var u=n(14);i.calcPath=function(t,e){if(null!=t&&0<t.length)return 1==e.options.interpolation.enabled?i._catmullRom(t,e):i._linear(t)},i.drawIcon=function(t,e,n,i,o,r){var a,s,l=.5*o,c=u.getSVGElement("rect",r.svgElements,r.svg);if(c.setAttributeNS(null,"x",e),c.setAttributeNS(null,"y",n-l),c.setAttributeNS(null,"width",i),c.setAttributeNS(null,"height",2*l),c.setAttributeNS(null,"class","vis-outline"),(a=u.getSVGElement("path",r.svgElements,r.svg)).setAttributeNS(null,"class",t.className),void 0!==t.style&&a.setAttributeNS(null,"style",t.style),a.setAttributeNS(null,"d","M"+e+","+n+" L"+(e+i)+","+n),1==t.options.shaded.enabled&&(s=u.getSVGElement("path",r.svgElements,r.svg),"top"==t.options.shaded.orientation?s.setAttributeNS(null,"d","M"+e+", "+(n-l)+"L"+e+","+n+" L"+(e+i)+","+n+" L"+(e+i)+","+(n-l)):s.setAttributeNS(null,"d","M"+e+","+n+" L"+e+","+(n+l)+" L"+(e+i)+","+(n+l)+"L"+(e+i)+","+n),s.setAttributeNS(null,"class",t.className+" vis-icon-fill"),void 0!==t.options.shaded.style&&""!==t.options.shaded.style&&s.setAttributeNS(null,"style",t.options.shaded.style)),1==t.options.drawPoints.enabled){var d={style:t.options.drawPoints.style,styles:t.options.drawPoints.styles,size:t.options.drawPoints.size,className:t.className};u.drawPoint(e+.5*i,n,d,r.svgElements,r.svg)}},i.drawShading=function(t,e,n,i){if(1==e.options.shaded.enabled){var o=Number(i.svg.style.height.replace("px","")),r=u.getSVGElement("path",i.svgElements,i.svg),a="L";1==e.options.interpolation.enabled&&(a="C");var s,l;l="top"==e.options.shaded.orientation?0:"bottom"==e.options.shaded.orientation?o:Math.min(Math.max(0,e.zeroPosition),o),s="group"==e.options.shaded.orientation&&null!=n&&null!=n?"M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,a,!1)+" L"+n[n.length-1][0]+","+n[n.length-1][1]+" "+this.serializePath(n,a,!0)+n[0][0]+","+n[0][1]+" Z":"M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,a,!1)+" V"+l+" H"+t[0][0]+" Z",r.setAttributeNS(null,"class",e.className+" vis-fill"),void 0!==e.options.shaded.style&&r.setAttributeNS(null,"style",e.options.shaded.style),r.setAttributeNS(null,"d",s)}},i.draw=function(t,e,n){if(null!=t&&null!=t){var i=u.getSVGElement("path",n.svgElements,n.svg);i.setAttributeNS(null,"class",e.className),void 0!==e.style&&i.setAttributeNS(null,"style",e.style);var o="L";1==e.options.interpolation.enabled&&(o="C"),i.setAttributeNS(null,"d","M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,o,!1))}},i.serializePath=function(t,e,n){if(t.length<2)return"";var i,o=e;if(n)for(i=t.length-2;0<i;i--)o+=t[i][0]+","+t[i][1]+" ";else for(i=1;i<t.length;i++)o+=t[i][0]+","+t[i][1]+" ";return o},i._catmullRomUniform=function(t){var e,n,i,o,r,a,s=[];s.push([Math.round(t[0].screen_x),Math.round(t[0].screen_y)]);for(var l=t.length,c=0;c<l-1;c++)e=0==c?t[0]:t[c-1],n=t[c],i=t[c+1],o=c+2<l?t[c+2]:i,r={screen_x:(-e.screen_x+6*n.screen_x+i.screen_x)*(1/6),screen_y:(-e.screen_y+6*n.screen_y+i.screen_y)*(1/6)},a={screen_x:(n.screen_x+6*i.screen_x-o.screen_x)*(1/6),screen_y:(n.screen_y+6*i.screen_y-o.screen_y)*(1/6)},s.push([r.screen_x,r.screen_y]),s.push([a.screen_x,a.screen_y]),s.push([i.screen_x,i.screen_y]);return s},i._catmullRom=function(t,e){var n=e.options.interpolation.alpha;if(0==n||void 0===n)return this._catmullRomUniform(t);var i,o,r,a,s,l,c,d,u,h,p,f,m,g,v,y,b,_,x,w=[];w.push([Math.round(t[0].screen_x),Math.round(t[0].screen_y)]);for(var E=t.length,M=0;M<E-1;M++)i=0==M?t[0]:t[M-1],o=t[M],r=t[M+1],a=M+2<E?t[M+2]:r,c=Math.sqrt(Math.pow(i.screen_x-o.screen_x,2)+Math.pow(i.screen_y-o.screen_y,2)),d=Math.sqrt(Math.pow(o.screen_x-r.screen_x,2)+Math.pow(o.screen_y-r.screen_y,2)),u=Math.sqrt(Math.pow(r.screen_x-a.screen_x,2)+Math.pow(r.screen_y-a.screen_y,2)),g=Math.pow(u,n),y=Math.pow(u,2*n),v=Math.pow(d,n),b=Math.pow(d,2*n),x=Math.pow(c,n),h=2*(_=Math.pow(c,2*n))+3*x*v+b,p=2*y+3*g*v+b,0<(f=3*x*(x+v))&&(f=1/f),0<(m=3*g*(g+v))&&(m=1/m),s={screen_x:(-b*i.screen_x+h*o.screen_x+_*r.screen_x)*f,screen_y:(-b*i.screen_y+h*o.screen_y+_*r.screen_y)*f},l={screen_x:(y*o.screen_x+p*r.screen_x-b*a.screen_x)*m,screen_y:(y*o.screen_y+p*r.screen_y-b*a.screen_y)*m},0==s.screen_x&&0==s.screen_y&&(s=o),0==l.screen_x&&0==l.screen_y&&(l=r),w.push([s.screen_x,s.screen_y]),w.push([l.screen_x,l.screen_y]),w.push([r.screen_x,r.screen_y]);return w},i._linear=function(t){for(var e=[],n=0;n<t.length;n++)e.push([t[n].screen_x,t[n].screen_y]);return e},t.exports=i},function(t,e,n){function i(t,e,n,i){this.body=t,this.defaultOptions={enabled:!1,icons:!0,iconSize:20,iconSpacing:6,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-right"}},this.side=n,this.options=a.extend({},this.defaultOptions),this.linegraphOptions=i,this.svgElements={},this.dom={},this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups},this.setOptions(e)}var o,r=n(8),c=(o=r)&&o.__esModule?o:{default:o},a=n(2),d=n(14),s=n(16);(i.prototype=new s).clear=function(){this.groups={},this.amountOfGroups=0},i.prototype.addGroup=function(t,e){1!=e.options.excludeFromLegend&&(this.groups.hasOwnProperty(t)||(this.groups[t]=e),this.amountOfGroups+=1)},i.prototype.updateGroup=function(t,e){this.groups[t]=e},i.prototype.removeGroup=function(t){this.groups.hasOwnProperty(t)&&(delete this.groups[t],this.amountOfGroups-=1)},i.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-legend",this.dom.frame.style.position="absolute",this.dom.frame.style.top="10px",this.dom.frame.style.display="block",this.dom.textArea=document.createElement("div"),this.dom.textArea.className="vis-legend-text",this.dom.textArea.style.position="relative",this.dom.textArea.style.top="0px",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.width=this.options.iconSize+5+"px",this.svg.style.height="100%",this.dom.frame.appendChild(this.svg),this.dom.frame.appendChild(this.dom.textArea)},i.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},i.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},i.prototype.setOptions=function(t){a.selectiveDeepExtend(["enabled","orientation","icons","left","right"],this.options,t)},i.prototype.redraw=function(){var t=0,e=(0,c.default)(this.groups);e.sort(function(t,e){return t<e?-1:1});for(var n=0;n<e.length;n++){var i=e[n];1!=this.groups[i].visible||void 0!==this.linegraphOptions.visibility[i]&&1!=this.linegraphOptions.visibility[i]||t++}if(0==this.options[this.side].visible||0==this.amountOfGroups||0==this.options.enabled||0==t)this.hide();else{if(this.show(),"top-left"==this.options[this.side].position||"bottom-left"==this.options[this.side].position?(this.dom.frame.style.left="4px",this.dom.frame.style.textAlign="left",this.dom.textArea.style.textAlign="left",this.dom.textArea.style.left=this.options.iconSize+15+"px",this.dom.textArea.style.right="",this.svg.style.left="0px",this.svg.style.right=""):(this.dom.frame.style.right="4px",this.dom.frame.style.textAlign="right",this.dom.textArea.style.textAlign="right",this.dom.textArea.style.right=this.options.iconSize+15+"px",this.dom.textArea.style.left="",this.svg.style.right="0px",this.svg.style.left=""),"top-left"==this.options[this.side].position||"top-right"==this.options[this.side].position)this.dom.frame.style.top=4-Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.bottom="";else{var o=this.body.domProps.center.height-this.body.domProps.centerContainer.height;this.dom.frame.style.bottom=4+o+Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.top=""}0==this.options.icons?(this.dom.frame.style.width=this.dom.textArea.offsetWidth+10+"px",this.dom.textArea.style.right="",this.dom.textArea.style.left="",this.svg.style.width="0px"):(this.dom.frame.style.width=this.options.iconSize+15+this.dom.textArea.offsetWidth+10+"px",this.drawLegendIcons());var r="";for(n=0;n<e.length;n++)i=e[n],1!=this.groups[i].visible||void 0!==this.linegraphOptions.visibility[i]&&1!=this.linegraphOptions.visibility[i]||(r+=this.groups[i].content+"<br />");this.dom.textArea.innerHTML=r,this.dom.textArea.style.lineHeight=.75*this.options.iconSize+this.options.iconSpacing+"px"}},i.prototype.drawLegendIcons=function(){if(this.dom.frame.parentNode){var t=(0,c.default)(this.groups);t.sort(function(t,e){return t<e?-1:1}),d.resetElements(this.svgElements);var e=window.getComputedStyle(this.dom.frame).paddingTop,n=Number(e.replace("px","")),i=n,o=this.options.iconSize,r=.75*this.options.iconSize,a=n+.5*r+3;this.svg.style.width=o+5+n+"px";for(var s=0;s<t.length;s++){var l=t[s];1!=this.groups[l].visible||void 0!==this.linegraphOptions.visibility[l]&&1!=this.linegraphOptions.visibility[l]||(this.groups[l].getLegend(o,r,this.framework,i,a),a+=r+this.options.iconSpacing)}}},t.exports=i},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i="string",o="boolean",r="number",a="object",s={configure:{enabled:{boolean:o},filter:{boolean:o,function:"function"},container:{dom:"dom"},__type__:{object:a,boolean:o,function:"function"}},yAxisOrientation:{string:["left","right"]},defaultGroup:{string:i},sort:{boolean:o},sampling:{boolean:o},stack:{boolean:o},graphHeight:{string:i,number:r},shaded:{enabled:{boolean:o},orientation:{string:["bottom","top","zero","group"]},groupId:{object:a},__type__:{boolean:o,object:a}},style:{string:["line","bar","points"]},barChart:{width:{number:r},minWidth:{number:r},sideBySide:{boolean:o},align:{string:["left","center","right"]},__type__:{object:a}},interpolation:{enabled:{boolean:o},parametrization:{string:["centripetal","chordal","uniform"]},alpha:{number:r},__type__:{object:a,boolean:o}},drawPoints:{enabled:{boolean:o},onRender:{function:"function"},size:{number:r},style:{string:["square","circle"]},__type__:{object:a,boolean:o,function:"function"}},dataAxis:{showMinorLabels:{boolean:o},showMajorLabels:{boolean:o},icons:{boolean:o},width:{string:i,number:r},visible:{boolean:o},alignZeros:{boolean:o},left:{range:{min:{number:r,undefined:"undefined"},max:{number:r,undefined:"undefined"},__type__:{object:a}},format:{function:"function"},title:{text:{string:i,number:r,undefined:"undefined"},style:{string:i,undefined:"undefined"},__type__:{object:a}},__type__:{object:a}},right:{range:{min:{number:r,undefined:"undefined"},max:{number:r,undefined:"undefined"},__type__:{object:a}},format:{function:"function"},title:{text:{string:i,number:r,undefined:"undefined"},style:{string:i,undefined:"undefined"},__type__:{object:a}},__type__:{object:a}},__type__:{object:a}},legend:{enabled:{boolean:o},icons:{boolean:o},left:{visible:{boolean:o},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:a}},right:{visible:{boolean:o},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:a}},__type__:{object:a,boolean:o}},groups:{visibility:{any:"any"},__type__:{object:a}},autoResize:{boolean:o},throttleRedraw:{number:r},clickToUse:{boolean:o},end:{number:r,date:"date",string:i,moment:"moment"},format:{minorLabels:{millisecond:{string:i,undefined:"undefined"},second:{string:i,undefined:"undefined"},minute:{string:i,undefined:"undefined"},hour:{string:i,undefined:"undefined"},weekday:{string:i,undefined:"undefined"},day:{string:i,undefined:"undefined"},month:{string:i,undefined:"undefined"},year:{string:i,undefined:"undefined"},__type__:{object:a}},majorLabels:{millisecond:{string:i,undefined:"undefined"},second:{string:i,undefined:"undefined"},minute:{string:i,undefined:"undefined"},hour:{string:i,undefined:"undefined"},weekday:{string:i,undefined:"undefined"},day:{string:i,undefined:"undefined"},month:{string:i,undefined:"undefined"},year:{string:i,undefined:"undefined"},__type__:{object:a}},__type__:{object:a}},moment:{function:"function"},height:{string:i,number:r},hiddenDates:{start:{date:"date",number:r,string:i,moment:"moment"},end:{date:"date",number:r,string:i,moment:"moment"},repeat:{string:i},__type__:{object:a,array:"array"}},locale:{string:i},locales:{__any__:{any:"any"},__type__:{object:a}},max:{date:"date",number:r,string:i,moment:"moment"},maxHeight:{number:r,string:i},maxMinorChars:{number:r},min:{date:"date",number:r,string:i,moment:"moment"},minHeight:{number:r,string:i},moveable:{boolean:o},multiselect:{boolean:o},orientation:{string:i},showCurrentTime:{boolean:o},showMajorLabels:{boolean:o},showMinorLabels:{boolean:o},start:{date:"date",number:r,string:i,moment:"moment"},timeAxis:{scale:{string:i,undefined:"undefined"},step:{number:r,undefined:"undefined"},__type__:{object:a}},width:{string:i,number:r},zoomable:{boolean:o},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:r},zoomMin:{number:r},zIndex:{number:r},__type__:{object:a}};e.allOptions=s,e.configureOptions={global:{sort:!0,sampling:!0,stack:!1,shaded:{enabled:!1,orientation:["zero","top","bottom","group"]},style:["line","bar","points"],barChart:{width:[50,5,100,5],minWidth:[50,5,100,5],sideBySide:!1,align:["left","center","right"]},interpolation:{enabled:!0,parametrization:["centripetal","chordal","uniform"]},drawPoints:{enabled:!0,size:[6,2,30,1],style:["square","circle"]},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,icons:!1,width:[40,0,200,1],visible:!0,alignZeros:!0,left:{title:{text:"",style:""}},right:{title:{text:"",style:""}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]},right:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]}},autoResize:!0,clickToUse:!1,end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}},height:"",locale:"",max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!0,orientation:["both","bottom","top"],showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,start:"",width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],zIndex:0}}},function(t,e,n){function i(t){return k=t,function(){var t={};if(D=0,O=k.charAt(0),h(),"strict"===P&&(t.strict=!0,h()),"graph"!==P&&"digraph"!==P||(t.type=P,h()),N===S.IDENTIFIER&&(t.id=P,h()),"{"!=P)throw y("Angle bracket { expected");if(h(),p(t),"}"!=P)throw y("Angle bracket } expected");if(h(),""!==P)throw y("End of file expected");return h(),delete t.node,delete t.edge,delete t.graph,t}()}function o(){D++,O=k.charAt(D)}function r(){return k.charAt(D+1)}function a(t){return L.test(t)}function l(t,e){if(t||(t={}),e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function s(t,e,n){for(var i=e.split("."),o=t;i.length;){var r=i.shift();i.length?(o[r]||(o[r]={}),o=o[r]):o[r]=n}}function c(t,e){for(var n,i,o=null,r=[t],a=t;a.parent;)r.push(a.parent),a=a.parent;if(a.nodes)for(n=0,i=a.nodes.length;n<i;n++)if(e.id===a.nodes[n].id){o=a.nodes[n];break}for(o||(o={id:e.id},t.node&&(o.attr=l(o.attr,t.node))),n=r.length-1;0<=n;n--){var s=r[n];s.nodes||(s.nodes=[]),-1===s.nodes.indexOf(o)&&s.nodes.push(o)}e.attr&&(o.attr=l(o.attr,e.attr))}function d(t,e){if(t.edges||(t.edges=[]),t.edges.push(e),t.edge){var n=l({},t.edge);e.attr=l(n,e.attr)}}function u(t,e,n,i,o){var r={from:e,to:n,type:i};return t.edge&&(r.attr=l({},t.edge)),r.attr=l(r.attr||{},o),r}function h(){for(N=S.NULL,P="";" "===O||"\t"===O||"\n"===O||"\r"===O;)o();do{var t=!1;if("#"===O){for(var e=D-1;" "===k.charAt(e)||"\t"===k.charAt(e);)e--;if("\n"===k.charAt(e)||""===k.charAt(e)){for(;""!=O&&"\n"!=O;)o();t=!0}}if("/"===O&&"/"===r()){for(;""!=O&&"\n"!=O;)o();t=!0}if("/"===O&&"*"===r()){for(;""!=O;){if("*"===O&&"/"===r()){o(),o();break}o()}t=!0}for(;" "===O||"\t"===O||"\n"===O||"\r"===O;)o()}while(t);if(""!==O){var n=O+r();if(A[n])return N=S.DELIMITER,P=n,o(),void o();if(A[O])return N=S.DELIMITER,P=O,void o();if(a(O)||"-"===O){for(P+=O,o();a(O);)P+=O,o();return"false"===P?P=!1:"true"===P?P=!0:isNaN(Number(P))||(P=Number(P)),void(N=S.IDENTIFIER)}if('"'===O){for(o();""!=O&&('"'!=O||'"'===O&&'"'===r());)'"'===O?(P+=O,o()):"\\"===O&&"n"===r()?(P+="\n",o()):P+=O,o();if('"'!=O)throw y('End of string " expected');return o(),void(N=S.IDENTIFIER)}for(N=S.UNKNOWN;""!=O;)P+=O,o();throw new SyntaxError('Syntax error in part "'+b(P,30)+'"')}N=S.DELIMITER}function p(t){for(;""!==P&&"}"!=P;)f(t),";"===P&&h()}function f(t){var e,n,i,o,r,a=m(t);if(a)g(t,a);else if(r=t,!("node"===P?(h(),r.node=v(),"node"):"edge"===P?(h(),r.edge=v(),"edge"):"graph"===P&&(h(),r.graph=v(),"graph"))){if(N!=S.IDENTIFIER)throw y("Identifier expected");var s=P;if(h(),"="===P){if(h(),N!=S.IDENTIFIER)throw y("Identifier expected");t[s]=P,h()}else e=t,i={id:n=s},(o=v())&&(i.attr=o),c(e,i),g(e,n)}}function m(t){var e=null;if("subgraph"===P&&((e={}).type="subgraph",h(),N===S.IDENTIFIER&&(e.id=P,h())),"{"===P){if(h(),e||(e={}),e.parent=t,e.node=t.node,e.edge=t.edge,e.graph=t.graph,p(e),"}"!=P)throw y("Angle bracket } expected");h(),delete e.node,delete e.edge,delete e.graph,delete e.parent,t.subgraphs||(t.subgraphs=[]),t.subgraphs.push(e)}return e}function g(t,e){for(;"->"===P||"--"===P;){var n,i=P;h();var o=m(t);if(o)n=o;else{if(N!=S.IDENTIFIER)throw y("Identifier or subgraph expected");c(t,{id:n=P}),h()}d(t,u(t,e,n,i,v())),e=n}}function v(){for(var t=null,e={dashed:!0,solid:!1,dotted:[1,5]};"["===P;){for(h(),t={};""!==P&&"]"!=P;){if(N!=S.IDENTIFIER)throw y("Attribute name expected");var n=P;if(h(),"="!=P)throw y("Equal sign = expected");if(h(),N!=S.IDENTIFIER)throw y("Attribute value expected");var i=P;"style"===n&&(i=e[i]),s(t,n,i),h(),","==P&&h()}if("]"!=P)throw y("Bracket ] expected");h()}return t}function y(t){return new SyntaxError(t+', got "'+b(P,30)+'" (char '+D+")")}function b(t,e){return t.length<=e?t:t.substr(0,27)+"..."}function _(t,e,n){for(var i=e.split("."),o=i.pop(),r=t,a=0;a<i.length;a++){var s=i[a];s in r||(r[s]={}),r=r[s]}return r[o]=n,t}function x(e,t){var n={};for(var i in e)if(e.hasOwnProperty(i)){var o=t[i];Array.isArray(o)?o.forEach(function(t){_(n,t,e[i])}):_(n,"string"==typeof o?o:i,e[i])}return n}var w,E=n(29),M=(w=E)&&w.__esModule?w:{default:w},T={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},C=(0,M.default)(T);C.color="color.color",C.style="dashes";var S={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},A={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},k="",D=0,O="",P="",N=S.NULL,L=/[a-zA-Z_0-9.:#]/;e.parseDOT=i,e.DOTToGraph=function(t){var e=i(t),a={nodes:[],edges:[],options:{}};if(e.nodes&&e.nodes.forEach(function(t){var e={id:t.id,label:String(t.label||t.id)};l(e,x(t.attr,T)),e.image&&(e.shape="image"),a.nodes.push(e)}),e.edges){var s=function(t){var e={from:t.from,to:t.to};return l(e,x(t.attr,C)),e.arrows="->"===t.type?"to":void 0,e};e.edges.forEach(function(o){var t,e,n,i,r;t=o.from instanceof Object?o.from.nodes:{id:o.from},e=o.to instanceof Object?o.to.nodes:{id:o.to},o.from instanceof Object&&o.from.edges&&o.from.edges.forEach(function(t){var e=s(t);a.edges.push(e)}),n=t,i=e,r=function(t,e){var n=u(a,t.id,e.id,o.type,o.attr),i=s(n);a.edges.push(i)},Array.isArray(n)?n.forEach(function(e){Array.isArray(i)?i.forEach(function(t){r(e,t)}):r(e,i)}):Array.isArray(i)?i.forEach(function(t){r(n,t)}):r(n,i),o.to instanceof Object&&o.to.edges&&o.to.edges.forEach(function(t){var e=s(t);a.edges.push(e)})})}return e.attr&&(a.options=e.attr),a}},function(t,e,n){e.parseGephi=function(t,e){var n=[],i=[],o={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};void 0!==e&&(void 0!==e.fixed&&(o.nodes.fixed=e.fixed),void 0!==e.parseColor&&(o.nodes.parseColor=e.parseColor),void 0!==e.inheritColor&&(o.edges.inheritColor=e.inheritColor));for(var r=t.edges,a=t.nodes,s=0;s<r.length;s++){var l={},c=r[s];l.id=c.id,l.from=c.source,l.to=c.target,l.attributes=c.attributes,l.label=c.label,l.title=void 0!==c.attributes?c.attributes.title:void 0,"Directed"===c.type&&(l.arrows="to"),c.color&&!1===o.inheritColor&&(l.color=c.color),n.push(l)}for(var d=0;d<a.length;d++){var u={},h=a[d];u.id=h.id,u.attributes=h.attributes,u.x=h.x,u.y=h.y,u.label=h.label,u.title=void 0!==h.attributes?h.attributes.title:h.title,!0===o.nodes.parseColor?u.color=h.color:u.color=void 0!==h.color?{background:h.color,border:h.color,highlight:{background:h.color,border:h.color},hover:{background:h.color,border:h.color}}:void 0,u.size=h.size,u.fixed=o.nodes.fixed&&void 0!==h.x&&void 0!==h.y,i.push(u)}return{nodes:i,edges:n}}},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(0)),r=i(n(1)),a=i(n(185)),s=function(){function e(t){(0,o.default)(this,e),this.images={},this.imageBroken={},this.callback=t}return(0,r.default)(e,[{key:"_tryloadBrokenUrl",value:function(t,e,n){if(void 0!==t&&void 0!==n){if(void 0===e)return void console.warn("No broken url image defined");n.onerror=function(){console.error("Could not load brokenImage:",e)},n.image.src=e}}},{key:"_redrawWithImage",value:function(t){this.callback&&this.callback(t)}},{key:"load",value:function(t,e){var n=this,i=this.images[t];if(i)return i;var o=new a.default;return(this.images[t]=o).image.onload=function(){n._fixImageCoordinates(o.image),o.init(),n._redrawWithImage(o)},o.image.onerror=function(){console.error("Could not load image:",t),n._tryloadBrokenUrl(t,e,o)},o.image.src=t,o}},{key:"_fixImageCoordinates",value:function(t){0===t.width&&(document.body.appendChild(t),t.width=t.offsetWidth,t.height=t.offsetHeight,document.body.removeChild(t))}}]),e}();e.default=s},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var g=i(n(30)),l=i(n(6)),o=i(n(0)),r=i(n(1)),c=n(2),a=n(48).default,d=n(191).default,u=["bold","ital","boldital","mono"],s=function(){function s(t,e){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];(0,o.default)(this,s),this.body=t,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(e),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=n}return(0,r.default)(s,[{key:"setOptions",value:function(t){if(this.elementOptions=t,this.initFontOptions(t.font),a.isValidLabel(t.label)?this.labelDirty=!0:t.label="",void 0!==t.font&&null!==t.font)if("string"==typeof t.font)this.baseSize=this.fontOptions.size;else if("object"===(0,l.default)(t.font)){var e=t.font.size;void 0!==e&&(this.baseSize=e)}}},{key:"initFontOptions",value:function(t){var n=this;c.forEach(u,function(t){n.fontOptions[t]={}}),s.parseFontString(this.fontOptions,t)?this.fontOptions.vadjust=0:c.forEach(t,function(t,e){null!=t&&"object"!==(void 0===t?"undefined":(0,l.default)(t))&&(n.fontOptions[e]=t)})}},{key:"constrain",value:function(t){var e={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},n=c.topMost(t,"widthConstraint");if("number"==typeof n)e.maxWdt=Number(n),e.minWdt=Number(n);else if("object"===(void 0===n?"undefined":(0,l.default)(n))){var i=c.topMost(t,["widthConstraint","maximum"]);"number"==typeof i&&(e.maxWdt=Number(i));var o=c.topMost(t,["widthConstraint","minimum"]);"number"==typeof o&&(e.minWdt=Number(o))}var r=c.topMost(t,"heightConstraint");if("number"==typeof r)e.minHgt=Number(r);else if("object"===(void 0===r?"undefined":(0,l.default)(r))){var a=c.topMost(t,["heightConstraint","minimum"]);"number"==typeof a&&(e.minHgt=Number(a));var s=c.topMost(t,["heightConstraint","valign"]);"string"==typeof s&&("top"!==s&&"bottom"!==s||(e.valign=s))}return e}},{key:"update",value:function(t,e){this.setOptions(t,!0),this.propagateFonts(e),c.deepExtend(this.fontOptions,this.constrain(e)),this.fontOptions.chooser=a.choosify("label",e)}},{key:"adjustSizes",value:function(t){var e=t?t.right+t.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=e,this.fontOptions.minWdt-=e);var n=t?t.top+t.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=n)}},{key:"addFontOptionsToPile",value:function(t,e){for(var n=0;n<e.length;++n)this.addFontToPile(t,e[n])}},{key:"addFontToPile",value:function(t,e){if(void 0!==e&&void 0!==e.font&&null!==e.font){var n=e.font;t.push(n)}}},{key:"getBasicOptions",value:function(t){for(var n={},e=0;e<t.length;++e){var i=t[e],o={};s.parseFontString(o,i)&&(i=o),c.forEach(i,function(t,e){void 0!==t&&(n.hasOwnProperty(e)||(-1!==u.indexOf(e)?n[e]={}:n[e]=t))})}return n}},{key:"getFontOption",value:function(t,e,n){for(var i=void 0,o=0;o<t.length;++o){var r=t[o];if(r.hasOwnProperty(e)){if(void 0===(i=r[e])||null===i)continue;var a={};if(s.parseFontString(a,i)&&(i=a),i.hasOwnProperty(n))return i[n]}}if(this.fontOptions.hasOwnProperty(n))return this.fontOptions[n];throw new Error("Did not find value for multi-font for property: '"+n+"'")}},{key:"getFontOptions",value:function(t,e){for(var n={},i=["color","size","face","mod","vadjust"],o=0;o<i.length;++o){var r=i[o];n[r]=this.getFontOption(t,e,r)}return n}},{key:"propagateFonts",value:function(t){var o=this,r=[];this.addFontOptionsToPile(r,t),this.fontOptions=this.getBasicOptions(r);for(var a=0;a<u.length;++a)!function(t){var e=u[a],n=o.fontOptions[e],i=o.getFontOptions(r,e);c.forEach(i,function(t,e){n[e]=t}),n.size=Number(n.size),n.vadjust=Number(n.vadjust)}()}},{key:"draw",value:function(t,e,n,i,o){var r=5<arguments.length&&void 0!==arguments[5]?arguments[5]:"middle";if(void 0!==this.elementOptions.label){var a=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&a<this.elementOptions.scaling.label.drawThreshold-1||(a>=this.elementOptions.scaling.label.maxVisible&&(a=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(t,i,o,e,n,r),this._drawBackground(t),this._drawText(t,e,this.size.yLine,r,a))}}},{key:"_drawBackground",value:function(t){if(void 0!==this.fontOptions.background&&"none"!==this.fontOptions.background){t.fillStyle=this.fontOptions.background;var e=this.getSize();t.fillRect(e.left,e.top,e.width,e.height)}}},{key:"_drawText",value:function(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"middle",o=arguments[4],r=this._setAlignment(t,e,n,i),a=(0,g.default)(r,2);e=a[0],n=a[1],t.textAlign="left",e-=this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&("top"===this.fontOptions.valign&&(n-=(this.size.height-this.size.labelHeight)/2),"bottom"===this.fontOptions.valign&&(n+=(this.size.height-this.size.labelHeight)/2));for(var s=0;s<this.lineCount;s++){var l=this.lines[s];if(l&&l.blocks){var c=0;this.isEdgeLabel||"center"===this.fontOptions.align?c+=(this.size.width-l.width)/2:"right"===this.fontOptions.align&&(c+=this.size.width-l.width);for(var d=0;d<l.blocks.length;d++){var u=l.blocks[d];t.font=u.font;var h=this._getColor(u.color,o,u.strokeColor),p=(0,g.default)(h,2),f=p[0],m=p[1];0<u.strokeWidth&&(t.lineWidth=u.strokeWidth,t.strokeStyle=m,t.lineJoin="round"),t.fillStyle=f,0<u.strokeWidth&&t.strokeText(u.text,e+c,n+u.vadjust),t.fillText(u.text,e+c,n+u.vadjust),c+=u.width}n+=l.height}}}},{key:"_setAlignment",value:function(t,e,n,i){return this.isEdgeLabel&&"horizontal"!==this.fontOptions.align&&!1===this.pointToSelf?(n=e=0,"top"===this.fontOptions.align?(t.textBaseline="alphabetic",n-=4):"bottom"===this.fontOptions.align?(t.textBaseline="hanging",n+=4):t.textBaseline="middle"):t.textBaseline=i,[e,n]}},{key:"_getColor",value:function(t,e,n){var i=t||"#000000",o=n||"#ffffff";if(e<=this.elementOptions.scaling.label.drawThreshold){var r=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-e)));i=c.overrideOpacity(i,r),o=c.overrideOpacity(o,r)}return[i,o]}},{key:"getTextSize",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return this._processLabel(t,e,n),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function(){var t=this.size.left,e=this.size.top-1;if(this.isEdgeLabel){var n=.5*-this.size.width;switch(this.fontOptions.align){case"middle":t=n,e=.5*-this.size.height;break;case"top":t=n,e=-(this.size.height+2);break;case"bottom":t=n,e=2}}return{left:t,top:e,width:this.size.width,height:this.size.height}}},{key:"calculateLabelSize",value:function(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,r=5<arguments.length&&void 0!==arguments[5]?arguments[5]:"middle";this._processLabel(t,e,n),this.size.left=i-.5*this.size.width,this.size.top=o-.5*this.size.height,this.size.yLine=o+.5*(1-this.lineCount)*this.fontOptions.size,"hanging"===r&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}},{key:"getFormattingValues",value:function(t,e,n,i){var o=function(t,e,n){return"normal"===e?"mod"===n?"":t[n]:void 0!==t[e][n]?t[e][n]:t[n]},r={color:o(this.fontOptions,i,"color"),size:o(this.fontOptions,i,"size"),face:o(this.fontOptions,i,"face"),mod:o(this.fontOptions,i,"mod"),vadjust:o(this.fontOptions,i,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(e||n)&&("normal"===i&&!0===this.fontOptions.chooser&&this.elementOptions.labelHighlightBold?r.mod="bold":"function"==typeof this.fontOptions.chooser&&this.fontOptions.chooser(r,this.elementOptions.id,e,n));var a="";return void 0!==r.mod&&""!==r.mod&&(a+=r.mod+" "),a+=r.size+"px "+r.face,t.font=a.replace(/"/g,""),r.font=t.font,r.height=r.size,r}},{key:"differentState",value:function(t,e){return t!==this.selectedState||e!==this.hoverState}},{key:"_processLabelText",value:function(t,e,n,i){return new d(t,this,e,n).process(i)}},{key:"_processLabel",value:function(t,e,n){if(!1!==this.labelDirty||this.differentState(e,n)){var i=this._processLabelText(t,e,n,this.elementOptions.label);0<this.fontOptions.minWdt&&i.width<this.fontOptions.minWdt&&(i.width=this.fontOptions.minWdt),this.size.labelHeight=i.height,0<this.fontOptions.minHgt&&i.height<this.fontOptions.minHgt&&(i.height=this.fontOptions.minHgt),this.lines=i.lines,this.lineCount=i.lines.length,this.size.width=i.width,this.size.height=i.height,this.selectedState=e,this.hoverState=n,this.labelDirty=!1}}},{key:"visible",value:function(){return 0!==this.size.width&&0!==this.size.height&&void 0!==this.elementOptions.label&&!(this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}],[{key:"parseFontString",value:function(t,e){if(!e||"string"!=typeof e)return!1;var n=e.split(" ");return t.size=n[0].replace("px",""),t.face=n[1],t.color=n[2],!0}}]),s}();e.default=s},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var x=i(n(30)),o=i(n(0)),r=i(n(1)),s=n(2),a=n(119).default,l=function(){function i(t,e,n){(0,o.default)(this,i),this.body=e,this.labelModule=n,this.options={},this.setOptions(t),this.colorDirty=!0,this.color={},this.selectionWidth=2,this.hoverWidth=1.5,this.fromPoint=this.from,this.toPoint=this.to}return(0,r.default)(i,[{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(t){this.options=t,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(t,e,n,i,o){t.strokeStyle=this.getColor(t,e,n,i),t.lineWidth=e.width,!1!==e.dashes?this._drawDashedLine(t,e,o):this._drawLine(t,e,o)}},{key:"_drawLine",value:function(t,e,n,i,o){if(this.from!=this.to)this._line(t,e,n,i,o);else{var r=this._getCircleData(t),a=(0,x.default)(r,3),s=a[0],l=a[1],c=a[2];this._circle(t,e,s,l,c)}}},{key:"_drawDashedLine",value:function(t,e,n,i,o){t.lineCap="round";var r=[5,5];if(!0===Array.isArray(e.dashes)&&(r=e.dashes),void 0!==t.setLineDash){if(t.save(),t.setLineDash(r),t.lineDashOffset=0,this.from!=this.to)this._line(t,e,n);else{var a=this._getCircleData(t),s=(0,x.default)(a,3),l=s[0],c=s[1],d=s[2];this._circle(t,e,l,c,d)}t.setLineDash([0]),t.lineDashOffset=0,t.restore()}else{if(this.from!=this.to)t.dashedLine(this.from.x,this.from.y,this.to.x,this.to.y,r);else{var u=this._getCircleData(t),h=(0,x.default)(u,3),p=h[0],f=h[1],m=h[2];this._circle(t,e,p,f,m)}this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}}},{key:"findBorderPosition",value:function(t,e,n){return this.from!=this.to?this._findBorderPosition(t,e,n):this._findBorderPositionCircle(t,e,n)}},{key:"findBorderPositions",value:function(t){var e={},n={};if(this.from!=this.to)e=this._findBorderPosition(this.from,t),n=this._findBorderPosition(this.to,t);else{var i=this._getCircleData(t).slice(0,2),o=(0,x.default)(i,2),r=o[0],a=o[1];e=this._findBorderPositionCircle(this.from,t,{x:r,y:a,low:.25,high:.6,direction:-1}),n=this._findBorderPositionCircle(this.from,t,{x:r,y:a,low:.6,high:.8,direction:1})}return{from:e,to:n}}},{key:"_getCircleData",value:function(t){var e=void 0,n=void 0,i=this.from,o=this.options.selfReferenceSize;return void 0!==t&&void 0===i.shape.width&&i.shape.resize(t),n=i.shape.width>i.shape.height?(e=i.x+.5*i.shape.width,i.y-o):(e=i.x+o,i.y-.5*i.shape.height),[e,n,o]}},{key:"_pointOnCircle",value:function(t,e,n,i){var o=2*i*Math.PI;return{x:t+n*Math.cos(o),y:e-n*Math.sin(o)}}},{key:"_findBorderPositionCircle",value:function(t,e,n){for(var i=n.x,o=n.y,r=n.low,a=n.high,s=n.direction,l=0,c=this.options.selfReferenceSize,d=void 0,u=void 0,h=void 0,p=.5*(r+a);r<=a&&l<10&&(p=.5*(r+a),d=this._pointOnCircle(i,o,c,p),u=Math.atan2(t.y-d.y,t.x-d.x),h=t.distanceToBorder(e,u)-Math.sqrt(Math.pow(d.x-t.x,2)+Math.pow(d.y-t.y,2)),!(Math.abs(h)<.05));)0<h?0<s?r=p:a=p:0<s?a=p:r=p,l++;return d.t=p,d}},{key:"getLineWidth",value:function(t,e){return!0===t?Math.max(this.selectionWidth,.3/this.body.view.scale):!0===e?Math.max(this.hoverWidth,.3/this.body.view.scale):Math.max(this.options.width,.3/this.body.view.scale)}},{key:"getColor",value:function(t,e,n,i){if(!1===e.inheritsColor)return s.overrideOpacity(e.color,e.opacity);if("both"!==e.inheritsColor||this.from.id===this.to.id)return"to"===e.inheritsColor?s.overrideOpacity(this.to.options.color.border,e.opacity):s.overrideOpacity(this.from.options.color.border,e.opacity);var o=t.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),r=void 0,a=void 0;return r=this.from.options.color.highlight.border,a=this.to.options.color.highlight.border,!1===this.from.selected&&!1===this.to.selected?(r=s.overrideOpacity(this.from.options.color.border,e.opacity),a=s.overrideOpacity(this.to.options.color.border,e.opacity)):!0===this.from.selected&&!1===this.to.selected?a=this.to.options.color.border:!1===this.from.selected&&!0===this.to.selected&&(r=this.from.options.color.border),o.addColorStop(0,r),o.addColorStop(1,a),o}},{key:"_circle",value:function(t,e,n,i,o){this.enableShadow(t,e),t.beginPath(),t.arc(n,i,o,0,2*Math.PI,!1),t.stroke(),this.disableShadow(t,e)}},{key:"getDistanceToEdge",value:function(t,e,n,i,o,r,a,s){var l=0;if(this.from!=this.to)l=this._getDistanceToEdge(t,e,n,i,o,r,a);else{var c=this._getCircleData(void 0),d=(0,x.default)(c,3),u=d[0],h=d[1],p=d[2],f=u-o,m=h-r;l=Math.abs(Math.sqrt(f*f+m*m)-p)}return l}},{key:"_getDistanceToLine",value:function(t,e,n,i,o,r){var a=n-t,s=i-e,l=((o-t)*a+(r-e)*s)/(a*a+s*s);1<l?l=1:l<0&&(l=0);var c=t+l*a-o,d=e+l*s-r;return Math.sqrt(c*c+d*d)}},{key:"getArrowData",value:function(t,e,n,i,o,r){var a=void 0,s=void 0,l=void 0,c=void 0,d=void 0,u=void 0,h=void 0,p=r.width;if(h="from"===e?(l=this.from,c=this.to,d=.1,u=r.fromArrowScale,r.fromArrowType):"to"===e?(l=this.to,c=this.from,d=-.1,u=r.toArrowScale,r.toArrowType):(l=this.to,c=this.from,u=r.middleArrowScale,r.middleArrowType),l!=c)if("middle"!==e)if(!0===this.options.smooth.enabled){s=this.findBorderPosition(l,t,{via:n});var f=this.getPoint(Math.max(0,Math.min(1,s.t+d)),n);a=Math.atan2(s.y-f.y,s.x-f.x)}else a=Math.atan2(l.y-c.y,l.x-c.x),s=this.findBorderPosition(l,t);else a=Math.atan2(l.y-c.y,l.x-c.x),s=this.getPoint(.5,n);else{var m=this._getCircleData(t),g=(0,x.default)(m,3),v=g[0],y=g[1],b=g[2];a="from"===e?-2*(s=this.findBorderPosition(this.from,t,{x:v,y:y,low:.25,high:.6,direction:-1})).t*Math.PI+1.5*Math.PI+.1*Math.PI:"to"===e?-2*(s=this.findBorderPosition(this.from,t,{x:v,y:y,low:.6,high:1,direction:1})).t*Math.PI+1.5*Math.PI-1.1*Math.PI:(s=this._pointOnCircle(v,y,b,.175),3.9269908169872414)}"middle"===e&&u<0&&(p*=-1);var _=15*u+3*p;return{point:s,core:{x:s.x-.9*_*Math.cos(a),y:s.y-.9*_*Math.sin(a)},angle:a,length:_,type:h}}},{key:"drawArrowHead",value:function(t,e,n,i,o){t.strokeStyle=this.getColor(t,e,n,i),t.fillStyle=t.strokeStyle,t.lineWidth=e.width,a.draw(t,o),this.enableShadow(t,e),t.fill(),this.disableShadow(t,e)}},{key:"enableShadow",value:function(t,e){!0===e.shadow&&(t.shadowColor=e.shadowColor,t.shadowBlur=e.shadowSize,t.shadowOffsetX=e.shadowX,t.shadowOffsetY=e.shadowY)}},{key:"disableShadow",value:function(t,e){!0===e.shadow&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}}]),i}();e.default=l},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(3)),r=i(n(4)),a=i(n(5)),s=i(n(0)),l=i(n(1)),c=function(){function t(){(0,s.default)(this,t)}return(0,l.default)(t,null,[{key:"transform",value:function(t,e){t instanceof Array||(t=[t]);for(var n=e.point.x,i=e.point.y,o=e.angle,r=e.length,a=0;a<t.length;++a){var s=t[a],l=s.x*Math.cos(o)-s.y*Math.sin(o),c=s.x*Math.sin(o)+s.y*Math.cos(o);s.x=n+r*l,s.y=i+r*c}}},{key:"drawPath",value:function(t,e){t.beginPath(),t.moveTo(e[0].x,e[0].y);for(var n=1;n<e.length;++n)t.lineTo(e[n].x,e[n].y);t.closePath()}}]),t}(),d=function(t){function e(){return(0,s.default)(this,e),(0,r.default)(this,(e.__proto__||(0,o.default)(e)).apply(this,arguments))}return(0,a.default)(e,t),(0,l.default)(e,null,[{key:"draw",value:function(t,e){var n=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];c.transform(n,e),c.drawPath(t,n)}}]),e}(c),u=function(){function t(){(0,s.default)(this,t)}return(0,l.default)(t,null,[{key:"draw",value:function(t,e){var n={x:-.4,y:0};c.transform(n,e),t.circle(n.x,n.y,.4*e.length)}}]),t}(),h=function(){function t(){(0,s.default)(this,t)}return(0,l.default)(t,null,[{key:"draw",value:function(t,e){var n=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];c.transform(n,e),c.drawPath(t,n)}}]),t}(),p=function(){function t(){(0,s.default)(this,t)}return(0,l.default)(t,null,[{key:"draw",value:function(t,e){var n;switch(e.type&&(n=e.type.toLowerCase()),n){case"circle":u.draw(t,e);break;case"bar":h.draw(t,e);break;case"arrow":default:d.draw(t,e)}}}]),t}();e.default=p},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(0)),r=i(n(1)),a=function(){function i(t,e,n){(0,o.default)(this,i),this.body=t,this.physicsBody=e,this.barnesHutTree,this.setOptions(n),this.randomSeed=5}return(0,r.default)(i,[{key:"setOptions",value:function(t){this.options=t,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"seededRandom",value:function(){var t=1e4*Math.sin(this.randomSeed++);return t-Math.floor(t)}},{key:"solve",value:function(){if(0!==this.options.gravitationalConstant&&0<this.physicsBody.physicsNodeIndices.length){var t=void 0,e=this.body.nodes,n=this.physicsBody.physicsNodeIndices,i=n.length,o=this._formBarnesHutTree(e,n);this.barnesHutTree=o;for(var r=0;r<i;r++)0<(t=e[n[r]]).options.mass&&this._getForceContributions(o.root,t)}}},{key:"_getForceContributions",value:function(t,e){this._getForceContribution(t.children.NW,e),this._getForceContribution(t.children.NE,e),this._getForceContribution(t.children.SW,e),this._getForceContribution(t.children.SE,e)}},{key:"_getForceContribution",value:function(t,e){if(0<t.childrenCount){var n,i,o;n=t.centerOfMass.x-e.x,i=t.centerOfMass.y-e.y,(o=Math.sqrt(n*n+i*i))*t.calcSize>this.thetaInversed?this._calculateForces(o,n,i,e,t):4===t.childrenCount?this._getForceContributions(t,e):t.children.data.id!=e.id&&this._calculateForces(o,n,i,e,t)}}},{key:"_calculateForces",value:function(t,e,n,i,o){0===t&&(e=t=.1),this.overlapAvoidanceFactor<1&&i.shape.radius&&(t=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,t-i.shape.radius));var r=this.options.gravitationalConstant*o.mass*i.options.mass/Math.pow(t,3),a=e*r,s=n*r;this.physicsBody.forces[i.id].x+=a,this.physicsBody.forces[i.id].y+=s}},{key:"_formBarnesHutTree",value:function(t,e){for(var n=void 0,i=e.length,o=t[e[0]].x,r=t[e[0]].y,a=t[e[0]].x,s=t[e[0]].y,l=1;l<i;l++){var c=t[e[l]],d=c.x,u=c.y;0<c.options.mass&&(d<o&&(o=d),a<d&&(a=d),u<r&&(r=u),s<u&&(s=u))}var h=Math.abs(a-o)-Math.abs(s-r);0<h?(r-=.5*h,s+=.5*h):(o+=.5*h,a-=.5*h);var p=Math.max(1e-5,Math.abs(a-o)),f=.5*p,m=.5*(o+a),g=.5*(r+s),v={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:m-f,maxX:m+f,minY:g-f,maxY:g+f},size:p,calcSize:1/p,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(v.root);for(var y=0;y<i;y++)0<(n=t[e[y]]).options.mass&&this._placeInTree(v.root,n);return v}},{key:"_updateBranchMass",value:function(t,e){var n=t.centerOfMass,i=t.mass+e.options.mass,o=1/i;n.x=n.x*t.mass+e.x*e.options.mass,n.x*=o,n.y=n.y*t.mass+e.y*e.options.mass,n.y*=o,t.mass=i;var r=Math.max(Math.max(e.height,e.radius),e.width);t.maxWidth=t.maxWidth<r?r:t.maxWidth}},{key:"_placeInTree",value:function(t,e,n){1==n&&void 0!==n||this._updateBranchMass(t,e);var i,o=t.children.NW.range;i=o.maxX>e.x?o.maxY>e.y?"NW":"SW":o.maxY>e.y?"NE":"SE",this._placeInRegion(t,e,i)}},{key:"_placeInRegion",value:function(t,e,n){var i=t.children[n];switch(i.childrenCount){case 0:i.children.data=e,i.childrenCount=1,this._updateBranchMass(i,e);break;case 1:i.children.data.x===e.x&&i.children.data.y===e.y?(e.x+=this.seededRandom(),e.y+=this.seededRandom()):(this._splitBranch(i),this._placeInTree(i,e));break;case 4:this._placeInTree(i,e)}}},{key:"_splitBranch",value:function(t){var e=null;1===t.childrenCount&&(e=t.children.data,t.mass=0,t.centerOfMass.x=0,t.centerOfMass.y=0),t.childrenCount=4,t.children.data=null,this._insertRegion(t,"NW"),this._insertRegion(t,"NE"),this._insertRegion(t,"SW"),this._insertRegion(t,"SE"),null!=e&&this._placeInTree(t,e)}},{key:"_insertRegion",value:function(t,e){var n=void 0,i=void 0,o=void 0,r=void 0,a=.5*t.size;switch(e){case"NW":n=t.range.minX,i=t.range.minX+a,o=t.range.minY,r=t.range.minY+a;break;case"NE":n=t.range.minX+a,i=t.range.maxX,o=t.range.minY,r=t.range.minY+a;break;case"SW":n=t.range.minX,i=t.range.minX+a,o=t.range.minY+a,r=t.range.maxY;break;case"SE":n=t.range.minX+a,i=t.range.maxX,o=t.range.minY+a,r=t.range.maxY}t.children[e]={centerOfMass:{x:0,y:0},mass:0,range:{minX:n,maxX:i,minY:o,maxY:r},size:.5*t.size,calcSize:2*t.calcSize,children:{data:null},maxWidth:0,level:t.level+1,childrenCount:0}}},{key:"_debug",value:function(t,e){void 0!==this.barnesHutTree&&(t.lineWidth=1,this._drawBranch(this.barnesHutTree.root,t,e))}},{key:"_drawBranch",value:function(t,e,n){void 0===n&&(n="#FF0000"),4===t.childrenCount&&(this._drawBranch(t.children.NW,e),this._drawBranch(t.children.NE,e),this._drawBranch(t.children.SE,e),this._drawBranch(t.children.SW,e)),e.strokeStyle=n,e.beginPath(),e.moveTo(t.range.minX,t.range.minY),e.lineTo(t.range.maxX,t.range.minY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.minY),e.lineTo(t.range.maxX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.maxY),e.lineTo(t.range.minX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.minX,t.range.maxY),e.lineTo(t.range.minX,t.range.minY),e.stroke()}}]),i}();e.default=a},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(0)),r=i(n(1)),a=function(){function i(t,e,n){(0,o.default)(this,i),this.body=t,this.physicsBody=e,this.setOptions(n)}return(0,r.default)(i,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t=void 0,e=void 0,n=void 0,i=void 0,o=this.body.nodes,r=this.physicsBody.physicsNodeIndices,a=this.physicsBody.forces,s=0;s<r.length;s++)t=-(i=o[r[s]]).x,e=-i.y,n=Math.sqrt(t*t+e*e),this._calculateForces(n,t,e,a,i)}},{key:"_calculateForces",value:function(t,e,n,i,o){var r=0===t?0:this.options.centralGravity/t;i[o.id].x=e*r,i[o.id].y=n*r}}]),i}();e.default=a},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i="string",o="boolean",r="number",a="object",s=["arrow","circle","bar"],l={configure:{enabled:{boolean:o},filter:{boolean:o,string:i,array:"array",function:"function"},container:{dom:"dom"},showButton:{boolean:o},__type__:{object:a,boolean:o,string:i,array:"array",function:"function"}},edges:{arrows:{to:{enabled:{boolean:o},scaleFactor:{number:r},type:{string:s},__type__:{object:a,boolean:o}},middle:{enabled:{boolean:o},scaleFactor:{number:r},type:{string:s},__type__:{object:a,boolean:o}},from:{enabled:{boolean:o},scaleFactor:{number:r},type:{string:s},__type__:{object:a,boolean:o}},__type__:{string:["from","to","middle"],object:a}},arrowStrikethrough:{boolean:o},chosen:{label:{boolean:o,function:"function"},edge:{boolean:o,function:"function"},__type__:{object:a,boolean:o}},color:{color:{string:i},highlight:{string:i},hover:{string:i},inherit:{string:["from","to","both"],boolean:o},opacity:{number:r},__type__:{object:a,string:i}},dashes:{boolean:o,array:"array"},font:{color:{string:i},size:{number:r},face:{string:i},background:{string:i},strokeWidth:{number:r},strokeColor:{string:i},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:r},multi:{boolean:o,string:i},bold:{color:{string:i},size:{number:r},face:{string:i},mod:{string:i},vadjust:{number:r},__type__:{object:a,string:i}},boldital:{color:{string:i},size:{number:r},face:{string:i},mod:{string:i},vadjust:{number:r},__type__:{object:a,string:i}},ital:{color:{string:i},size:{number:r},face:{string:i},mod:{string:i},vadjust:{number:r},__type__:{object:a,string:i}},mono:{color:{string:i},size:{number:r},face:{string:i},mod:{string:i},vadjust:{number:r},__type__:{object:a,string:i}},__type__:{object:a,string:i}},hidden:{boolean:o},hoverWidth:{function:"function",number:r},label:{string:i,undefined:"undefined"},labelHighlightBold:{boolean:o},length:{number:r,undefined:"undefined"},physics:{boolean:o},scaling:{min:{number:r},max:{number:r},label:{enabled:{boolean:o},min:{number:r},max:{number:r},maxVisible:{number:r},drawThreshold:{number:r},__type__:{object:a,boolean:o}},customScalingFunction:{function:"function"},__type__:{object:a}},selectionWidth:{function:"function",number:r},selfReferenceSize:{number:r},shadow:{enabled:{boolean:o},color:{string:i},size:{number:r},x:{number:r},y:{number:r},__type__:{object:a,boolean:o}},smooth:{enabled:{boolean:o},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:r},forceDirection:{string:["horizontal","vertical","none"],boolean:o},__type__:{object:a,boolean:o}},title:{string:i,undefined:"undefined"},width:{number:r},widthConstraint:{maximum:{number:r},__type__:{object:a,boolean:o,number:r}},value:{number:r,undefined:"undefined"},__type__:{object:a}},groups:{useDefaultGroups:{boolean:o},__any__:"get from nodes, will be overwritten below",__type__:{object:a}},interaction:{dragNodes:{boolean:o},dragView:{boolean:o},hideEdgesOnDrag:{boolean:o},hideNodesOnDrag:{boolean:o},hover:{boolean:o},keyboard:{enabled:{boolean:o},speed:{x:{number:r},y:{number:r},zoom:{number:r},__type__:{object:a}},bindToWindow:{boolean:o},__type__:{object:a,boolean:o}},multiselect:{boolean:o},navigationButtons:{boolean:o},selectable:{boolean:o},selectConnectedEdges:{boolean:o},hoverConnectedEdges:{boolean:o},tooltipDelay:{number:r},zoomView:{boolean:o},__type__:{object:a}},layout:{randomSeed:{undefined:"undefined",number:r},improvedLayout:{boolean:o},hierarchical:{enabled:{boolean:o},levelSeparation:{number:r},nodeSpacing:{number:r},treeSpacing:{number:r},blockShifting:{boolean:o},edgeMinimization:{boolean:o},parentCentralization:{boolean:o},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},__type__:{object:a,boolean:o}},__type__:{object:a}},manipulation:{enabled:{boolean:o},initiallyActive:{boolean:o},addNode:{boolean:o,function:"function"},addEdge:{boolean:o,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:a,boolean:o,function:"function"}},deleteNode:{boolean:o,function:"function"},deleteEdge:{boolean:o,function:"function"},controlNodeStyle:"get from nodes, will be overwritten below",__type__:{object:a,boolean:o}},nodes:{borderWidth:{number:r},borderWidthSelected:{number:r,undefined:"undefined"},brokenImage:{string:i,undefined:"undefined"},chosen:{label:{boolean:o,function:"function"},node:{boolean:o,function:"function"},__type__:{object:a,boolean:o}},color:{border:{string:i},background:{string:i},highlight:{border:{string:i},background:{string:i},__type__:{object:a,string:i}},hover:{border:{string:i},background:{string:i},__type__:{object:a,string:i}},__type__:{object:a,string:i}},fixed:{x:{boolean:o},y:{boolean:o},__type__:{object:a,boolean:o}},font:{align:{string:i},color:{string:i},size:{number:r},face:{string:i},background:{string:i},strokeWidth:{number:r},strokeColor:{string:i},vadjust:{number:r},multi:{boolean:o,string:i},bold:{color:{string:i},size:{number:r},face:{string:i},mod:{string:i},vadjust:{number:r},__type__:{object:a,string:i}},boldital:{color:{string:i},size:{number:r},face:{string:i},mod:{string:i},vadjust:{number:r},__type__:{object:a,string:i}},ital:{color:{string:i},size:{number:r},face:{string:i},mod:{string:i},vadjust:{number:r},__type__:{object:a,string:i}},mono:{color:{string:i},size:{number:r},face:{string:i},mod:{string:i},vadjust:{number:r},__type__:{object:a,string:i}},__type__:{object:a,string:i}},group:{string:i,number:r,undefined:"undefined"},heightConstraint:{minimum:{number:r},valign:{string:i},__type__:{object:a,boolean:o,number:r}},hidden:{boolean:o},icon:{face:{string:i},code:{string:i},size:{number:r},color:{string:i},__type__:{object:a}},id:{string:i,number:r},image:{selected:{string:i,undefined:"undefined"},unselected:{string:i,undefined:"undefined"},__type__:{object:a,string:i}},label:{string:i,undefined:"undefined"},labelHighlightBold:{boolean:o},level:{number:r,undefined:"undefined"},margin:{top:{number:r},right:{number:r},bottom:{number:r},left:{number:r},__type__:{object:a,number:r}},mass:{number:r},physics:{boolean:o},scaling:{min:{number:r},max:{number:r},label:{enabled:{boolean:o},min:{number:r},max:{number:r},maxVisible:{number:r},drawThreshold:{number:r},__type__:{object:a,boolean:o}},customScalingFunction:{function:"function"},__type__:{object:a}},shadow:{enabled:{boolean:o},color:{string:i},size:{number:r},x:{number:r},y:{number:r},__type__:{object:a,boolean:o}},shape:{string:["ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},shapeProperties:{borderDashes:{boolean:o,array:"array"},borderRadius:{number:r},interpolation:{boolean:o},useImageSize:{boolean:o},useBorderWithImage:{boolean:o},__type__:{object:a}},size:{number:r},title:{string:i,dom:"dom",undefined:"undefined"},value:{number:r,undefined:"undefined"},widthConstraint:{minimum:{number:r},maximum:{number:r},__type__:{object:a,boolean:o,number:r}},x:{number:r},y:{number:r},__type__:{object:a}},physics:{enabled:{boolean:o},barnesHut:{gravitationalConstant:{number:r},centralGravity:{number:r},springLength:{number:r},springConstant:{number:r},damping:{number:r},avoidOverlap:{number:r},__type__:{object:a}},forceAtlas2Based:{gravitationalConstant:{number:r},centralGravity:{number:r},springLength:{number:r},springConstant:{number:r},damping:{number:r},avoidOverlap:{number:r},__type__:{object:a}},repulsion:{centralGravity:{number:r},springLength:{number:r},springConstant:{number:r},nodeDistance:{number:r},damping:{number:r},__type__:{object:a}},hierarchicalRepulsion:{centralGravity:{number:r},springLength:{number:r},springConstant:{number:r},nodeDistance:{number:r},damping:{number:r},__type__:{object:a}},maxVelocity:{number:r},minVelocity:{number:r},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:o},iterations:{number:r},updateInterval:{number:r},onlyDynamicEdges:{boolean:o},fit:{boolean:o},__type__:{object:a,boolean:o}},timestep:{number:r},adaptiveTimestep:{boolean:o},__type__:{object:a,boolean:o}},autoResize:{boolean:o},clickToUse:{boolean:o},locale:{string:i},locales:{__any__:{any:"any"},__type__:{object:a}},height:{string:i},width:{string:i},__type__:{object:a}};l.groups.__any__=l.nodes,l.manipulation.controlNodeStyle=l.nodes;e.allOptions=l,e.configureOptions={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01]}}},function(t,e,n){var i=n(2);i.extend(e,n(159)),i.extend(e,n(177)),i.extend(e,n(181))},function(t,e,n){n(49),n(60),t.exports=n(136)},function(t,e,n){var i=n(126),o=n(127),r=n(31),a=n(25);t.exports=n(79)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):o(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),r.Arguments=r.Array,i("keys"),i("values"),i("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var i=n(54),o=n(39),r=n(59),a={};n(26)(a,n(13)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=i(a,{next:o(1,n)}),r(t,e+" Iterator")}},function(t,e,n){var a=n(20),s=n(27),l=n(33);t.exports=n(21)?Object.defineProperties:function(t,e){s(t);for(var n,i=l(e),o=i.length,r=0;r<o;)a.f(t,n=i[r++],e[n]);return t}},function(t,e,n){var l=n(25),c=n(132),d=n(133);t.exports=function(s){return function(t,e,n){var i,o=l(t),r=c(o.length),a=d(n,r);if(s&&e!=e){for(;a<r;)if((i=o[a++])!=i)return!0}else for(;a<r;a++)if((s||a in o)&&o[a]===e)return s||a||0;return!s&&-1}}},function(t,e,n){var i=n(55),o=Math.min;t.exports=function(t){return 0<t?o(i(t),9007199254740991):0}},function(t,e,n){var i=n(55),o=Math.max,r=Math.min;t.exports=function(t,e){return(t=i(t))<0?o(t+e,0):r(t,e)}},function(t,e,n){var i=n(18).document;t.exports=i&&i.documentElement},function(t,e,n){var l=n(55),c=n(51);t.exports=function(s){return function(t,e){var n,i,o=String(c(t)),r=l(e),a=o.length;return r<0||a<=r?s?"":void 0:(n=o.charCodeAt(r))<55296||56319<n||r+1===a||(i=o.charCodeAt(r+1))<56320||57343<i?s?o.charAt(r):n:s?o.slice(r,r+2):i-56320+(n-55296<<10)+65536}}},function(t,e,n){var i=n(27),o=n(137);t.exports=n(7).getIterator=function(t){var e=o(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return i(e.call(t))}},function(t,e,n){var i=n(86),o=n(13)("iterator"),r=n(31);t.exports=n(7).getIteratorMethod=function(t){if(null!=t)return t[o]||t["@@iterator"]||r[i(t)]}},function(t,e,n){n(139);var i=n(7).Object;t.exports=function(t,e){return i.create(t,e)}},function(t,e,n){var i=n(17);i(i.S,"Object",{create:n(54)})},function(t,e,n){n(141),t.exports=n(7).Object.keys},function(t,e,n){var i=n(41),o=n(33);n(87)("keys",function(){return function(t){return o(i(t))}})},function(t,e,n){t.exports={default:n(143),__esModule:!0}},function(t,e,n){n(60),n(49),t.exports=n(61).f("iterator")},function(t,e,n){t.exports={default:n(145),__esModule:!0}},function(t,e,n){n(146),n(151),n(152),n(153),t.exports=n(7).Symbol},function(t,e,n){var i=n(18),a=n(22),o=n(21),r=n(17),s=n(83),l=n(147).KEY,c=n(28),d=n(57),u=n(59),h=n(40),p=n(13),f=n(61),m=n(62),g=n(148),v=n(149),y=n(27),b=n(25),_=n(53),x=n(39),w=n(54),E=n(150),M=n(89),T=n(20),C=n(33),S=M.f,A=T.f,k=E.f,D=i.Symbol,O=i.JSON,P=O&&O.stringify,N=p("_hidden"),L=p("toPrimitive"),I={}.propertyIsEnumerable,R=d("symbol-registry"),$=d("symbols"),F=d("op-symbols"),z=Object.prototype,H="function"==typeof D,B=i.QObject,U=!B||!B.prototype||!B.prototype.findChild,j=o&&c(function(){return 7!=w(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=S(z,e);i&&delete z[e],A(t,e,n),i&&t!==z&&A(z,e,i)}:A,V=function(t){var e=$[t]=w(D.prototype);return e._k=t,e},G=H&&"symbol"==typeof D.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof D},W=function(t,e,n){return t===z&&W(F,e,n),y(t),e=_(e,!0),y(n),a($,e)?(n.enumerable?(a(t,N)&&t[N][e]&&(t[N][e]=!1),n=w(n,{enumerable:x(0,!1)})):(a(t,N)||A(t,N,x(1,{})),t[N][e]=!0),j(t,e,n)):A(t,e,n)},Y=function(t,e){y(t);for(var n,i=g(e=b(e)),o=0,r=i.length;o<r;)W(t,n=i[o++],e[n]);return t},q=function(t){var e=I.call(this,t=_(t,!0));return!(this===z&&a($,t)&&!a(F,t))&&(!(e||!a(this,t)||!a($,t)||a(this,N)&&this[N][t])||e)},X=function(t,e){if(t=b(t),e=_(e,!0),t!==z||!a($,e)||a(F,e)){var n=S(t,e);return!n||!a($,e)||a(t,N)&&t[N][e]||(n.enumerable=!0),n}},Z=function(t){for(var e,n=k(b(t)),i=[],o=0;n.length>o;)a($,e=n[o++])||e==N||e==l||i.push(e);return i},K=function(t){for(var e,n=t===z,i=k(n?F:b(t)),o=[],r=0;i.length>r;)!a($,e=i[r++])||n&&!a(z,e)||o.push($[e]);return o};H||(s((D=function(){if(this instanceof D)throw TypeError("Symbol is not a constructor!");var e=h(0<arguments.length?arguments[0]:void 0),n=function(t){this===z&&n.call(F,t),a(this,N)&&a(this[N],e)&&(this[N][e]=!1),j(this,e,x(1,t))};return o&&U&&j(z,e,{configurable:!0,set:n}),V(e)}).prototype,"toString",function(){return this._k}),M.f=X,T.f=W,n(88).f=E.f=Z,n(42).f=q,n(63).f=K,o&&!n(52)&&s(z,"propertyIsEnumerable",q,!0),f.f=function(t){return V(p(t))}),r(r.G+r.W+r.F*!H,{Symbol:D});for(var Q="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),J=0;Q.length>J;)p(Q[J++]);for(var tt=C(p.store),et=0;tt.length>et;)m(tt[et++]);r(r.S+r.F*!H,"Symbol",{for:function(t){return a(R,t+="")?R[t]:R[t]=D(t)},keyFor:function(t){if(!G(t))throw TypeError(t+" is not a symbol!");for(var e in R)if(R[e]===t)return e},useSetter:function(){U=!0},useSimple:function(){U=!1}}),r(r.S+r.F*!H,"Object",{create:function(t,e){return void 0===e?w(t):Y(w(t),e)},defineProperty:W,defineProperties:Y,getOwnPropertyDescriptor:X,getOwnPropertyNames:Z,getOwnPropertySymbols:K}),O&&r(r.S+r.F*(!H||c(function(){var t=D();return"[null]"!=P([t])||"{}"!=P({a:t})||"{}"!=P(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!G(t)){for(var e,n,i=[t],o=1;arguments.length>o;)i.push(arguments[o++]);return"function"==typeof(e=i[1])&&(n=e),!n&&v(e)||(e=function(t,e){if(n&&(e=n.call(this,t,e)),!G(e))return e}),i[1]=e,P.apply(O,i)}}}),D.prototype[L]||n(26)(D.prototype,L,D.prototype.valueOf),u(D,"Symbol"),u(Math,"Math",!0),u(i.JSON,"JSON",!0)},function(t,e,n){var i=n(40)("meta"),o=n(32),r=n(22),a=n(20).f,s=0,l=Object.isExtensible||function(){return!0},c=!n(28)(function(){return l(Object.preventExtensions({}))}),d=function(t){a(t,i,{value:{i:"O"+ ++s,w:{}}})},u=t.exports={KEY:i,NEED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!r(t,i)){if(!l(t))return"F";if(!e)return"E";d(t)}return t[i].i},getWeak:function(t,e){if(!r(t,i)){if(!l(t))return!0;if(!e)return!1;d(t)}return t[i].w},onFreeze:function(t){return c&&u.NEED&&l(t)&&!r(t,i)&&d(t),t}}},function(t,e,n){var s=n(33),l=n(63),c=n(42);t.exports=function(t){var e=s(t),n=l.f;if(n)for(var i,o=n(t),r=c.f,a=0;o.length>a;)r.call(t,i=o[a++])&&e.push(i);return e}},function(t,e,n){var i=n(50);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,e,n){var i=n(25),o=n(88).f,r={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==r.call(t)?function(t){try{return o(t)}catch(t){return a.slice()}}(t):o(i(t))}},function(t,e){},function(t,e,n){n(62)("asyncIterator")},function(t,e,n){n(62)("observable")},function(t,e,n){(function(Yn){Yn.exports=function(){function g(){return Jt.apply(null,arguments)}function s(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function l(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function r(t){return void 0===t}function d(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function a(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function c(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function v(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function u(t,e){for(var n in e)v(e,n)&&(t[n]=e[n]);return v(e,"toString")&&(t.toString=e.toString),v(e,"valueOf")&&(t.valueOf=e.valueOf),t}function h(t,e,n,i){return yt(t,e,n,i,!0).utc()}function y(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function p(t){if(null==t._isValid){var e=y(t),n=te.call(e.parsedDateParts,function(t){return null!=t}),i=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function f(t){var e=h(NaN);return null!=t?u(y(e),t):y(e).userInvalidated=!0,e}function m(t,e){var n,i,o;if(r(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),r(e._i)||(t._i=e._i),r(e._f)||(t._f=e._f),r(e._l)||(t._l=e._l),r(e._strict)||(t._strict=e._strict),r(e._tzm)||(t._tzm=e._tzm),r(e._isUTC)||(t._isUTC=e._isUTC),r(e._offset)||(t._offset=e._offset),r(e._pf)||(t._pf=y(e)),r(e._locale)||(t._locale=e._locale),0<ne.length)for(n=0;n<ne.length;n++)i=ne[n],r(o=e[i])||(t[i]=o);return t}function b(t){m(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===ie&&(ie=!0,g.updateOffset(this),ie=!1)}function _(t){return t instanceof b||null!=t&&null!=t._isAMomentObject}function x(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function w(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=x(e)),n}function E(t,e,n){var i,o=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),a=0;for(i=0;i<o;i++)(n&&t[i]!==e[i]||!n&&w(t[i])!==w(e[i]))&&a++;return a+r}function M(t){!1===g.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function t(o,r){var a=!0;return u(function(){if(null!=g.deprecationHandler&&g.deprecationHandler(null,o),a){for(var t,e=[],n=0;n<arguments.length;n++){if(t="","object"==typeof arguments[n]){for(var i in t+="\n["+n+"] ",arguments[0])t+=i+": "+arguments[0][i]+", ";t=t.slice(0,-2)}else t=arguments[n];e.push(t)}M(o+"\nArguments: "+Array.prototype.slice.call(e).join("")+"\n"+(new Error).stack),a=!1}return r.apply(this,arguments)},r)}function T(t,e){null!=g.deprecationHandler&&g.deprecationHandler(t,e),oe[t]||(M(e),oe[t]=!0)}function C(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function o(t,e){var n,i=u({},t);for(n in e)v(e,n)&&(l(t[n])&&l(e[n])?(i[n]={},u(i[n],t[n]),u(i[n],e[n])):null!=e[n]?i[n]=e[n]:delete i[n]);for(n in t)v(t,n)&&!v(e,n)&&l(t[n])&&(i[n]=u({},i[n]));return i}function S(t){null!=t&&this.set(t)}function e(t,e){var n=t.toLowerCase();re[n]=re[n+"s"]=re[e]=t}function A(t){return"string"==typeof t?re[t]||re[t.toLowerCase()]:void 0}function k(t){var e,n,i={};for(n in t)v(t,n)&&(e=A(n))&&(i[e]=t[n]);return i}function n(t,e){ae[t]=e}function D(t){var e=[];for(var n in t)e.push({unit:n,priority:ae[n]});return e.sort(function(t,e){return t.priority-e.priority}),e}function O(t,e,n){var i=""+Math.abs(t),o=e-i.length;return(0<=t?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+i}function i(t,e,n,i){var o=i;"string"==typeof i&&(o=function(){return this[i]()}),t&&(de[t]=o),e&&(de[e[0]]=function(){return O(o.apply(this,arguments),e[1],e[2])}),n&&(de[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),t)})}function P(t,e){return t.isValid()?(e=N(e,t.localeData()),ce[e]=ce[e]||function(i){var t,o,e,r=i.match(se);for(t=0,o=r.length;t<o;t++)de[r[t]]?r[t]=de[r[t]]:r[t]=(e=r[t]).match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"");return function(t){var e,n="";for(e=0;e<o;e++)n+=C(r[e])?r[e].call(t,i):r[e];return n}}(e),ce[e](t)):t.localeData().invalidDate()}function N(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(le.lastIndex=0;0<=i&&le.test(t);)t=t.replace(le,n),le.lastIndex=0,i-=1;return t}function L(t,n,i){Se[t]=C(n)?n:function(t,e){return t&&i?i:n}}function I(t,e){return v(Se,t)?Se[t](e._strict,e._locale):new RegExp(R(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,o){return e||n||i||o})))}function R(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function $(t,n){var e,i=n;for("string"==typeof t&&(t=[t]),d(n)&&(i=function(t,e){e[n]=w(t)}),e=0;e<t.length;e++)Ae[t[e]]=i}function F(t,o){$(t,function(t,e,n,i){n._w=n._w||{},o(t,n._w,n,i)})}function z(t){return H(t)?366:365}function H(t){return t%4==0&&t%100!=0||t%400==0}function B(e,n){return function(t){return null!=t?(j(this,e,t),g.updateOffset(this,n),this):U(this,e)}}function U(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function j(t,e,n){t.isValid()&&!isNaN(n)&&("FullYear"===e&&H(t.year())?t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),V(n,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function V(t,e){if(isNaN(t)||isNaN(e))return NaN;var n,i=(e%(n=12)+n)%n;return t+=(e-i)/12,1===i?H(t)?29:28:31-i%7%2}function G(t,e,n){var i,o,r,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)r=h([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(r,"").toLocaleLowerCase();return n?-1!==(o="MMM"===e?Fe.call(this._shortMonthsParse,a):Fe.call(this._longMonthsParse,a))?o:null:"MMM"===e?-1!==(o=Fe.call(this._shortMonthsParse,a))?o:-1!==(o=Fe.call(this._longMonthsParse,a))?o:null:-1!==(o=Fe.call(this._longMonthsParse,a))?o:-1!==(o=Fe.call(this._shortMonthsParse,a))?o:null}function W(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=w(e);else if(!d(e=t.localeData().monthsParse(e)))return t;return n=Math.min(t.date(),V(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function Y(t){return null!=t?(W(this,t),g.updateOffset(this,!0),this):U(this,"Month")}function q(){function t(t,e){return e.length-t.length}var e,n,i=[],o=[],r=[];for(e=0;e<12;e++)n=h([2e3,e]),i.push(this.monthsShort(n,"")),o.push(this.months(n,"")),r.push(this.months(n,"")),r.push(this.monthsShort(n,""));for(i.sort(t),o.sort(t),r.sort(t),e=0;e<12;e++)i[e]=R(i[e]),o[e]=R(o[e]);for(e=0;e<24;e++)r[e]=R(r[e]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function X(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&0<=t&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function Z(t,e,n){var i=7+e-n;return-(7+X(t,0,i).getUTCDay()-e)%7+i-1}function K(t,e,n,i,o){var r,a,s=(7+n-i)%7,l=Z(t,i,o),c=1+7*(e-1)+s+l;return a=c<=0?z(r=t-1)+c:c>z(t)?(r=t+1,c-z(t)):(r=t,c),{year:r,dayOfYear:a}}function Q(t,e,n){var i,o,r=Z(t.year(),e,n),a=Math.floor((t.dayOfYear()-r-1)/7)+1;return a<1?(o=t.year()-1,i=a+J(o,e,n)):a>J(t.year(),e,n)?(i=a-J(t.year(),e,n),o=t.year()+1):(o=t.year(),i=a),{week:i,year:o}}function J(t,e,n){var i=Z(t,e,n),o=Z(t+1,e,n);return(z(t)-i+o)/7}function tt(t,e,n){var i,o,r,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)r=h([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(r,"").toLocaleLowerCase();return n?-1!==(o="dddd"===e?Fe.call(this._weekdaysParse,a):"ddd"===e?Fe.call(this._shortWeekdaysParse,a):Fe.call(this._minWeekdaysParse,a))?o:null:"dddd"===e?-1!==(o=Fe.call(this._weekdaysParse,a))?o:-1!==(o=Fe.call(this._shortWeekdaysParse,a))?o:-1!==(o=Fe.call(this._minWeekdaysParse,a))?o:null:"ddd"===e?-1!==(o=Fe.call(this._shortWeekdaysParse,a))?o:-1!==(o=Fe.call(this._weekdaysParse,a))?o:-1!==(o=Fe.call(this._minWeekdaysParse,a))?o:null:-1!==(o=Fe.call(this._minWeekdaysParse,a))?o:-1!==(o=Fe.call(this._weekdaysParse,a))?o:-1!==(o=Fe.call(this._shortWeekdaysParse,a))?o:null}function et(){function t(t,e){return e.length-t.length}var e,n,i,o,r,a=[],s=[],l=[],c=[];for(e=0;e<7;e++)n=h([2e3,1]).day(e),i=this.weekdaysMin(n,""),o=this.weekdaysShort(n,""),r=this.weekdays(n,""),a.push(i),s.push(o),l.push(r),c.push(i),c.push(o),c.push(r);for(a.sort(t),s.sort(t),l.sort(t),c.sort(t),e=0;e<7;e++)s[e]=R(s[e]),l[e]=R(l[e]),c[e]=R(c[e]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function nt(){return this.hours()%12||12}function it(t,e){i(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function ot(t,e){return e._meridiemParse}function rt(t){return t?t.toLowerCase().replace("_","-"):t}function at(t){var e=null;if(!tn[t]&&void 0!==Yn&&Yn&&Yn.exports)try{e=Ke._abbr,function(){var t=new Error('Cannot find module "./locale"');throw t.code="MODULE_NOT_FOUND",t}(),st(e)}catch(t){}return tn[t]}function st(t,e){var n;return t&&(n=r(e)?ct(t):lt(t,e))&&(Ke=n),Ke._abbr}function lt(t,e){if(null===e)return delete tn[t],null;var n=Je;if(e.abbr=t,null!=tn[t])T("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=tn[t]._config;else if(null!=e.parentLocale){if(null==tn[e.parentLocale])return en[e.parentLocale]||(en[e.parentLocale]=[]),en[e.parentLocale].push({name:t,config:e}),null;n=tn[e.parentLocale]._config}return tn[t]=new S(o(n,e)),en[t]&&en[t].forEach(function(t){lt(t.name,t.config)}),st(t),tn[t]}function ct(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Ke;if(!s(t)){if(e=at(t))return e;t=[t]}return function(t){for(var e,n,i,o,r=0;r<t.length;){for(o=rt(t[r]).split("-"),e=o.length,n=(n=rt(t[r+1]))?n.split("-"):null;0<e;){if(i=at(o.slice(0,e).join("-")))return i;if(n&&n.length>=e&&E(o,n,!0)>=e-1)break;e--}r++}return null}(t)}function dt(t){var e,n=t._a;return n&&-2===y(t).overflow&&(e=n[De]<0||11<n[De]?De:n[Oe]<1||n[Oe]>V(n[ke],n[De])?Oe:n[Pe]<0||24<n[Pe]||24===n[Pe]&&(0!==n[Ne]||0!==n[Le]||0!==n[Ie])?Pe:n[Ne]<0||59<n[Ne]?Ne:n[Le]<0||59<n[Le]?Le:n[Ie]<0||999<n[Ie]?Ie:-1,y(t)._overflowDayOfYear&&(e<ke||Oe<e)&&(e=Oe),y(t)._overflowWeeks&&-1===e&&(e=Re),y(t)._overflowWeekday&&-1===e&&(e=$e),y(t).overflow=e),t}function ut(t,e,n){return null!=t?t:null!=e?e:n}function ht(t){var e,n,i,o,r,a,s=[];if(!t._d){for(r=t,a=void 0,a=new Date(g.now()),i=r._useUTC?[a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()]:[a.getFullYear(),a.getMonth(),a.getDate()],t._w&&null==t._a[Oe]&&null==t._a[De]&&function(t){var e,n,i,o,r,a,s,l;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)r=1,a=4,n=ut(e.GG,t._a[ke],Q(bt(),1,4).year),i=ut(e.W,1),((o=ut(e.E,1))<1||7<o)&&(l=!0);else{r=t._locale._week.dow,a=t._locale._week.doy;var c=Q(bt(),r,a);n=ut(e.gg,t._a[ke],c.year),i=ut(e.w,c.week),null!=e.d?((o=e.d)<0||6<o)&&(l=!0):null!=e.e?(o=e.e+r,(e.e<0||6<e.e)&&(l=!0)):o=r}i<1||i>J(n,r,a)?y(t)._overflowWeeks=!0:null!=l?y(t)._overflowWeekday=!0:(s=K(n,i,o,r,a),t._a[ke]=s.year,t._dayOfYear=s.dayOfYear)}(t),null!=t._dayOfYear&&(o=ut(t._a[ke],i[ke]),(t._dayOfYear>z(o)||0===t._dayOfYear)&&(y(t)._overflowDayOfYear=!0),n=X(o,0,t._dayOfYear),t._a[De]=n.getUTCMonth(),t._a[Oe]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=s[e]=i[e];for(;e<7;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[Pe]&&0===t._a[Ne]&&0===t._a[Le]&&0===t._a[Ie]&&(t._nextDay=!0,t._a[Pe]=0),t._d=(t._useUTC?X:function(t,e,n,i,o,r,a){var s=new Date(t,e,n,i,o,r,a);return t<100&&0<=t&&isFinite(s.getFullYear())&&s.setFullYear(t),s}).apply(null,s),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Pe]=24),t._w&&void 0!==t._w.d&&t._w.d!==t._d.getDay()&&(y(t).weekdayMismatch=!0)}}function pt(t){var e,n,i,o,r,a,s=t._i,l=nn.exec(s)||on.exec(s);if(l){for(y(t).iso=!0,e=0,n=an.length;e<n;e++)if(an[e][1].exec(l[1])){o=an[e][0],i=!1!==an[e][2];break}if(null==o)return void(t._isValid=!1);if(l[3]){for(e=0,n=sn.length;e<n;e++)if(sn[e][1].exec(l[3])){r=(l[2]||" ")+sn[e][0];break}if(null==r)return void(t._isValid=!1)}if(!i&&null!=r)return void(t._isValid=!1);if(l[4]){if(!rn.exec(l[4]))return void(t._isValid=!1);a="Z"}t._f=o+(r||"")+(a||""),gt(t)}else t._isValid=!1}function ft(t,e,n,i,o,r){var a,s,l=[(a=t,s=parseInt(a,10),s<=49?2e3+s:s<=999?1900+s:s),Ue.indexOf(e),parseInt(n,10),parseInt(i,10),parseInt(o,10)];return r&&l.push(parseInt(r,10)),l}function mt(t){var e,n,i,o=cn.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim());if(o){var r=ft(o[4],o[3],o[2],o[5],o[6],o[7]);if(e=o[1],n=r,i=t,e&&We.indexOf(e)!==new Date(n[0],n[1],n[2]).getDay()&&(y(i).weekdayMismatch=!0,!(i._isValid=!1)))return;t._a=r,t._tzm=function(t,e,n){if(t)return dn[t];if(e)return 0;var i=parseInt(n,10),o=i%100;return(i-o)/100*60+o}(o[8],o[9],o[10]),t._d=X.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),y(t).rfc2822=!0}else t._isValid=!1}function gt(t){if(t._f!==g.ISO_8601)if(t._f!==g.RFC_2822){t._a=[],y(t).empty=!0;var e,n,i,o,r,a,s,l,c,d,u,h,p=""+t._i,f=p.length,m=0;for(i=N(t._f,t._locale).match(se)||[],e=0;e<i.length;e++)o=i[e],(n=(p.match(I(o,t))||[])[0])&&(0<(r=p.substr(0,p.indexOf(n))).length&&y(t).unusedInput.push(r),p=p.slice(p.indexOf(n)+n.length),m+=n.length),de[o]?(n?y(t).empty=!1:y(t).unusedTokens.push(o),a=o,l=t,null!=(s=n)&&v(Ae,a)&&Ae[a](s,l._a,l,a)):t._strict&&!n&&y(t).unusedTokens.push(o);y(t).charsLeftOver=f-m,0<p.length&&y(t).unusedInput.push(p),t._a[Pe]<=12&&!0===y(t).bigHour&&0<t._a[Pe]&&(y(t).bigHour=void 0),y(t).parsedDateParts=t._a.slice(0),y(t).meridiem=t._meridiem,t._a[Pe]=(c=t._locale,d=t._a[Pe],null==(u=t._meridiem)?d:null!=c.meridiemHour?c.meridiemHour(d,u):(null!=c.isPM&&((h=c.isPM(u))&&d<12&&(d+=12),h||12!==d||(d=0)),d)),ht(t),dt(t)}else mt(t);else pt(t)}function vt(t){var e,n,i=t._i,o=t._f;return t._locale=t._locale||ct(t._l),null===i||void 0===o&&""===i?f({nullInput:!0}):("string"==typeof i&&(t._i=i=t._locale.preparse(i)),_(i)?new b(dt(i)):(a(i)?t._d=i:s(o)?function(t){var e,n,i,o,r;if(0===t._f.length)return y(t).invalidFormat=!0,t._d=new Date(NaN);for(o=0;o<t._f.length;o++)r=0,e=m({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[o],gt(e),p(e)&&(r+=y(e).charsLeftOver,r+=10*y(e).unusedTokens.length,y(e).score=r,(null==i||r<i)&&(i=r,n=e));u(t,n||e)}(t):o?gt(t):r(n=(e=t)._i)?e._d=new Date(g.now()):a(n)?e._d=new Date(n.valueOf()):"string"==typeof n?function(t){var e=ln.exec(t._i);if(null!==e)return t._d=new Date(+e[1]);pt(t),!1===t._isValid&&(delete t._isValid,mt(t),!1===t._isValid&&(delete t._isValid,g.createFromInputFallback(t)))}(e):s(n)?(e._a=c(n.slice(0),function(t){return parseInt(t,10)}),ht(e)):l(n)?function(t){if(!t._d){var e=k(t._i);t._a=c([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),ht(t)}}(e):d(n)?e._d=new Date(n):g.createFromInputFallback(e),p(t)||(t._d=null),t))}function yt(t,e,n,i,o){var r,a={};return!0!==n&&!1!==n||(i=n,n=void 0),(l(t)&&function(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}(t)||s(t)&&0===t.length)&&(t=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=o,a._l=n,a._i=t,a._f=e,a._strict=i,(r=new b(dt(vt(a))))._nextDay&&(r.add(1,"d"),r._nextDay=void 0),r}function bt(t,e,n,i){return yt(t,e,n,i,!1)}function _t(t,e){var n,i;if(1===e.length&&s(e[0])&&(e=e[0]),!e.length)return bt();for(n=e[0],i=1;i<e.length;++i)e[i].isValid()&&!e[i][t](n)||(n=e[i]);return n}function xt(t){var e=k(t),n=e.year||0,i=e.quarter||0,o=e.month||0,r=e.week||0,a=e.day||0,s=e.hour||0,l=e.minute||0,c=e.second||0,d=e.millisecond||0;this._isValid=function(t){for(var e in t)if(-1===Fe.call(pn,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var n=!1,i=0;i<pn.length;++i)if(t[pn[i]]){if(n)return!1;parseFloat(t[pn[i]])!==w(t[pn[i]])&&(n=!0)}return!0}(e),this._milliseconds=+d+1e3*c+6e4*l+1e3*s*60*60,this._days=+a+7*r,this._months=+o+3*i+12*n,this._data={},this._locale=ct(),this._bubble()}function wt(t){return t instanceof xt}function Et(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Mt(t,n){i(t,0,0,function(){var t=this.utcOffset(),e="+";return t<0&&(t=-t,e="-"),e+O(~~(t/60),2)+n+O(~~t%60,2)})}function Tt(t,e){var n=(e||"").match(t);if(null===n)return null;var i=n[n.length-1]||[],o=(i+"").match(fn)||["-",0,0],r=60*o[1]+w(o[2]);return 0===r?0:"+"===o[0]?r:-r}function Ct(t,e){var n,i;return e._isUTC?(n=e.clone(),i=(_(t)||a(t)?t.valueOf():bt(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),g.updateOffset(n,!1),n):bt(t).local()}function St(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function At(){return!!this.isValid()&&this._isUTC&&0===this._offset}function kt(t,e){var n,i,o,r,a,s,l=t,c=null;return wt(t)?l={ms:t._milliseconds,d:t._days,M:t._months}:d(t)?(l={},e?l[e]=t:l.milliseconds=t):(c=mn.exec(t))?(n="-"===c[1]?-1:1,l={y:0,d:w(c[Oe])*n,h:w(c[Pe])*n,m:w(c[Ne])*n,s:w(c[Le])*n,ms:w(Et(1e3*c[Ie]))*n}):(c=gn.exec(t))?(n="-"===c[1]?-1:(c[1],1),l={y:Dt(c[2],n),M:Dt(c[3],n),w:Dt(c[4],n),d:Dt(c[5],n),h:Dt(c[6],n),m:Dt(c[7],n),s:Dt(c[8],n)}):null==l?l={}:"object"==typeof l&&("from"in l||"to"in l)&&(r=bt(l.from),a=bt(l.to),o=r.isValid()&&a.isValid()?(a=Ct(a,r),r.isBefore(a)?s=Ot(r,a):((s=Ot(a,r)).milliseconds=-s.milliseconds,s.months=-s.months),s):{milliseconds:0,months:0},(l={}).ms=o.milliseconds,l.M=o.months),i=new xt(l),wt(t)&&v(t,"_locale")&&(i._locale=t._locale),i}function Dt(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Ot(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Pt(i,o){return function(t,e){var n;return null===e||isNaN(+e)||(T(o,"moment()."+o+"(period, number) is deprecated. Please use moment()."+o+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=t,t=e,e=n),Nt(this,kt(t="string"==typeof t?+t:t,e),i),this}}function Nt(t,e,n,i){var o=e._milliseconds,r=Et(e._days),a=Et(e._months);t.isValid()&&(i=null==i||i,a&&W(t,U(t,"Month")+a*n),r&&j(t,"Date",U(t,"Date")+r*n),o&&t._d.setTime(t._d.valueOf()+o*n),i&&g.updateOffset(t,r||a))}function Lt(t,e){var n,i,o=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(o,"months");return i=e-r<0?(n=t.clone().add(o-1,"months"),(e-r)/(r-n)):(n=t.clone().add(o+1,"months"),(e-r)/(n-r)),-(o+i)||0}function It(t){var e;return void 0===t?this._locale._abbr:(null!=(e=ct(t))&&(this._locale=e),this)}function Rt(){return this._locale}function $t(t,e){i(0,[t,t.length],0,e)}function Ft(t,e,n,i,o){var r;return null==t?Q(this,i,o).year:((r=J(t,i,o))<e&&(e=r),function(t,e,n,i,o){var r=K(t,e,n,i,o),a=X(r.year,0,r.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}.call(this,t,e,n,i,o))}function zt(t,e){e[Ie]=w(1e3*("0."+t))}function Ht(t){return t}function Bt(t,e,n,i){var o=ct(),r=h().set(i,e);return o[n](r,t)}function Ut(t,e,n){if(d(t)&&(e=t,t=void 0),t=t||"",null!=e)return Bt(t,e,n,"month");var i,o=[];for(i=0;i<12;i++)o[i]=Bt(t,i,n,"month");return o}function jt(t,e,n,i){"boolean"==typeof t||(n=e=t,t=!1),d(e)&&(n=e,e=void 0),e=e||"";var o=ct(),r=t?o._week.dow:0;if(null!=n)return Bt(e,(n+r)%7,i,"day");var a,s=[];for(a=0;a<7;a++)s[a]=Bt(e,(a+r)%7,i,"day");return s}function Vt(t,e,n,i){var o=kt(e,n);return t._milliseconds+=i*o._milliseconds,t._days+=i*o._days,t._months+=i*o._months,t._bubble()}function Gt(t){return t<0?Math.floor(t):Math.ceil(t)}function Wt(t){return 4800*t/146097}function Yt(t){return 146097*t/4800}function qt(t){return function(){return this.as(t)}}function Xt(t){return function(){return this.isValid()?this._data[t]:NaN}}function Zt(t,e,n,i,o){return o.relativeTime(e||1,!!n,t,i)}function Kt(t){return(0<t)-(t<0)||+t}function Qt(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n=Gn(this._milliseconds)/1e3,i=Gn(this._days),o=Gn(this._months);t=x(n/60),e=x(t/60),n%=60,t%=60;var r=x(o/12),a=o%=12,s=i,l=e,c=t,d=n?n.toFixed(3).replace(/\.?0+$/,""):"",u=this.asSeconds();if(!u)return"P0D";var h=u<0?"-":"",p=Kt(this._months)!==Kt(u)?"-":"",f=Kt(this._days)!==Kt(u)?"-":"",m=Kt(this._milliseconds)!==Kt(u)?"-":"";return h+"P"+(r?p+r+"Y":"")+(a?p+a+"M":"")+(s?f+s+"D":"")+(l||c||d?"T":"")+(l?m+l+"H":"")+(c?m+c+"M":"")+(d?m+d+"S":"")}var Jt,te;te=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,i=0;i<n;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1};var ee,ne=g.momentProperties=[],ie=!1,oe={};g.suppressDeprecationWarnings=!1,g.deprecationHandler=null,ee=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)v(t,e)&&n.push(e);return n};var re={},ae={},se=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,le=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ce={},de={},ue=/\d/,he=/\d\d/,pe=/\d{3}/,fe=/\d{4}/,me=/[+-]?\d{6}/,ge=/\d\d?/,ve=/\d\d\d\d?/,ye=/\d\d\d\d\d\d?/,be=/\d{1,3}/,_e=/\d{1,4}/,xe=/[+-]?\d{1,6}/,we=/\d+/,Ee=/[+-]?\d+/,Me=/Z|[+-]\d\d:?\d\d/gi,Te=/Z|[+-]\d\d(?::?\d\d)?/gi,Ce=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Se={},Ae={},ke=0,De=1,Oe=2,Pe=3,Ne=4,Le=5,Ie=6,Re=7,$e=8;i("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),i(0,["YY",2],0,function(){return this.year()%100}),i(0,["YYYY",4],0,"year"),i(0,["YYYYY",5],0,"year"),i(0,["YYYYYY",6,!0],0,"year"),e("year","y"),n("year",1),L("Y",Ee),L("YY",ge,he),L("YYYY",_e,fe),L("YYYYY",xe,me),L("YYYYYY",xe,me),$(["YYYYY","YYYYYY"],ke),$("YYYY",function(t,e){e[ke]=2===t.length?g.parseTwoDigitYear(t):w(t)}),$("YY",function(t,e){e[ke]=g.parseTwoDigitYear(t)}),$("Y",function(t,e){e[ke]=parseInt(t,10)}),g.parseTwoDigitYear=function(t){return w(t)+(68<w(t)?1900:2e3)};var Fe,ze=B("FullYear",!0);Fe=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},i("M",["MM",2],"Mo",function(){return this.month()+1}),i("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),i("MMMM",0,0,function(t){return this.localeData().months(this,t)}),e("month","M"),n("month",8),L("M",ge),L("MM",ge,he),L("MMM",function(t,e){return e.monthsShortRegex(t)}),L("MMMM",function(t,e){return e.monthsRegex(t)}),$(["M","MM"],function(t,e){e[De]=w(t)-1}),$(["MMM","MMMM"],function(t,e,n,i){var o=n._locale.monthsParse(t,i,n._strict);null!=o?e[De]=o:y(n).invalidMonth=t});var He=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Be="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ue="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),je=Ce,Ve=Ce;i("w",["ww",2],"wo","week"),i("W",["WW",2],"Wo","isoWeek"),e("week","w"),e("isoWeek","W"),n("week",5),n("isoWeek",5),L("w",ge),L("ww",ge,he),L("W",ge),L("WW",ge,he),F(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=w(t)}),i("d",0,"do","day"),i("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),i("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),i("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),i("e",0,0,"weekday"),i("E",0,0,"isoWeekday"),e("day","d"),e("weekday","e"),e("isoWeekday","E"),n("day",11),n("weekday",11),n("isoWeekday",11),L("d",ge),L("e",ge),L("E",ge),L("dd",function(t,e){return e.weekdaysMinRegex(t)}),L("ddd",function(t,e){return e.weekdaysShortRegex(t)}),L("dddd",function(t,e){return e.weekdaysRegex(t)}),F(["dd","ddd","dddd"],function(t,e,n,i){var o=n._locale.weekdaysParse(t,i,n._strict);null!=o?e.d=o:y(n).invalidWeekday=t}),F(["d","e","E"],function(t,e,n,i){e[i]=w(t)});var Ge="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),We="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ye="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),qe=Ce,Xe=Ce,Ze=Ce;i("H",["HH",2],0,"hour"),i("h",["hh",2],0,nt),i("k",["kk",2],0,function(){return this.hours()||24}),i("hmm",0,0,function(){return""+nt.apply(this)+O(this.minutes(),2)}),i("hmmss",0,0,function(){return""+nt.apply(this)+O(this.minutes(),2)+O(this.seconds(),2)}),i("Hmm",0,0,function(){return""+this.hours()+O(this.minutes(),2)}),i("Hmmss",0,0,function(){return""+this.hours()+O(this.minutes(),2)+O(this.seconds(),2)}),it("a",!0),it("A",!1),e("hour","h"),n("hour",13),L("a",ot),L("A",ot),L("H",ge),L("h",ge),L("k",ge),L("HH",ge,he),L("hh",ge,he),L("kk",ge,he),L("hmm",ve),L("hmmss",ye),L("Hmm",ve),L("Hmmss",ye),$(["H","HH"],Pe),$(["k","kk"],function(t,e,n){var i=w(t);e[Pe]=24===i?0:i}),$(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),$(["h","hh"],function(t,e,n){e[Pe]=w(t),y(n).bigHour=!0}),$("hmm",function(t,e,n){var i=t.length-2;e[Pe]=w(t.substr(0,i)),e[Ne]=w(t.substr(i)),y(n).bigHour=!0}),$("hmmss",function(t,e,n){var i=t.length-4,o=t.length-2;e[Pe]=w(t.substr(0,i)),e[Ne]=w(t.substr(i,2)),e[Le]=w(t.substr(o)),y(n).bigHour=!0}),$("Hmm",function(t,e,n){var i=t.length-2;e[Pe]=w(t.substr(0,i)),e[Ne]=w(t.substr(i))}),$("Hmmss",function(t,e,n){var i=t.length-4,o=t.length-2;e[Pe]=w(t.substr(0,i)),e[Ne]=w(t.substr(i,2)),e[Le]=w(t.substr(o))});var Ke,Qe=B("Hours",!0),Je={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Be,monthsShort:Ue,week:{dow:0,doy:6},weekdays:Ge,weekdaysMin:Ye,weekdaysShort:We,meridiemParse:/[ap]\.?m?\.?/i},tn={},en={},nn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,on=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,rn=/Z|[+-]\d\d(?::?\d\d)?/,an=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],sn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ln=/^\/?Date\((\-?\d+)/i,cn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,dn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};g.createFromInputFallback=t("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),g.ISO_8601=function(){},g.RFC_2822=function(){};var un=t("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=bt.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:f()}),hn=t("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=bt.apply(null,arguments);return this.isValid()&&t.isValid()?this<t?this:t:f()}),pn=["year","quarter","month","week","day","hour","minute","second","millisecond"];Mt("Z",":"),Mt("ZZ",""),L("Z",Te),L("ZZ",Te),$(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Tt(Te,t)});var fn=/([\+\-]|\d\d)/gi;g.updateOffset=function(){};var mn=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,gn=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;kt.fn=xt.prototype,kt.invalid=function(){return kt(NaN)};var vn=Pt(1,"add"),yn=Pt(-1,"subtract");g.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",g.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var bn=t("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});i(0,["gg",2],0,function(){return this.weekYear()%100}),i(0,["GG",2],0,function(){return this.isoWeekYear()%100}),$t("gggg","weekYear"),$t("ggggg","weekYear"),$t("GGGG","isoWeekYear"),$t("GGGGG","isoWeekYear"),e("weekYear","gg"),e("isoWeekYear","GG"),n("weekYear",1),n("isoWeekYear",1),L("G",Ee),L("g",Ee),L("GG",ge,he),L("gg",ge,he),L("GGGG",_e,fe),L("gggg",_e,fe),L("GGGGG",xe,me),L("ggggg",xe,me),F(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=w(t)}),F(["gg","GG"],function(t,e,n,i){e[i]=g.parseTwoDigitYear(t)}),i("Q",0,"Qo","quarter"),e("quarter","Q"),n("quarter",7),L("Q",ue),$("Q",function(t,e){e[De]=3*(w(t)-1)}),i("D",["DD",2],"Do","date"),e("date","D"),n("date",9),L("D",ge),L("DD",ge,he),L("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),$(["D","DD"],Oe),$("Do",function(t,e){e[Oe]=w(t.match(ge)[0])});var _n=B("Date",!0);i("DDD",["DDDD",3],"DDDo","dayOfYear"),e("dayOfYear","DDD"),n("dayOfYear",4),L("DDD",be),L("DDDD",pe),$(["DDD","DDDD"],function(t,e,n){n._dayOfYear=w(t)}),i("m",["mm",2],0,"minute"),e("minute","m"),n("minute",14),L("m",ge),L("mm",ge,he),$(["m","mm"],Ne);var xn=B("Minutes",!1);i("s",["ss",2],0,"second"),e("second","s"),n("second",15),L("s",ge),L("ss",ge,he),$(["s","ss"],Le);var wn,En=B("Seconds",!1);for(i("S",0,0,function(){return~~(this.millisecond()/100)}),i(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),i(0,["SSS",3],0,"millisecond"),i(0,["SSSS",4],0,function(){return 10*this.millisecond()}),i(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),i(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),i(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),i(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),i(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),e("millisecond","ms"),n("millisecond",16),L("S",be,ue),L("SS",be,he),L("SSS",be,pe),wn="SSSS";wn.length<=9;wn+="S")L(wn,we);for(wn="S";wn.length<=9;wn+="S")$(wn,zt);var Mn=B("Milliseconds",!1);i("z",0,0,"zoneAbbr"),i("zz",0,0,"zoneName");var Tn=b.prototype;Tn.add=vn,Tn.calendar=function(t,e){var n=t||bt(),i=Ct(n,this).startOf("day"),o=g.calendarFormat(this,i)||"sameElse",r=e&&(C(e[o])?e[o].call(this,n):e[o]);return this.format(r||this.localeData().calendar(o,this,bt(n)))},Tn.clone=function(){return new b(this)},Tn.diff=function(t,e,n){var i,o,r;if(!this.isValid())return NaN;if(!(i=Ct(t,this)).isValid())return NaN;switch(o=6e4*(i.utcOffset()-this.utcOffset()),e=A(e)){case"year":r=Lt(this,i)/12;break;case"month":r=Lt(this,i);break;case"quarter":r=Lt(this,i)/3;break;case"second":r=(this-i)/1e3;break;case"minute":r=(this-i)/6e4;break;case"hour":r=(this-i)/36e5;break;case"day":r=(this-i-o)/864e5;break;case"week":r=(this-i-o)/6048e5;break;default:r=this-i}return n?r:x(r)},Tn.endOf=function(t){return void 0===(t=A(t))||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))},Tn.format=function(t){t||(t=this.isUtc()?g.defaultFormatUtc:g.defaultFormat);var e=P(this,t);return this.localeData().postformat(e)},Tn.from=function(t,e){return this.isValid()&&(_(t)&&t.isValid()||bt(t).isValid())?kt({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},Tn.fromNow=function(t){return this.from(bt(),t)},Tn.to=function(t,e){return this.isValid()&&(_(t)&&t.isValid()||bt(t).isValid())?kt({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},Tn.toNow=function(t){return this.to(bt(),t)},Tn.get=function(t){return C(this[t=A(t)])?this[t]():this},Tn.invalidAt=function(){return y(this).overflow},Tn.isAfter=function(t,e){var n=_(t)?t:bt(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=A(r(e)?"millisecond":e))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())},Tn.isBefore=function(t,e){var n=_(t)?t:bt(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=A(r(e)?"millisecond":e))?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())},Tn.isBetween=function(t,e,n,i){return("("===(i=i||"()")[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===i[1]?this.isBefore(e,n):!this.isAfter(e,n))},Tn.isSame=function(t,e){var n,i=_(t)?t:bt(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=A(e||"millisecond"))?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))},Tn.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},Tn.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},Tn.isValid=function(){return p(this)},Tn.lang=bn,Tn.locale=It,Tn.localeData=Rt,Tn.max=hn,Tn.min=un,Tn.parsingFlags=function(){return u({},y(this))},Tn.set=function(t,e){if("object"==typeof t)for(var n=D(t=k(t)),i=0;i<n.length;i++)this[n[i].unit](t[n[i].unit]);else if(C(this[t=A(t)]))return this[t](e);return this},Tn.startOf=function(t){switch(t=A(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},Tn.subtract=yn,Tn.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]},Tn.toObject=function(){return{years:this.year(),months:this.month(),date:this.date(),hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()}},Tn.toDate=function(){return new Date(this.valueOf())},Tn.toISOString=function(){if(!this.isValid())return null;var t=this.clone().utc();return t.year()<0||9999<t.year()?P(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):C(Date.prototype.toISOString)?this.toDate().toISOString():P(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},Tn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o=e+'[")]';return this.format(n+i+"-MM-DD[T]HH:mm:ss.SSS"+o)},Tn.toJSON=function(){return this.isValid()?this.toISOString():null},Tn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Tn.unix=function(){return Math.floor(this.valueOf()/1e3)},Tn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},Tn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Tn.year=ze,Tn.isLeapYear=function(){return H(this.year())},Tn.weekYear=function(t){return Ft.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},Tn.isoWeekYear=function(t){return Ft.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},Tn.quarter=Tn.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},Tn.month=Y,Tn.daysInMonth=function(){return V(this.year(),this.month())},Tn.week=Tn.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},Tn.isoWeek=Tn.isoWeeks=function(t){var e=Q(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},Tn.weeksInYear=function(){var t=this.localeData()._week;return J(this.year(),t.dow,t.doy)},Tn.isoWeeksInYear=function(){return J(this.year(),1,4)},Tn.date=_n,Tn.day=Tn.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e,n,i=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(e=t,n=this.localeData(),t="string"!=typeof e?e:isNaN(e)?"number"==typeof(e=n.weekdaysParse(e))?e:null:parseInt(e,10),this.add(t-i,"d")):i},Tn.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},Tn.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null==t)return this.day()||7;var e,n,i=(e=t,n=this.localeData(),"string"==typeof e?n.weekdaysParse(e)%7||7:isNaN(e)?null:e);return this.day(this.day()%7?i:i-7)},Tn.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},Tn.hour=Tn.hours=Qe,Tn.minute=Tn.minutes=xn,Tn.second=Tn.seconds=En,Tn.millisecond=Tn.milliseconds=Mn,Tn.utcOffset=function(t,e,n){var i,o=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null==t)return this._isUTC?o:St(this);if("string"==typeof t){if(null===(t=Tt(Te,t)))return this}else Math.abs(t)<16&&!n&&(t*=60);return!this._isUTC&&e&&(i=St(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==t&&(!e||this._changeInProgress?Nt(this,kt(t-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,g.updateOffset(this,!0),this._changeInProgress=null)),this},Tn.utc=function(t){return this.utcOffset(0,t)},Tn.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(St(this),"m")),this},Tn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Tt(Me,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},Tn.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?bt(t).utcOffset():0,(this.utcOffset()-t)%60==0)},Tn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Tn.isLocal=function(){return!!this.isValid()&&!this._isUTC},Tn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},Tn.isUtc=At,Tn.isUTC=At,Tn.zoneAbbr=function(){return this._isUTC?"UTC":""},Tn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},Tn.dates=t("dates accessor is deprecated. Use date instead.",_n),Tn.months=t("months accessor is deprecated. Use month instead",Y),Tn.years=t("years accessor is deprecated. Use year instead",ze),Tn.zone=t("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}),Tn.isDSTShifted=t("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!r(this._isDSTShifted))return this._isDSTShifted;var t={};if(m(t,this),(t=vt(t))._a){var e=t._isUTC?h(t._a):bt(t._a);this._isDSTShifted=this.isValid()&&0<E(t._a,e.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted});var Cn=S.prototype;Cn.calendar=function(t,e,n){var i=this._calendar[t]||this._calendar.sameElse;return C(i)?i.call(e,n):i},Cn.longDateFormat=function(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])},Cn.invalidDate=function(){return this._invalidDate},Cn.ordinal=function(t){return this._ordinal.replace("%d",t)},Cn.preparse=Ht,Cn.postformat=Ht,Cn.relativeTime=function(t,e,n,i){var o=this._relativeTime[n];return C(o)?o(t,e,n,i):o.replace(/%d/i,t)},Cn.pastFuture=function(t,e){var n=this._relativeTime[0<t?"future":"past"];return C(n)?n(e):n.replace(/%s/i,e)},Cn.set=function(t){var e,n;for(n in t)C(e=t[n])?this[n]=e:this["_"+n]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Cn.months=function(t,e){return t?s(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||He).test(e)?"format":"standalone"][t.month()]:s(this._months)?this._months:this._months.standalone},Cn.monthsShort=function(t,e){return t?s(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[He.test(e)?"format":"standalone"][t.month()]:s(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Cn.monthsParse=function(t,e,n){var i,o,r;if(this._monthsParseExact)return G.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(o=h([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(r="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[i]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}},Cn.monthsRegex=function(t){return this._monthsParseExact?(v(this,"_monthsRegex")||q.call(this),t?this._monthsStrictRegex:this._monthsRegex):(v(this,"_monthsRegex")||(this._monthsRegex=Ve),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},Cn.monthsShortRegex=function(t){return this._monthsParseExact?(v(this,"_monthsRegex")||q.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(v(this,"_monthsShortRegex")||(this._monthsShortRegex=je),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},Cn.week=function(t){return Q(t,this._week.dow,this._week.doy).week},Cn.firstDayOfYear=function(){return this._week.doy},Cn.firstDayOfWeek=function(){return this._week.dow},Cn.weekdays=function(t,e){return t?s(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:s(this._weekdays)?this._weekdays:this._weekdays.standalone},Cn.weekdaysMin=function(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin},Cn.weekdaysShort=function(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort},Cn.weekdaysParse=function(t,e,n){var i,o,r;if(this._weekdaysParseExact)return tt.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(o=h([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(o,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(o,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(o,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(r="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[i]=new RegExp(r.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}},Cn.weekdaysRegex=function(t){return this._weekdaysParseExact?(v(this,"_weekdaysRegex")||et.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(v(this,"_weekdaysRegex")||(this._weekdaysRegex=qe),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},Cn.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(v(this,"_weekdaysRegex")||et.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(v(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Xe),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Cn.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(v(this,"_weekdaysRegex")||et.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(v(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ze),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Cn.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},Cn.meridiem=function(t,e,n){return 11<t?n?"pm":"PM":n?"am":"AM"},st("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===w(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),g.lang=t("moment.lang is deprecated. Use moment.locale instead.",st),g.langData=t("moment.langData is deprecated. Use moment.localeData instead.",ct);var Sn=Math.abs,An=qt("ms"),kn=qt("s"),Dn=qt("m"),On=qt("h"),Pn=qt("d"),Nn=qt("w"),Ln=qt("M"),In=qt("y"),Rn=Xt("milliseconds"),$n=Xt("seconds"),Fn=Xt("minutes"),zn=Xt("hours"),Hn=Xt("days"),Bn=Xt("months"),Un=Xt("years"),jn=Math.round,Vn={ss:44,s:45,m:45,h:22,d:26,M:11},Gn=Math.abs,Wn=xt.prototype;return Wn.isValid=function(){return this._isValid},Wn.abs=function(){var t=this._data;return this._milliseconds=Sn(this._milliseconds),this._days=Sn(this._days),this._months=Sn(this._months),t.milliseconds=Sn(t.milliseconds),t.seconds=Sn(t.seconds),t.minutes=Sn(t.minutes),t.hours=Sn(t.hours),t.months=Sn(t.months),t.years=Sn(t.years),this},Wn.add=function(t,e){return Vt(this,t,e,1)},Wn.subtract=function(t,e){return Vt(this,t,e,-1)},Wn.as=function(t){if(!this.isValid())return NaN;var e,n,i=this._milliseconds;if("month"===(t=A(t))||"year"===t)return e=this._days+i/864e5,n=this._months+Wt(e),"month"===t?n:n/12;switch(e=this._days+Math.round(Yt(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}},Wn.asMilliseconds=An,Wn.asSeconds=kn,Wn.asMinutes=Dn,Wn.asHours=On,Wn.asDays=Pn,Wn.asWeeks=Nn,Wn.asMonths=Ln,Wn.asYears=In,Wn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*w(this._months/12):NaN},Wn._bubble=function(){var t,e,n,i,o,r=this._milliseconds,a=this._days,s=this._months,l=this._data;return 0<=r&&0<=a&&0<=s||r<=0&&a<=0&&s<=0||(r+=864e5*Gt(Yt(s)+a),s=a=0),l.milliseconds=r%1e3,t=x(r/1e3),l.seconds=t%60,e=x(t/60),l.minutes=e%60,n=x(e/60),l.hours=n%24,a+=x(n/24),o=x(Wt(a)),s+=o,a-=Gt(Yt(o)),i=x(s/12),s%=12,l.days=a,l.months=s,l.years=i,this},Wn.clone=function(){return kt(this)},Wn.get=function(t){return t=A(t),this.isValid()?this[t+"s"]():NaN},Wn.milliseconds=Rn,Wn.seconds=$n,Wn.minutes=Fn,Wn.hours=zn,Wn.days=Hn,Wn.weeks=function(){return x(this.days()/7)},Wn.months=Bn,Wn.years=Un,Wn.humanize=function(t){if(!this.isValid())return this.localeData().invalidDate();var e,n,i,o,r,a,s,l,c,d,u,h=this.localeData(),p=(n=!t,i=h,o=kt(e=this).abs(),r=jn(o.as("s")),a=jn(o.as("m")),s=jn(o.as("h")),l=jn(o.as("d")),c=jn(o.as("M")),d=jn(o.as("y")),(u=r<=Vn.ss&&["s",r]||r<Vn.s&&["ss",r]||a<=1&&["m"]||a<Vn.m&&["mm",a]||s<=1&&["h"]||s<Vn.h&&["hh",s]||l<=1&&["d"]||l<Vn.d&&["dd",l]||c<=1&&["M"]||c<Vn.M&&["MM",c]||d<=1&&["y"]||["yy",d])[2]=n,u[3]=0<+e,u[4]=i,Zt.apply(null,u));return t&&(p=h.pastFuture(+this,p)),h.postformat(p)},Wn.toISOString=Qt,Wn.toString=Qt,Wn.toJSON=Qt,Wn.locale=It,Wn.localeData=Rt,Wn.toIsoString=t("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Qt),Wn.lang=bn,i("X",0,0,"unix"),i("x",0,0,"valueOf"),L("x",Ee),L("X",/[+-]?\d+(\.\d{1,3})?/),$("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),$("x",function(t,e,n){n._d=new Date(w(t))}),g.version="2.19.1",Jt=bt,g.fn=Tn,g.min=function(){return _t("isBefore",[].slice.call(arguments,0))},g.max=function(){return _t("isAfter",[].slice.call(arguments,0))},g.now=function(){return Date.now?Date.now():+new Date},g.utc=h,g.unix=function(t){return bt(1e3*t)},g.months=function(t,e){return Ut(t,e,"months")},g.isDate=a,g.locale=st,g.invalid=f,g.duration=kt,g.isMoment=_,g.weekdays=function(t,e,n){return jt(t,e,n,"weekdays")},g.parseZone=function(){return bt.apply(null,arguments).parseZone()},g.localeData=ct,g.isDuration=wt,g.monthsShort=function(t,e){return Ut(t,e,"monthsShort")},g.weekdaysMin=function(t,e,n){return jt(t,e,n,"weekdaysMin")},g.defineLocale=lt,g.updateLocale=function(t,e){if(null!=e){var n,i=Je;null!=tn[t]&&(i=tn[t]._config),e=o(i,e),(n=new S(e)).parentLocale=tn[t],tn[t]=n,st(t)}else null!=tn[t]&&(null!=tn[t].parentLocale?tn[t]=tn[t].parentLocale:null!=tn[t]&&delete tn[t]);return tn[t]},g.locales=function(){return ee(tn)},g.weekdaysShort=function(t,e,n){return jt(t,e,n,"weekdaysShort")},g.normalizeUnits=A,g.relativeTimeRounding=function(t){return void 0===t?jn:"function"==typeof t&&(jn=t,!0)},g.relativeTimeThreshold=function(t,e){return void 0!==Vn[t]&&(void 0===e?Vn[t]:(Vn[t]=e,"s"===t&&(Vn.ss=e-1),!0))},g.calendarFormat=function(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},g.prototype=Tn,g}()}).call(e,n(155)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){function n(t){throw new Error("Cannot find module '"+t+"'.")}n.keys=function(){return[]},n.resolve=n,(t.exports=n).id=156},function(u,t,e){(function(t){function p(t,e){var n=e||0,i=r;return i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]}function e(t,e,n){var i=e&&n||0;"string"==typeof t&&(e="binary"==t?new Array(16):null,t=null);var o=(t=t||{}).random||(t.rng||a)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e)for(var r=0;r<16;r++)e[i+r]=o[r];return e||p(o)}var a,n="undefined"!=typeof window?window:void 0!==t?t:null;if(n&&n.crypto&&crypto.getRandomValues){var i=new Uint8Array(16);a=function(){return crypto.getRandomValues(i),i}}if(!a){var o=new Array(16);a=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o}}for(var r=[],s={},l=0;l<256;l++)r[l]=(l+256).toString(16).substr(1),s[r[l]]=l;var c=a(),f=[1|c[0],c[1],c[2],c[3],c[4],c[5]],m=16383&(c[6]<<8|c[7]),g=0,v=0,d=e;d.v1=function(t,e,n){var i=e&&n||0,o=e||[],r=void 0!==(t=t||{}).clockseq?t.clockseq:m,a=void 0!==t.msecs?t.msecs:(new Date).getTime(),s=void 0!==t.nsecs?t.nsecs:v+1,l=a-g+(s-v)/1e4;if(l<0&&void 0===t.clockseq&&(r=r+1&16383),(l<0||g<a)&&void 0===t.nsecs&&(s=0),1e4<=s)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");g=a,m=r;var c=(1e4*(268435455&(a+=122192928e5))+(v=s))%4294967296;o[i++]=c>>>24&255,o[i++]=c>>>16&255,o[i++]=c>>>8&255,o[i++]=255&c;var d=a/4294967296*1e4&268435455;o[i++]=d>>>8&255,o[i++]=255&d,o[i++]=d>>>24&15|16,o[i++]=d>>>16&255,o[i++]=r>>>8|128,o[i++]=255&r;for(var u=t.node||f,h=0;h<6;h++)o[i+h]=u[h];return e||p(o)},d.v4=e,d.parse=function(t,e,n){var i=e&&n||0,o=0;for(e=e||[],t.toLowerCase().replace(/[0-9a-f]{2}/g,function(t){o<16&&(e[i+o++]=s[t])});o<16;)e[i+o++]=0;return e},d.unparse=p,u.exports=d}).call(t,e(158))},function(J0i,K0i){var L0i;L0i=function(){return this}();try{L0i=L0i||Function("return this")()||eval("this")}catch(J0i){"object"==typeof window&&(L0i=window)}J0i.exports=L0i},function(t,e,n){e.util=n(2),e.DOMutil=n(14),e.DataSet=n(11),e.DataView=n(12),e.Queue=n(43),e.Graph3d=n(161),e.graph3d={Camera:n(95),Filter:n(96),Point2d:n(91),Point3d:n(34),Slider:n(92),StepNumber:n(93)},e.moment=n(9),e.Hammer=n(10),e.keycharm=n(35)},function(t,e,n){var i=n(7),o=i.JSON||(i.JSON={stringify:JSON.stringify});t.exports=function(t){return o.stringify.apply(o,arguments)}},function(t,e,n){function _(t,e,n){if(!(this instanceof _))throw new SyntaxError("Constructor must be called with the new operator");this.containerElement=t,this.dataGroup=new m,this.dataPoints=null,this.create(),s.setDefaults(_.DEFAULTS,this),this.colX=void 0,this.colY=void 0,this.colZ=void 0,this.colValue=void 0,this.setOptions(n),this.setData(e)}function u(t){return"clientX"in t?t.clientX:t.targetTouches[0]&&t.targetTouches[0].clientX||0}function h(t){return"clientY"in t?t.clientY:t.targetTouches[0]&&t.targetTouches[0].clientY||0}var i,o=n(90),d=(i=o)&&i.__esModule?i:{default:i},r=n(44),p=n(2),N=n(34),L=n(91),a=n(92),I=n(93),s=n(94),l=n(15).default,c=n(15).printStyle,f=n(172).allOptions,m=n(173);_.STYLE=s.STYLE,_.DEFAULTS={width:"400px",height:"400px",filterLabel:"time",legendLabel:"value",xLabel:"x",yLabel:"y",zLabel:"z",xValueLabel:function(t){return t},yValueLabel:function(t){return t},zValueLabel:function(t){return t},showXAxis:!0,showYAxis:!0,showZAxis:!0,showGrid:!0,showPerspective:!0,showShadow:!1,keepAspectRatio:!0,verticalRatio:.5,dotSizeRatio:.02,dotSizeMinFraction:.5,dotSizeMaxFraction:2.5,showAnimationControls:void 0,animationInterval:1e3,animationPreload:!1,animationAutoStart:void 0,axisColor:"#4D4D4D",gridColor:"#D3D3D3",xCenter:"55%",yCenter:"50%",style:_.STYLE.DOT,tooltip:!1,tooltipStyle:{content:{padding:"10px",border:"1px solid #4d4d4d",color:"#1a1a1a",background:"rgba(255,255,255,0.7)",borderRadius:"2px",boxShadow:"5px 5px 10px rgba(128,128,128,0.5)"},line:{height:"40px",width:"0",borderLeft:"1px solid #4d4d4d"},dot:{height:"0",width:"0",border:"5px solid #4d4d4d",borderRadius:"5px"}},dataColor:{fill:"#7DC1FF",stroke:"#3267D2",strokeWidth:1},cameraPosition:{horizontal:1,vertical:.5,distance:1.7},showLegend:void 0,backgroundColor:void 0,xBarWidth:void 0,yBarWidth:void 0,valueMin:void 0,valueMax:void 0,xMin:void 0,xMax:void 0,xStep:void 0,yMin:void 0,yMax:void 0,yStep:void 0,zMin:void 0,zMax:void 0,zStep:void 0},r(_.prototype),_.prototype._setScale=function(){this.scale=new N(1/this.xRange.range(),1/this.yRange.range(),1/this.zRange.range()),this.keepAspectRatio&&(this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y),this.scale.z*=this.verticalRatio,void 0!==this.valueRange&&(this.scale.value=1/this.valueRange.range());var t=this.xRange.center()*this.scale.x,e=this.yRange.center()*this.scale.y,n=this.zRange.center()*this.scale.z;this.camera.setArmLocation(t,e,n)},_.prototype._convert3Dto2D=function(t){var e=this._convertPointToTranslation(t);return this._convertTranslationToScreen(e)},_.prototype._convertPointToTranslation=function(t){var e=this.camera.getCameraLocation(),n=this.camera.getCameraRotation(),i=t.x*this.scale.x,o=t.y*this.scale.y,r=t.z*this.scale.z,a=e.x,s=e.y,l=e.z,c=Math.sin(n.x),d=Math.cos(n.x),u=Math.sin(n.y),h=Math.cos(n.y),p=Math.sin(n.z),f=Math.cos(n.z);return new N(h*(p*(o-s)+f*(i-a))-u*(r-l),c*(h*(r-l)+u*(p*(o-s)+f*(i-a)))+d*(f*(o-s)-p*(i-a)),d*(h*(r-l)+u*(p*(o-s)+f*(i-a)))-c*(f*(o-s)-p*(i-a)))},_.prototype._convertTranslationToScreen=function(t){var e,n,i=this.eye.x,o=this.eye.y,r=this.eye.z,a=t.x,s=t.y,l=t.z;return n=this.showPerspective?(e=r/l*(a-i),r/l*(s-o)):(e=a*(-r/this.camera.getArmLength()),s*(-r/this.camera.getArmLength())),new L(this.currentXCenter+e*this.frame.canvas.clientWidth,this.currentYCenter-n*this.frame.canvas.clientWidth)},_.prototype._calcTranslations=function(t){for(var e=0;e<t.length;e++){var n=t[e];n.trans=this._convertPointToTranslation(n.point),n.screen=this._convertTranslationToScreen(n.trans);var i=this._convertPointToTranslation(n.bottom);n.dist=this.showPerspective?i.length():-i.z}t.sort(function(t,e){return e.dist-t.dist})},_.prototype._initializeRanges=function(){var t=this.dataGroup;this.xRange=t.xRange,this.yRange=t.yRange,this.zRange=t.zRange,this.valueRange=t.valueRange,this.xStep=t.xStep,this.yStep=t.yStep,this.zStep=t.zStep,this.xBarWidth=t.xBarWidth,this.yBarWidth=t.yBarWidth,this.colX=t.colX,this.colY=t.colY,this.colZ=t.colZ,this.colValue=t.colValue,this._setScale()},_.prototype.getDataPoints=function(t){for(var e=[],n=0;n<t.length;n++){var i=new N;i.x=t[n][this.colX]||0,i.y=t[n][this.colY]||0,i.z=t[n][this.colZ]||0,i.data=t[n],void 0!==this.colValue&&(i.value=t[n][this.colValue]||0);var o={};o.point=i,o.bottom=new N(i.x,i.y,this.zRange.min),o.trans=void 0,o.screen=void 0,e.push(o)}return e},_.prototype._getDataPoints=function(t){var e,n,i,o,r=[];if(this.style===_.STYLE.GRID||this.style===_.STYLE.SURFACE){var a=this.dataGroup.getDistinctValues(this.colX,t),s=this.dataGroup.getDistinctValues(this.colY,t);r=this.getDataPoints(t);var l=[];for(i=0;i<r.length;i++){o=r[i];var c=a.indexOf(o.point.x),d=s.indexOf(o.point.y);void 0===l[c]&&(l[c]=[]),l[c][d]=o}for(e=0;e<l.length;e++)for(n=0;n<l[e].length;n++)l[e][n]&&(l[e][n].pointRight=e<l.length-1?l[e+1][n]:void 0,l[e][n].pointTop=n<l[e].length-1?l[e][n+1]:void 0,l[e][n].pointCross=e<l.length-1&&n<l[e].length-1?l[e+1][n+1]:void 0)}else if(this._checkValueField(t),r=this.getDataPoints(t),this.style===_.STYLE.LINE)for(i=0;i<r.length;i++)0<i&&(r[i-1].pointNext=r[i]);return r},_.prototype.create=function(){for(;this.containerElement.hasChildNodes();)this.containerElement.removeChild(this.containerElement.firstChild);this.frame=document.createElement("div"),this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas);var t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(t),this.frame.filter=document.createElement("div"),this.frame.filter.style.position="absolute",this.frame.filter.style.bottom="0px",this.frame.filter.style.left="0px",this.frame.filter.style.width="100%",this.frame.appendChild(this.frame.filter);var e=this;p.addEventListener(this.frame.canvas,"mousedown",function(t){e._onMouseDown(t)}),p.addEventListener(this.frame.canvas,"touchstart",function(t){e._onTouchStart(t)}),p.addEventListener(this.frame.canvas,"mousewheel",function(t){e._onWheel(t)}),p.addEventListener(this.frame.canvas,"mousemove",function(t){e._onTooltip(t)}),p.addEventListener(this.frame.canvas,"click",function(t){e._onClick(t)}),this.containerElement.appendChild(this.frame)},_.prototype._setSize=function(t,e){this.frame.style.width=t,this.frame.style.height=e,this._resizeCanvas()},_.prototype._resizeCanvas=function(){this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=this.frame.canvas.clientWidth,this.frame.canvas.height=this.frame.canvas.clientHeight,this.frame.filter.style.width=this.frame.canvas.clientWidth-20+"px"},_.prototype.animationStart=function(){if(this.animationAutoStart&&this.dataGroup.dataFilter){if(!this.frame.filter||!this.frame.filter.slider)throw new Error("No animation available");this.frame.filter.slider.play()}},_.prototype.animationStop=function(){this.frame.filter&&this.frame.filter.slider&&this.frame.filter.slider.stop()},_.prototype._resizeCenter=function(){"%"===this.xCenter.charAt(this.xCenter.length-1)?this.currentXCenter=parseFloat(this.xCenter)/100*this.frame.canvas.clientWidth:this.currentXCenter=parseFloat(this.xCenter),"%"===this.yCenter.charAt(this.yCenter.length-1)?this.currentYCenter=parseFloat(this.yCenter)/100*(this.frame.canvas.clientHeight-this.frame.filter.clientHeight):this.currentYCenter=parseFloat(this.yCenter)},_.prototype.getCameraPosition=function(){var t=this.camera.getArmRotation();return t.distance=this.camera.getArmLength(),t},_.prototype._readData=function(t){this.dataPoints=this.dataGroup.initializeData(this,t,this.style),this._initializeRanges(),this._redrawFilter()},_.prototype.setData=function(t){null!=t&&(this._readData(t),this.redraw(),this.animationStart())},_.prototype.setOptions=function(t){void 0!==t&&(!0===l.validate(t,f)&&console.log("%cErrors have been found in the supplied options object.",c),this.animationStop(),s.setOptions(t,this),this.setPointDrawingMethod(),this._setSize(this.width,this.height),this.setData(this.dataGroup.getDataTable()),this.animationStart())},_.prototype.setPointDrawingMethod=function(){var t=void 0;switch(this.style){case _.STYLE.BAR:t=_.prototype._redrawBarGraphPoint;break;case _.STYLE.BARCOLOR:t=_.prototype._redrawBarColorGraphPoint;break;case _.STYLE.BARSIZE:t=_.prototype._redrawBarSizeGraphPoint;break;case _.STYLE.DOT:t=_.prototype._redrawDotGraphPoint;break;case _.STYLE.DOTLINE:t=_.prototype._redrawDotLineGraphPoint;break;case _.STYLE.DOTCOLOR:t=_.prototype._redrawDotColorGraphPoint;break;case _.STYLE.DOTSIZE:t=_.prototype._redrawDotSizeGraphPoint;break;case _.STYLE.SURFACE:t=_.prototype._redrawSurfaceGraphPoint;break;case _.STYLE.GRID:t=_.prototype._redrawGridGraphPoint;break;case _.STYLE.LINE:t=_.prototype._redrawLineGraphPoint;break;default:throw new Error("Can not determine point drawing method for graph style '"+this.style+"'")}this._pointDrawingMethod=t},_.prototype.redraw=function(){if(void 0===this.dataPoints)throw new Error("Graph data not initialized");this._resizeCanvas(),this._resizeCenter(),this._redrawSlider(),this._redrawClear(),this._redrawAxis(),this._redrawDataGraph(),this._redrawInfo(),this._redrawLegend()},_.prototype._getContext=function(){var t=this.frame.canvas.getContext("2d");return t.lineJoin="round",t.lineCap="round",t},_.prototype._redrawClear=function(){var t=this.frame.canvas;t.getContext("2d").clearRect(0,0,t.width,t.height)},_.prototype._dotSize=function(){return this.frame.clientWidth*this.dotSizeRatio},_.prototype._getLegendWidth=function(){return this.style===_.STYLE.DOTSIZE?this._dotSize()*this.dotSizeMaxFraction:this.style===_.STYLE.BARSIZE?this.xBarWidth:20},_.prototype._redrawLegend=function(){if(!0===this.showLegend&&this.style!==_.STYLE.LINE&&this.style!==_.STYLE.BARSIZE){var t=this.style===_.STYLE.BARSIZE||this.style===_.STYLE.DOTSIZE,e=this.style===_.STYLE.DOTSIZE||this.style===_.STYLE.DOTCOLOR||this.style===_.STYLE.BARCOLOR,n=Math.max(.25*this.frame.clientHeight,100),i=this.margin,o=this._getLegendWidth(),r=this.frame.clientWidth-this.margin,a=r-o,s=i+n,l=this._getContext();if(l.lineWidth=1,!(l.font="14px arial")===t){var c,d=n;for(c=0;c<d;c++){var u=240*((c-0)/(d-0)),h=this._hsv2rgb(u,1,1);l.strokeStyle=h,l.beginPath(),l.moveTo(a,i+c),l.lineTo(r,i+c),l.stroke()}l.strokeStyle=this.axisColor,l.strokeRect(a,i,o,n)}else{var p;this.style===_.STYLE.DOTSIZE?p=o*(this.dotSizeMinFraction/this.dotSizeMaxFraction):(this.style,_.STYLE.BARSIZE),l.strokeStyle=this.axisColor,l.fillStyle=this.dataColor.fill,l.beginPath(),l.moveTo(a,i),l.lineTo(r,i),l.lineTo(a+p,s),l.lineTo(a,s),l.closePath(),l.fill(),l.stroke()}var f,m,g=e?this.valueRange.min:this.zRange.min,v=e?this.valueRange.max:this.zRange.max,y=new I(g,v,(v-g)/5,!0);for(y.start(!0);!y.end();)c=s-(y.getCurrent()-g)/(v-g)*n,f=new L(a-5,c),m=new L(a,c),this._line(l,f,m),l.textAlign="right",l.textBaseline="middle",l.fillStyle=this.axisColor,l.fillText(y.getCurrent(),a-10,c),y.next();l.textAlign="right",l.textBaseline="top";var b=this.legendLabel;l.fillText(b,r,s+this.margin)}},_.prototype._redrawFilter=function(){var t=this.dataGroup.dataFilter,e=this.frame.filter;if(e.innerHTML="",t){var n={visible:this.showAnimationControls},i=new a(e,n);e.slider=i,e.style.padding="10px",i.setValues(t.values),i.setPlayInterval(this.animationInterval);var o=this;i.setOnChangeCallback(function(){var t=o.dataGroup.dataFilter,e=i.getIndex();t.selectValue(e),o.dataPoints=t._getDataPoints(),o.redraw()})}else e.slider=void 0},_.prototype._redrawSlider=function(){void 0!==this.frame.filter.slider&&this.frame.filter.slider.redraw()},_.prototype._redrawInfo=function(){var t=this.dataGroup.getInfo();if(void 0!==t){var e=this._getContext();e.font="14px arial",e.lineStyle="gray",e.fillStyle="gray",e.textAlign="left",e.textBaseline="top";var n=this.margin,i=this.margin;e.fillText(t,n,i)}},_.prototype._line=function(t,e,n,i){void 0!==i&&(t.strokeStyle=i),t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.stroke()},_.prototype.drawAxisLabelX=function(t,e,n,i,o){void 0===o&&(o=0);var r=this._convert3Dto2D(e);0<Math.cos(2*i)?(t.textAlign="center",t.textBaseline="top",r.y+=o):(Math.sin(2*i)<0?t.textAlign="right":t.textAlign="left",t.textBaseline="middle"),t.fillStyle=this.axisColor,t.fillText(n,r.x,r.y)},_.prototype.drawAxisLabelY=function(t,e,n,i,o){void 0===o&&(o=0);var r=this._convert3Dto2D(e);Math.cos(2*i)<0?(t.textAlign="center",t.textBaseline="top",r.y+=o):(0<Math.sin(2*i)?t.textAlign="right":t.textAlign="left",t.textBaseline="middle"),t.fillStyle=this.axisColor,t.fillText(n,r.x,r.y)},_.prototype.drawAxisLabelZ=function(t,e,n,i){void 0===i&&(i=0);var o=this._convert3Dto2D(e);t.textAlign="right",t.textBaseline="middle",t.fillStyle=this.axisColor,t.fillText(n,o.x-i,o.y)},_.prototype._line3d=function(t,e,n,i){var o=this._convert3Dto2D(e),r=this._convert3Dto2D(n);this._line(t,o,r,i)},_.prototype._redrawAxis=function(){var t,e,n,i,o,r,a,s,l,c,d=this._getContext();d.font=24/this.camera.getArmLength()+"px arial";var u,h,p,f=.025/this.scale.x,m=.025/this.scale.y,g=5/this.camera.getArmLength(),v=this.camera.getArmRotation().horizontal,y=new L(Math.cos(v),Math.sin(v)),b=this.xRange,_=this.yRange,x=this.zRange;for(d.lineWidth=1,i=void 0===this.defaultXStep,(n=new I(b.min,b.max,this.xStep,i)).start(!0);!n.end();){var w=n.getCurrent();if(this.showGrid?(t=new N(w,_.min,x.min),e=new N(w,_.max,x.min),this._line3d(d,t,e,this.gridColor)):this.showXAxis&&(t=new N(w,_.min,x.min),e=new N(w,_.min+f,x.min),this._line3d(d,t,e,this.axisColor),t=new N(w,_.max,x.min),e=new N(w,_.max-f,x.min),this._line3d(d,t,e,this.axisColor)),this.showXAxis){a=0<y.x?_.min:_.max,u=new N(w,a,x.min);var E="  "+this.xValueLabel(w)+"  ";this.drawAxisLabelX(d,u,E,v,g)}n.next()}for(d.lineWidth=1,i=void 0===this.defaultYStep,(n=new I(_.min,_.max,this.yStep,i)).start(!0);!n.end();){var M=n.getCurrent();if(this.showGrid?(t=new N(b.min,M,x.min),e=new N(b.max,M,x.min),this._line3d(d,t,e,this.gridColor)):this.showYAxis&&(t=new N(b.min,M,x.min),e=new N(b.min+m,M,x.min),this._line3d(d,t,e,this.axisColor),t=new N(b.max,M,x.min),e=new N(b.max-m,M,x.min),this._line3d(d,t,e,this.axisColor)),this.showYAxis){r=0<y.y?b.min:b.max,u=new N(r,M,x.min);var T="  "+this.yValueLabel(M)+"  ";this.drawAxisLabelY(d,u,T,v,g)}n.next()}if(this.showZAxis){for(d.lineWidth=1,i=void 0===this.defaultZStep,(n=new I(x.min,x.max,this.zStep,i)).start(!0),r=0<y.x?b.min:b.max,a=y.y<0?_.min:_.max;!n.end();){var C=n.getCurrent(),S=new N(r,a,C),A=this._convert3Dto2D(S);e=new L(A.x-g,A.y),this._line(d,A,e,this.axisColor);var k=this.zValueLabel(C)+" ";this.drawAxisLabelZ(d,S,k,5),n.next()}d.lineWidth=1,t=new N(r,a,x.min),e=new N(r,a,x.max),this._line3d(d,t,e,this.axisColor)}this.showXAxis&&(d.lineWidth=1,h=new N(b.min,_.min,x.min),p=new N(b.max,_.min,x.min),this._line3d(d,h,p,this.axisColor),h=new N(b.min,_.max,x.min),p=new N(b.max,_.max,x.min),this._line3d(d,h,p,this.axisColor));this.showYAxis&&(d.lineWidth=1,t=new N(b.min,_.min,x.min),e=new N(b.min,_.max,x.min),this._line3d(d,t,e,this.axisColor),t=new N(b.max,_.min,x.min),e=new N(b.max,_.max,x.min),this._line3d(d,t,e,this.axisColor));var D=this.xLabel;0<D.length&&this.showXAxis&&(c=.1/this.scale.y,r=(b.max+3*b.min)/4,a=0<y.x?_.min-c:_.max+c,o=new N(r,a,x.min),this.drawAxisLabelX(d,o,D,v));var O=this.yLabel;0<O.length&&this.showYAxis&&(l=.1/this.scale.x,r=0<y.y?b.min-l:b.max+l,a=(_.max+3*_.min)/4,o=new N(r,a,x.min),this.drawAxisLabelY(d,o,O,v));var P=this.zLabel;0<P.length&&this.showZAxis&&(30,r=0<y.x?b.min:b.max,a=y.y<0?_.min:_.max,s=(x.max+3*x.min)/4,o=new N(r,a,s),this.drawAxisLabelZ(d,o,P,30))},_.prototype._hsv2rgb=function(t,e,n){var i,o,r,a,s,l;switch(a=n*e,s=Math.floor(t/60),l=a*(1-Math.abs(t/60%2-1)),s){case 0:i=a,o=l,r=0;break;case 1:i=l,o=a,r=0;break;case 2:i=0,o=a,r=l;break;case 3:i=0,o=l,r=a;break;case 4:i=l,o=0,r=a;break;case 5:i=a,o=0,r=l;break;default:r=o=i=0}return"RGB("+parseInt(255*i)+","+parseInt(255*o)+","+parseInt(255*r)+")"},_.prototype._getStrokeWidth=function(t){return void 0!==t?this.showPerspective?1/-t.trans.z*this.dataColor.strokeWidth:-this.eye.z/this.camera.getArmLength()*this.dataColor.strokeWidth:this.dataColor.strokeWidth},_.prototype._redrawBar=function(t,e,n,i,o,r){var a,s=this,l=e.point,c=this.zRange.min,d=[{point:new N(l.x-n,l.y-i,l.z)},{point:new N(l.x+n,l.y-i,l.z)},{point:new N(l.x+n,l.y+i,l.z)},{point:new N(l.x-n,l.y+i,l.z)}],u=[{point:new N(l.x-n,l.y-i,c)},{point:new N(l.x+n,l.y-i,c)},{point:new N(l.x+n,l.y+i,c)},{point:new N(l.x-n,l.y+i,c)}];d.forEach(function(t){t.screen=s._convert3Dto2D(t.point)}),u.forEach(function(t){t.screen=s._convert3Dto2D(t.point)});var h=[{corners:d,center:N.avg(u[0].point,u[2].point)},{corners:[d[0],d[1],u[1],u[0]],center:N.avg(u[1].point,u[0].point)},{corners:[d[1],d[2],u[2],u[1]],center:N.avg(u[2].point,u[1].point)},{corners:[d[2],d[3],u[3],u[2]],center:N.avg(u[3].point,u[2].point)},{corners:[d[3],d[0],u[0],u[3]],center:N.avg(u[0].point,u[3].point)}];e.surfaces=h;for(var p=0;p<h.length;p++){a=h[p];var f=this._convertPointToTranslation(a.center);a.dist=this.showPerspective?f.length():-f.z}h.sort(function(t,e){return e.dist-t.dist||(t.corners===d?1:e.corners===d?-1:0)}),t.lineWidth=this._getStrokeWidth(e),t.strokeStyle=r,t.fillStyle=o;for(var m=2;m<h.length;m++)a=h[m],this._polygon(t,a.corners)},_.prototype._polygon=function(t,e,n,i){if(!(e.length<2)){void 0!==n&&(t.fillStyle=n),void 0!==i&&(t.strokeStyle=i),t.beginPath(),t.moveTo(e[0].screen.x,e[0].screen.y);for(var o=1;o<e.length;++o){var r=e[o];t.lineTo(r.screen.x,r.screen.y)}t.closePath(),t.fill(),t.stroke()}},_.prototype._drawCircle=function(t,e,n,i,o){var r=this._calcRadius(e,o);t.lineWidth=this._getStrokeWidth(e),t.strokeStyle=i,t.fillStyle=n,t.beginPath(),t.arc(e.screen.x,e.screen.y,r,0,2*Math.PI,!0),t.fill(),t.stroke()},_.prototype._getColorsRegular=function(t){var e=240*(1-(t.point.z-this.zRange.min)*this.scale.z/this.verticalRatio);return{fill:this._hsv2rgb(e,1,1),border:this._hsv2rgb(e,1,.8)}},_.prototype._getColorsColor=function(t){var e,n;if("string"==typeof t.point.value)e=t.point.value,n=t.point.value;else{var i=240*(1-(t.point.value-this.valueRange.min)*this.scale.value);e=this._hsv2rgb(i,1,1),n=this._hsv2rgb(i,1,.8)}return{fill:e,border:n}},_.prototype._getColorsSize=function(){return{fill:this.dataColor.fill,border:this.dataColor.stroke}},_.prototype._calcRadius=function(t,e){var n;return void 0===e&&(e=this._dotSize()),(n=this.showPerspective?e/-t.trans.z:e*(-this.eye.z/this.camera.getArmLength()))<0&&(n=0),n},_.prototype._redrawBarGraphPoint=function(t,e){var n=this.xBarWidth/2,i=this.yBarWidth/2,o=this._getColorsRegular(e);this._redrawBar(t,e,n,i,o.fill,o.border)},_.prototype._redrawBarColorGraphPoint=function(t,e){var n=this.xBarWidth/2,i=this.yBarWidth/2,o=this._getColorsColor(e);this._redrawBar(t,e,n,i,o.fill,o.border)},_.prototype._redrawBarSizeGraphPoint=function(t,e){var n=(e.point.value-this.valueRange.min)/this.valueRange.range(),i=this.xBarWidth/2*(.8*n+.2),o=this.yBarWidth/2*(.8*n+.2),r=this._getColorsSize();this._redrawBar(t,e,i,o,r.fill,r.border)},_.prototype._redrawDotGraphPoint=function(t,e){var n=this._getColorsRegular(e);this._drawCircle(t,e,n.fill,n.border)},_.prototype._redrawDotLineGraphPoint=function(t,e){var n=this._convert3Dto2D(e.bottom);t.lineWidth=1,this._line(t,n,e.screen,this.gridColor),this._redrawDotGraphPoint(t,e)},_.prototype._redrawDotColorGraphPoint=function(t,e){var n=this._getColorsColor(e);this._drawCircle(t,e,n.fill,n.border)},_.prototype._redrawDotSizeGraphPoint=function(t,e){var n=this._dotSize(),i=(e.point.value-this.valueRange.min)/this.valueRange.range(),o=n*this.dotSizeMinFraction,r=o+(n*this.dotSizeMaxFraction-o)*i,a=this._getColorsSize();this._drawCircle(t,e,a.fill,a.border,r)},_.prototype._redrawSurfaceGraphPoint=function(t,e){var n=e.pointRight,i=e.pointTop,o=e.pointCross;if(void 0!==e&&void 0!==n&&void 0!==i&&void 0!==o){var r,a,s=!0;if(this.showGrayBottom||this.showShadow){var l=N.subtract(o.trans,e.trans),c=N.subtract(i.trans,n.trans),d=N.crossProduct(l,c),u=d.length();s=0<d.z}if(s){var h,p=240*(1-((e.point.z+n.point.z+i.point.z+o.point.z)/4-this.zRange.min)*this.scale.z/this.verticalRatio);a=this.showShadow?(h=Math.min(1+d.x/u/2,1),r=this._hsv2rgb(p,1,h)):(h=1,r=this._hsv2rgb(p,1,h),this.axisColor)}else r="gray",a=this.axisColor;t.lineWidth=this._getStrokeWidth(e);var f=[e,n,o,i];this._polygon(t,f,r,a)}},_.prototype._drawGridLine=function(t,e,n){if(void 0!==e&&void 0!==n){var i=240*(1-((e.point.z+n.point.z)/2-this.zRange.min)*this.scale.z/this.verticalRatio);t.lineWidth=2*this._getStrokeWidth(e),t.strokeStyle=this._hsv2rgb(i,1,1),this._line(t,e.screen,n.screen)}},_.prototype._redrawGridGraphPoint=function(t,e){this._drawGridLine(t,e,e.pointRight),this._drawGridLine(t,e,e.pointTop)},_.prototype._redrawLineGraphPoint=function(t,e){void 0!==e.pointNext&&(t.lineWidth=this._getStrokeWidth(e),t.strokeStyle=this.dataColor.stroke,this._line(t,e.screen,e.pointNext.screen))},_.prototype._redrawDataGraph=function(){var t,e=this._getContext();if(!(void 0===this.dataPoints||this.dataPoints.length<=0))for(this._calcTranslations(this.dataPoints),t=0;t<this.dataPoints.length;t++){var n=this.dataPoints[t];this._pointDrawingMethod.call(this,e,n)}},_.prototype._storeMousePosition=function(t){this.startMouseX=u(t),this.startMouseY=h(t),this._startCameraOffset=this.camera.getOffset()},_.prototype._onMouseDown=function(t){if(t=t||window.event,this.leftButtonDown&&this._onMouseUp(t),this.leftButtonDown=t.which?1===t.which:1===t.button,this.leftButtonDown||this.touchDown){this._storeMousePosition(t),this.startStart=new Date(this.start),this.startEnd=new Date(this.end),this.startArmRotation=this.camera.getArmRotation(),this.frame.style.cursor="move";var e=this;this.onmousemove=function(t){e._onMouseMove(t)},this.onmouseup=function(t){e._onMouseUp(t)},p.addEventListener(document,"mousemove",e.onmousemove),p.addEventListener(document,"mouseup",e.onmouseup),p.preventDefault(t)}},_.prototype._onMouseMove=function(t){this.moving=!0,t=t||window.event;var e=parseFloat(u(t))-this.startMouseX,n=parseFloat(h(t))-this.startMouseY;if(t&&!0===t.ctrlKey){var i=.5*this.frame.clientWidth,o=.5*this.frame.clientHeight,r=(this._startCameraOffset.x||0)-e/i*this.camera.armLength*.8,a=(this._startCameraOffset.y||0)+n/o*this.camera.armLength*.8;this.camera.setOffset(r,a),this._storeMousePosition(t)}else{var s=this.startArmRotation.horizontal+e/200,l=this.startArmRotation.vertical+n/200,c=Math.sin(4/360*2*Math.PI);Math.abs(Math.sin(s))<c&&(s=Math.round(s/Math.PI)*Math.PI-.001),Math.abs(Math.cos(s))<c&&(s=(Math.round(s/Math.PI-.5)+.5)*Math.PI-.001),Math.abs(Math.sin(l))<c&&(l=Math.round(l/Math.PI)*Math.PI),Math.abs(Math.cos(l))<c&&(l=(Math.round(l/Math.PI-.5)+.5)*Math.PI),this.camera.setArmRotation(s,l)}this.redraw();var d=this.getCameraPosition();this.emit("cameraPositionChange",d),p.preventDefault(t)},_.prototype._onMouseUp=function(t){this.frame.style.cursor="auto",this.leftButtonDown=!1,p.removeEventListener(document,"mousemove",this.onmousemove),p.removeEventListener(document,"mouseup",this.onmouseup),p.preventDefault(t)},_.prototype._onClick=function(t){if(this.onclick_callback){if(this.moving)this.moving=!1;else{var e=this.frame.getBoundingClientRect(),n=u(t)-e.left,i=h(t)-e.top,o=this._dataPointFromXY(n,i);o&&this.onclick_callback(o.point.data)}p.preventDefault(t)}},_.prototype._onTooltip=function(t){var e=this.frame.getBoundingClientRect(),n=u(t)-e.left,i=h(t)-e.top;if(this.showTooltip){if(this.tooltipTimeout&&clearTimeout(this.tooltipTimeout),this.leftButtonDown)return void this._hideTooltip();if(this.tooltip&&this.tooltip.dataPoint){var o=this._dataPointFromXY(n,i);o!==this.tooltip.dataPoint&&(o?this._showTooltip(o):this._hideTooltip())}else{var r=this;this.tooltipTimeout=setTimeout(function(){r.tooltipTimeout=null;var t=r._dataPointFromXY(n,i);t&&r._showTooltip(t)},300)}}},_.prototype._onTouchStart=function(t){this.touchDown=!0;var e=this;this.ontouchmove=function(t){e._onTouchMove(t)},this.ontouchend=function(t){e._onTouchEnd(t)},p.addEventListener(document,"touchmove",e.ontouchmove),p.addEventListener(document,"touchend",e.ontouchend),this._onMouseDown(t)},_.prototype._onTouchMove=function(t){this._onMouseMove(t)},_.prototype._onTouchEnd=function(t){this.touchDown=!1,p.removeEventListener(document,"touchmove",this.ontouchmove),p.removeEventListener(document,"touchend",this.ontouchend),this._onMouseUp(t)},_.prototype._onWheel=function(t){t||(t=window.event);var e=0;if(t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),e){var n=this.camera.getArmLength()*(1-e/10);this.camera.setArmLength(n),this.redraw(),this._hideTooltip()}var i=this.getCameraPosition();this.emit("cameraPositionChange",i),p.preventDefault(t)},_.prototype._insideTriangle=function(t,e){function n(t){return 0<t?1:t<0?-1:0}var i=e[0],o=e[1],r=e[2],a=n((o.x-i.x)*(t.y-i.y)-(o.y-i.y)*(t.x-i.x)),s=n((r.x-o.x)*(t.y-o.y)-(r.y-o.y)*(t.x-o.x)),l=n((i.x-r.x)*(t.y-r.y)-(i.y-r.y)*(t.x-r.x));return!(0!=a&&0!=s&&a!=s||0!=s&&0!=l&&s!=l||0!=a&&0!=l&&a!=l)},_.prototype._dataPointFromXY=function(t,e){var n,i=null,o=null,r=null,a=new L(t,e);if(this.style===_.STYLE.BAR||this.style===_.STYLE.BARCOLOR||this.style===_.STYLE.BARSIZE)for(n=this.dataPoints.length-1;0<=n;n--){var s=(i=this.dataPoints[n]).surfaces;if(s)for(var l=s.length-1;0<=l;l--){var c=s[l].corners,d=[c[0].screen,c[1].screen,c[2].screen],u=[c[2].screen,c[3].screen,c[0].screen];if(this._insideTriangle(a,d)||this._insideTriangle(a,u))return i}}else for(n=0;n<this.dataPoints.length;n++){var h=(i=this.dataPoints[n]).screen;if(h){var p=Math.abs(t-h.x),f=Math.abs(e-h.y),m=Math.sqrt(p*p+f*f);(null===r||m<r)&&m<100&&(r=m,o=i)}}return o},_.prototype.hasBars=function(t){return t==_.STYLE.BAR||t==_.STYLE.BARCOLOR||t==_.STYLE.BARSIZE},_.prototype._showTooltip=function(t){var e,n,i;this.tooltip?(e=this.tooltip.dom.content,n=this.tooltip.dom.line,i=this.tooltip.dom.dot):(e=document.createElement("div"),(0,d.default)(e.style,{},this.tooltipStyle.content),e.style.position="absolute",n=document.createElement("div"),(0,d.default)(n.style,{},this.tooltipStyle.line),n.style.position="absolute",i=document.createElement("div"),(0,d.default)(i.style,{},this.tooltipStyle.dot),i.style.position="absolute",this.tooltip={dataPoint:null,dom:{content:e,line:n,dot:i}}),this._hideTooltip(),this.tooltip.dataPoint=t,"function"==typeof this.showTooltip?e.innerHTML=this.showTooltip(t.point):e.innerHTML="<table><tr><td>"+this.xLabel+":</td><td>"+t.point.x+"</td></tr><tr><td>"+this.yLabel+":</td><td>"+t.point.y+"</td></tr><tr><td>"+this.zLabel+":</td><td>"+t.point.z+"</td></tr></table>",e.style.left="0",e.style.top="0",this.frame.appendChild(e),this.frame.appendChild(n),this.frame.appendChild(i);var o=e.offsetWidth,r=e.offsetHeight,a=n.offsetHeight,s=i.offsetWidth,l=i.offsetHeight,c=t.screen.x-o/2;c=Math.min(Math.max(c,10),this.frame.clientWidth-10-o),n.style.left=t.screen.x+"px",n.style.top=t.screen.y-a+"px",e.style.left=c+"px",e.style.top=t.screen.y-a-r+"px",i.style.left=t.screen.x-s/2+"px",i.style.top=t.screen.y-l/2+"px"},_.prototype._hideTooltip=function(){if(this.tooltip)for(var t in this.tooltip.dataPoint=null,this.tooltip.dom)if(this.tooltip.dom.hasOwnProperty(t)){var e=this.tooltip.dom[t];e&&e.parentNode&&e.parentNode.removeChild(e)}},_.prototype.setCameraPosition=function(t){s.setCameraPosition(t,this),this.redraw()},_.prototype.setSize=function(t,e){this._setSize(t,e),this.redraw()},t.exports=_},function(t,e,n){n(163),t.exports=n(7).Object.assign},function(t,e,n){var i=n(17);i(i.S+i.F,"Object",{assign:n(164)})},function(t,e,n){var h=n(33),p=n(63),f=n(42),m=n(41),g=n(78),o=Object.assign;t.exports=!o||n(28)(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=o({},t)[n]||Object.keys(o({},e)).join("")!=i})?function(t,e){for(var n=m(t),i=arguments.length,o=1,r=p.f,a=f.f;o<i;)for(var s,l=g(arguments[o++]),c=r?h(l).concat(r(l)):h(l),d=c.length,u=0;u<d;)a.call(l,s=c[u++])&&(n[s]=l[s]);return n}:o},function(t,e,n){t.exports={default:n(166),__esModule:!0}},function(t,e,n){n(167),t.exports=n(7).Math.sign},function(t,e,n){var i=n(17);i(i.S,"Math",{sign:n(168)})},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e,n){t.exports={default:n(170),__esModule:!0}},function(t,e,n){n(171);var i=n(7).Object;t.exports=function(t,e,n){return i.defineProperty(t,e,n)}},function(t,e,n){var i=n(17);i(i.S+i.F*!n(21),"Object",{defineProperty:n(20).f})},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i="string",o="boolean",r="number",a={fill:{string:i},stroke:{string:i},strokeWidth:{number:r},__type__:{string:i,object:"object",undefined:"undefined"}},s={animationAutoStart:{boolean:o,undefined:"undefined"},animationInterval:{number:r},animationPreload:{boolean:o},axisColor:{string:i},backgroundColor:a,xBarWidth:{number:r,undefined:"undefined"},yBarWidth:{number:r,undefined:"undefined"},cameraPosition:{distance:{number:r},horizontal:{number:r},vertical:{number:r},__type__:{object:"object"}},xCenter:{string:i},yCenter:{string:i},dataColor:a,dotSizeMinFraction:{number:r},dotSizeMaxFraction:{number:r},dotSizeRatio:{number:r},filterLabel:{string:i},gridColor:{string:i},onclick:{function:"function"},keepAspectRatio:{boolean:o},xLabel:{string:i},yLabel:{string:i},zLabel:{string:i},legendLabel:{string:i},xMin:{number:r,undefined:"undefined"},yMin:{number:r,undefined:"undefined"},zMin:{number:r,undefined:"undefined"},xMax:{number:r,undefined:"undefined"},yMax:{number:r,undefined:"undefined"},zMax:{number:r,undefined:"undefined"},showAnimationControls:{boolean:o,undefined:"undefined"},showGrid:{boolean:o},showLegend:{boolean:o,undefined:"undefined"},showPerspective:{boolean:o},showShadow:{boolean:o},showXAxis:{boolean:o},showYAxis:{boolean:o},showZAxis:{boolean:o},xStep:{number:r,undefined:"undefined"},yStep:{number:r,undefined:"undefined"},zStep:{number:r,undefined:"undefined"},style:{number:r,string:["bar","bar-color","bar-size","dot","dot-line","dot-color","dot-size","line","grid","surface"]},tooltip:{boolean:o,function:"function"},tooltipStyle:{content:{color:{string:i},background:{string:i},border:{string:i},borderRadius:{string:i},boxShadow:{string:i},padding:{string:i},__type__:{object:"object"}},line:{borderLeft:{string:i},height:{string:i},width:{string:i},__type__:{object:"object"}},dot:{border:{string:i},borderRadius:{string:i},height:{string:i},width:{string:i},__type__:{object:"object"}},__type__:{object:"object"}},xValueLabel:{function:"function"},yValueLabel:{function:"function"},zValueLabel:{function:"function"},valueMax:{number:r,undefined:"undefined"},valueMin:{number:r,undefined:"undefined"},verticalRatio:{number:r},height:{string:i},width:{string:i},__type__:{object:"object"}};e.allOptions=s},function(t,e,n){function i(){this.dataTable=null}var s=n(11),l=n(12),r=n(174),c=n(96),o=n(94),a=n(34);i.prototype.initializeData=function(t,e,n){if(void 0!==e){var i;if(Array.isArray(e)&&(e=new s(e)),!(e instanceof s||e instanceof l))throw new Error("Array, DataSet, or DataView expected");if(0!=(i=e.get()).length){this.style=n,this.dataSet&&this.dataSet.off("*",this._onChange),this.dataSet=e,this.dataTable=i;var o=this;this._onChange=function(){t.setData(o.dataSet)},this.dataSet.on("*",this._onChange),this.colX="x",this.colY="y",this.colZ="z";var r=t.hasBars(n);if(r&&(void 0!==t.defaultXBarWidth?this.xBarWidth=t.defaultXBarWidth:this.xBarWidth=this.getSmallestDifference(i,this.colX)||1,void 0!==t.defaultYBarWidth?this.yBarWidth=t.defaultYBarWidth:this.yBarWidth=this.getSmallestDifference(i,this.colY)||1),this._initializeRange(i,this.colX,t,r),this._initializeRange(i,this.colY,t,r),this._initializeRange(i,this.colZ,t,!1),i[0].hasOwnProperty("style")){this.colValue="style";var a=this.getColumnRange(i,this.colValue);this._setRangeDefaults(a,t.defaultValueMin,t.defaultValueMax),this.valueRange=a}return this.getDataTable()[0].hasOwnProperty("filter")&&void 0===this.dataFilter&&(this.dataFilter=new c(this,"filter",t),this.dataFilter.setOnLoadCallback(function(){t.redraw()})),this.dataFilter?this.dataFilter._getDataPoints():this._getDataPoints(this.getDataTable())}}},i.prototype._collectRangeSettings=function(t,e){if(-1==["x","y","z"].indexOf(t))throw new Error("Column '"+t+"' invalid");var n=t.toUpperCase();return{barWidth:this[t+"BarWidth"],min:e["default"+n+"Min"],max:e["default"+n+"Max"],step:e["default"+n+"Step"],range_label:t+"Range",step_label:t+"Step"}},i.prototype._initializeRange=function(t,e,n,i){var o=this._collectRangeSettings(e,n),r=this.getColumnRange(t,e);i&&"z"!=e&&r.expand(o.barWidth/2),this._setRangeDefaults(r,o.min,o.max),this[o.range_label]=r,this[o.step_label]=void 0!==o.step?o.step:r.range()/5},i.prototype.getDistinctValues=function(t,e){void 0===e&&(e=this.dataTable);for(var n=[],i=0;i<e.length;i++){var o=e[i][t]||0;-1===n.indexOf(o)&&n.push(o)}return n.sort(function(t,e){return t-e})},i.prototype.getSmallestDifference=function(t,e){for(var n=this.getDistinctValues(t,e),i=null,o=1;o<n.length;o++){var r=n[o]-n[o-1];(null==i||r<i)&&(i=r)}return i},i.prototype.getColumnRange=function(t,e){for(var n=new r,i=0;i<t.length;i++){var o=t[i][e];n.adjust(o)}return n},i.prototype.getNumberOfRows=function(){return this.dataTable.length},i.prototype._setRangeDefaults=function(t,e,n){void 0!==e&&(t.min=e),void 0!==n&&(t.max=n),t.max<=t.min&&(t.max=t.min+1)},i.prototype.getDataTable=function(){return this.dataTable},i.prototype.getDataSet=function(){return this.dataSet},i.prototype.getDataPoints=function(t){for(var e=[],n=0;n<t.length;n++){var i=new a;i.x=t[n][this.colX]||0,i.y=t[n][this.colY]||0,i.z=t[n][this.colZ]||0,i.data=t[n],void 0!==this.colValue&&(i.value=t[n][this.colValue]||0);var o={};o.point=i,o.bottom=new a(i.x,i.y,this.zRange.min),o.trans=void 0,o.screen=void 0,e.push(o)}return e},i.prototype.initDataAsMatrix=function(t){var e,n,i,o,r=this.getDistinctValues(this.colX,t),a=this.getDistinctValues(this.colY,t),s=this.getDataPoints(t),l=[];for(i=0;i<s.length;i++){o=s[i];var c=r.indexOf(o.point.x),d=a.indexOf(o.point.y);void 0===l[c]&&(l[c]=[]),l[c][d]=o}for(e=0;e<l.length;e++)for(n=0;n<l[e].length;n++)l[e][n]&&(l[e][n].pointRight=e<l.length-1?l[e+1][n]:void 0,l[e][n].pointTop=n<l[e].length-1?l[e][n+1]:void 0,l[e][n].pointCross=e<l.length-1&&n<l[e].length-1?l[e+1][n+1]:void 0);return s},i.prototype.getInfo=function(){var t=this.dataFilter;if(t)return t.getLabel()+": "+t.getSelectedValue()},i.prototype.reload=function(){this.dataTable&&this.setData(this.dataTable)},i.prototype._getDataPoints=function(t){var e=[];if(this.style===o.STYLE.GRID||this.style===o.STYLE.SURFACE)e=this.initDataAsMatrix(t);else if(this._checkValueField(t),e=this.getDataPoints(t),this.style===o.STYLE.LINE)for(var n=0;n<e.length;n++)0<n&&(e[n-1].pointNext=e[n]);return e},i.prototype._checkValueField=function(t){if(this.style===o.STYLE.BARCOLOR||this.style===o.STYLE.BARSIZE||this.style===o.STYLE.DOTCOLOR||this.style===o.STYLE.DOTSIZE){if(void 0===this.colValue)throw new Error("Expected data to have  field 'style'  for graph style '"+this.style+"'");if(void 0===t[0][this.colValue])throw new Error("Expected data to have  field '"+this.colValue+"'  for graph style '"+this.style+"'")}},t.exports=i},function(t,e,n){function i(){this.min=void 0,this.max=void 0}i.prototype.adjust=function(t){void 0!==t&&((void 0===this.min||this.min>t)&&(this.min=t),(void 0===this.max||this.max<t)&&(this.max=t))},i.prototype.combine=function(t){this.add(t.min),this.add(t.max)},i.prototype.expand=function(t){if(void 0!==t){var e=this.min-t,n=this.max+t;if(n<e)throw new Error("Passed expansion value makes range invalid");this.min=e,this.max=n}},i.prototype.range=function(){return this.max-this.min},i.prototype.center=function(){return(this.min+this.max)/2},t.exports=i},function(t,e,n){var i,o,r;o=[],void 0!==(r="function"==typeof(i=function(){var d=null;return function i(o,t){function e(t){return t.match(/[^ ]+/g)}function r(t){if("hammer.input"!==t.type){if(t.srcEvent._handled||(t.srcEvent._handled={}),t.srcEvent._handled[t.type])return;t.srcEvent._handled[t.type]=!0}var e=!1;t.stopPropagation=function(){e=!0};var n=t.srcEvent.stopPropagation.bind(t.srcEvent);"function"==typeof n&&(t.srcEvent.stopPropagation=function(){n(),t.stopPropagation()});for(var i=t.firstTarget=d;i&&!e;){var o=i.hammer;if(o)for(var r,a=0;a<o.length;a++)if(r=o[a]._handlers[t.type])for(var s=0;s<r.length&&!e;s++)r[s](t);i=i.parentNode}}var a=t||{preventDefault:!1};if(o.Manager){var s=o,n=function(t,e){var n=Object.create(a);return e&&s.assign(n,e),i(new s(t,n),n)};return s.assign(n,s),n.Manager=function(t,e){var n=Object.create(a);return e&&s.assign(n,e),i(new s.Manager(t,n),n)},n}var l=Object.create(o),c=o.element;return c.hammer||(c.hammer=[]),c.hammer.push(l),o.on("hammer.input",function(t){!0!==a.preventDefault&&a.preventDefault!==t.pointerType||t.preventDefault(),t.isFirst&&(d=t.target)}),l._handlers={},l.on=function(t,n){return e(t).forEach(function(t){var e=l._handlers[t];e||(l._handlers[t]=e=[],o.on(t,r)),e.push(n)}),l},l.off=function(t,n){return e(t).forEach(function(t){var e=l._handlers[t];e&&(0<(e=n?e.filter(function(t){return t!==n}):[]).length?l._handlers[t]=e:(o.off(t,r),delete l._handlers[t]))}),l},l.emit=function(t,e){d=e.target,o.emit(t,e)},l.destroy=function(){var t=o.element.hammer,e=t.indexOf(l);-1!==e&&t.splice(e,1),t.length||delete o.element.hammer,l._handlers={},o.destroy()},l}})?i.apply(e,o):i)&&(t.exports=r)},function(jt,Vt,Gt){var Wt;!function(r,s,t,x){function l(t,e,n){return setTimeout(o(t,n),e)}function i(t,e,n){return!!Array.isArray(t)&&(a(t,n[e],n),!0)}function a(t,e,n){var i;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==x)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function e(i,t,e){var o="DEPRECATED METHOD: "+t+"\n"+e+" AT \n";return function(){var t=new Error("get-stack-trace"),e=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",n=r.console&&(r.console.warn||r.console.log);return n&&n.call(r.console,o,e),i.apply(this,arguments)}}function n(t,e,n){var i,o=e.prototype;(i=t.prototype=Object.create(o)).constructor=t,i._super=o,n&&K(i,n)}function o(t,e){return function(){return t.apply(e,arguments)}}function c(t,e){return typeof t==tt?t.apply(e&&e[0]||x,e):t}function d(t,e){return t===x?e:t}function u(e,t,n){a(f(t),function(t){e.addEventListener(t,n,!1)})}function h(e,t,n){a(f(t),function(t){e.removeEventListener(t,n,!1)})}function w(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function p(t,e){return-1<t.indexOf(e)}function f(t){return t.trim().split(/\s+/g)}function m(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}function g(t){return Array.prototype.slice.call(t,0)}function v(t,n,e){for(var i=[],o=[],r=0;r<t.length;){var a=n?t[r][n]:t[r];m(o,a)<0&&i.push(t[r]),o[r]=a,r++}return e&&(i=n?i.sort(function(t,e){return t[n]>e[n]}):i.sort()),i}function y(t,e){for(var n,i,o=e[0].toUpperCase()+e.slice(1),r=0;r<Q.length;){if((i=(n=Q[r])?n+o:e)in t)return i;r++}return x}function b(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||r}function _(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){c(e.options.enable,[e])&&n.handler(t)},this.init()}function E(t,e,n){var i=n.pointers.length,o=n.changedPointers.length,r=e&ut&&i-o==0,a=e&(ht|pt)&&i-o==0;n.isFirst=!!r,n.isFinal=!!a,r&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,i=e.pointers,o=i.length;n.firstInput||(n.firstInput=M(e)),1<o&&!n.firstMultiple?n.firstMultiple=M(e):1===o&&(n.firstMultiple=!1);var r=n.firstInput,a=n.firstMultiple,s=a?a.center:r.center,l=e.center=T(i);e.timeStamp=it(),e.deltaTime=e.timeStamp-r.timeStamp,e.angle=k(s,l),e.distance=A(s,l),c=n,d=e,u=d.center,h=c.offsetDelta||{},p=c.prevDelta||{},f=c.prevInput||{},d.eventType!==ut&&f.eventType!==ht||(p=c.prevDelta={x:f.deltaX||0,y:f.deltaY||0},h=c.offsetDelta={x:u.x,y:u.y}),d.deltaX=p.x+(u.x-h.x),d.deltaY=p.y+(u.y-h.y),e.offsetDirection=S(e.deltaX,e.deltaY);var c,d,u,h,p,f;var m=C(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=m.x,e.overallVelocityY=m.y,e.overallVelocity=nt(m.x)>nt(m.y)?m.x:m.y,e.scale=a?(y=a.pointers,b=i,A(b[0],b[1],Et)/A(y[0],y[1],Et)):1,e.rotation=a?(g=a.pointers,v=i,k(v[1],v[0],Et)+k(g[1],g[0],Et)):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,i,o,r,a=t.lastInterval||e,s=e.timeStamp-a.timeStamp;if(e.eventType!=pt&&(dt<s||a.velocity===x)){var l=e.deltaX-a.deltaX,c=e.deltaY-a.deltaY,d=C(s,l,c);i=d.x,o=d.y,n=nt(d.x)>nt(d.y)?d.x:d.y,r=S(l,c),t.lastInterval=e}else n=a.velocity,i=a.velocityX,o=a.velocityY,r=a.direction;e.velocity=n,e.velocityX=i,e.velocityY=o,e.direction=r}(n,e);var g,v;var y,b;var _=t.element;w(e.srcEvent.target,_)&&(_=e.srcEvent.target),e.target=_}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function M(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:et(t.pointers[n].clientX),clientY:et(t.pointers[n].clientY)},n++;return{timeStamp:it(),pointers:e,center:T(e),deltaX:t.deltaX,deltaY:t.deltaY}}function T(t){var e=t.length;if(1===e)return{x:et(t[0].clientX),y:et(t[0].clientY)};for(var n=0,i=0,o=0;o<e;)n+=t[o].clientX,i+=t[o].clientY,o++;return{x:et(n/e),y:et(i/e)}}function C(t,e,n){return{x:e/t||0,y:n/t||0}}function S(t,e){return t===e?ft:nt(t)>=nt(e)?t<0?mt:gt:e<0?vt:yt}function A(t,e,n){n||(n=wt);var i=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return Math.sqrt(i*i+o*o)}function k(t,e,n){n||(n=wt);var i=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return 180*Math.atan2(o,i)/Math.PI}function D(){this.evEl=Tt,this.evWin=Ct,this.pressed=!1,_.apply(this,arguments)}function O(){this.evEl=kt,this.evWin=Dt,_.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function P(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,_.apply(this,arguments)}function N(){this.evTarget=Nt,this.targetIds={},_.apply(this,arguments)}function L(){_.apply(this,arguments);var t=o(this.handler,this);this.touch=new N(this.manager,t),this.mouse=new D(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function I(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var i=this.lastTouches;setTimeout(function(){var t=i.indexOf(n);-1<t&&i.splice(t,1)},Lt)}}function R(t,e){this.manager=t,this.set(e)}function $(t){this.options=K({},this.defaults,t||{}),this.id=at++,this.manager=null,this.options.enable=d(this.options.enable,!0),this.state=Ut,this.simultaneous={},this.requireFail=[]}function F(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function z(t){return t==yt?"down":t==vt?"up":t==mt?"left":t==gt?"right":""}function H(t,e){var n=e.manager;return n?n.get(t):t}function B(){$.apply(this,arguments)}function U(){B.apply(this,arguments),this.pX=null,this.pY=null}function j(){B.apply(this,arguments)}function V(){$.apply(this,arguments),this._timer=null,this._input=null}function G(){B.apply(this,arguments)}function W(){B.apply(this,arguments)}function Y(){$.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function q(t,e){return(e=e||{}).recognizers=d(e.recognizers,q.defaults.preset),new X(t,e)}function X(t,e){var n;this.options=K({},q.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(lt?O:ct?N:st?L:D))(n,E),this.touchAction=new R(this,this.options.touchAction),Z(this,!0),a(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function Z(n,i){var o,r=n.element;r.style&&(a(n.options.cssProps,function(t,e){o=y(r.style,e),r.style[o]=i?(n.oldCssProps[o]=r.style[o],t):n.oldCssProps[o]||""}),i||(n.oldCssProps={}))}var K,Q=["","webkit","Moz","MS","ms","o"],J=s.createElement("div"),tt="function",et=Math.round,nt=Math.abs,it=Date.now;K="function"!=typeof Object.assign?function(t){if(t===x||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(i!==x&&null!==i)for(var o in i)i.hasOwnProperty(o)&&(e[o]=i[o])}return e}:Object.assign;var ot=e(function(t,e,n){for(var i=Object.keys(e),o=0;o<i.length;)(!n||n&&t[i[o]]===x)&&(t[i[o]]=e[i[o]]),o++;return t},"extend","Use `assign`."),rt=e(function(t,e){return ot(t,e,!0)},"merge","Use `assign`."),at=1,st="ontouchstart"in r,lt=y(r,"PointerEvent")!==x,ct=st&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),dt=25,ut=1,ht=4,pt=8,ft=1,mt=2,gt=4,vt=8,yt=16,bt=mt|gt,_t=vt|yt,xt=bt|_t,wt=["x","y"],Et=["clientX","clientY"];_.prototype={handler:function(){},init:function(){this.evEl&&u(this.element,this.evEl,this.domHandler),this.evTarget&&u(this.target,this.evTarget,this.domHandler),this.evWin&&u(b(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&h(this.element,this.evEl,this.domHandler),this.evTarget&&h(this.target,this.evTarget,this.domHandler),this.evWin&&h(b(this.element),this.evWin,this.domHandler)}};var Mt={mousedown:ut,mousemove:2,mouseup:ht},Tt="mousedown",Ct="mousemove mouseup";n(D,_,{handler:function(t){var e=Mt[t.type];e&ut&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=ht),this.pressed&&(e&ht&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var St={pointerdown:ut,pointermove:2,pointerup:ht,pointercancel:pt,pointerout:pt},At={2:"touch",3:"pen",4:"mouse",5:"kinect"},kt="pointerdown",Dt="pointermove pointerup pointercancel";r.MSPointerEvent&&!r.PointerEvent&&(kt="MSPointerDown",Dt="MSPointerMove MSPointerUp MSPointerCancel"),n(O,_,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),o=St[i],r=At[t.pointerType]||t.pointerType,a="touch"==r,s=m(e,t.pointerId,"pointerId");o&ut&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):o&(ht|pt)&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,o,{pointers:e,changedPointers:[t],pointerType:r,srcEvent:t}),n&&e.splice(s,1))}});var Ot={touchstart:ut,touchmove:2,touchend:ht,touchcancel:pt};n(P,_,{handler:function(t){var e=Ot[t.type];if(e===ut&&(this.started=!0),this.started){var n=function(t,e){var n=g(t.touches),i=g(t.changedTouches);return e&(ht|pt)&&(n=v(n.concat(i),"identifier",!0)),[n,i]}.call(this,t,e);e&(ht|pt)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var Pt={touchstart:ut,touchmove:2,touchend:ht,touchcancel:pt},Nt="touchstart touchmove touchend touchcancel";n(N,_,{handler:function(t){var e=Pt[t.type],n=function(t,e){var n=g(t.touches),i=this.targetIds;if(e&(2|ut)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var o,r,a=g(t.changedTouches),s=[],l=this.target;if(r=n.filter(function(t){return w(t.target,l)}),e===ut)for(o=0;o<r.length;)i[r[o].identifier]=!0,o++;for(o=0;o<a.length;)i[a[o].identifier]&&s.push(a[o]),e&(ht|pt)&&delete i[a[o].identifier],o++;return s.length?[v(r.concat(s),"identifier",!0),s]:void 0}.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}});var Lt=2500;n(L,_,{handler:function(t,e,n){var i="touch"==n.pointerType,o="mouse"==n.pointerType;if(!(o&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)(function(t,e){t&ut?(this.primaryTouch=e.changedPointers[0].identifier,I.call(this,e)):t&(ht|pt)&&I.call(this,e)}).call(this,e,n);else if(o&&function(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var o=this.lastTouches[i],r=Math.abs(e-o.x),a=Math.abs(n-o.y);if(r<=25&&a<=25)return!0}return!1}.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var It=y(J.style,"touchAction"),Rt=It!==x,$t="manipulation",Ft="none",zt="pan-x",Ht="pan-y",Bt=function(){if(!Rt)return!1;var e={},n=r.CSS&&r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){e[t]=!n||r.CSS.supports("touch-action",t)}),e}();R.prototype={set:function(t){"compute"==t&&(t=this.compute()),Rt&&this.manager.element.style&&Bt[t]&&(this.manager.element.style[It]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return a(this.manager.recognizers,function(t){c(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),function(t){if(p(t,Ft))return Ft;var e=p(t,zt),n=p(t,Ht);return e&&n?Ft:e||n?e?zt:Ht:p(t,$t)?$t:"auto"}(e.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(!this.manager.session.prevented){var i=this.actions,o=p(i,Ft)&&!Bt.none,r=p(i,Ht)&&!Bt[Ht],a=p(i,zt)&&!Bt[zt];if(o){var s=1===t.pointers.length,l=t.distance<2,c=t.deltaTime<250;if(s&&l&&c)return}return a&&r?void 0:o||r&&n&bt||a&&n&_t?this.preventSrc(e):void 0}e.preventDefault()},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Ut=1;$.prototype={defaults:{},set:function(t){return K(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(i(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=H(t,this)).id]||(e[t.id]=t).recognizeWith(this),this},dropRecognizeWith:function(t){return i(t,"dropRecognizeWith",this)||(t=H(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(i(t,"requireFailure",this))return this;var e=this.requireFail;return-1===m(e,t=H(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(i(t,"dropRequireFailure",this))return this;t=H(t,this);var e=m(this.requireFail,t);return-1<e&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return 0<this.requireFail.length},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(e){function t(t){n.manager.emit(t,e)}var n=this,i=this.state;i<8&&t(n.options.event+F(i)),t(n.options.event),e.additionalEvent&&t(e.additionalEvent),8<=i&&t(n.options.event+F(i))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|Ut)))return!1;t++}return!0},recognize:function(t){var e=K({},t);if(!c(this.options.enable,[this,e]))return this.reset(),void(this.state=32);56&this.state&&(this.state=Ut),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},n(B,$,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=6&e,o=this.attrTest(t);return i&&(n&pt||!o)?16|e:i||o?n&ht?8|e:2&e?4|e:2:32}}),n(U,B,{defaults:{event:"pan",threshold:10,pointers:1,direction:xt},getTouchAction:function(){var t=this.options.direction,e=[];return t&bt&&e.push(Ht),t&_t&&e.push(zt),e},directionTest:function(t){var e=this.options,n=!0,i=t.distance,o=t.direction,r=t.deltaX,a=t.deltaY;return o&e.direction||(i=e.direction&bt?(o=0===r?ft:r<0?mt:gt,n=r!=this.pX,Math.abs(t.deltaX)):(o=0===a?ft:a<0?vt:yt,n=a!=this.pY,Math.abs(t.deltaY))),t.direction=o,n&&i>e.threshold&&o&e.direction},attrTest:function(t){return B.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=z(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),n(j,B,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Ft]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),n(V,$,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,o=t.deltaTime>e.time;if(this._input=t,!i||!n||t.eventType&(ht|pt)&&!o)this.reset();else if(t.eventType&ut)this.reset(),this._timer=l(function(){this.state=8,this.tryEmit()},e.time,this);else if(t.eventType&ht)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&t.eventType&ht?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=it(),this.manager.emit(this.options.event,this._input)))}}),n(G,B,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Ft]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),n(W,B,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:bt|_t,pointers:1},getTouchAction:function(){return U.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(bt|_t)?e=t.overallVelocity:n&bt?e=t.overallVelocityX:n&_t&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&nt(e)>this.options.velocity&&t.eventType&ht},emit:function(t){var e=z(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),n(Y,$,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[$t]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,o=t.deltaTime<e.time;if(this.reset(),t.eventType&ut&&0===this.count)return this.failTimeout();if(i&&o&&n){if(t.eventType!=ht)return this.failTimeout();var r=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||A(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&r?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=l(function(){this.state=8,this.tryEmit()},e.interval,this),2):8}return 32},failTimeout:function(){return this._timer=l(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),q.VERSION="2.0.7",q.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[G,{enable:!1}],[j,{enable:!1},["rotate"]],[W,{direction:bt}],[U,{direction:bt},["swipe"]],[Y],[Y,{event:"doubletap",taps:2},["tap"]],[V]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},X.prototype={set:function(t){return K(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var n,i=this.recognizers,o=e.curRecognizer;(!o||o&&8&o.state)&&(o=e.curRecognizer=null);for(var r=0;r<i.length;)n=i[r],2===e.stopped||o&&n!=o&&!n.canRecognizeWith(o)?n.reset():n.recognize(t),!o&&14&n.state&&(o=e.curRecognizer=n),r++}},get:function(t){if(t instanceof $)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(i(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),(t.manager=this).touchAction.update(),t},remove:function(t){if(i(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=m(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==x&&e!==x){var n=this.handlers;return a(f(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this}},off:function(t,e){if(t!==x){var n=this.handlers;return a(f(t),function(t){e?n[t]&&n[t].splice(m(n[t],e),1):delete n[t]}),this}},emit:function(t,e){var n,i,o;this.options.domEvents&&(n=t,i=e,(o=s.createEvent("Event")).initEvent(n,!0,!0),(o.gesture=i).target.dispatchEvent(o));var r=this.handlers[t]&&this.handlers[t].slice();if(r&&r.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var a=0;a<r.length;)r[a](e),a++}},destroy:function(){this.element&&Z(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},K(q,{INPUT_START:ut,INPUT_MOVE:2,INPUT_END:ht,INPUT_CANCEL:pt,STATE_POSSIBLE:Ut,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:ft,DIRECTION_LEFT:mt,DIRECTION_RIGHT:gt,DIRECTION_UP:vt,DIRECTION_DOWN:yt,DIRECTION_HORIZONTAL:bt,DIRECTION_VERTICAL:_t,DIRECTION_ALL:xt,Manager:X,Input:_,TouchAction:R,TouchInput:N,MouseInput:D,PointerEventInput:O,TouchMouseInput:L,SingleTouchInput:P,Recognizer:$,AttrRecognizer:B,Tap:Y,Pan:U,Swipe:W,Pinch:j,Rotate:G,Press:V,on:u,off:h,each:a,merge:rt,extend:ot,assign:K,inherit:n,bindFn:o,prefixed:y}),(void 0!==r?r:"undefined"!=typeof self?self:{}).Hammer=q,(Wt=function(){return q}.call(Vt,Gt,Vt,jt))!==x&&(jt.exports=Wt)}(window,document)},function(t,e,n){e.util=n(2),e.DOMutil=n(14),e.DataSet=n(11),e.DataView=n(12),e.Queue=n(43),e.Timeline=n(178),e.Graph2d=n(180),e.timeline={Core:n(65),DateUtil:n(36),Range:n(64),stack:n(100),TimeStep:n(66),components:{items:{Item:n(38),BackgroundItem:n(103),BoxItem:n(101),PointItem:n(102),RangeItem:n(70)},BackgroundGroup:n(69),Component:n(16),CurrentTime:n(67),CustomTime:n(46),DataAxis:n(107),DataScale:n(108),GraphGroup:n(109),Group:n(68),ItemSet:n(99),Legend:n(112),LineGraph:n(106),TimeAxis:n(45)}},e.moment=n(9),e.Hammer=n(10),e.keycharm=n(35)},function(t,e,n){function l(t,e,n,i){if(!(this instanceof l))throw new SyntaxError("Constructor must be called with the new operator");if(!(Array.isArray(n)||n instanceof d||n instanceof u)&&n instanceof Object){var o=i;i=n,n=o}i&&i.throttleRedraw&&console.warn('Timeline option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var r=this;if(this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:c,width:null,height:null,maxHeight:null,minHeight:null},this.options=g.deepExtend({},this.defaultOptions),this._create(t),!i||i&&void 0===i.rtl){this.dom.root.style.visibility="hidden";for(var a,s=this.dom.root;!a&&s;)a=window.getComputedStyle(s,null).direction,s=s.parentElement;this.options.rtl=a&&"rtl"==a.toLowerCase()}else this.options.rtl=i.rtl;this.options.rollingMode=i&&i.rollingMode,this.options.onInitialDrawComplete=i&&i.onInitialDrawComplete,this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{getScale:function(){return r.timeAxis.step.scale},getStep:function(){return r.timeAxis.step.step},toScreen:r._toScreen.bind(r),toGlobalScreen:r._toGlobalScreen.bind(r),toTime:r._toTime.bind(r),toGlobalTime:r._toGlobalTime.bind(r)}},this.range=new h(this.body,this.options),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new v(this.body,this.options),this.timeAxis2=null,this.components.push(this.timeAxis),this.currentTime=new y(this.body,this.options),this.components.push(this.currentTime),this.itemSet=new _(this.body,this.options),this.components.push(this.itemSet),this.itemsData=null,this.groupsData=null,this.dom.root.onclick=function(t){r.emit("click",r.getEventProperties(t))},this.dom.root.ondblclick=function(t){r.emit("doubleClick",r.getEventProperties(t))},this.dom.root.oncontextmenu=function(t){r.emit("contextmenu",r.getEventProperties(t))},this.dom.root.onmouseover=function(t){r.emit("mouseOver",r.getEventProperties(t))},window.PointerEvent?(this.dom.root.onpointerdown=function(t){r.emit("mouseDown",r.getEventProperties(t))},this.dom.root.onpointermove=function(t){r.emit("mouseMove",r.getEventProperties(t))},this.dom.root.onpointerup=function(t){r.emit("mouseUp",r.getEventProperties(t))}):(this.dom.root.onmousemove=function(t){r.emit("mouseMove",r.getEventProperties(t))},this.dom.root.onmousedown=function(t){r.emit("mouseDown",r.getEventProperties(t))},this.dom.root.onmouseup=function(t){r.emit("mouseUp",r.getEventProperties(t))}),this.initialFitDone=!1,this.on("changed",function(){if(null!=this.itemsData&&!this.options.rollingMode){if(!r.initialFitDone)if(r.initialFitDone=!0,null!=r.options.start||null!=r.options.end){if(null==r.options.start||null==r.options.end)var t=r.getItemRange();var e=null!=r.options.start?r.options.start:t.min,n=null!=r.options.end?r.options.end:t.max;r.setWindow(e,n,{animation:!1})}else r.fit({animation:!1});!r.initialDrawDone&&r.initialRangeChangeDone&&(r.initialDrawDone=!0,r.dom.root.style.visibility="visible",r.options.onInitialDrawComplete&&setTimeout(function(){return r.options.onInitialDrawComplete()},0))}}),i&&this.setOptions(i),n&&this.setGroups(n),e&&this.setItems(e),this._redraw()}function p(t){return g.convert(t.data.start,"Date").valueOf()}function f(t){var e=null!=t.data.end?t.data.end:t.data.start;return g.convert(e,"Date").valueOf()}function m(t,e){var n=t.props.leftContainer.height,i=t.props.left.height,o=e.parent,r=o.top,a=!0,s=t.timeAxis.options.orientation.axis,l=function(){return"bottom"==s?o.height-e.top-e.height:e.top},c=-1*t._getScrollTop(),d=r+l(),u=e.height;return d<c?r+n<=r+l()+u&&(r+=l()-t.itemSet.options.margin.item.vertical):c+n<d+u?r+=l()+u-n+t.itemSet.options.margin.item.vertical:a=!1,{shouldScroll:a,scrollOffset:r=Math.min(r,i-n),itemTop:d}}var c=n(9),g=n(2),d=n(11),u=n(12),h=n(64),i=n(65),v=n(45),y=n(67),b=n(46),_=n(99),o=n(15).printStyle,r=n(105).allOptions,a=n(105).configureOptions,s=n(71).default,x=n(15).default;(l.prototype=new i)._createConfigurator=function(){return new s(this,this.dom.container,a)},l.prototype.redraw=function(){this.itemSet&&this.itemSet.markDirty({refreshItems:!0}),this._redraw()},l.prototype.setOptions=function(t){if(!0===x.validate(t,r)&&console.log("%cErrors have been found in the supplied options object.",o),i.prototype.setOptions.call(this,t),"type"in t&&t.type!==this.options.type){this.options.type=t.type;var e=this.itemsData;if(e){var n=this.getSelection();this.setItems(null),this.setItems(e),this.setSelection(n)}}},l.prototype.setItems=function(t){var e;e=t?t instanceof d||t instanceof u?t:new d(t,{type:{start:"Date",end:"Date"}}):null,this.itemsData=e,this.itemSet&&this.itemSet.setItems(e)},l.prototype.setGroups=function(t){var e;if(t){var n=function(t){return!1!==t.visible};e=t instanceof d||t instanceof u?new u(t,{filter:n}):new d(t.filter(n))}else e=null;this.groupsData=e,this.itemSet.setGroups(e)},l.prototype.setData=function(t){t&&t.groups&&this.setGroups(t.groups),t&&t.items&&this.setItems(t.items)},l.prototype.setSelection=function(t,e){this.itemSet&&this.itemSet.setSelection(t),e&&e.focus&&this.focus(t,e)},l.prototype.getSelection=function(){return this.itemSet&&this.itemSet.getSelection()||[]},l.prototype.focus=function(t,e){if(this.itemsData&&null!=t){var n=Array.isArray(t)?t:[t],i=this.itemsData.getDataSet().get(n,{type:{start:"Date",end:"Date"}}),o=null,r=null;if(i.forEach(function(t){var e=t.start.valueOf(),n="end"in t?t.end.valueOf():t.start.valueOf();(null===o||e<o)&&(o=e),(null===r||r<n)&&(r=n)}),null!==o&&null!==r){var s=this,l=this.itemSet.items[n[0]],c=-1*this._getScrollTop(),d=null,a=function(){var t=m(s,l);t.shouldScroll&&t.itemTop!=d.itemTop&&(s._setScrollTop(-t.scrollOffset),s._redraw())},u=(o+r)/2,h=Math.max(this.range.end-this.range.start,1.1*(r-o)),p=!e||void 0===e.animation||e.animation;p||(d={shouldScroll:!1,scrollOffset:-1,itemTop:-1}),this.range.setRange(u-h/2,u+h/2,{animation:p},function(){a(),setTimeout(a,100)},function(t,e,n){var i=m(s,l);if(d||(d=i),d.itemTop!=i.itemTop||d.shouldScroll){d.itemTop!=i.itemTop&&i.shouldScroll&&(d=i,c=-1*s._getScrollTop());var o=c,r=d.scrollOffset,a=n?r:o+(r-o)*t;s._setScrollTop(-a),e||s._redraw()}})}}},l.prototype.fit=function(t,e){var n,i=!t||void 0===t.animation||t.animation,o=this.itemsData&&this.itemsData.getDataSet();1===o.length&&void 0===o.get()[0].end?(n=this.getDataRange(),this.moveTo(n.min.valueOf(),{animation:i},e)):(n=this.getItemRange(),this.range.setRange(n.min,n.max,{animation:i},e))},l.prototype.getItemRange=function(){var t=this.getDataRange(),r=null!==t.min?t.min.valueOf():null,a=null!==t.max?t.max.valueOf():null,s=null,l=null;if(null!=r&&null!=a){var e=a-r;e<=0&&(e=10);var c=e/this.props.center.width,n={},i=0;if(g.forEach(this.itemSet.items,function(t,e){t.groupShowing&&(n[e]=t.redraw(!0),i=n[e].length)}),0<i)for(var o=0;o<i;o++)g.forEach(n,function(t){t[o]()});if(g.forEach(this.itemSet.items,function(t){var e,n,i=p(t),o=f(t);n=this.options.rtl?(e=i-(t.getWidthRight()+10)*c,o+(t.getWidthLeft()+10)*c):(e=i-(t.getWidthLeft()+10)*c,o+(t.getWidthRight()+10)*c),e<r&&(r=e,s=t),a<n&&(a=n,l=t)}.bind(this)),s&&l){var d=s.getWidthLeft()+10,u=l.getWidthRight()+10,h=this.props.center.width-d-u;0<h&&(a=this.options.rtl?(r=p(s)-u*e/h,f(l)+d*e/h):(r=p(s)-d*e/h,f(l)+u*e/h))}}return{min:null!=r?new Date(r):null,max:null!=a?new Date(a):null}},l.prototype.getDataRange=function(){var i=null,o=null,t=this.itemsData&&this.itemsData.getDataSet();return t&&t.forEach(function(t){var e=g.convert(t.start,"Date").valueOf(),n=g.convert(null!=t.end?t.end:t.start,"Date").valueOf();(null===i||e<i)&&(i=e),(null===o||o<n)&&(o=n)}),{min:null!=i?new Date(i):null,max:null!=o?new Date(o):null}},l.prototype.getEventProperties=function(t){var e,n=t.center?t.center.x:t.clientX,i=t.center?t.center.y:t.clientY;e=this.options.rtl?g.getAbsoluteRight(this.dom.centerContainer)-n:n-g.getAbsoluteLeft(this.dom.centerContainer);var o=i-g.getAbsoluteTop(this.dom.centerContainer),r=this.itemSet.itemFromTarget(t),a=this.itemSet.groupFromTarget(t),s=b.customTimeFromTarget(t),l=this.itemSet.options.snap||null,c=this.body.util.getScale(),d=this.body.util.getStep(),u=this._toTime(e),h=l?l(u,c,d):u,p=g.getTarget(t),f=null;return null!=r?f="item":null!=s?f="custom-time":g.hasParent(p,this.timeAxis.dom.foreground)?f="axis":this.timeAxis2&&g.hasParent(p,this.timeAxis2.dom.foreground)?f="axis":g.hasParent(p,this.itemSet.dom.labelSet)?f="group-label":g.hasParent(p,this.currentTime.bar)?f="current-time":g.hasParent(p,this.dom.center)&&(f="background"),{event:t,item:r?r.id:null,group:a?a.groupId:null,what:f,pageX:t.srcEvent?t.srcEvent.pageX:t.pageX,pageY:t.srcEvent?t.srcEvent.pageY:t.pageY,x:e,y:o,time:u,snappedTime:h}},l.prototype.toggleRollingMode=function(){this.range.rolling?this.range.stopRolling():(null==this.options.rollingMode&&this.setOptions(this.options),this.range.startRolling())},t.exports=l},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var l=i(n(19)),o=i(n(0)),r=i(n(1)),a=n(10),s=n(37),g=n(2),c=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;(0,o.default)(this,e),this.pixelRatio=t,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return(0,r.default)(e,[{key:"insertTo",value:function(t){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=t,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=t}},{key:"setCloseCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=t}},{key:"_isColorString",value:function(t){if("string"==typeof t)return{black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"}[t]}},{key:"setColor",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if("none"!==t){var n=void 0,i=this._isColorString(t);if(void 0!==i&&(t=i),!0===g.isString(t)){if(!0===g.isValidRGB(t)){var o=t.substr(4).substr(0,t.length-5).split(",");n={r:o[0],g:o[1],b:o[2],a:1}}else if(!0===g.isValidRGBA(t)){var r=t.substr(5).substr(0,t.length-6).split(",");n={r:r[0],g:r[1],b:r[2],a:r[3]}}else if(!0===g.isValidHex(t)){var a=g.hexToRGB(t);n={r:a.r,g:a.g,b:a.b,a:1}}}else if(t instanceof Object&&void 0!==t.r&&void 0!==t.g&&void 0!==t.b){var s=void 0!==t.a?t.a:"1.0";n={r:t.r,g:t.g,b:t.b,a:s}}if(void 0===n)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+(0,l.default)(t));this._setColor(n,e)}}},{key:"show",value:function(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var t=this;!0===(!(0<arguments.length&&void 0!==arguments[0])||arguments[0])&&(this.previousColor=g.extend({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",setTimeout(function(){void 0!==t.closeCallback&&(t.closeCallback(),t.closeCallback=void 0)},0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(t){!0===(!(1<arguments.length&&void 0!==arguments[1])||arguments[1])&&(this.initialColor=g.extend({},t)),this.color=t;var e=g.RGBToHSV(t.r,t.g,t.b),n=2*Math.PI,i=this.r*e.s,o=this.centerCoordinates.x+i*Math.sin(n*e.h),r=this.centerCoordinates.y+i*Math.cos(n*e.h);this.colorPickerSelector.style.left=o-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=r-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(t)}},{key:"_setOpacity",value:function(t){this.color.a=t/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(t){var e=g.RGBToHSV(this.color.r,this.color.g,this.color.b);e.v=t/100;var n=g.HSVToRGB(e.h,e.s,e.v);n.a=this.color.a,this.color=n,this._updatePicker()}},{key:"_updatePicker",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.color,e=g.RGBToHSV(t.r,t.g,t.b),n=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1)),n.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var i=this.colorPickerCanvas.clientWidth,o=this.colorPickerCanvas.clientHeight;n.clearRect(0,0,i,o),n.putImageData(this.hueCircle,0,0),n.fillStyle="rgba(0,0,0,"+(1-e.v)+")",n.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),n.fill(),this.brightnessRange.value=100*e.v,this.opacityRange.value=100*t.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var t=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerHTML="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(e)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(t){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(t){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var n=this;this.opacityRange.onchange=function(){n._setOpacity(this.value)},this.opacityRange.oninput=function(){n._setOpacity(this.value)},this.brightnessRange.onchange=function(){n._setBrightness(this.value)},this.brightnessRange.oninput=function(){n._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerHTML="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerHTML="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerHTML="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerHTML="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerHTML="cancel",this.cancelButton.onclick=this._hide.bind(this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerHTML="apply",this.applyButton.onclick=this._apply.bind(this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerHTML="save",this.saveButton.onclick=this._save.bind(this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerHTML="load last",this.loadButton.onclick=this._loadLast.bind(this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var e=this;this.drag={},this.pinch={},this.hammer=new a(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),s.onTouch(this.hammer,function(t){e._moveSelector(t)}),this.hammer.on("tap",function(t){e._moveSelector(t)}),this.hammer.on("panstart",function(t){e._moveSelector(t)}),this.hammer.on("panmove",function(t){e._moveSelector(t)}),this.hammer.on("panend",function(t){e._moveSelector(t)})}},{key:"_generateHueCircle",value:function(){if(!1===this.generated){var t=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)),t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var e=this.colorPickerCanvas.clientWidth,n=this.colorPickerCanvas.clientHeight;t.clearRect(0,0,e,n);var i=void 0,o=void 0,r=void 0,a=void 0;this.centerCoordinates={x:.5*e,y:.5*n},this.r=.49*e;var s=2*Math.PI/360,l=1/this.r,c=void 0;for(r=0;r<360;r++)for(a=0;a<this.r;a++)i=this.centerCoordinates.x+a*Math.sin(s*r),o=this.centerCoordinates.y+a*Math.cos(s*r),c=g.HSVToRGB(r*(1/360),a*l,1),t.fillStyle="rgb("+c.r+","+c.g+","+c.b+")",t.fillRect(i-.5,o-.5,2,2);t.strokeStyle="rgba(0,0,0,1)",t.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),t.stroke(),this.hueCircle=t.getImageData(0,0,e,n)}this.generated=!0}},{key:"_moveSelector",value:function(t){var e=this.colorPickerDiv.getBoundingClientRect(),n=t.center.x-e.left,i=t.center.y-e.top,o=.5*this.colorPickerDiv.clientHeight,r=.5*this.colorPickerDiv.clientWidth,a=n-r,s=i-o,l=Math.atan2(a,s),c=.98*Math.min(Math.sqrt(a*a+s*s),r),d=Math.cos(l)*c+o,u=Math.sin(l)*c+r;this.colorPickerSelector.style.top=d-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=u-.5*this.colorPickerSelector.clientWidth+"px";var h=l/(2*Math.PI);h=h<0?h+1:h;var p=c/this.r,f=g.RGBToHSV(this.color.r,this.color.g,this.color.b);f.h=h,f.s=p;var m=g.HSVToRGB(f.h,f.s,f.v);m.a=this.color.a,this.color=m,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),e}();e.default=c},function(t,e,n){function i(t,e,n,i){if(!(Array.isArray(n)||n instanceof s||n instanceof l)&&n instanceof Object){var o=i;i=n,n=o}i&&i.throttleRedraw&&console.warn('Graph2d option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var r=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:a,width:null,height:null,maxHeight:null,minHeight:null},this.options=h.deepExtend({},this.defaultOptions),this._create(t),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{toScreen:r._toScreen.bind(r),toGlobalScreen:r._toGlobalScreen.bind(r),toTime:r._toTime.bind(r),toGlobalTime:r._toGlobalTime.bind(r)}},this.range=new c(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new d(this.body),this.components.push(this.timeAxis),this.currentTime=new u(this.body),this.components.push(this.currentTime),this.linegraph=new f(this.body),this.components.push(this.linegraph),this.itemsData=null,this.groupsData=null,this.on("tap",function(t){r.emit("click",r.getEventProperties(t))}),this.on("doubletap",function(t){r.emit("doubleClick",r.getEventProperties(t))}),this.dom.root.oncontextmenu=function(t){r.emit("contextmenu",r.getEventProperties(t))},i&&this.setOptions(i),n&&this.setGroups(n),e&&this.setItems(e),this._redraw()}var a=n(9),h=n(2),s=n(11),l=n(12),c=n(64),o=n(65),d=n(45),u=n(67),p=n(46),f=n(106),r=n(15).printStyle,m=n(113).allOptions,g=n(113).configureOptions,v=n(71).default,y=n(15).default;(i.prototype=new o).setOptions=function(t){!0===y.validate(t,m)&&console.log("%cErrors have been found in the supplied options object.",r),o.prototype.setOptions.call(this,t)},i.prototype.setItems=function(t){var e,n=null==this.itemsData;if(e=t?t instanceof s||t instanceof l?t:new s(t,{type:{start:"Date",end:"Date"}}):null,this.itemsData=e,this.linegraph&&this.linegraph.setItems(e),n)if(null!=this.options.start||null!=this.options.end){var i=null!=this.options.start?this.options.start:null,o=null!=this.options.end?this.options.end:null;this.setWindow(i,o,{animation:!1})}else this.fit({animation:!1})},i.prototype.setGroups=function(t){var e;e=t?t instanceof s||t instanceof l?t:new s(t):null,this.groupsData=e,this.linegraph.setGroups(e)},i.prototype.getLegend=function(t,e,n){return void 0===e&&(e=15),void 0===n&&(n=15),void 0!==this.linegraph.groups[t]?this.linegraph.groups[t].getLegend(e,n):"cannot find group:'"+t+"'"},i.prototype.isGroupVisible=function(t){return void 0!==this.linegraph.groups[t]&&this.linegraph.groups[t].visible&&(void 0===this.linegraph.options.groups.visibility[t]||1==this.linegraph.options.groups.visibility[t])},i.prototype.getDataRange=function(){var t=null,e=null;for(var n in this.linegraph.groups)if(this.linegraph.groups.hasOwnProperty(n)&&1==this.linegraph.groups[n].visible)for(var i=0;i<this.linegraph.groups[n].itemsData.length;i++){var o=this.linegraph.groups[n].itemsData[i],r=h.convert(o.x,"Date").valueOf();t=null==t?r:r<t?r:t,e=null==e?r:e<r?r:e}return{min:null!=t?new Date(t):null,max:null!=e?new Date(e):null}},i.prototype.getEventProperties=function(t){var e=t.center?t.center.x:t.clientX,n=t.center?t.center.y:t.clientY,i=e-h.getAbsoluteLeft(this.dom.centerContainer),o=n-h.getAbsoluteTop(this.dom.centerContainer),r=this._toTime(i),a=p.customTimeFromTarget(t),s=h.getTarget(t),l=null;h.hasParent(s,this.timeAxis.dom.foreground)?l="axis":this.timeAxis2&&h.hasParent(s,this.timeAxis2.dom.foreground)?l="axis":h.hasParent(s,this.linegraph.yAxisLeft.dom.frame)?l="data-axis":h.hasParent(s,this.linegraph.yAxisRight.dom.frame)?l="data-axis":h.hasParent(s,this.linegraph.legendLeft.dom.frame)?l="legend":h.hasParent(s,this.linegraph.legendRight.dom.frame)?l="legend":null!=a?l="custom-time":h.hasParent(s,this.currentTime.bar)?l="current-time":h.hasParent(s,this.dom.center)&&(l="background");var c=[],d=this.linegraph.yAxisLeft,u=this.linegraph.yAxisRight;return!d.hidden&&0<this.itemsData.length&&c.push(d.screenToValue(o)),!u.hidden&&0<this.itemsData.length&&c.push(u.screenToValue(o)),{event:t,what:l,pageX:t.srcEvent?t.srcEvent.pageX:t.pageX,pageY:t.srcEvent?t.srcEvent.pageY:t.pageY,x:i,y:o,time:r,value:c}},i.prototype._createConfigurator=function(){return new v(this,this.dom.container,g)},t.exports=i},function(t,n,e){n.util=e(2),n.DOMutil=e(14),n.DataSet=e(11),n.DataView=e(12),n.Queue=e(43),n.Network=e(182),n.network={Images:e(116),dotparser:e(114),gephiParser:e(115),allOptions:e(122)},n.network.convertDot=function(t){return n.network.dotparser.DOTToGraph(t)},n.network.convertGephi=function(t,e){return n.network.gephiParser.parseGephi(t,e)},n.moment=e(9),n.Hammer=e(10),n.keycharm=e(35)},function(t,e,n){function o(t,e,n){var i=this;if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:c,clickToUse:!1},r.extend(this.options,this.defaultOptions),this.body={container:t,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this),once:this.once.bind(this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}}},this.bindEventListeners(),this.images=new d(function(){return i.body.emitter.emit("_requestRedraw")}),this.groups=new u,this.canvas=new v(this.body),this.selectionHandler=new _(this.body,this.canvas),this.interactionHandler=new b(this.body,this.canvas,this.selectionHandler),this.view=new y(this.body,this.canvas),this.renderer=new g(this.body,this.canvas),this.physics=new f(this.body),this.layoutEngine=new x(this.body),this.clustering=new m(this.body),this.manipulation=new w(this.body,this.canvas,this.selectionHandler),this.nodesHandler=new h(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new p(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new k(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(n),this.setData(e)}n(183);var i=n(44),r=n(2),a=n(114),s=n(115),l=n(97),c=n(184),d=n(116).default,u=n(186).default,h=n(187).default,p=n(214).default,f=n(220).default,m=n(227).default,g=n(229).default,v=n(230).default,y=n(231).default,b=n(232).default,_=n(234).default,x=n(235).default,w=n(237).default,E=n(71).default,M=n(15).default,T=n(15).printStyle,C=n(122),S=C.allOptions,A=C.configureOptions,k=n(238).default;i(o.prototype),o.prototype.setOptions=function(t){var e=this;if(void 0!==t){!0===M.validate(t,S)&&console.log("%cErrors have been found in the supplied options object.",T);if(r.selectiveDeepExtend(["locale","locales","clickToUse"],this.options,t),t=this.layoutEngine.setOptions(t.layout,t),this.canvas.setOptions(t),this.groups.setOptions(t.groups),this.nodesHandler.setOptions(t.nodes),this.edgesHandler.setOptions(t.edges),this.physics.setOptions(t.physics),this.manipulation.setOptions(t.manipulation,t,this.options),this.interactionHandler.setOptions(t.interaction),this.renderer.setOptions(t.interaction),this.selectionHandler.setOptions(t.interaction),void 0!==t.groups&&this.body.emitter.emit("refreshNodes"),"configure"in t&&(this.configurator||(this.configurator=new E(this,this.body.container,A,this.canvas.pixelRatio)),this.configurator.setOptions(t.configure)),this.configurator&&!0===this.configurator.options.enabled){var n={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};r.deepExtend(n.nodes,this.nodesHandler.options),r.deepExtend(n.edges,this.edgesHandler.options),r.deepExtend(n.layout,this.layoutEngine.options),r.deepExtend(n.interaction,this.selectionHandler.options),r.deepExtend(n.interaction,this.renderer.options),r.deepExtend(n.interaction,this.interactionHandler.options),r.deepExtend(n.manipulation,this.manipulation.options),r.deepExtend(n.physics,this.physics.options),r.deepExtend(n.global,this.canvas.options),r.deepExtend(n.global,this.options),this.configurator.setModuleOptions(n)}void 0!==t.clickToUse?!0===t.clickToUse?void 0===this.activator&&(this.activator=new l(this.canvas.frame),this.activator.on("change",function(){e.body.emitter.emit("activate")})):(void 0!==this.activator&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},o.prototype._updateVisibleIndices=function(){var t=this.body.nodes,e=this.body.edges;for(var n in this.body.nodeIndices=[],this.body.edgeIndices=[],t)t.hasOwnProperty(n)&&(this.clustering._isClusteredNode(n)||!1!==t[n].options.hidden||this.body.nodeIndices.push(t[n].id));for(var i in e)if(e.hasOwnProperty(i)){var o=e[i],r=t[o.fromId],a=t[o.toId],s=void 0!==r&&void 0!==a;!this.clustering._isClusteredEdge(i)&&!1===o.options.hidden&&s&&!1===r.options.hidden&&!1===a.options.hidden&&this.body.edgeIndices.push(o.id)}},o.prototype.bindEventListeners=function(){var t=this;this.body.emitter.on("_dataChanged",function(){t.edgesHandler._updateState(),t.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",function(){t.clustering._updateState(),t._updateVisibleIndices(),t._updateValueRange(t.body.nodes),t._updateValueRange(t.body.edges),t.body.emitter.emit("startSimulation"),t.body.emitter.emit("_requestRedraw")})},o.prototype.setData=function(t){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),t&&t.dot&&(t.nodes||t.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(t&&t.options),t&&t.dot){console.log("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var e=a.DOTToGraph(t.dot);this.setData(e)}else if(t&&t.gephi){console.log("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var n=s.parseGephi(t.gephi);this.setData(n)}else this.nodesHandler.setData(t&&t.nodes,!0),this.edgesHandler.setData(t&&t.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")},o.prototype.destroy=function(){for(var t in this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images,this.body.nodes)this.body.nodes.hasOwnProperty(t)&&delete this.body.nodes[t];for(var e in this.body.edges)this.body.edges.hasOwnProperty(e)&&delete this.body.edges[e];r.recursiveDOMDelete(this.body.container)},o.prototype._updateValueRange=function(t){var e,n=void 0,i=void 0,o=0;for(e in t)if(t.hasOwnProperty(e)){var r=t[e].getValue();void 0!==r&&(n=void 0===n?r:Math.min(r,n),i=void 0===i?r:Math.max(r,i),o+=r)}if(void 0!==n&&void 0!==i)for(e in t)t.hasOwnProperty(e)&&t[e].setValueRange(n,i,o)},o.prototype.isActive=function(){return!this.activator||this.activator.active},o.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},o.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},o.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},o.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},o.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},o.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},o.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},o.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},o.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},o.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},o.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},o.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},o.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},o.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},o.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},o.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},o.prototype.editNodeMode=function(){return console.log("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},o.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},o.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},o.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},o.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},o.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},o.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},o.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},o.prototype.getConnectedNodes=function(t){return void 0!==this.body.nodes[t]?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},o.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},o.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},o.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},o.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},o.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},o.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},o.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodes.apply(this.selectionHandler,arguments)},o.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdges.apply(this.selectionHandler,arguments)},o.prototype.getNodeAt=function(){var t=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},o.prototype.getEdgeAt=function(){var t=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},o.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},o.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},o.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.redraw()},o.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},o.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},o.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},o.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},o.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},o.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},o.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},o.prototype.getOptionsFromConfigurator=function(){var t={};return this.configurator&&(t=this.configurator.getOptions.apply(this.configurator)),t},t.exports=o},function(t,e,n){"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.circle=function(t,e,n){this.beginPath(),this.arc(t,e,n,0,2*Math.PI,!1),this.closePath()},CanvasRenderingContext2D.prototype.square=function(t,e,n){this.beginPath(),this.rect(t-n,e-n,2*n,2*n),this.closePath()},CanvasRenderingContext2D.prototype.triangle=function(t,e,n){this.beginPath(),e+=.275*(n*=1.15);var i=2*n,o=i/2,r=Math.sqrt(3)/6*i,a=Math.sqrt(i*i-o*o);this.moveTo(t,e-(a-r)),this.lineTo(t+o,e+r),this.lineTo(t-o,e+r),this.lineTo(t,e-(a-r)),this.closePath()},CanvasRenderingContext2D.prototype.triangleDown=function(t,e,n){this.beginPath(),e-=.275*(n*=1.15);var i=2*n,o=i/2,r=Math.sqrt(3)/6*i,a=Math.sqrt(i*i-o*o);this.moveTo(t,e+(a-r)),this.lineTo(t+o,e-r),this.lineTo(t-o,e-r),this.lineTo(t,e+(a-r)),this.closePath()},CanvasRenderingContext2D.prototype.star=function(t,e,n){this.beginPath(),e+=.1*(n*=.82);for(var i=0;i<10;i++){var o=i%2==0?1.3*n:.5*n;this.lineTo(t+o*Math.sin(2*i*Math.PI/10),e-o*Math.cos(2*i*Math.PI/10))}this.closePath()},CanvasRenderingContext2D.prototype.diamond=function(t,e,n){this.beginPath(),this.lineTo(t,e+n),this.lineTo(t+n,e),this.lineTo(t,e-n),this.lineTo(t-n,e),this.closePath()},CanvasRenderingContext2D.prototype.roundRect=function(t,e,n,i,o){var r=Math.PI/180;n-2*o<0&&(o=n/2),i-2*o<0&&(o=i/2),this.beginPath(),this.moveTo(t+o,e),this.lineTo(t+n-o,e),this.arc(t+n-o,e+o,o,270*r,360*r,!1),this.lineTo(t+n,e+i-o),this.arc(t+n-o,e+i-o,o,0,90*r,!1),this.lineTo(t+o,e+i),this.arc(t+o,e+i-o,o,90*r,180*r,!1),this.lineTo(t,e+o),this.arc(t+o,e+o,o,180*r,270*r,!1),this.closePath()},CanvasRenderingContext2D.prototype.ellipse_vis=function(t,e,n,i){var o=n/2*.5522848,r=i/2*.5522848,a=t+n,s=e+i,l=t+n/2,c=e+i/2;this.beginPath(),this.moveTo(t,c),this.bezierCurveTo(t,c-r,l-o,e,l,e),this.bezierCurveTo(l+o,e,a,c-r,a,c),this.bezierCurveTo(a,c+r,l+o,s,l,s),this.bezierCurveTo(l-o,s,t,c+r,t,c),this.closePath()},CanvasRenderingContext2D.prototype.database=function(t,e,n,i){var o=i*(1/3),r=n/2*.5522848,a=o/2*.5522848,s=t+n,l=e+o,c=t+n/2,d=e+o/2,u=e+(i-o/2),h=e+i;this.beginPath(),this.moveTo(s,d),this.bezierCurveTo(s,d+a,c+r,l,c,l),this.bezierCurveTo(c-r,l,t,d+a,t,d),this.bezierCurveTo(t,d-a,c-r,e,c,e),this.bezierCurveTo(c+r,e,s,d-a,s,d),this.lineTo(s,u),this.bezierCurveTo(s,u+a,c+r,h,c,h),this.bezierCurveTo(c-r,h,t,u+a,t,u),this.lineTo(t,d)},CanvasRenderingContext2D.prototype.dashedLine=function(t,e,n,i,o){this.beginPath(),this.moveTo(t,e);for(var r=o.length,a=n-t,s=i-e,l=s/a,c=Math.sqrt(a*a+s*s),d=0,u=!0,h=0,p=o[0];.1<=c;)c<(p=o[d++%r])&&(p=c),h=Math.sqrt(p*p/(1+l*l)),t+=h=a<0?-h:h,e+=l*h,!0===u?this.lineTo(t,e):this.moveTo(t,e),c-=p,u=!u},CanvasRenderingContext2D.prototype.hexagon=function(t,e,n){this.beginPath();var i=2*Math.PI/6;this.moveTo(t+n,e);for(var o=1;o<6;o++)this.lineTo(t+n*Math.cos(i*o),e+n*Math.sin(i*o));this.closePath()})},function(t,e,n){e.en={edit:"Edit",del:"Delete selected",back:"Back",addNode:"Add Node",addEdge:"Add Edge",editNode:"Edit Node",editEdge:"Edit Edge",addDescription:"Click in an empty space to place a new node.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",createEdgeError:"Cannot link edges to a cluster.",deleteClusterError:"Clusters cannot be deleted.",editClusterError:"Clusters cannot be edited."},e.en_EN=e.en,e.en_US=e.en,e.de={edit:"Editieren",del:"Lsche Auswahl",back:"Zurck",addNode:"Knoten hinzufgen",addEdge:"Kante hinzufgen",editNode:"Knoten editieren",editEdge:"Kante editieren",addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",createEdgeError:"Es ist nicht mglich, Kanten mit Clustern zu verbinden.",deleteClusterError:"Cluster knnen nicht gelscht werden.",editClusterError:"Cluster knnen nicht editiert werden."},e.de_DE=e.de,e.es={edit:"Editar",del:"Eliminar seleccin",back:"tras",addNode:"Aadir nodo",addEdge:"Aadir arista",editNode:"Editar nodo",editEdge:"Editar arista",addDescription:"Haga clic en un lugar vaco para colocar un nuevo nodo.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",createEdgeError:"No se puede conectar una arista a un grupo.",deleteClusterError:"No es posible eliminar grupos.",editClusterError:"No es posible editar grupos."},e.es_ES=e.es,e.it={edit:"Modifica",del:"Cancella la selezione",back:"Indietro",addNode:"Aggiungi un nodo",addEdge:"Aggiungi un vertice",editNode:"Modifica il nodo",editEdge:"Modifica il vertice",addDescription:"Clicca per aggiungere un nuovo nodo",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",createEdgeError:"Non si possono collegare vertici ad un cluster",deleteClusterError:"I cluster non possono essere cancellati",editClusterError:"I clusters non possono essere modificati."},e.it_IT=e.it,e.nl={edit:"Wijzigen",del:"Selectie verwijderen",back:"Terug",addNode:"Node toevoegen",addEdge:"Link toevoegen",editNode:"Node wijzigen",editEdge:"Link wijzigen",addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",createEdgeError:"Kan geen link maken naar een cluster.",deleteClusterError:"Clusters kunnen niet worden verwijderd.",editClusterError:"Clusters kunnen niet worden aangepast."},e.nl_NL=e.nl,e.nl_BE=e.nl,e["pt-br"]={edit:"Editar",del:"Remover selecionado",back:"Voltar",addNode:"Adicionar n",addEdge:"Adicionar aresta",editNode:"Editar n",editEdge:"Editar aresta",addDescription:"Clique em um espao em branco para adicionar um novo n",edgeDescription:"Clique em um n e arraste a aresta at outro n para conect-los",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n para conect-los",createEdgeError:"No foi possvel linkar arestas a um cluster.",deleteClusterError:"Clusters no puderam ser removidos.",editClusterError:"Clusters no puderam ser editados."},e["pt-BR"]=e["pt-br"],e.pt_BR=e["pt-br"],e.pt_br=e["pt-br"],e.ru={edit:"",del:" ",back:"",addNode:" ",addEdge:" ",editNode:" ",editEdge:" ",addDescription:"   ,    .",edgeDescription:"        ,   .",editEdgeDescription:"        ,    .",createEdgeError:"    .",deleteClusterError:"    ",editClusterError:"   ."},e.ru_RU=e.ru,e.cn={edit:"",del:"",back:"",addNode:"",addEdge:"",editNode:"",editEdge:"",addDescription:"",edgeDescription:"",editEdgeDescription:"",createEdgeError:"",deleteClusterError:"",editClusterError:""},e.zh_CN=e.cn},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(0)),r=i(n(1)),a=function(){function t(){(0,o.default)(this,t),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}return(0,r.default)(t,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var t=this.image.width,e=this.image.height;this.width=t,this.height=e;var n=Math.floor(e/2),i=Math.floor(e/4),o=Math.floor(e/8),r=Math.floor(e/16),a=Math.floor(t/2),s=Math.floor(t/4),l=Math.floor(t/8),c=Math.floor(t/16);this.canvas.width=3*s,this.canvas.height=n,this.coordinates=[[0,0,a,n],[a,0,s,i],[a,i,l,o],[5*l,i,c,r]],this._fillMipMap()}}},{key:"initialized",value:function(){return void 0!==this.coordinates}},{key:"_fillMipMap",value:function(){var t=this.canvas.getContext("2d"),e=this.coordinates[0];t.drawImage(this.image,e[0],e[1],e[2],e[3]);for(var n=1;n<this.NUM_ITERATIONS;n++){var i=this.coordinates[n-1],o=this.coordinates[n];t.drawImage(this.canvas,i[0],i[1],i[2],i[3],o[0],o[1],o[2],o[3])}}},{key:"drawImageAtPosition",value:function(t,e,n,i,o,r){if(this.initialized())if(2<e){e*=.5;for(var a=0;2<e&&a<this.NUM_ITERATIONS;)e*=.5,a+=1;a>=this.NUM_ITERATIONS&&(a=this.NUM_ITERATIONS-1);var s=this.coordinates[a];t.drawImage(this.canvas,s[0],s[1],s[2],s[3],n,i,o,r)}else t.drawImage(this.image,n,i,o,r)}}]),t}();e.default=a},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(0)),r=i(n(1)),a=n(2),s=function(){function t(){(0,o.default)(this,t),this.clear(),this.defaultIndex=0,this.groupsArray=[],this.groupIndex=0,this.defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},a.extend(this.options,this.defaultOptions)}return(0,r.default)(t,[{key:"setOptions",value:function(t){var e=["useDefaultGroups"];if(void 0!==t)for(var n in t)if(t.hasOwnProperty(n)&&-1===e.indexOf(n)){var i=t[n];this.add(n,i)}}},{key:"clear",value:function(){this.groups={},this.groupsArray=[]}},{key:"get",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=this.groups[t];if(void 0===n&&e)if(!1===this.options.useDefaultGroups&&0<this.groupsArray.length){var i=this.groupIndex%this.groupsArray.length;this.groupIndex++,(n={}).color=this.groups[this.groupsArray[i]],this.groups[t]=n}else{var o=this.defaultIndex%this.defaultGroups.length;this.defaultIndex++,(n={}).color=this.defaultGroups[o],this.groups[t]=n}return n}},{key:"add",value:function(t,e){return this.groups[t]=e,this.groupsArray.push(t),e}}]),t}();e.default=s},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=i(n(0)),o=i(n(1)),s=n(2),l=n(11),c=n(12),d=n(47).default,r=function(){function r(t,e,n,i){var o=this;if((0,a.default)(this,r),this.body=t,this.images=e,this.groups=n,this.layoutEngine=i,this.body.functions.createNode=this.create.bind(this),this.nodesListeners={add:function(t,e){o.add(e.items)},update:function(t,e){o.update(e.items,e.data,e.oldData)},remove:function(t,e){o.remove(e.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:2,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,n,i){if(e===t)return.5;var o=1/(e-t);return Math.max(0,(i-t)*o)}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=s.bridgeObject(this.defaultOptions),this.bindEventListeners()}return(0,o.default)(r,[{key:"bindEventListeners",value:function(){var n=this;this.body.emitter.on("refreshNodes",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",function(){s.forEach(n.nodesListeners,function(t,e){n.body.data.nodes&&n.body.data.nodes.off(e,t)}),delete n.body.functions.createNode,delete n.nodesListeners.add,delete n.nodesListeners.update,delete n.nodesListeners.remove,delete n.nodesListeners})}},{key:"setOptions",value:function(t){if(void 0!==t){if(d.parseOptions(this.options,t),void 0!==t.shape)for(var e in this.body.nodes)this.body.nodes.hasOwnProperty(e)&&this.body.nodes[e].updateShape();if(void 0!==t.font)for(var n in this.body.nodes)this.body.nodes.hasOwnProperty(n)&&(this.body.nodes[n].updateLabelModule(),this.body.nodes[n].needsRefresh());if(void 0!==t.size)for(var i in this.body.nodes)this.body.nodes.hasOwnProperty(i)&&this.body.nodes[i].needsRefresh();void 0===t.hidden&&void 0===t.physics||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=this.body.data.nodes;if(t instanceof l||t instanceof c)this.body.data.nodes=t;else if(Array.isArray(t))this.body.data.nodes=new l,this.body.data.nodes.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new l}if(n&&s.forEach(this.nodesListeners,function(t,e){n.off(e,t)}),this.body.nodes={},this.body.data.nodes){var i=this;s.forEach(this.nodesListeners,function(t,e){i.body.data.nodes.on(e,t)});var o=this.body.data.nodes.getIds();this.add(o,!0)}!1===e&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t){for(var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=void 0,i=[],o=0;o<t.length;o++){n=t[o];var r=this.body.data.nodes.get(n),a=this.create(r);i.push(a),this.body.nodes[n]=a}this.layoutEngine.positionInitially(i),!1===e&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t,e,i){for(var n=this.body.nodes,o=!1,r=0;r<t.length;r++){var a=t[r],s=n[a],l=e[r];void 0!==s?s.setOptions(l)&&(o=!0):(o=!0,s=this.create(l),n[a]=s)}o||void 0===i||(o=e.some(function(t,e){var n=i[e];return n&&n.level!==t.level})),!0===o?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(t){for(var e=this.body.nodes,n=0;n<t.length;n++)delete e[t[n]];this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(t){return new(1<arguments.length&&void 0!==arguments[1]?arguments[1]:d)(t,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function(){var i=this,o=0<arguments.length&&void 0!==arguments[0]&&arguments[0];s.forEach(this.body.nodes,function(t,e){var n=i.body.data.nodes.get(e);void 0!==n&&(!0===o&&t.setOptions({x:null,y:null}),t.setOptions({fixed:!1}),t.setOptions(n))})}},{key:"getPositions",value:function(t){var e={};if(void 0!==t){if(!0===Array.isArray(t)){for(var n=0;n<t.length;n++)if(void 0!==this.body.nodes[t[n]]){var i=this.body.nodes[t[n]];e[t[n]]={x:Math.round(i.x),y:Math.round(i.y)}}}else if(void 0!==this.body.nodes[t]){var o=this.body.nodes[t];e[t]={x:Math.round(o.x),y:Math.round(o.y)}}}else for(var r=0;r<this.body.nodeIndices.length;r++){var a=this.body.nodes[this.body.nodeIndices[r]];e[this.body.nodeIndices[r]]={x:Math.round(a.x),y:Math.round(a.y)}}return e}},{key:"storePositions",value:function(){var t=[],e=this.body.data.nodes.getDataSet();for(var n in e._data)if(e._data.hasOwnProperty(n)){var i=this.body.nodes[n];e._data[n].x==Math.round(i.x)&&e._data[n].y==Math.round(i.y)||t.push({id:i.id,x:Math.round(i.x),y:Math.round(i.y)})}e.update(t)}},{key:"getBoundingBox",value:function(t){if(void 0!==this.body.nodes[t])return this.body.nodes[t].shape.boundingBox}},{key:"getConnectedNodes",value:function(t,e){var n=[];if(void 0!==this.body.nodes[t])for(var i=this.body.nodes[t],o={},r=0;r<i.edges.length;r++){var a=i.edges[r];"to"!==e&&a.toId==i.id?void 0===o[a.fromId]&&(n.push(a.fromId),o[a.fromId]=!0):"from"!==e&&a.fromId==i.id&&void 0===o[a.toId]&&(n.push(a.toId),o[a.toId]=!0)}return n}},{key:"getConnectedEdges",value:function(t){var e=[];if(void 0!==this.body.nodes[t])for(var n=this.body.nodes[t],i=0;i<n.edges.length;i++)e.push(n.edges[i].id);else console.log("NodeId provided for getConnectedEdges does not exist. Provided: ",t);return e}},{key:"moveNode",value:function(t,e,n){var i=this;void 0!==this.body.nodes[t]?(this.body.nodes[t].x=Number(e),this.body.nodes[t].y=Number(n),setTimeout(function(){i.body.emitter.emit("startSimulation")},0)):console.log("Node id supplied to moveNode does not exist. Provided: ",t)}}]),r}();e.default=r},function(t,e,n){t.exports={default:n(189),__esModule:!0}},function(t,e,n){n(49),n(60),t.exports=n(190)},function(t,e,n){var i=n(86),o=n(13)("iterator"),r=n(31);t.exports=n(7).isIterable=function(t){var e=Object(t);return void 0!==e[o]||"@@iterator"in e||r.hasOwnProperty(i(e))}},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var l=i(n(0)),o=i(n(1)),c=n(192).default,f=n(48).default,r=function(){function e(o,t,r,a){var s=this;(0,l.default)(this,e),this.ctx=o,this.parent=t;this.lines=new c(function(t,e){if(void 0===t)return 0;var n=s.parent.getFormattingValues(o,r,a,e),i=0;return""!==t&&(i=s.ctx.measureText(t).width),{width:i,values:n}})}return(0,o.default)(e,[{key:"process",value:function(t){if(!f.isValidLabel(t))return this.lines.finalize();var e=this.parent.fontOptions;t=(t=t.replace(/\r\n/g,"\n")).replace(/\r/g,"\n");var n=String(t).split("\n"),i=n.length;if(e.multi)for(var o=0;o<i;o++){var r=this.splitBlocks(n[o],e.multi);if(void 0!==r)if(0!==r.length){if(0<e.maxWdt)for(var a=0;a<r.length;a++){var s=r[a].mod,l=r[a].text;this.splitStringIntoLines(l,s,!0)}else for(var c=0;c<r.length;c++){var d=r[c].mod,u=r[c].text;this.lines.append(u,d)}this.lines.newLine()}else this.lines.newLine("")}else if(0<e.maxWdt)for(var h=0;h<i;h++)this.splitStringIntoLines(n[h]);else for(var p=0;p<i;p++)this.lines.newLine(n[p]);return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function(t){var e="none";return"markdown"===t||"md"===t?e="markdown":!0!==t&&"html"!==t||(e="html"),e}},{key:"splitHtmlBlocks",value:function(t){for(var e=[],n={bold:!1,ital:!1,mono:!1,spacing:!1,position:0,buffer:"",modStack:[],mod:function(){return 0===this.modStack.length?"normal":this.modStack[0]},modName:function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":n.bold&&n.ital?"boldital":n.bold?"bold":n.ital?"ital":void 0},emitBlock:function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0],this.spacing&&(this.add(" "),this.spacing=!1),0<this.buffer.length&&(e.push({text:this.buffer,mod:this.modName()}),this.buffer="")},add:function(t){" "===t&&(n.spacing=!0),n.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=t&&(this.buffer+=t)}};n.position<t.length;){var i=t.charAt(n.position);/[ \t]/.test(i)?n.mono?n.add(i):n.spacing=!0:/</.test(i)?n.mono||n.bold||!/<b>/.test(t.substr(n.position,3))?n.mono||n.ital||!/<i>/.test(t.substr(n.position,3))?!n.mono&&/<code>/.test(t.substr(n.position,6))?(n.emitBlock(),n.mono=!0,n.modStack.unshift("mono"),n.position+=5):!n.mono&&"bold"===n.mod()&&/<\/b>/.test(t.substr(n.position,4))?(n.emitBlock(),n.bold=!1,n.modStack.shift(),n.position+=3):!n.mono&&"ital"===n.mod()&&/<\/i>/.test(t.substr(n.position,4))?(n.emitBlock(),n.ital=!1,n.modStack.shift(),n.position+=3):"mono"===n.mod()&&/<\/code>/.test(t.substr(n.position,7))?(n.emitBlock(),n.mono=!1,n.modStack.shift(),n.position+=6):n.add(i):(n.emitBlock(),n.ital=!0,n.modStack.unshift("ital"),n.position+=2):(n.emitBlock(),n.bold=!0,n.modStack.unshift("bold"),n.position+=2):/&/.test(i)?/&lt;/.test(t.substr(n.position,4))?(n.add("<"),n.position+=3):/&amp;/.test(t.substr(n.position,5))?(n.add("&"),n.position+=4):n.add("&"):n.add(i),n.position++}return n.emitBlock(),e}},{key:"splitMarkdownBlocks",value:function(t){for(var e=[],n={bold:!1,ital:!1,mono:!1,beginable:!0,spacing:!1,position:0,buffer:"",modStack:[],mod:function(){return 0===this.modStack.length?"normal":this.modStack[0]},modName:function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":n.bold&&n.ital?"boldital":n.bold?"bold":n.ital?"ital":void 0},emitBlock:function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0],this.spacing&&(this.add(" "),this.spacing=!1),0<this.buffer.length&&(e.push({text:this.buffer,mod:this.modName()}),this.buffer="")},add:function(t){" "===t&&(n.spacing=!0),n.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=t&&(this.buffer+=t)}};n.position<t.length;){var i=t.charAt(n.position);/[ \t]/.test(i)?(n.mono?n.add(i):n.spacing=!0,n.beginable=!0):/\\/.test(i)?n.position<t.length+1&&(n.position++,i=t.charAt(n.position),/ \t/.test(i)?n.spacing=!0:(n.add(i),n.beginable=!1)):n.mono||n.bold||!n.beginable&&!n.spacing||!/\*/.test(i)?n.mono||n.ital||!n.beginable&&!n.spacing||!/\_/.test(i)?!n.mono&&(n.beginable||n.spacing)&&/`/.test(i)?(n.emitBlock(),n.mono=!0,n.modStack.unshift("mono")):!n.mono&&"bold"===n.mod()&&/\*/.test(i)?n.position===t.length-1||/[.,_` \t\n]/.test(t.charAt(n.position+1))?(n.emitBlock(),n.bold=!1,n.modStack.shift()):n.add(i):!n.mono&&"ital"===n.mod()&&/\_/.test(i)?n.position===t.length-1||/[.,*` \t\n]/.test(t.charAt(n.position+1))?(n.emitBlock(),n.ital=!1,n.modStack.shift()):n.add(i):n.mono&&"mono"===n.mod()&&/`/.test(i)?n.position===t.length-1||/[.,*_ \t\n]/.test(t.charAt(n.position+1))?(n.emitBlock(),n.mono=!1,n.modStack.shift()):n.add(i):(n.add(i),n.beginable=!1):(n.emitBlock(),n.ital=!0,n.modStack.unshift("ital")):(n.emitBlock(),n.bold=!0,n.modStack.unshift("bold")),n.position++}return n.emitBlock(),e}},{key:"splitBlocks",value:function(t,e){var n=this.decodeMarkupSystem(e);return"none"===n?[{text:t,mod:"normal"}]:"markdown"===n?this.splitMarkdownBlocks(t):"html"===n?this.splitHtmlBlocks(t):void 0}},{key:"overMaxWidth",value:function(t){var e=this.ctx.measureText(t).width;return this.lines.curWidth()+e>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function(t){for(var e="",n=0;n<t.length;){var i=e+(""===e?"":" ")+t[n];if(this.overMaxWidth(i))break;e=i,n++}return n}},{key:"getLongestFitWord",value:function(t){for(var e=0;e<t.length&&!this.overMaxWidth(t.slice(0,e));)e++;return e}},{key:"splitStringIntoLines",value:function(t){for(var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"normal",n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],i=(t=(t=t.replace(/^( +)/g,"$1\r")).replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r")).split("\r");0<i.length;){var o=this.getLongestFit(i);if(0===o){var r=i[0],a=this.getLongestFitWord(r);this.lines.newLine(r.slice(0,a),e),i[0]=r.slice(a)}else{var s=o;" "===i[o-1]?o--:" "===i[s]&&s++;var l=i.slice(0,o).join("");o==i.length&&n?this.lines.append(l,e):this.lines.newLine(l,e),i=i.slice(s)}}}}]),e}();e.default=r},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var l=i(n(90)),o=i(n(0)),r=i(n(1)),a=function(){function e(t){(0,o.default)(this,e),this.measureText=t,this.current=0,this.width=0,this.height=0,this.lines=[]}return(0,r.default)(e,[{key:"_add",value:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"normal";void 0===this.lines[t]&&(this.lines[t]={width:0,height:0,blocks:[]});var i=e;void 0!==e&&""!==e||(i=" ");var o=this.measureText(i,n),r=(0,l.default)({},o.values);r.text=e,r.width=o.width,r.mod=n,void 0!==e&&""!==e||(r.width=0),this.lines[t].blocks.push(r),this.lines[t].width+=r.width}},{key:"curWidth",value:function(){var t=this.lines[this.current];return void 0===t?0:t.width}},{key:"append",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,t,e)}},{key:"newLine",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,t,e),this.current++}},{key:"determineLineHeights",value:function(){for(var t=0;t<this.lines.length;t++){var e=this.lines[t],n=0;if(void 0!==e.blocks)for(var i=0;i<e.blocks.length;i++){var o=e.blocks[i];n<o.height&&(n=o.height)}e.height=n}}},{key:"determineLabelSize",value:function(){for(var t=0,e=0,n=0;n<this.lines.length;n++){var i=this.lines[n];i.width>t&&(t=i.width),e+=i.height}this.width=t,this.height=e}},{key:"removeEmptyBlocks",value:function(){for(var t=[],e=0;e<this.lines.length;e++){var n=this.lines[e];if(0!==n.blocks.length&&(e!==this.lines.length-1||0!==n.width)){var i={};(0,l.default)(i,n),i.blocks=[];for(var o=void 0,r=[],a=0;a<n.blocks.length;a++){var s=n.blocks[a];0!==s.width?r.push(s):void 0===o&&(o=s)}0===r.length&&void 0!==o&&r.push(o),i.blocks=r,t.push(i)}}return t}},{key:"finalize",value:function(){this.determineLineHeights(),this.determineLabelSize();var t=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:t}}}]),e}();e.default=a},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(3)),a=i(n(0)),s=i(n(1)),l=i(n(4)),c=i(n(5)),o=function(t){function o(t,e,n){(0,a.default)(this,o);var i=(0,l.default)(this,(o.__proto__||(0,r.default)(o)).call(this,t,e,n));return i._setMargins(n),i}return(0,c.default)(o,t),(0,s.default)(o,[{key:"resize",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.selected,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,n)){var i=this.getDimensionsFromLabel(t,e,n);this.width=i.width+this.margin.right+this.margin.left,this.height=i.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}},{key:"draw",value:function(t,e,n,i,o,r){this.resize(t,i,o),this.left=e-this.width/2,this.top=n-this.height/2,this.initContextForDraw(t,r),t.roundRect(this.left,this.top,this.width,this.height,r.borderRadius),this.performFill(t,r),this.updateBoundingBox(e,n,t,i,o),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,o)}},{key:"updateBoundingBox",value:function(t,e,n,i,o){this._updateBoundingBox(t,e,n,i,o);var r=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(r)}},{key:"distanceToBorder",value:function(t,e){this.resize(t);var n=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+n}}]),o}(i(n(23)).default);e.default=o},function(t,e,n){n(195),t.exports=n(7).Object.getPrototypeOf},function(t,e,n){var i=n(41),o=n(85);n(87)("getPrototypeOf",function(){return function(t){return o(i(t))}})},function(t,e,n){t.exports={default:n(197),__esModule:!0}},function(t,e,n){n(198),t.exports=n(7).Object.setPrototypeOf},function(t,e,n){var i=n(17);i(i.S,"Object",{setPrototypeOf:n(199).set})},function(t,e,o){var n=o(32),i=o(27),r=function(t,e){if(i(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,i){try{(i=o(80)(Function.call,o(89).f(Object.prototype,"__proto__").set,2))(t,[]),n=!(t instanceof Array)}catch(t){n=!0}return function(t,e){return r(t,e),n?t.__proto__=e:i(t,e),t}}({},!1):void 0),check:r}},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(3)),a=i(n(0)),s=i(n(1)),l=i(n(4)),c=i(n(5)),o=function(t){function o(t,e,n){(0,a.default)(this,o);var i=(0,l.default)(this,(o.__proto__||(0,r.default)(o)).call(this,t,e,n));return i._setMargins(n),i}return(0,c.default)(o,t),(0,s.default)(o,[{key:"resize",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.selected,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,n)){var i=this.getDimensionsFromLabel(t,e,n),o=Math.max(i.width+this.margin.right+this.margin.left,i.height+this.margin.top+this.margin.bottom);this.options.size=o/2,this.width=o,this.height=o,this.radius=this.width/2}}},{key:"draw",value:function(t,e,n,i,o,r){this.resize(t,i,o),this.left=e-this.width/2,this.top=n-this.height/2,this._drawRawCircle(t,e,n,r),this.updateBoundingBox(e,n),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,n,i,o)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size}},{key:"distanceToBorder",value:function(t,e){return this.resize(t),.5*this.width}}]),o}(i(n(73)).default);e.default=o},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(n(3)),l=i(n(0)),o=i(n(1)),c=i(n(4)),r=i(n(5)),a=function(t){function a(t,e,n,i,o){(0,l.default)(this,a);var r=(0,c.default)(this,(a.__proto__||(0,s.default)(a)).call(this,t,e,n));return r.setImages(i,o),r}return(0,r.default)(a,t),(0,o.default)(a,[{key:"resize",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.selected,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.hover;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){var i=2*this.options.size;return this.width=i,this.height=i,void(this.radius=.5*this.width)}this.needsRefresh(e,n)&&this._resizeImage()}},{key:"draw",value:function(t,e,n,i,o,r){this.switchImages(i),this.resize(),this.left=e-this.width/2,this.top=n-this.height/2,this._drawRawCircle(t,e,n,r),t.save(),t.clip(),this._drawImageAtPosition(t,r),t.restore(),this._drawImageLabel(t,e,n,i,o),this.updateBoundingBox(e,n)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size,this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(t,e){return this.resize(t),.5*this.width}}]),a}(i(n(73)).default);e.default=a},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(3)),a=i(n(0)),s=i(n(1)),l=i(n(4)),c=i(n(5)),o=function(t){function o(t,e,n){(0,a.default)(this,o);var i=(0,l.default)(this,(o.__proto__||(0,r.default)(o)).call(this,t,e,n));return i._setMargins(n),i}return(0,c.default)(o,t),(0,s.default)(o,[{key:"resize",value:function(t,e,n){if(this.needsRefresh(e,n)){var i=this.getDimensionsFromLabel(t,e,n).width+this.margin.right+this.margin.left;this.width=i,this.height=i,this.radius=this.width/2}}},{key:"draw",value:function(t,e,n,i,o,r){this.resize(t,i,o),this.left=e-this.width/2,this.top=n-this.height/2,this.initContextForDraw(t,r),t.database(e-this.width/2,n-this.height/2,this.width,this.height),this.performFill(t,r),this.updateBoundingBox(e,n,t,i,o),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),o}(i(n(23)).default);e.default=o},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(3)),r=i(n(0)),a=i(n(1)),s=i(n(4)),l=i(n(5)),c=function(t){function i(t,e,n){return(0,r.default)(this,i),(0,s.default)(this,(i.__proto__||(0,o.default)(i)).call(this,t,e,n))}return(0,l.default)(i,t),(0,a.default)(i,[{key:"draw",value:function(t,e,n,i,o,r){this._drawShape(t,"diamond",4,e,n,i,o,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),i}(i(n(24)).default);e.default=c},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(3)),r=i(n(0)),a=i(n(1)),s=i(n(4)),l=i(n(5)),c=function(t){function i(t,e,n){return(0,r.default)(this,i),(0,s.default)(this,(i.__proto__||(0,o.default)(i)).call(this,t,e,n))}return(0,l.default)(i,t),(0,a.default)(i,[{key:"draw",value:function(t,e,n,i,o,r){this._drawShape(t,"circle",2,e,n,i,o,r)}},{key:"distanceToBorder",value:function(t,e){return this.resize(t),this.options.size}}]),i}(i(n(24)).default);e.default=c},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(3)),r=i(n(0)),a=i(n(1)),s=i(n(4)),l=i(n(5)),c=function(t){function i(t,e,n){return(0,r.default)(this,i),(0,s.default)(this,(i.__proto__||(0,o.default)(i)).call(this,t,e,n))}return(0,l.default)(i,t),(0,a.default)(i,[{key:"resize",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.selected,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,n)){var i=this.getDimensionsFromLabel(t,e,n);this.height=2*i.height,this.width=i.width+i.height,this.radius=.5*this.width}}},{key:"draw",value:function(t,e,n,i,o,r){this.resize(t,i,o),this.left=e-.5*this.width,this.top=n-.5*this.height,this.initContextForDraw(t,r),t.ellipse_vis(this.left,this.top,this.width,this.height),this.performFill(t,r),this.updateBoundingBox(e,n,t,i,o),this.labelModule.draw(t,e,n,i,o)}},{key:"distanceToBorder",value:function(t,e){this.resize(t);var n=.5*this.width,i=.5*this.height,o=Math.sin(e)*n,r=Math.cos(e)*i;return n*i/Math.sqrt(o*o+r*r)}}]),i}(i(n(23)).default);e.default=c},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(3)),a=i(n(0)),s=i(n(1)),l=i(n(4)),c=i(n(5)),o=function(t){function o(t,e,n){(0,a.default)(this,o);var i=(0,l.default)(this,(o.__proto__||(0,r.default)(o)).call(this,t,e,n));return i._setMargins(n),i}return(0,c.default)(o,t),(0,s.default)(o,[{key:"resize",value:function(t,e,n){this.needsRefresh(e,n)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(t,e,n,i,o,r){this.resize(t,i,o),this.options.icon.size=this.options.icon.size||50,this.left=e-this.width/2,this.top=n-this.height/2,this._icon(t,e,n,i,o,r),void 0!==this.options.label&&this.labelModule.draw(t,this.left+this.iconSize.width/2+this.margin.left,n+this.height/2+5,i),this.updateBoundingBox(e,n)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-.5*this.options.icon.size,this.boundingBox.left=t-.5*this.options.icon.size,this.boundingBox.right=t+.5*this.options.icon.size,this.boundingBox.bottom=e+.5*this.options.icon.size,void 0!==this.options.label&&0<this.labelModule.size.width&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}},{key:"_icon",value:function(t,e,n,i,o,r){var a=Number(this.options.icon.size);void 0!==this.options.icon.code?(t.font=(i?"bold ":"")+a+"px "+this.options.icon.face,t.fillStyle=this.options.icon.color||"black",t.textAlign="center",t.textBaseline="middle",this.enableShadow(t,r),t.fillText(this.options.icon.code,e,n),this.disableShadow(t,r)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),o}(i(n(23)).default);e.default=o},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(n(3)),l=i(n(0)),o=i(n(1)),c=i(n(4)),r=i(n(5)),a=function(t){function a(t,e,n,i,o){(0,l.default)(this,a);var r=(0,c.default)(this,(a.__proto__||(0,s.default)(a)).call(this,t,e,n));return r.setImages(i,o),r}return(0,r.default)(a,t),(0,o.default)(a,[{key:"resize",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.selected,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.hover;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){var i=2*this.options.size;return this.width=i,void(this.height=i)}this.needsRefresh(e,n)&&this._resizeImage()}},{key:"draw",value:function(t,e,n,i,o,r){if(this.switchImages(i),this.resize(),this.left=e-this.width/2,this.top=n-this.height/2,!0===this.options.shapeProperties.useBorderWithImage){var a=this.options.borderWidth,s=this.options.borderWidthSelected||2*this.options.borderWidth,l=(i?s:a)/this.body.view.scale;t.lineWidth=Math.min(this.width,l),t.beginPath(),t.strokeStyle=i?this.options.color.highlight.border:o?this.options.color.hover.border:this.options.color.border,t.fillStyle=i?this.options.color.highlight.background:o?this.options.color.hover.background:this.options.color.background,t.rect(this.left-.5*t.lineWidth,this.top-.5*t.lineWidth,this.width+t.lineWidth,this.height+t.lineWidth),t.fill(),this.performStroke(t,r),t.closePath()}this._drawImageAtPosition(t,r),this._drawImageLabel(t,e,n,i,o),this.updateBoundingBox(e,n)}},{key:"updateBoundingBox",value:function(t,e){this.resize(),this._updateBoundingBox(t,e),void 0!==this.options.label&&0<this.labelModule.size.width&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),a}(i(n(73)).default);e.default=a},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(3)),r=i(n(0)),a=i(n(1)),s=i(n(4)),l=i(n(5)),c=function(t){function i(t,e,n){return(0,r.default)(this,i),(0,s.default)(this,(i.__proto__||(0,o.default)(i)).call(this,t,e,n))}return(0,l.default)(i,t),(0,a.default)(i,[{key:"draw",value:function(t,e,n,i,o,r){this._drawShape(t,"square",2,e,n,i,o,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),i}(i(n(24)).default);e.default=c},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(3)),r=i(n(0)),a=i(n(1)),s=i(n(4)),l=i(n(5)),c=function(t){function i(t,e,n){return(0,r.default)(this,i),(0,s.default)(this,(i.__proto__||(0,o.default)(i)).call(this,t,e,n))}return(0,l.default)(i,t),(0,a.default)(i,[{key:"draw",value:function(t,e,n,i,o,r){this._drawShape(t,"hexagon",4,e,n,i,o,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),i}(i(n(24)).default);e.default=c},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(3)),r=i(n(0)),a=i(n(1)),s=i(n(4)),l=i(n(5)),c=function(t){function i(t,e,n){return(0,r.default)(this,i),(0,s.default)(this,(i.__proto__||(0,o.default)(i)).call(this,t,e,n))}return(0,l.default)(i,t),(0,a.default)(i,[{key:"draw",value:function(t,e,n,i,o,r){this._drawShape(t,"star",4,e,n,i,o,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),i}(i(n(24)).default);e.default=c},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(3)),a=i(n(0)),s=i(n(1)),l=i(n(4)),c=i(n(5)),o=function(t){function o(t,e,n){(0,a.default)(this,o);var i=(0,l.default)(this,(o.__proto__||(0,r.default)(o)).call(this,t,e,n));return i._setMargins(n),i}return(0,c.default)(o,t),(0,s.default)(o,[{key:"resize",value:function(t,e,n){this.needsRefresh(e,n)&&(this.textSize=this.labelModule.getTextSize(t,e,n),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(t,e,n,i,o,r){this.resize(t,i,o),this.left=e-this.width/2,this.top=n-this.height/2,this.enableShadow(t,r),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,o),this.disableShadow(t,r),this.updateBoundingBox(e,n,t,i,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),o}(i(n(23)).default);e.default=o},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(3)),r=i(n(0)),a=i(n(1)),s=i(n(4)),l=i(n(5)),c=function(t){function i(t,e,n){return(0,r.default)(this,i),(0,s.default)(this,(i.__proto__||(0,o.default)(i)).call(this,t,e,n))}return(0,l.default)(i,t),(0,a.default)(i,[{key:"draw",value:function(t,e,n,i,o,r){this._drawShape(t,"triangle",3,e,n,i,o,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),i}(i(n(24)).default);e.default=c},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(3)),r=i(n(0)),a=i(n(1)),s=i(n(4)),l=i(n(5)),c=function(t){function i(t,e,n){return(0,r.default)(this,i),(0,s.default)(this,(i.__proto__||(0,o.default)(i)).call(this,t,e,n))}return(0,l.default)(i,t),(0,a.default)(i,[{key:"draw",value:function(t,e,n,i,o,r){this._drawShape(t,"triangleDown",3,e,n,i,o,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),i}(i(n(24)).default);e.default=c},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),a=i(n(1)),l=n(2),s=n(11),c=n(12),d=n(74).default,o=function(){function o(t,e,n){var i=this;(0,r.default)(this,o),this.body=t,this.images=e,this.groups=n,this.body.functions.createEdge=this.create.bind(this),this.edgesListeners={add:function(t,e){i.add(e.items)},update:function(t,e){i.update(e.items)},remove:function(t,e){i.remove(e.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,n,i){if(e===t)return.5;var o=1/(e-t);return Math.max(0,(i-t)*o)}},selectionWidth:1.5,selfReferenceSize:20,shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},l.deepExtend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,a.default)(o,[{key:"bindEventListeners",value:function(){var s=this;this.body.emitter.on("_forceDisableDynamicCurves",function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];"dynamic"===t&&(t="continuous");var n=!1;for(var i in s.body.edges)if(s.body.edges.hasOwnProperty(i)){var o=s.body.edges[i],r=s.body.data.edges._data[i];if(void 0!==r){var a=r.smooth;void 0!==a&&!0===a.enabled&&"dynamic"===a.type&&(void 0===t?o.setOptions({smooth:!1}):o.setOptions({smooth:{type:t}}),n=!0)}}!0===e&&!0===n&&s.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",function(){s.reconnectEdges()}),this.body.emitter.on("refreshEdges",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",function(){l.forEach(s.edgesListeners,function(t,e){s.body.data.edges&&s.body.data.edges.off(e,t)}),delete s.body.functions.createEdge,delete s.edgesListeners.add,delete s.edgesListeners.update,delete s.edgesListeners.remove,delete s.edgesListeners})}},{key:"setOptions",value:function(t){if(void 0!==t){d.parseOptions(this.options,t,!0,this.defaultOptions,!0);var e=!1;if(void 0!==t.smooth)for(var n in this.body.edges)this.body.edges.hasOwnProperty(n)&&(e=this.body.edges[n].updateEdgeType()||e);if(void 0!==t.font)for(var i in this.body.edges)this.body.edges.hasOwnProperty(i)&&this.body.edges[i].updateLabelModule();void 0===t.hidden&&void 0===t.physics&&!0!==e||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t){var n=this,e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],i=this.body.data.edges;if(t instanceof s||t instanceof c)this.body.data.edges=t;else if(Array.isArray(t))this.body.data.edges=new s,this.body.data.edges.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.edges=new s}if(i&&l.forEach(this.edgesListeners,function(t,e){i.off(e,t)}),this.body.edges={},this.body.data.edges){l.forEach(this.edgesListeners,function(t,e){n.body.data.edges.on(e,t)});var o=this.body.data.edges.getIds();this.add(o,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===e&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t){for(var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=this.body.edges,i=this.body.data.edges,o=0;o<t.length;o++){var r=t[o],a=n[r];a&&a.disconnect();var s=i.get(r,{showInternalIds:!0});n[r]=this.create(s)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===e&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t){for(var e=this.body.edges,n=this.body.data.edges,i=!1,o=0;o<t.length;o++){var r=t[o],a=n.get(r),s=e[r];void 0!==s?(s.disconnect(),i=s.setOptions(a)||i,s.connect()):(this.body.edges[r]=this.create(a),i=!0)}!0===i?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(0!==t.length){var n=this.body.edges;l.forEach(t,function(t){var e=n[t];void 0!==e&&e.remove()}),e&&this.body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function(){var i=this;l.forEach(this.body.edges,function(t,e){var n=i.body.data.edges._data[e];void 0!==n&&t.setOptions(n)})}},{key:"create",value:function(t){return new d(t,this.body,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function(){var t,e=this.body.nodes,n=this.body.edges;for(t in e)e.hasOwnProperty(t)&&(e[t].edges=[]);for(t in n)if(n.hasOwnProperty(t)){var i=n[t];i.from=null,i.to=null,i.connect()}}},{key:"getConnectedNodes",value:function(t){var e=[];if(void 0!==this.body.edges[t]){var n=this.body.edges[t];void 0!==n.fromId&&e.push(n.fromId),void 0!==n.toId&&e.push(n.toId)}return e}},{key:"_updateState",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function(){var o=this,r=[];l.forEach(this.body.edges,function(t,e){var n=o.body.nodes[t.toId],i=o.body.nodes[t.fromId];void 0!==n&&!0===n.isCluster||void 0!==i&&!0===i.isCluster||void 0!==n&&void 0!==i||r.push(e)}),this.remove(r,!1)}},{key:"_addMissingEdges",value:function(){var n=this.body.edges,t=this.body.data.edges,i=[];t.forEach(function(t,e){void 0===n[e]&&i.push(e)}),this.add(i,!0)}}]),o}();e.default=o},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var d=i(n(30)),o=i(n(3)),r=i(n(0)),a=i(n(1)),s=i(n(4)),l=i(n(5)),c=function(t){function i(t,e,n){return(0,r.default)(this,i),(0,s.default)(this,(i.__proto__||(0,o.default)(i)).call(this,t,e,n))}return(0,l.default)(i,t),(0,a.default)(i,[{key:"_line",value:function(t,e,n){var i=n[0],o=n[1];this._bezierCurve(t,e,i,o)}},{key:"_getViaCoordinates",value:function(){var t=this.from.x-this.to.x,e=this.from.y-this.to.y,n=void 0,i=void 0,o=void 0,r=void 0,a=this.options.smooth.roundness;return o=(Math.abs(t)>Math.abs(e)||!0===this.options.smooth.forceDirection||"horizontal"===this.options.smooth.forceDirection)&&"vertical"!==this.options.smooth.forceDirection?(i=this.from.y,r=this.to.y,n=this.from.x-a*t,this.to.x+a*t):(i=this.from.y-a*e,r=this.to.y+a*e,n=this.from.x,this.to.x),[{x:n,y:i},{x:o,y:r}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(t,e){return this._findBorderPositionBezier(t,e)}},{key:"_getDistanceToEdge",value:function(t,e,n,i,o,r){var a=6<arguments.length&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates(),s=(0,d.default)(a,2),l=s[0],c=s[1];return this._getDistanceToBezierEdge(t,e,n,i,o,r,l,c)}},{key:"getPoint",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),n=(0,d.default)(e,2),i=n[0],o=n[1],r=t,a=[];return a[0]=Math.pow(1-r,3),a[1]=3*r*Math.pow(1-r,2),a[2]=3*Math.pow(r,2)*(1-r),a[3]=Math.pow(r,3),{x:a[0]*this.fromPoint.x+a[1]*i.x+a[2]*o.x+a[3]*this.toPoint.x,y:a[0]*this.fromPoint.y+a[1]*i.y+a[2]*o.y+a[3]*this.toPoint.y}}}]),i}(i(n(216)).default);e.default=c},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(3)),r=i(n(0)),a=i(n(1)),s=i(n(4)),l=i(n(5)),c=function(t){function i(t,e,n){return(0,r.default)(this,i),(0,s.default)(this,(i.__proto__||(0,o.default)(i)).call(this,t,e,n))}return(0,l.default)(i,t),(0,a.default)(i,[{key:"_getDistanceToBezierEdge",value:function(t,e,n,i,o,r,a,s){var l=1e9,c=void 0,d=void 0,u=void 0,h=void 0,p=void 0,f=t,m=e,g=[0,0,0,0];for(d=1;d<10;d++)u=.1*d,g[0]=Math.pow(1-u,3),g[1]=3*u*Math.pow(1-u,2),g[2]=3*Math.pow(u,2)*(1-u),g[3]=Math.pow(u,3),h=g[0]*t+g[1]*a.x+g[2]*s.x+g[3]*n,p=g[0]*e+g[1]*a.y+g[2]*s.y+g[3]*i,0<d&&(l=(c=this._getDistanceToLine(f,m,h,p,o,r))<l?c:l),f=h,m=p;return l}}]),i}(i(n(75)).default);e.default=c},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var u=i(n(30)),r=i(n(3)),a=i(n(0)),s=i(n(1)),l=i(n(4)),c=i(n(5)),o=function(t){function o(t,e,n){(0,a.default)(this,o);var i=(0,l.default)(this,(o.__proto__||(0,r.default)(o)).call(this,t,e,n));return i._boundFunction=function(){i.positionBezierNode()},i.body.emitter.on("_repositionBezierNodes",i._boundFunction),i}return(0,c.default)(o,t),(0,s.default)(o,[{key:"setOptions",value:function(t){var e=!1;this.options.physics!==t.physics&&(e=!0),this.options=t,this.id=this.options.id,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.setupSupportNode(),this.connect(),!0===e&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],void 0===this.from||void 0===this.to||!1===this.options.physics?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}},{key:"cleanup",value:function(){return this.body.emitter.off("_repositionBezierNodes",this._boundFunction),void 0!==this.via&&(delete this.body.nodes[this.via.id],!(this.via=void 0))}},{key:"setupSupportNode",value:function(){if(void 0===this.via){var t="edgeId:"+this.id,e=this.body.functions.createNode({id:t,shape:"circle",physics:!0,hidden:!0});this.body.nodes[t]=e,this.via=e,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(t,e,n){this._bezierCurve(t,e,n)}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.via,n=t,i=void 0,o=void 0;if(this.from===this.to){var r=this._getCircleData(this.from),a=(0,u.default)(r,3),s=a[0],l=a[1],c=a[2],d=2*Math.PI*(1-n);i=s+c*Math.sin(d),o=l+c-c*(1-Math.cos(d))}else i=Math.pow(1-n,2)*this.fromPoint.x+2*n*(1-n)*e.x+Math.pow(n,2)*this.toPoint.x,o=Math.pow(1-n,2)*this.fromPoint.y+2*n*(1-n)*e.y+Math.pow(n,2)*this.toPoint.y;return{x:i,y:o}}},{key:"_findBorderPosition",value:function(t,e){return this._findBorderPositionBezier(t,e,this.via)}},{key:"_getDistanceToEdge",value:function(t,e,n,i,o,r){return this._getDistanceToBezierEdge(t,e,n,i,o,r,this.via)}}]),o}(i(n(75)).default);e.default=o},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(3)),r=i(n(0)),a=i(n(1)),s=i(n(4)),l=i(n(5)),c=function(t){function i(t,e,n){return(0,r.default)(this,i),(0,s.default)(this,(i.__proto__||(0,o.default)(i)).call(this,t,e,n))}return(0,l.default)(i,t),(0,a.default)(i,[{key:"_line",value:function(t,e,n){this._bezierCurve(t,e,n)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var t=void 0,e=void 0,n=this.options.smooth.roundness,i=this.options.smooth.type,o=Math.abs(this.from.x-this.to.x),r=Math.abs(this.from.y-this.to.y);if("discrete"===i||"diagonalCross"===i){var a=void 0,s=void 0;a=s=o<=r?n*r:n*o,this.from.x>this.to.x&&(a=-a),this.from.y>=this.to.y&&(s=-s),t=this.from.x+a,e=this.from.y+s,"discrete"===i&&(o<=r?t=o<n*r?this.from.x:t:e=r<n*o?this.from.y:e)}else if("straightCross"===i){var l=(1-n)*o,c=(1-n)*r;o<=r?(l=0,this.from.y<this.to.y&&(c=-c)):(this.from.x<this.to.x&&(l=-l),c=0),t=this.to.x+l,e=this.to.y+c}else if("horizontal"===i){var d=(1-n)*o;this.from.x<this.to.x&&(d=-d),t=this.to.x+d,e=this.from.y}else if("vertical"===i){var u=(1-n)*r;this.from.y<this.to.y&&(u=-u),t=this.from.x,e=this.to.y+u}else if("curvedCW"===i){o=this.to.x-this.from.x,r=this.from.y-this.to.y;var h=Math.sqrt(o*o+r*r),p=Math.PI,f=(Math.atan2(r,o)+(.5*n+.5)*p)%(2*p);t=this.from.x+(.5*n+.5)*h*Math.sin(f),e=this.from.y+(.5*n+.5)*h*Math.cos(f)}else if("curvedCCW"===i){o=this.to.x-this.from.x,r=this.from.y-this.to.y;var m=Math.sqrt(o*o+r*r),g=Math.PI,v=(Math.atan2(r,o)+(.5*-n+.5)*g)%(2*g);t=this.from.x+(.5*n+.5)*m*Math.sin(v),e=this.from.y+(.5*n+.5)*m*Math.cos(v)}else{var y=void 0,b=void 0;y=b=o<=r?n*r:n*o,this.from.x>this.to.x&&(y=-y),this.from.y>=this.to.y&&(b=-b),t=this.from.x+y,e=this.from.y+b,o<=r?t=this.from.x<=this.to.x?this.to.x<t?this.to.x:t:this.to.x>t?this.to.x:t:e=this.from.y>=this.to.y?this.to.y>e?this.to.y:e:this.to.y<e?this.to.y:e}return{x:t,y:e}}},{key:"_findBorderPosition",value:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return this._findBorderPositionBezier(t,e,n.via)}},{key:"_getDistanceToEdge",value:function(t,e,n,i,o,r){var a=6<arguments.length&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(t,e,n,i,o,r,a)}},{key:"getPoint",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),n=t;return{x:Math.pow(1-n,2)*this.fromPoint.x+2*n*(1-n)*e.x+Math.pow(n,2)*this.toPoint.x,y:Math.pow(1-n,2)*this.fromPoint.y+2*n*(1-n)*e.y+Math.pow(n,2)*this.toPoint.y}}}]),i}(i(n(75)).default);e.default=c},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(3)),r=i(n(0)),a=i(n(1)),s=i(n(4)),l=i(n(5)),c=function(t){function i(t,e,n){return(0,r.default)(this,i),(0,s.default)(this,(i.__proto__||(0,o.default)(i)).call(this,t,e,n))}return(0,l.default)(i,t),(0,a.default)(i,[{key:"_line",value:function(t,e){t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),t.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(t){return{x:(1-t)*this.fromPoint.x+t*this.toPoint.x,y:(1-t)*this.fromPoint.y+t*this.toPoint.y}}},{key:"_findBorderPosition",value:function(t,e){var n=this.to,i=this.from;t.id===this.from.id&&(n=this.from,i=this.to);var o=Math.atan2(n.y-i.y,n.x-i.x),r=n.x-i.x,a=n.y-i.y,s=Math.sqrt(r*r+a*a),l=(s-t.distanceToBorder(e,o))/s,c={};return c.x=(1-l)*i.x+l*n.x,c.y=(1-l)*i.y+l*n.y,c}},{key:"_getDistanceToEdge",value:function(t,e,n,i,o,r){return this._getDistanceToLine(t,e,n,i,o,r)}}]),i}(i(n(118)).default);e.default=c},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(8)),o=i(n(0)),a=i(n(1)),s=n(120).default,l=n(221).default,c=n(222).default,d=n(223).default,u=n(224).default,h=n(121).default,p=n(225).default,f=n(226).default,m=n(2),g=n(119).default,v=function(){function e(t){(0,o.default)(this,e),this.body=t,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0},m.extend(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return(0,a.default)(e,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("initPhysics",function(){t.initPhysics()}),this.body.emitter.on("_layoutFailed",function(){t.layoutFailed=!0}),this.body.emitter.on("resetPhysics",function(){t.stopSimulation(),t.ready=!1}),this.body.emitter.on("disablePhysics",function(){t.physicsEnabled=!1,t.stopSimulation()}),this.body.emitter.on("restorePhysics",function(){t.setOptions(t.options),!0===t.ready&&t.startSimulation()}),this.body.emitter.on("startSimulation",function(){!0===t.ready&&t.startSimulation()}),this.body.emitter.on("stopSimulation",function(){t.stopSimulation()}),this.body.emitter.on("destroy",function(){t.stopSimulation(!1),t.body.emitter.off()}),this.body.emitter.on("_dataChanged",function(){t.updatePhysicsData()})}},{key:"setOptions",value:function(t){void 0!==t&&(!1===t?(this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation()):!0===t?(this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation()):(this.physicsEnabled=!0,m.selectiveNotDeepExtend(["stabilization"],this.options,t),m.mergeOptions(this.options,t,"stabilization"),void 0===t.enabled&&(this.options.enabled=!0),!1===this.options.enabled&&(this.physicsEnabled=!1,this.stopSimulation()),this.timestep=this.options.timestep)),this.init()}},{key:"init",value:function(){var t;"forceAtlas2Based"===this.options.solver?(t=this.options.forceAtlas2Based,this.nodesSolver=new p(this.body,this.physicsBody,t),this.edgesSolver=new d(this.body,this.physicsBody,t),this.gravitySolver=new f(this.body,this.physicsBody,t)):("repulsion"===this.options.solver?(t=this.options.repulsion,this.nodesSolver=new l(this.body,this.physicsBody,t),this.edgesSolver=new d(this.body,this.physicsBody,t)):"hierarchicalRepulsion"===this.options.solver?(t=this.options.hierarchicalRepulsion,this.nodesSolver=new c(this.body,this.physicsBody,t),this.edgesSolver=new u(this.body,this.physicsBody,t)):(t=this.options.barnesHut,this.nodesSolver=new s(this.body,this.physicsBody,t),this.edgesSolver=new d(this.body,this.physicsBody,t)),this.gravitySolver=new h(this.body,this.physicsBody,t)),this.modelOptions=t}},{key:"initPhysics",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?!0===this.options.stabilization.enabled?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),void 0===this.viewFunction&&(this.viewFunction=this.simulationStep.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];(this.stabilized=!0)===t&&this._emitStabilized(),void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),!(this.viewFunction=void 0)===t&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var t=Date.now();this.physicsTick(),(Date.now()-t<.4*this.simulationInterval||!0===this.runDoubleSpeed)&&!1===this.stabilized&&(this.physicsTick(),this.runDoubleSpeed=!0),!0===this.stabilized&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.stabilizationIterations;(1<this.stabilizationIterations||!0===this.startedStabilization)&&setTimeout(function(){t.body.emitter.emit("stabilized",{iterations:e}),t.startedStabilization=!1,t.stabilizationIterations=0},0)}},{key:"physicsStep",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}},{key:"adjustTimeStep",value:function(){!0===this._evaluateStepQuality()?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}},{key:"physicsTick",value:function(){this._startStabilizing(),!0!==this.stabilized&&(!0===this.adaptiveTimestep&&!0===this.adaptiveTimestepEnabled?(this.adaptiveCounter%this.adaptiveInterval==0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),!0===this.stabilized&&this.revert(),this.stabilizationIterations++)}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var t=this.body.nodes,e=this.body.edges;for(var n in t)t.hasOwnProperty(n)&&!0===t[n].options.physics&&this.physicsBody.physicsNodeIndices.push(t[n].id);for(var i in e)e.hasOwnProperty(i)&&!0===e[i].options.physics&&this.physicsBody.physicsEdgeIndices.push(e[i].id);for(var o=0;o<this.physicsBody.physicsNodeIndices.length;o++){var r=this.physicsBody.physicsNodeIndices[o];this.physicsBody.forces[r]={x:0,y:0},void 0===this.physicsBody.velocities[r]&&(this.physicsBody.velocities[r]={x:0,y:0})}for(var a in this.physicsBody.velocities)void 0===t[a]&&delete this.physicsBody.velocities[a]}},{key:"revert",value:function(){var t=(0,r.default)(this.previousStates),e=this.body.nodes,n=this.physicsBody.velocities;this.referenceState={};for(var i=0;i<t.length;i++){var o=t[i];void 0!==e[o]?!0===e[o].options.physics&&(this.referenceState[o]={positions:{x:e[o].x,y:e[o].y}},n[o].x=this.previousStates[o].vx,n[o].y=this.previousStates[o].vy,e[o].x=this.previousStates[o].x,e[o].y=this.previousStates[o].y):delete this.previousStates[o]}}},{key:"_evaluateStepQuality",value:function(){var t=void 0,e=void 0,n=this.body.nodes,i=this.referenceState;for(var o in this.referenceState)if(this.referenceState.hasOwnProperty(o)&&void 0!==n[o]&&(t=n[o].x-i[o].positions.x,e=n[o].y-i[o].positions.y,.3<Math.sqrt(Math.pow(t,2)+Math.pow(e,2))))return!1;return!0}},{key:"moveNodes",value:function(){for(var t=this.physicsBody.physicsNodeIndices,e=0,n=0,i=0;i<t.length;i++){var o=t[i],r=this._performStep(o);e=Math.max(e,r),n+=r}this.adaptiveTimestepEnabled=n/t.length<5,this.stabilized=e<this.options.minVelocity}},{key:"calculateComponentVelocity",value:function(t,e,n){t+=(e-this.modelOptions.damping*t)/n*this.timestep;var i=this.options.maxVelocity||1e9;return Math.abs(t)>i&&(t=0<t?i:-i),t}},{key:"_performStep",value:function(t){var e=this.body.nodes[t],n=this.physicsBody.forces[t],i=this.physicsBody.velocities[t];return!(this.previousStates[t]={x:e.x,y:e.y,vx:i.x,vy:i.y})===e.options.fixed.x?(i.x=this.calculateComponentVelocity(i.x,n.x,e.options.mass),e.x+=i.x*this.timestep):(n.x=0,i.x=0),!1===e.options.fixed.y?(i.y=this.calculateComponentVelocity(i.y,n.y,e.options.mass),e.y+=i.y*this.timestep):(n.y=0,i.y=0),Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2))}},{key:"_freezeNodes",value:function(){var t=this.body.nodes;for(var e in t)if(t.hasOwnProperty(e)&&t[e].x&&t[e].y){var n=t[e].options.fixed;this.freezeCache[e]={x:n.x,y:n.y},n.x=!0,n.y=!0}}},{key:"_restoreFrozenNodes",value:function(){var t=this.body.nodes;for(var e in t)t.hasOwnProperty(e)&&void 0!==this.freezeCache[e]&&(t[e].options.fixed.x=this.freezeCache[e].x,t[e].options.fixed.y=this.freezeCache[e].y);this.freezeCache={}}},{key:"stabilize",value:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.options.stabilization.iterations;"number"!=typeof e&&(e=this.options.stabilization.iterations,console.log("The stabilize method needs a numeric amount of iterations. Switching to default: ",e)),0!==this.physicsBody.physicsNodeIndices.length?(this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,!0===this.options.stabilization.onlyDynamicEdges&&this._freezeNodes(),this.stabilizationIterations=0,setTimeout(function(){return t._stabilizationBatch()},0)):this.ready=!0}},{key:"_startStabilizing",value:function(){return!0!==this.startedStabilization&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0)}},{key:"_stabilizationBatch",value:function(){var t=this,e=function(){return!1===t.stabilized&&t.stabilizationIterations<t.targetIterations},n=function(){t.body.emitter.emit("stabilizationProgress",{iterations:t.stabilizationIterations,total:t.targetIterations})};this._startStabilizing()&&n();for(var i=0;e()&&i<this.options.stabilization.updateInterval;)this.physicsTick(),i++;n(),e()?setTimeout(this._stabilizationBatch.bind(this),0):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),!0===this.options.stabilization.fit&&this.body.emitter.emit("fit"),!0===this.options.stabilization.onlyDynamicEdges&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),!0===this.stabilized?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(t){for(var e=0;e<this.physicsBody.physicsNodeIndices.length;e++){var n=this.physicsBody.physicsNodeIndices[e],i=this.body.nodes[n],o=this.physicsBody.forces[n],r=Math.sqrt(Math.pow(o.x,2)+Math.pow(o.x,2)),a=Math.min(Math.max(5,r),15),s=3*a,l=m.HSVToHex((180-180*Math.min(1,Math.max(0,.03*r)))/360,1,1),c={x:i.x+20*o.x,y:i.y+20*o.y};t.lineWidth=a,t.strokeStyle=l,t.beginPath(),t.moveTo(i.x,i.y),t.lineTo(c.x,c.y),t.stroke();var d=Math.atan2(o.y,o.x);t.fillStyle=l,g.draw(t,{type:"arrow",point:c,angle:d,length:s}),t.fill()}}}]),e}();e.default=v},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(0)),r=i(n(1)),a=function(){function i(t,e,n){(0,o.default)(this,i),this.body=t,this.physicsBody=e,this.setOptions(n)}return(0,r.default)(i,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,n,i,o,r,a,s,l=this.body.nodes,c=this.physicsBody.physicsNodeIndices,d=this.physicsBody.forces,u=this.options.nodeDistance,h=-2/3/u,p=0;p<c.length-1;p++){a=l[c[p]];for(var f=p+1;f<c.length;f++)t=(s=l[c[f]]).x-a.x,e=s.y-a.y,0===(n=Math.sqrt(t*t+e*e))&&(t=n=.1*Math.random()),n<2*u&&(r=n<.5*u?1:h*n+4/3,i=t*(r/=n),o=e*r,d[a.id].x-=i,d[a.id].y-=o,d[s.id].x+=i,d[s.id].y+=o)}}}]),i}();e.default=a},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(0)),r=i(n(1)),a=function(){function i(t,e,n){(0,o.default)(this,i),this.body=t,this.physicsBody=e,this.setOptions(n)}return(0,r.default)(i,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){var t,e,n,i,o,r,a,s,l,c,d=this.body.nodes,u=this.physicsBody.physicsNodeIndices,h=this.physicsBody.forces,p=this.options.nodeDistance;for(l=0;l<u.length-1;l++)for(a=d[u[l]],c=l+1;c<u.length;c++)s=d[u[c]],a.level===s.level&&(t=s.x-a.x,e=s.y-a.y,r=(n=Math.sqrt(t*t+e*e))<p?-Math.pow(.05*n,2)+Math.pow(.05*p,2):0,0===n?n=.01:r/=n,i=t*r,o=e*r,h[a.id].x-=i,h[a.id].y-=o,h[s.id].x+=i,h[s.id].y+=o)}}]),i}();e.default=a},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(0)),r=i(n(1)),a=function(){function i(t,e,n){(0,o.default)(this,i),this.body=t,this.physicsBody=e,this.setOptions(n)}return(0,r.default)(i,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t=void 0,e=void 0,n=this.physicsBody.physicsEdgeIndices,i=this.body.edges,o=void 0,r=void 0,a=void 0,s=0;s<n.length;s++)!0===(e=i[n[s]]).connected&&e.toId!==e.fromId&&void 0!==this.body.nodes[e.toId]&&void 0!==this.body.nodes[e.fromId]&&(void 0!==e.edgeType.via?(t=void 0===e.options.length?this.options.springLength:e.options.length,o=e.to,r=e.edgeType.via,a=e.from,this._calculateSpringForce(o,r,.5*t),this._calculateSpringForce(r,a,.5*t)):(t=void 0===e.options.length?1.5*this.options.springLength:e.options.length,this._calculateSpringForce(e.from,e.to,t)))}},{key:"_calculateSpringForce",value:function(t,e,n){var i=t.x-e.x,o=t.y-e.y,r=Math.max(Math.sqrt(i*i+o*o),.01),a=this.options.springConstant*(n-r)/r,s=i*a,l=o*a;void 0!==this.physicsBody.forces[t.id]&&(this.physicsBody.forces[t.id].x+=s,this.physicsBody.forces[t.id].y+=l),void 0!==this.physicsBody.forces[e.id]&&(this.physicsBody.forces[e.id].x-=s,this.physicsBody.forces[e.id].y-=l)}}]),i}();e.default=a},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(0)),r=i(n(1)),a=function(){function i(t,e,n){(0,o.default)(this,i),this.body=t,this.physicsBody=e,this.setOptions(n)}return(0,r.default)(i,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,n,i,o,r,a,s,l=this.body.edges,c=this.physicsBody.physicsEdgeIndices,d=this.physicsBody.physicsNodeIndices,u=this.physicsBody.forces,h=0;h<d.length;h++){var p=d[h];u[p].springFx=0,u[p].springFy=0}for(var f=0;f<c.length;f++)!0===(e=l[c[f]]).connected&&(t=void 0===e.options.length?this.options.springLength:e.options.length,n=e.from.x-e.to.x,i=e.from.y-e.to.y,s=0===(s=Math.sqrt(n*n+i*i))?.01:s,o=n*(a=this.options.springConstant*(t-s)/s),r=i*a,e.to.level!=e.from.level?(void 0!==u[e.toId]&&(u[e.toId].springFx-=o,u[e.toId].springFy-=r),void 0!==u[e.fromId]&&(u[e.fromId].springFx+=o,u[e.fromId].springFy+=r)):(void 0!==u[e.toId]&&(u[e.toId].x-=.5*o,u[e.toId].y-=.5*r),void 0!==u[e.fromId]&&(u[e.fromId].x+=.5*o,u[e.fromId].y+=.5*r)));a=1;for(var m,g,v=0;v<d.length;v++){var y=d[v];m=Math.min(a,Math.max(-a,u[y].springFx)),g=Math.min(a,Math.max(-a,u[y].springFy)),u[y].x+=m,u[y].y+=g}for(var b=0,_=0,x=0;x<d.length;x++){var w=d[x];b+=u[w].x,_+=u[w].y}for(var E=b/d.length,M=_/d.length,T=0;T<d.length;T++){var C=d[T];u[C].x-=E,u[C].y-=M}}}]),i}();e.default=a},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(3)),r=i(n(0)),a=i(n(1)),s=i(n(4)),l=i(n(5)),c=function(t){function i(t,e,n){return(0,r.default)(this,i),(0,s.default)(this,(i.__proto__||(0,o.default)(i)).call(this,t,e,n))}return(0,l.default)(i,t),(0,a.default)(i,[{key:"_calculateForces",value:function(t,e,n,i,o){0===t&&(e=t=.1*Math.random()),this.overlapAvoidanceFactor<1&&i.shape.radius&&(t=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,t-i.shape.radius));var r=i.edges.length+1,a=this.options.gravitationalConstant*o.mass*i.options.mass*r/Math.pow(t,2),s=e*a,l=n*a;this.physicsBody.forces[i.id].x+=s,this.physicsBody.forces[i.id].y+=l}}]),i}(i(n(120)).default);e.default=c},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(3)),r=i(n(0)),a=i(n(1)),s=i(n(4)),l=i(n(5)),c=function(t){function i(t,e,n){return(0,r.default)(this,i),(0,s.default)(this,(i.__proto__||(0,o.default)(i)).call(this,t,e,n))}return(0,l.default)(i,t),(0,a.default)(i,[{key:"_calculateForces",value:function(t,e,n,i,o){if(0<t){var r=o.edges.length+1,a=this.options.centralGravity*r*o.options.mass;i[o.id].x=e*a,i[o.id].y=n*a}}}]),i}(i(n(121)).default);e.default=c},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var x=i(n(8)),a=i(n(6)),o=i(n(0)),r=i(n(1)),O=n(2),w=n(76).default,v=n(228).default,u=n(74).default,h=n(47).default,s=function(){function n(t){var e=this;(0,o.default)(this,n),this.body=t,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},O.extend(this.options,this.defaultOptions),this.body.emitter.on("_resetData",function(){e.clusteredNodes={},e.clusteredEdges={}})}return(0,r.default)(n,[{key:"clusterByHubsize",value:function(t,e){void 0===t?t=this._getHubSize():"object"===(void 0===t?"undefined":(0,a.default)(t))&&(e=this._checkOptions(t),t=this._getHubSize());for(var n=[],i=0;i<this.body.nodeIndices.length;i++){var o=this.body.nodes[this.body.nodeIndices[i]];o.edges.length>=t&&n.push(o.id)}for(var r=0;r<n.length;r++)this.clusterByConnection(n[r],e,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var i=this,o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(void 0===o.joinCondition)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");o=this._checkOptions(o);var r={},a={};O.forEach(this.body.nodes,function(t,e){var n=w.cloneOptions(t);!0===o.joinCondition(n)&&(r[e]=t,O.forEach(t.edges,function(t){void 0===i.clusteredEdges[t.id]&&(a[t.id]=t)}))}),this._cluster(r,a,o,t)}},{key:"clusterByEdgeCount",value:function(u,h){var p=this,t=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];h=this._checkOptions(h);for(var f=[],m={},g=void 0,v=void 0,y=void 0,e=0;e<this.body.nodeIndices.length;e++){var b,_;!function(t){var n={},e={},i=p.body.nodeIndices[t],o=p.body.nodes[i];if(void 0===m[i]){v=[];for(var r=y=0;r<o.edges.length;r++)g=o.edges[r],void 0===p.clusteredEdges[g.id]&&(g.toId!==g.fromId&&y++,v.push(g));if(y===u){b=function(t){if(void 0===h.joinCondition||null===h.joinCondition)return!0;var e=w.cloneOptions(t);return h.joinCondition(e)};for(var a=!0,s=0;s<v.length;s++){g=v[s];var l=p._getConnectedId(g,i);if(!b(o)){a=!1;break}e[g.id]=g,n[i]=o,n[l]=p.body.nodes[l],m[i]=!0}if(0<(0,x.default)(n).length&&0<(0,x.default)(e).length&&!0===a)if(void 0!==(_=function(){for(var t=0;t<f.length;++t)for(var e in n)if(void 0!==f[t].nodes[e])return f[t]}())){for(var c in n)void 0===_.nodes[c]&&(_.nodes[c]=n[c]);for(var d in e)void 0===_.edges[d]&&(_.edges[d]=e[d])}else f.push({nodes:n,edges:e})}}}(e)}for(e=0;e<f.length;e++)this._cluster(f[e].nodes,f[e].edges,h,!1);!0===t&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(1,t,e)}},{key:"clusterBridges",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(2,t,e)}},{key:"clusterByConnection",value:function(t,e){var n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];if(void 0===t)throw new Error("No nodeId supplied to clusterByConnection!");if(void 0===this.body.nodes[t])throw new Error("The nodeId given to clusterByConnection does not exist!");var i=this.body.nodes[t];void 0===(e=this._checkOptions(e,i)).clusterNodeProperties.x&&(e.clusterNodeProperties.x=i.x),void 0===e.clusterNodeProperties.y&&(e.clusterNodeProperties.y=i.y),void 0===e.clusterNodeProperties.fixed&&(e.clusterNodeProperties.fixed={},e.clusterNodeProperties.fixed.x=i.options.fixed.x,e.clusterNodeProperties.fixed.y=i.options.fixed.y);var o={},r={},a=i.id,s=w.cloneOptions(i);o[a]=i;for(var l=0;l<i.edges.length;l++){var c=i.edges[l];if(void 0===this.clusteredEdges[c.id]){var d=this._getConnectedId(c,a);if(void 0===this.clusteredNodes[d])if(d!==a)if(void 0===e.joinCondition)r[c.id]=c,o[d]=this.body.nodes[d];else{var u=w.cloneOptions(this.body.nodes[d]);!0===e.joinCondition(s,u)&&(r[c.id]=c,o[d]=this.body.nodes[d])}else r[c.id]=c}}var h=(0,x.default)(o).map(function(t){return o[t].id});for(p in o)if(o.hasOwnProperty(p))for(var p=o[p],f=0;f<p.edges.length;f++){var m=p.edges[f];-1<h.indexOf(this._getConnectedId(m,p.id))&&(r[m.id]=m)}this._cluster(o,r,e,n)}},{key:"_createClusterEdges",value:function(t,e,n,i){for(var o=void 0,r=void 0,a=void 0,s=void 0,l=void 0,c=void 0,d=(0,x.default)(t),u=[],h=0;h<d.length;h++){a=t[r=d[h]];for(var p=0;p<a.edges.length;p++)o=a.edges[p],void 0===this.clusteredEdges[o.id]&&(o.toId==o.fromId?e[o.id]=o:c=o.toId==r?(s=n.id,l=o.fromId):(s=o.toId,l=n.id,s),void 0===t[c]&&u.push({edge:o,fromId:l,toId:s}))}for(var f=[],m=0;m<u.length;m++){var g=u[m],v=g.edge,y=function(t){for(var e=0;e<f.length;e++){var n=f[e],i=t.fromId===n.fromId&&t.toId===n.toId,o=t.fromId===n.toId&&t.toId===n.fromId;if(i||o)return n}return null}(g);null===y?(y=this._createClusteredEdge(g.fromId,g.toId,v,i),f.push(y)):y.clusteringEdgeReplacingIds.push(v.id),this.body.edges[v.id].edgeReplacedById=y.id,this._backupEdgeOptions(v),v.setOptions({physics:!1})}}},{key:"_checkOptions",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return void 0===t.clusterEdgeProperties&&(t.clusterEdgeProperties={}),void 0===t.clusterNodeProperties&&(t.clusterNodeProperties={}),t}},{key:"_cluster",value:function(t,e,n){var i=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],o=[];for(var r in t)t.hasOwnProperty(r)&&void 0!==this.clusteredNodes[r]&&o.push(r);for(var a=0;a<o.length;++a)delete t[o[a]];if(0!=(0,x.default)(t).length&&(1!=(0,x.default)(t).length||1==n.clusterNodeProperties.allowSingleNodeCluster)){var s=O.deepExtend({},n.clusterNodeProperties);if(void 0!==n.processProperties){var l=[];for(var c in t)if(t.hasOwnProperty(c)){var d=w.cloneOptions(t[c]);l.push(d)}var u=[];for(var h in e)if(e.hasOwnProperty(h)&&"clusterEdge:"!==h.substr(0,12)){var p=w.cloneOptions(e[h],"edge");u.push(p)}if(!(s=n.processProperties(s,l,u)))throw new Error("The processProperties function does not return properties!")}void 0===s.id&&(s.id="cluster:"+O.randomUUID());var f=s.id;void 0===s.label&&(s.label="cluster");var m=void 0;void 0===s.x&&(m=this._getClusterPosition(t),s.x=m.x),void 0===s.y&&(void 0===m&&(m=this._getClusterPosition(t)),s.y=m.y),s.id=f;var g=this.body.functions.createNode(s,v);g.containedNodes=t,g.containedEdges=e,g.clusterEdgeProperties=n.clusterEdgeProperties,this.body.nodes[s.id]=g,this._clusterEdges(t,e,s,n.clusterEdgeProperties),!(s.id=void 0)===i&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(t){void 0===this.clusteredEdges[t.id]&&(this.clusteredEdges[t.id]={physics:t.options.physics})}},{key:"_restoreEdge",value:function(t){var e=this.clusteredEdges[t.id];void 0!==e&&(t.setOptions({physics:e.physics}),delete this.clusteredEdges[t.id])}},{key:"isCluster",value:function(t){return void 0!==this.body.nodes[t]?!0===this.body.nodes[t].isCluster:(console.log("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(t){for(var e=(0,x.default)(t),n=t[e[0]].x,i=t[e[0]].x,o=t[e[0]].y,r=t[e[0]].y,a=void 0,s=1;s<e.length;s++)n=(a=t[e[s]]).x<n?a.x:n,i=a.x>i?a.x:i,o=a.y<o?a.y:o,r=a.y>r?a.y:r;return{x:.5*(n+i),y:.5*(o+r)}}},{key:"openCluster",value:function(t,e){var n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];if(void 0===t)throw new Error("No clusterNodeId supplied to openCluster.");var i=this.body.nodes[t];if(void 0===i)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(!0!==i.isCluster||void 0===i.containedNodes||void 0===i.containedEdges)throw new Error("The node:"+t+" is not a valid cluster.");var o=this.findNode(t),r=o.indexOf(t)-1;if(0<=r){var a=o[r];return this.body.nodes[a]._openChildCluster(t),delete this.body.nodes[t],void(!0===n&&this.body.emitter.emit("_dataChanged"))}var s=i.containedNodes,l=i.containedEdges;if(void 0!==e&&void 0!==e.releaseFunction&&"function"==typeof e.releaseFunction){var c={},d={x:i.x,y:i.y};for(var u in s)if(s.hasOwnProperty(u)){var h=this.body.nodes[u];c[u]={x:h.x,y:h.y}}var p=e.releaseFunction(d,c);for(var f in s)if(s.hasOwnProperty(f)){var m=this.body.nodes[f];void 0!==p[f]&&(m.x=void 0===p[f].x?i.x:p[f].x,m.y=void 0===p[f].y?i.y:p[f].y)}}else O.forEach(s,function(t){!1===t.options.fixed.x&&(t.x=i.x),!1===t.options.fixed.y&&(t.y=i.y)});for(var g in s)if(s.hasOwnProperty(g)){var v=this.body.nodes[g];v.vx=i.vx,v.vy=i.vy,v.setOptions({physics:!0}),delete this.clusteredNodes[g]}for(var y=[],b=0;b<i.edges.length;b++)y.push(i.edges[b]);for(var _=0;_<y.length;_++){for(var x=y[_],w=this._getConnectedId(x,t),E=this.clusteredNodes[w],M=0;M<x.clusteringEdgeReplacingIds.length;M++){var T=x.clusteringEdgeReplacingIds[M],C=this.body.edges[T];if(void 0!==C)if(void 0!==E){var S=this.body.nodes[E.clusterId];delete l[(S.containedEdges[C.id]=C).id];var A=C.fromId,k=C.toId;C.toId==w?k=E.clusterId:A=E.clusterId,this._createClusteredEdge(A,k,C,S.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(C)}x.remove()}for(var D in l)l.hasOwnProperty(D)&&this._restoreEdge(l[D]);delete this.body.nodes[t],!0===n&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(t){var e=[];if(!0===this.isCluster(t)){var n=this.body.nodes[t].containedNodes;for(var i in n)n.hasOwnProperty(i)&&e.push(this.body.nodes[i].id)}return e}},{key:"findNode",value:function(t){for(var e=[],n=0,i=void 0;void 0!==this.clusteredNodes[t]&&n<100;){if(void 0===(i=this.body.nodes[t]))return[];e.push(i.id),t=this.clusteredNodes[t].clusterId,n++}return void 0===(i=this.body.nodes[t])?[]:(e.push(i.id),e.reverse(),e)}},{key:"updateClusteredNode",value:function(t,e){if(void 0===t)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(void 0===e)throw new Error("No newOptions supplied to updateClusteredNode.");if(void 0===this.body.nodes[t])throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[t].setOptions(e),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(t,e){if(void 0===t)throw new Error("No startEdgeId supplied to updateEdge.");if(void 0===e)throw new Error("No newOptions supplied to updateEdge.");if(void 0===this.body.edges[t])throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var n=this.getClusteredEdges(t),i=0;i<n.length;i++)this.body.edges[n[i]].setOptions(e);this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(t){for(var e=[],n=0;void 0!==t&&void 0!==this.body.edges[t]&&n<100;)e.push(this.body.edges[t].id),t=this.body.edges[t].edgeReplacedById,n++;return e.reverse(),e}},{key:"getBaseEdge",value:function(t){return this.getBaseEdges(t)[0]}},{key:"getBaseEdges",value:function(t){for(var e=[t],n=[],i=[],o=0;0<e.length&&o<100;){var r=e.pop();if(void 0!==r){var a=this.body.edges[r];if(void 0!==a){o++;var s=a.clusteringEdgeReplacingIds;if(void 0===s)i.push(r);else for(var l=0;l<s.length;++l){var c=s[l];-1===e.indexOf(s)&&-1===n.indexOf(s)&&e.push(c)}n.push(r)}}}return i}},{key:"_getConnectedId",value:function(t,e){return t.toId!=e?t.toId:(t.fromId,t.fromId)}},{key:"_getHubSize",value:function(){for(var t=0,e=0,n=0,i=0,o=0;o<this.body.nodeIndices.length;o++){var r=this.body.nodes[this.body.nodeIndices[o]];r.edges.length>i&&(i=r.edges.length),t+=r.edges.length,e+=Math.pow(r.edges.length,2),n+=1}t/=n;var a=(e/=n)-Math.pow(t,2),s=Math.sqrt(a),l=Math.floor(t+2*s);return i<l&&(l=i),l}},{key:"_createClusteredEdge",value:function(t,e,n,i,o){var r=w.cloneOptions(n,"edge");O.deepExtend(r,i),r.from=t,r.to=e,r.id="clusterEdge:"+O.randomUUID(),void 0!==o&&O.deepExtend(r,o);var a=this.body.functions.createEdge(r);return a.clusteringEdgeReplacingIds=[n.id],a.connect(),this.body.edges[a.id]=a}},{key:"_clusterEdges",value:function(t,e,n,i){if(e instanceof u){var o=e,r={};r[o.id]=o,e=r}if(t instanceof h){var a=t,s={};s[a.id]=a,t=s}if(null==n)throw new Error("_clusterEdges: parameter clusterNode required");for(var l in void 0===i&&(i=n.clusterEdgeProperties),this._createClusterEdges(t,e,n,i),e)if(e.hasOwnProperty(l)&&void 0!==this.body.edges[l]){var c=this.body.edges[l];this._backupEdgeOptions(c),c.setOptions({physics:!1})}for(var d in t)t.hasOwnProperty(d)&&(this.clusteredNodes[d]={clusterId:n.id,node:this.body.nodes[d]},this.body.nodes[d].setOptions({physics:!1}))}},{key:"_getClusterNodeForNode",value:function(t){if(void 0!==t){var e=this.clusteredNodes[t];if(void 0!==e){var n=e.clusterId;if(void 0!==n)return this.body.nodes[n]}}}},{key:"_filter",value:function(t,e){var n=[];return O.forEach(t,function(t){e(t)&&n.push(t)}),n}},{key:"_updateState",value:function(){var r=this,t=void 0,n=[],a=[],e=function(e){O.forEach(r.body.nodes,function(t){!0===t.isCluster&&e(t)})};for(t in this.clusteredNodes)if(this.clusteredNodes.hasOwnProperty(t)){void 0===this.body.nodes[t]&&n.push(t)}e(function(t){for(var e=0;e<n.length;e++)delete t.containedNodes[n[e]]});for(var i=0;i<n.length;i++)delete this.clusteredNodes[n[i]];O.forEach(this.clusteredEdges,function(t){var e=r.body.edges[t];void 0!==e&&e.endPointsValid()||a.push(t)}),e(function(t){O.forEach(t.containedEdges,function(t,e){t.endPointsValid()||-1!==a.indexOf(e)||a.push(e)})}),O.forEach(this.body.edges,function(t,e){var n=!0,i=t.clusteringEdgeReplacingIds;if(void 0!==i){var o=0;O.forEach(i,function(t){var e=r.body.edges[t];void 0!==e&&e.endPointsValid()&&(o+=1)}),n=0<o}t.endPointsValid()&&n||a.push(e)}),e(function(i){O.forEach(a,function(n){delete i.containedEdges[n],O.forEach(i.edges,function(t,e){t.id!==n?t.clusteringEdgeReplacingIds=r._filter(t.clusteringEdgeReplacingIds,function(t){return-1===a.indexOf(t)}):i.edges[e]=null}),i.edges=r._filter(i.edges,function(t){return null!==t})})}),O.forEach(a,function(t){delete r.clusteredEdges[t]}),O.forEach(a,function(t){delete r.body.edges[t]});var o=(0,x.default)(this.body.edges);O.forEach(o,function(t){var e=r.body.edges[t],n=r._isClusteredNode(e.fromId)||r._isClusteredNode(e.toId);if(n!==r._isClusteredEdge(e.id)){if(!n)throw new Error("remove edge from clustering not implemented!");var i=r._getClusterNodeForNode(e.fromId);void 0!==i&&r._clusterEdges(r.body.nodes[e.fromId],e,i);var o=r._getClusterNodeForNode(e.toId);void 0!==o&&r._clusterEdges(r.body.nodes[e.toId],e,o)}});for(var s=!1,l=!0;l;)!function(){var i=[];e(function(t){var e=(0,x.default)(t.containedNodes).length,n=!0===t.options.allowSingleNodeCluster;(n&&e<1||!n&&e<2)&&i.push(t.id)});for(var t=0;t<i.length;++t)r.openCluster(i[t],{},!1);l=0<i.length,s=s||l}();s&&this._updateState()}},{key:"_isClusteredNode",value:function(t){return void 0!==this.clusteredNodes[t]}},{key:"_isClusteredEdge",value:function(t){return void 0!==this.clusteredEdges[t]}}]),n}();e.default=s},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var l=i(n(3)),c=i(n(0)),o=i(n(1)),d=i(n(4)),r=i(n(5)),a=n(2),s=function(t){function s(t,e,n,i,o,r){(0,c.default)(this,s);var a=(0,d.default)(this,(s.__proto__||(0,l.default)(s)).call(this,t,e,n,i,o,r));return a.isCluster=!0,a.containedNodes={},a.containedEdges={},a}return(0,r.default)(s,t),(0,o.default)(s,[{key:"_openChildCluster",value:function(t){var i=this,e=this.body.nodes[t];if(void 0===this.containedNodes[t])throw new Error("node with id: "+t+" not in current cluster");if(!e.isCluster)throw new Error("node with id: "+t+" is not a cluster");delete this.containedNodes[t],a.forEach(e.edges,function(t){delete i.containedEdges[t.id]}),a.forEach(e.containedNodes,function(t,e){i.containedNodes[e]=t}),e.containedNodes={},a.forEach(e.containedEdges,function(t,e){i.containedEdges[e]=t}),e.containedEdges={},a.forEach(e.edges,function(n){a.forEach(i.edges,function(e){var t=e.clusteringEdgeReplacingIds.indexOf(n.id);-1!==t&&(a.forEach(n.clusteringEdgeReplacingIds,function(t){e.clusteringEdgeReplacingIds.push(t),i.body.edges[t].edgeReplacedById=e.id}),e.clusteringEdgeReplacingIds.splice(t,1))})}),e.edges=[]}}]),s}(n(47).default);e.default=s},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(0)),r=i(n(1)),a=n(2),s=function(){function i(t,e){var n;(0,o.default)(this,i),void 0!==window&&(n=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),window.requestAnimationFrame=void 0===n?function(t){t()}:n,this.body=t,this.canvas=e,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideNodesOnDrag:!1},a.extend(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return(0,r.default)(i,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("dragStart",function(){t.dragging=!0}),this.body.emitter.on("dragEnd",function(){t.dragging=!1}),this.body.emitter.on("_resizeNodes",function(){t._resizeNodes()}),this.body.emitter.on("_redraw",function(){!1===t.renderingActive&&t._redraw()}),this.body.emitter.on("_blockRedraw",function(){t.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",function(){t.allowRedraw=!0,t.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",this._requestRedraw.bind(this)),this.body.emitter.on("_startRendering",function(){t.renderRequests+=1,t.renderingActive=!0,t._startRendering()}),this.body.emitter.on("_stopRendering",function(){t.renderRequests-=1,t.renderingActive=0<t.renderRequests,t.renderTimer=void 0}),this.body.emitter.on("destroy",function(){t.renderRequests=0,t.allowRedraw=!1,!(t.renderingActive=!1)===t.requiresTimeout?clearTimeout(t.renderTimer):window.cancelAnimationFrame(t.renderTimer),t.body.emitter.off()})}},{key:"setOptions",value:function(t){if(void 0!==t){a.selectiveDeepExtend(["hideEdgesOnDrag","hideNodesOnDrag"],this.options,t)}}},{key:"_requestNextFrame",value:function(t,e){if("undefined"!=typeof window){var n=void 0,i=window;return!0===this.requiresTimeout?n=i.setTimeout(t,e):i.requestAnimationFrame&&(n=i.requestAnimationFrame(t)),n}}},{key:"_startRendering",value:function(){!0===this.renderingActive&&void 0===this.renderTimer&&(this.renderTimer=this._requestNextFrame(this._renderStep.bind(this),this.simulationInterval))}},{key:"_renderStep",value:function(){!0===this.renderingActive&&(!(this.renderTimer=void 0)===this.requiresTimeout&&this._startRendering(),this._redraw(),!1===this.requiresTimeout&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var t=this;!0!==this.redrawRequested&&!1===this.renderingActive&&!0===this.allowRedraw&&(this.redrawRequested=!0,this._requestNextFrame(function(){t._redraw(!1)},0))}},{key:"_redraw",value:function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];if(!0===this.allowRedraw){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1,0!==this.canvas.frame.canvas.width&&0!==this.canvas.frame.canvas.height||this.canvas.setSize(),this.canvas.setTransform();var e=this.canvas.getContext(),n=this.canvas.frame.canvas.clientWidth,i=this.canvas.frame.canvas.clientHeight;if(e.clearRect(0,0,n,i),0===this.canvas.frame.clientWidth)return;e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale),e.beginPath(),this.body.emitter.emit("beforeDrawing",e),e.closePath(),!1===t&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&this._drawEdges(e),(!1===this.dragging||!0===this.dragging&&!1===this.options.hideNodesOnDrag)&&this._drawNodes(e,t),e.beginPath(),this.body.emitter.emit("afterDrawing",e),e.closePath(),e.restore(),!0===t&&e.clearRect(0,0,n,i)}}},{key:"_resizeNodes",value:function(){this.canvas.setTransform();var t=this.canvas.getContext();t.save(),t.translate(this.body.view.translation.x,this.body.view.translation.y),t.scale(this.body.view.scale,this.body.view.scale);var e=this.body.nodes,n=void 0;for(var i in e)e.hasOwnProperty(i)&&((n=e[i]).resize(t),n.updateBoundingBox(t,n.selected));t.restore()}},{key:"_drawNodes",value:function(t){for(var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=this.body.nodes,i=this.body.nodeIndices,o=void 0,r=[],a=this.canvas.DOMtoCanvas({x:-20,y:-20}),s=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+20,y:this.canvas.frame.canvas.clientHeight+20}),l={top:a.y,left:a.x,bottom:s.y,right:s.x},c=0;c<i.length;c++)(o=n[i[c]]).isSelected()?r.push(i[c]):!0===e?o.draw(t):!0===o.isBoundingBoxOverlappingWith(l)?o.draw(t):o.updateBoundingBox(t,o.selected);for(var d=0;d<r.length;d++)(o=n[r[d]]).draw(t)}},{key:"_drawEdges",value:function(t){for(var e=this.body.edges,n=this.body.edgeIndices,i=void 0,o=0;o<n.length;o++)!0===(i=e[n[o]]).connected&&i.draw(t)}},{key:"_determineBrowserMethod",value:function(){if("undefined"!=typeof window){var t=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,-1!=t.indexOf("msie 9.0")?this.requiresTimeout=!0:-1!=t.indexOf("safari")&&t.indexOf("chrome")<=-1&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}}]),i}();e.default=s},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(0)),r=i(n(1)),a=n(10),s=n(37),l=n(2),c=function(){function e(t){(0,o.default)(this,e),this.body=t,this.pixelRatio=1,this.resizeTimer=void 0,this.resizeFunction=this._onResize.bind(this),this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},l.extend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,r.default)(e,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.once("resize",function(t){0!==t.width&&(e.body.view.translation.x=.5*t.width),0!==t.height&&(e.body.view.translation.y=.5*t.height)}),this.body.emitter.on("setSize",this.setSize.bind(this)),this.body.emitter.on("destroy",function(){e.hammerFrame.destroy(),e.hammer.destroy(),e._cleanUp()})}},{key:"setOptions",value:function(t){var e=this;if(void 0!==t){l.selectiveDeepExtend(["width","height","autoResize"],this.options,t)}!0===this.options.autoResize&&(this._cleanUp(),this.resizeTimer=setInterval(function(){!0===e.setSize()&&e.body.emitter.emit("_requestRedraw")},1e3),this.resizeFunction=this._onResize.bind(this),l.addEventListener(window,"resize",this.resizeFunction))}},{key:"_cleanUp",value:function(){void 0!==this.resizeTimer&&clearInterval(this.resizeTimer),l.removeEventListener(window,"resize",this.resizeFunction),this.resizeFunction=void 0}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.pixelRatio;!0===this.initialized&&(this.cameraState.previousWidth=this.frame.canvas.width/t,this.cameraState.previousHeight=this.frame.canvas.height/t,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/t,y:.5*this.frame.canvas.height/t}))}},{key:"_setCameraState",value:function(){if(void 0!==this.cameraState.scale&&0!==this.frame.canvas.clientWidth&&0!==this.frame.canvas.clientHeight&&0!==this.pixelRatio&&0<this.cameraState.previousWidth){var t=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,e=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,n=this.cameraState.scale;1!=t&&1!=e?n=.5*this.cameraState.scale*(t+e):1!=t?n=this.cameraState.scale*t:1!=e&&(n=this.cameraState.scale*e),this.body.view.scale=n;var i=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),o=i.x-this.cameraState.position.x,r=i.y-this.cameraState.position.y;this.body.view.translation.x+=o*this.body.view.scale,this.body.view.translation.y+=r*this.body.view.scale}}},{key:"_prepareValue",value:function(t){if("number"==typeof t)return t+"px";if("string"==typeof t){if(-1!==t.indexOf("%")||-1!==t.indexOf("px"))return t;if(-1===t.indexOf("%"))return t+"px"}throw new Error("Could not use the value supplied for width or height:"+t)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=900,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(t)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var e=this;void 0!==this.hammer&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new a(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:a.DIRECTION_ALL}),s.onTouch(this.hammer,function(t){e.body.eventListeners.onTouch(t)}),this.hammer.on("tap",function(t){e.body.eventListeners.onTap(t)}),this.hammer.on("doubletap",function(t){e.body.eventListeners.onDoubleTap(t)}),this.hammer.on("press",function(t){e.body.eventListeners.onHold(t)}),this.hammer.on("panstart",function(t){e.body.eventListeners.onDragStart(t)}),this.hammer.on("panmove",function(t){e.body.eventListeners.onDrag(t)}),this.hammer.on("panend",function(t){e.body.eventListeners.onDragEnd(t)}),this.hammer.on("pinch",function(t){e.body.eventListeners.onPinch(t)}),this.frame.canvas.addEventListener("mousewheel",function(t){e.body.eventListeners.onMouseWheel(t)}),this.frame.canvas.addEventListener("DOMMouseScroll",function(t){e.body.eventListeners.onMouseWheel(t)}),this.frame.canvas.addEventListener("mousemove",function(t){e.body.eventListeners.onMouseMove(t)}),this.frame.canvas.addEventListener("contextmenu",function(t){e.body.eventListeners.onContext(t)}),this.hammerFrame=new a(this.frame),s.onRelease(this.hammerFrame,function(t){e.body.eventListeners.onRelease(t)})}},{key:"setSize",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.options.width,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.options.height;t=this._prepareValue(t),e=this._prepareValue(e);var n=!1,i=this.frame.canvas.width,o=this.frame.canvas.height,r=this.pixelRatio;if(this._setPixelRatio(),t!=this.options.width||e!=this.options.height||this.frame.style.width!=t||this.frame.style.height!=e)this._getCameraState(r),this.frame.style.width=t,this.frame.style.height=e,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=t,this.options.height=e,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},n=!0;else{var a=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),s=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);this.frame.canvas.width===a&&this.frame.canvas.height===s||this._getCameraState(r),this.frame.canvas.width!==a&&(this.frame.canvas.width=a,n=!0),this.frame.canvas.height!==s&&(this.frame.canvas.height=s,n=!0)}return!0===n&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(i/this.pixelRatio),oldHeight:Math.round(o/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,n}},{key:"getContext",value:function(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var t=this.getContext();if(void 0===t)throw new Error("Could not get canvax context");var e=1;return"undefined"!=typeof window&&(e=window.devicePixelRatio||1),e/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)}},{key:"_setPixelRatio",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var t=this.getContext();if(void 0===t)throw new Error("Could not get canvax context");t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(t){return{x:this._XconvertCanvasToDOM(t.x),y:this._YconvertCanvasToDOM(t.y)}}},{key:"DOMtoCanvas",value:function(t){return{x:this._XconvertDOMtoCanvas(t.x),y:this._YconvertDOMtoCanvas(t.y)}}}]),e}();e.default=c},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(0)),r=i(n(1)),a=n(2),u=n(76).default,s=function(){function i(t,e){var n=this;(0,o.default)(this,i),this.body=t,this.canvas=e,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",this.fit.bind(this)),this.body.emitter.on("animationFinished",function(){n.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",this.releaseNode.bind(this))}return(0,r.default)(i,[{key:"setOptions",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.options=t}},{key:"fit",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{nodes:[]},e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=void 0,i=void 0;if(void 0!==t.nodes&&0!==t.nodes.length||(t.nodes=this.body.nodeIndices),!0===e){var o=0;for(var r in this.body.nodes)if(this.body.nodes.hasOwnProperty(r)){!0===this.body.nodes[r].predefinedPosition&&(o+=1)}if(o>.5*this.body.nodeIndices.length)return void this.fit(t,!1);n=u.getRange(this.body.nodes,t.nodes),i=12.662/(this.body.nodeIndices.length+7.4147)+.0964822,i*=Math.min(this.canvas.frame.canvas.clientWidth/600,this.canvas.frame.canvas.clientHeight/600)}else{this.body.emitter.emit("_resizeNodes"),n=u.getRange(this.body.nodes,t.nodes);var a=1.1*Math.abs(n.maxX-n.minX),s=1.1*Math.abs(n.maxY-n.minY),l=this.canvas.frame.canvas.clientWidth/a,c=this.canvas.frame.canvas.clientHeight/s;i=l<=c?l:c}1<i?i=1:0===i&&(i=1);var d={position:u.findCenter(n),scale:i,animation:t.animation};this.moveTo(d)}},{key:"focus",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==this.body.nodes[t]){var n={x:this.body.nodes[t].x,y:this.body.nodes[t].y};e.position=n,e.lockedOnNode=t,this.moveTo(e)}else console.log("Node: "+t+" cannot be found.")}},{key:"moveTo",value:function(t){void 0!==t?(void 0===t.offset&&(t.offset={x:0,y:0}),void 0===t.offset.x&&(t.offset.x=0),void 0===t.offset.y&&(t.offset.y=0),void 0===t.scale&&(t.scale=this.body.view.scale),void 0===t.position&&(t.position=this.getViewPosition()),void 0===t.animation&&(t.animation={duration:0}),!1===t.animation&&(t.animation={duration:0}),!0===t.animation&&(t.animation={}),void 0===t.animation.duration&&(t.animation.duration=1e3),void 0===t.animation.easingFunction&&(t.animation.easingFunction="easeInOutQuad"),this.animateView(t)):t={}}},{key:"animateView",value:function(t){if(void 0!==t){this.animationEasingFunction=t.animation.easingFunction,this.releaseNode(),!0===t.locked&&(this.lockedOnNodeId=t.lockedOnNode,this.lockedOnNodeOffset=t.offset),0!=this.easingTime&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=t.scale,this.body.view.scale=this.targetScale;var e=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n=e.x-t.position.x,i=e.y-t.position.y;this.targetTranslation={x:this.sourceTranslation.x+n*this.targetScale+t.offset.x,y:this.sourceTranslation.y+i*this.targetScale+t.offset.y},0===t.animation.duration?null!=this.lockedOnNodeId?(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(60*t.animation.duration*.001)||1/60,this.animationEasingFunction=t.animation.easingFunction,this.viewFunction=this._transitionRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}}},{key:"_lockedRedraw",value:function(){var t=this.body.nodes[this.lockedOnNodeId].x,e=this.body.nodes[this.lockedOnNodeId].y,n=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),i=n.x-t,o=n.y-e,r=this.body.view.translation,a={x:r.x+i*this.body.view.scale+this.lockedOnNodeOffset.x,y:r.y+o*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=a}},{key:"releaseNode",value:function(){void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];this.easingTime+=this.animationSpeed,this.easingTime=!0===t?1:this.easingTime;var e=a.easingFunctions[this.animationEasingFunction](this.easingTime);this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*e,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*e,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*e},1<=this.easingTime&&(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,null!=this.lockedOnNodeId&&(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished"))}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),i}();e.default=s},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(0)),r=i(n(1)),a=n(2),s=n(233).default,v=n(104).default,l=function(){function i(t,e,n){(0,o.default)(this,i),this.body=t,this.canvas=e,this.selectionHandler=n,this.navigationHandler=new s(t,e),this.body.eventListeners.onTap=this.onTap.bind(this),this.body.eventListeners.onTouch=this.onTouch.bind(this),this.body.eventListeners.onDoubleTap=this.onDoubleTap.bind(this),this.body.eventListeners.onHold=this.onHold.bind(this),this.body.eventListeners.onDragStart=this.onDragStart.bind(this),this.body.eventListeners.onDrag=this.onDrag.bind(this),this.body.eventListeners.onDragEnd=this.onDragEnd.bind(this),this.body.eventListeners.onMouseWheel=this.onMouseWheel.bind(this),this.body.eventListeners.onPinch=this.onPinch.bind(this),this.body.eventListeners.onMouseMove=this.onMouseMove.bind(this),this.body.eventListeners.onRelease=this.onRelease.bind(this),this.body.eventListeners.onContext=this.onContext.bind(this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=this.getPointer.bind(this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0},a.extend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,r.default)(i,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("destroy",function(){clearTimeout(t.popupTimer),delete t.body.functions.getPointer})}},{key:"setOptions",value:function(t){if(void 0!==t){a.selectiveNotDeepExtend(["hideEdgesOnDrag","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,t),a.mergeOptions(this.options,t,"keyboard"),t.tooltip&&(a.extend(this.options.tooltip,t.tooltip),t.tooltip.color&&(this.options.tooltip.color=a.parseColor(t.tooltip.color)))}this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(t){return{x:t.x-a.getAbsoluteLeft(this.canvas.frame.canvas),y:t.y-a.getAbsoluteTop(this.canvas.frame.canvas)}}},{key:"onTouch",value:function(t){50<(new Date).valueOf()-this.touchTime&&(this.drag.pointer=this.getPointer(t.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=(new Date).valueOf())}},{key:"onTap",value:function(t){var e=this.getPointer(t.center),n=this.selectionHandler.options.multiselect&&(t.changedPointers[0].ctrlKey||t.changedPointers[0].metaKey);this.checkSelectionChanges(e,t,n),this.selectionHandler._generateClickEvent("click",t,e)}},{key:"onDoubleTap",value:function(t){var e=this.getPointer(t.center);this.selectionHandler._generateClickEvent("doubleClick",t,e)}},{key:"onHold",value:function(t){var e=this.getPointer(t.center),n=this.selectionHandler.options.multiselect;this.checkSelectionChanges(e,t,n),this.selectionHandler._generateClickEvent("click",t,e),this.selectionHandler._generateClickEvent("hold",t,e)}},{key:"onRelease",value:function(t){if(10<(new Date).valueOf()-this.touchTime){var e=this.getPointer(t.center);this.selectionHandler._generateClickEvent("release",t,e),this.touchTime=(new Date).valueOf()}}},{key:"onContext",value:function(t){var e=this.getPointer({x:t.clientX,y:t.clientY});this.selectionHandler._generateClickEvent("oncontext",t,e)}},{key:"checkSelectionChanges",value:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],i=this.selectionHandler.getSelection(),o=!1;o=!0===n?this.selectionHandler.selectAdditionalOnPoint(t):this.selectionHandler.selectOnPoint(t);var r=this.selectionHandler.getSelection(),a=this._determineDifference(i,r),s=this._determineDifference(r,i);0<a.edges.length&&(this.selectionHandler._generateClickEvent("deselectEdge",e,t,i),o=!0),0<a.nodes.length&&(this.selectionHandler._generateClickEvent("deselectNode",e,t,i),o=!0),0<s.nodes.length&&(this.selectionHandler._generateClickEvent("selectNode",e,t),o=!0),0<s.edges.length&&(this.selectionHandler._generateClickEvent("selectEdge",e,t),o=!0),!0===o&&this.selectionHandler._generateClickEvent("select",e,t)}},{key:"_determineDifference",value:function(t,e){var n=function(t,e){for(var n=[],i=0;i<t.length;i++){var o=t[i];-1===e.indexOf(o)&&n.push(o)}return n};return{nodes:n(t.nodes,e.nodes),edges:n(t.edges,e.edges)}}},{key:"onDragStart",value:function(t){void 0===this.drag.pointer&&this.onTouch(t);var e=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=a.extend({},this.body.view.translation),(this.drag.nodeId=void 0)!==e&&!0===this.options.dragNodes){this.drag.nodeId=e.id,!1===e.isSelected()&&(this.selectionHandler.unselectAll(),this.selectionHandler.selectObject(e)),this.selectionHandler._generateClickEvent("dragStart",t,this.drag.pointer);var n=this.selectionHandler.selectionObj.nodes;for(var i in n)if(n.hasOwnProperty(i)){var o=n[i],r={id:o.id,node:o,x:o.x,y:o.y,xFixed:o.options.fixed.x,yFixed:o.options.fixed.y};o.options.fixed.x=!0,o.options.fixed.y=!0,this.drag.selection.push(r)}}else this.selectionHandler._generateClickEvent("dragStart",t,this.drag.pointer,void 0,!0)}},{key:"onDrag",value:function(t){var n=this;if(!0!==this.drag.pinched){this.body.emitter.emit("unlockNode");var e=this.getPointer(t.center),i=this.drag.selection;if(i&&i.length&&!0===this.options.dragNodes){this.selectionHandler._generateClickEvent("dragging",t,e);var o=e.x-this.drag.pointer.x,r=e.y-this.drag.pointer.y;i.forEach(function(t){var e=t.node;!1===t.xFixed&&(e.x=n.canvas._XconvertDOMtoCanvas(n.canvas._XconvertCanvasToDOM(t.x)+o)),!1===t.yFixed&&(e.y=n.canvas._YconvertDOMtoCanvas(n.canvas._YconvertCanvasToDOM(t.y)+r))}),this.body.emitter.emit("startSimulation")}else if(!0===this.options.dragView){if(this.selectionHandler._generateClickEvent("dragging",t,e,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(t);var a=e.x-this.drag.pointer.x,s=e.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+a,y:this.drag.translation.y+s},this.body.emitter.emit("_requestRedraw")}}}},{key:"onDragEnd",value:function(t){this.drag.dragging=!1;var e=this.drag.selection;e&&e.length?(e.forEach(function(t){t.node.options.fixed.x=t.xFixed,t.node.options.fixed.y=t.yFixed}),this.selectionHandler._generateClickEvent("dragEnd",t,this.getPointer(t.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler._generateClickEvent("dragEnd",t,this.getPointer(t.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}},{key:"onPinch",value:function(t){var e=this.getPointer(t.center);this.drag.pinched=!0,void 0===this.pinch.scale&&(this.pinch.scale=1);var n=this.pinch.scale*t.scale;this.zoom(n,e)}},{key:"zoom",value:function(t,e){if(!0===this.options.zoomView){var n=this.body.view.scale;t<1e-5&&(t=1e-5),10<t&&(t=10);var i=void 0;void 0!==this.drag&&!0===this.drag.dragging&&(i=this.canvas.DOMtoCanvas(this.drag.pointer));var o=this.body.view.translation,r=t/n,a=(1-r)*e.x+o.x*r,s=(1-r)*e.y+o.y*r;if(this.body.view.scale=t,this.body.view.translation={x:a,y:s},null!=i){var l=this.canvas.canvasToDOM(i);this.drag.pointer.x=l.x,this.drag.pointer.y=l.y}this.body.emitter.emit("_requestRedraw"),n<t?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:e}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:e})}}},{key:"onMouseWheel",value:function(t){if(!0===this.options.zoomView){var e=0;if(t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),0!==e){var n=this.body.view.scale,i=e/10;e<0&&(i/=1-i),n*=1+i;var o=this.getPointer({x:t.clientX,y:t.clientY});this.zoom(n,o)}t.preventDefault()}}},{key:"onMouseMove",value:function(t){var e=this,n=this.getPointer({x:t.clientX,y:t.clientY}),i=!1;void 0!==this.popup&&(!1===this.popup.hidden&&this._checkHidePopup(n),!1===this.popup.hidden&&(i=!0,this.popup.setPosition(n.x+3,n.y-5),this.popup.show())),!1===this.options.keyboard.bindToWindow&&!0===this.options.keyboard.enabled&&this.canvas.frame.focus(),!1===i&&(void 0!==this.popupTimer&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=setTimeout(function(){return e._checkShowPopup(n)},this.options.tooltipDelay))),!0===this.options.hover&&this.selectionHandler.hoverObject(t,n)}},{key:"_checkShowPopup",value:function(t){var e=this.canvas._XconvertDOMtoCanvas(t.x),n=this.canvas._YconvertDOMtoCanvas(t.y),i={left:e,top:n,right:e,bottom:n},o=void 0===this.popupObj?void 0:this.popupObj.id,r=!1,a="node";if(void 0===this.popupObj){for(var s=this.body.nodeIndices,l=this.body.nodes,c=void 0,d=[],u=0;u<s.length;u++)!0===(c=l[s[u]]).isOverlappingWith(i)&&void 0!==c.getTitle()&&d.push(s[u]);0<d.length&&(this.popupObj=l[d[d.length-1]],r=!0)}if(void 0===this.popupObj&&!1===r){for(var h=this.body.edgeIndices,p=this.body.edges,f=void 0,m=[],g=0;g<h.length;g++)!0===(f=p[h[g]]).isOverlappingWith(i)&&!0===f.connected&&void 0!==f.getTitle()&&m.push(h[g]);0<m.length&&(this.popupObj=p[m[m.length-1]],a="edge")}void 0!==this.popupObj?this.popupObj.id!==o&&(void 0===this.popup&&(this.popup=new v(this.canvas.frame)),this.popup.popupTargetType=a,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(t.x+3,t.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):void 0!==this.popup&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(t){var e=this.selectionHandler._pointerToPositionObject(t),n=!1;if("node"===this.popup.popupTargetType){if(void 0!==this.body.nodes[this.popup.popupTargetId]&&!0===(n=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(e))){var i=this.selectionHandler.getNodeAt(t);n=void 0!==i&&i.id===this.popup.popupTargetId}}else void 0===this.selectionHandler.getNodeAt(t)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(n=this.body.edges[this.popup.popupTargetId].isOverlappingWith(e));!1===n&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),i}();e.default=l},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(0)),r=i(n(1)),a=n(10),s=n(37),l=n(35),c=function(){function i(t,e){var n=this;(0,o.default)(this,i),this.body=t,this.canvas=e,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",function(){n.activated=!0,n.configureKeyboardBindings()}),this.body.emitter.on("deactivate",function(){n.activated=!1,n.configureKeyboardBindings()}),this.body.emitter.on("destroy",function(){void 0!==n.keycharm&&n.keycharm.destroy()}),this.options={}}return(0,r.default)(i,[{key:"setOptions",value:function(t){void 0!==t&&(this.options=t,this.create())}},{key:"create",value:function(){!0===this.options.navigationButtons?!1===this.iconsCreated&&this.loadNavigationElements():!0===this.iconsCreated&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(0!=this.navigationHammers.length){for(var t=0;t<this.navigationHammers.length;t++)this.navigationHammers[t].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var t=this;this.cleanNavigation(),this.navigationDOM={};var e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],n=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var i=0;i<e.length;i++){this.navigationDOM[e[i]]=document.createElement("div"),this.navigationDOM[e[i]].className="vis-button vis-"+e[i],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[i]]);var o=new a(this.navigationDOM[e[i]]);"_fit"===n[i]?s.onTouch(o,this._fit.bind(this)):s.onTouch(o,this.bindToRedraw.bind(this,n[i])),this.navigationHammers.push(o)}var r=new a(this.canvas.frame);s.onRelease(r,function(){t._stopMovement()}),this.navigationHammers.push(r),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(t){void 0===this.boundFunctions[t]&&(this.boundFunctions[t]=this[t].bind(this),this.body.emitter.on("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(t){void 0!==this.boundFunctions[t]&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[t])}},{key:"_fit",value:function(){700<(new Date).valueOf()-this.touchTime&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=(new Date).valueOf())}},{key:"_stopMovement",value:function(){for(var t in this.boundFunctions)this.boundFunctions.hasOwnProperty(t)&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var t=this.body.view.scale,e=this.body.view.scale*(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,i=e/t,o=(1-i)*this.canvas.canvasViewCenter.x+n.x*i,r=(1-i)*this.canvas.canvasViewCenter.y+n.y*i;this.body.view.scale=e,this.body.view.translation={x:o,y:r},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var t=this.body.view.scale,e=this.body.view.scale/(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,i=e/t,o=(1-i)*this.canvas.canvasViewCenter.x+n.x*i,r=(1-i)*this.canvas.canvasViewCenter.y+n.y*i;this.body.view.scale=e,this.body.view.translation={x:o,y:r},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var t=this;void 0!==this.keycharm&&this.keycharm.destroy(),!0===this.options.keyboard.enabled&&(!0===this.options.keyboard.bindToWindow?this.keycharm=l({container:window,preventDefault:!0}):this.keycharm=l({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),!0===this.activated&&(this.keycharm.bind("up",function(){t.bindToRedraw("_moveUp")},"keydown"),this.keycharm.bind("down",function(){t.bindToRedraw("_moveDown")},"keydown"),this.keycharm.bind("left",function(){t.bindToRedraw("_moveLeft")},"keydown"),this.keycharm.bind("right",function(){t.bindToRedraw("_moveRight")},"keydown"),this.keycharm.bind("=",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num+",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num-",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("-",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("[",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("]",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pageup",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pagedown",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("up",function(){t.unbindFromRedraw("_moveUp")},"keyup"),this.keycharm.bind("down",function(){t.unbindFromRedraw("_moveDown")},"keyup"),this.keycharm.bind("left",function(){t.unbindFromRedraw("_moveLeft")},"keyup"),this.keycharm.bind("right",function(){t.unbindFromRedraw("_moveRight")},"keyup"),this.keycharm.bind("=",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num+",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num-",function(){t.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("-",function(){t.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("[",function(){t.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("]",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pageup",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pagedown",function(){t.unbindFromRedraw("_zoomOut")},"keyup")))}}]),i}();e.default=c},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(0)),r=i(n(1)),a=n(47).default,s=n(74).default,l=n(2),c=function(){function i(t,e){var n=this;(0,o.default)(this,i),this.body=t,this.canvas=e,this.selectionObj={nodes:[],edges:[]},this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},l.extend(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",function(){n.updateSelection()})}return(0,r.default)(i,[{key:"setOptions",value:function(t){if(void 0!==t){l.selectiveDeepExtend(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,t)}}},{key:"selectOnPoint",value:function(t){var e=!1;if(!0===this.options.selectable){var n=this.getNodeAt(t)||this.getEdgeAt(t);this.unselectAll(),void 0!==n&&(e=this.selectObject(n)),this.body.emitter.emit("_requestRedraw")}return e}},{key:"selectAdditionalOnPoint",value:function(t){var e=!1;if(!0===this.options.selectable){var n=this.getNodeAt(t)||this.getEdgeAt(t);void 0!==n&&((e=!0)===n.isSelected()?this.deselectObject(n):this.selectObject(n),this.body.emitter.emit("_requestRedraw"))}return e}},{key:"_initBaseEvent",value:function(t,e){var n={};return n.pointer={DOM:{x:e.x,y:e.y},canvas:this.canvas.DOMtoCanvas(e)},n.event=t,n}},{key:"_generateClickEvent",value:function(t,e,n,i){var o=4<arguments.length&&void 0!==arguments[4]&&arguments[4],r=this._initBaseEvent(e,n);if(!0===o)r.nodes=[],r.edges=[];else{var a=this.getSelection();r.nodes=a.nodes,r.edges=a.edges}void 0!==i&&(r.previousSelection=i),"click"==t&&(r.items=this.getClickedItems(n)),this.body.emitter.emit(t,r)}},{key:"selectObject",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.options.selectConnectedEdges;return void 0!==t&&(t instanceof a&&!0===e&&this._selectConnectedEdges(t),t.select(),this._addToSelection(t),!0)}},{key:"deselectObject",value:function(t){!0===t.isSelected()&&(t.selected=!1,this._removeFromSelection(t))}},{key:"_getAllNodesOverlappingWith",value:function(t){for(var e=[],n=this.body.nodes,i=0;i<this.body.nodeIndices.length;i++){var o=this.body.nodeIndices[i];n[o].isOverlappingWith(t)&&e.push(o)}return e}},{key:"_pointerToPositionObject",value:function(t){var e=this.canvas.DOMtoCanvas(t);return{left:e.x-1,top:e.y+1,right:e.x+1,bottom:e.y-1}}},{key:"getNodeAt",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=this._pointerToPositionObject(t),i=this._getAllNodesOverlappingWith(n);return 0<i.length?!0===e?this.body.nodes[i[i.length-1]]:i[i.length-1]:void 0}},{key:"_getEdgesOverlappingWith",value:function(t,e){for(var n=this.body.edges,i=0;i<this.body.edgeIndices.length;i++){var o=this.body.edgeIndices[i];n[o].isOverlappingWith(t)&&e.push(o)}}},{key:"_getAllEdgesOverlappingWith",value:function(t){var e=[];return this._getEdgesOverlappingWith(t,e),e}},{key:"getEdgeAt",value:function(t){for(var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=this.canvas.DOMtoCanvas(t),i=10,o=null,r=this.body.edges,a=0;a<this.body.edgeIndices.length;a++){var s=this.body.edgeIndices[a],l=r[s];if(l.connected){var c=l.from.x,d=l.from.y,u=l.to.x,h=l.to.y,p=l.edgeType.getDistanceToEdge(c,d,u,h,n.x,n.y);p<i&&(o=s,i=p)}}return null!==o?!0===e?this.body.edges[o]:o:void 0}},{key:"_addToSelection",value:function(t){t instanceof a?this.selectionObj.nodes[t.id]=t:this.selectionObj.edges[t.id]=t}},{key:"_addToHover",value:function(t){t instanceof a?this.hoverObj.nodes[t.id]=t:this.hoverObj.edges[t.id]=t}},{key:"_removeFromSelection",value:function(t){t instanceof a?(delete this.selectionObj.nodes[t.id],this._unselectConnectedEdges(t)):delete this.selectionObj.edges[t.id]}},{key:"unselectAll",value:function(){for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&this.selectionObj.nodes[t].unselect();for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&this.selectionObj.edges[e].unselect();this.selectionObj={nodes:{},edges:{}}}},{key:"_getSelectedNodeCount",value:function(){var t=0;for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&(t+=1);return t}},{key:"_getSelectedNode",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t))return this.selectionObj.nodes[t]}},{key:"_getSelectedEdge",value:function(){for(var t in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(t))return this.selectionObj.edges[t]}},{key:"_getSelectedEdgeCount",value:function(){var t=0;for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&(t+=1);return t}},{key:"_getSelectedObjectCount",value:function(){var t=0;for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&(t+=1);for(var n in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(n)&&(t+=1);return t}},{key:"_selectionIsEmpty",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t))return!1;for(var e in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(e))return!1;return!0}},{key:"_clusterInSelection",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t)&&1<this.selectionObj.nodes[t].clusterSize)return!0;return!1}},{key:"_selectConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var n=t.edges[e];n.select(),this._addToSelection(n)}}},{key:"_hoverConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var n=t.edges[e];n.hover=!0,this._addToHover(n)}}},{key:"_unselectConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var n=t.edges[e];n.unselect(),this._removeFromSelection(n)}}},{key:"emitBlurEvent",value:function(t,e,n){var i=this._initBaseEvent(t,e);!0===n.hover&&(n.hover=!1,n instanceof a?(i.node=n.id,this.body.emitter.emit("blurNode",i)):(i.edge=n.id,this.body.emitter.emit("blurEdge",i)))}},{key:"emitHoverEvent",value:function(t,e,n){var i=this._initBaseEvent(t,e),o=!1;return!1===n.hover&&(n.hover=!0,this._addToHover(n),o=!0,n instanceof a?(i.node=n.id,this.body.emitter.emit("hoverNode",i)):(i.edge=n.id,this.body.emitter.emit("hoverEdge",i))),o}},{key:"hoverObject",value:function(t,e){var n=this.getNodeAt(e);void 0===n&&(n=this.getEdgeAt(e));var i=!1;for(var o in this.hoverObj.nodes)this.hoverObj.nodes.hasOwnProperty(o)&&(void 0===n||n instanceof a&&n.id!=o||n instanceof s)&&(this.emitBlurEvent(t,e,this.hoverObj.nodes[o]),delete this.hoverObj.nodes[o],i=!0);for(var r in this.hoverObj.edges)this.hoverObj.edges.hasOwnProperty(r)&&(!0===i?(this.hoverObj.edges[r].hover=!1,delete this.hoverObj.edges[r]):(void 0===n||n instanceof s&&n.id!=r||n instanceof a&&!n.hover)&&(this.emitBlurEvent(t,e,this.hoverObj.edges[r]),delete this.hoverObj.edges[r],i=!0));void 0!==n&&(i=i||this.emitHoverEvent(t,e,n),n instanceof a&&!0===this.options.hoverConnectedEdges&&this._hoverConnectedEdges(n)),!0===i&&this.body.emitter.emit("_requestRedraw")}},{key:"getSelection",value:function(){return{nodes:this.getSelectedNodes(),edges:this.getSelectedEdges()}}},{key:"getSelectedNodes",value:function(){var t=[];if(!0===this.options.selectable)for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&t.push(this.selectionObj.nodes[e].id);return t}},{key:"getSelectedEdges",value:function(){var t=[];if(!0===this.options.selectable)for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&t.push(this.selectionObj.edges[e].id);return t}},{key:"setSelection",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=void 0,i=void 0;if(!t||!t.nodes&&!t.edges)throw"Selection must be an object with nodes and/or edges properties";if((e.unselectAll||void 0===e.unselectAll)&&this.unselectAll(),t.nodes)for(n=0;n<t.nodes.length;n++){i=t.nodes[n];var o=this.body.nodes[i];if(!o)throw new RangeError('Node with id "'+i+'" not found');this.selectObject(o,e.highlightEdges)}if(t.edges)for(n=0;n<t.edges.length;n++){i=t.edges[n];var r=this.body.edges[i];if(!r)throw new RangeError('Edge with id "'+i+'" not found');this.selectObject(r)}this.body.emitter.emit("_requestRedraw")}},{key:"selectNodes",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({nodes:t},{highlightEdges:e})}},{key:"selectEdges",value:function(t){if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({edges:t})}},{key:"updateSelection",value:function(){for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&(this.body.nodes.hasOwnProperty(t)||delete this.selectionObj.nodes[t]);for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&(this.body.edges.hasOwnProperty(e)||delete this.selectionObj.edges[e])}},{key:"getClickedItems",value:function(t){for(var e=this.canvas.DOMtoCanvas(t),n=[],i=this.body.nodeIndices,o=this.body.nodes,r=i.length-1;0<=r;r--){var a=o[i[r]].getItemsOnPoint(e);n.push.apply(n,a)}for(var s=this.body.edgeIndices,l=this.body.edges,c=s.length-1;0<=c;c--){var d=l[s[c]].getItemsOnPoint(e);n.push.apply(n,d)}return n}}]),i}();e.default=c},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var A=i(n(30)),o=i(n(6)),l=i(n(8)),r=i(n(0)),a=i(n(1)),s=n(2),c=n(76).default,d=n(236),u=d.HorizontalStrategy,h=d.VerticalStrategy,p=function(){function t(){(0,r.default)(this,t),this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}return(0,a.default)(t,[{key:"addRelation",value:function(t,e){void 0===this.childrenReference[t]&&(this.childrenReference[t]=[]),this.childrenReference[t].push(e),void 0===this.parentReference[e]&&(this.parentReference[e]=[]),this.parentReference[e].push(t)}},{key:"checkIfTree",value:function(){for(var t in this.parentReference)if(1<this.parentReference[t].length)return void(this.isTree=!1);this.isTree=!0}},{key:"numTrees",value:function(){return this.treeIndex+1}},{key:"setTreeIndex",value:function(t,e){void 0!==e&&void 0===this.trees[t.id]&&(this.trees[t.id]=e,this.treeIndex=Math.max(e,this.treeIndex))}},{key:"ensureLevel",value:function(t){void 0===this.levels[t]&&(this.levels[t]=0)}},{key:"getMaxLevel",value:function(t){var r=this,a={};return function t(e){if(void 0!==a[e])return a[e];var n=r.levels[e];if(r.childrenReference[e]){var i=r.childrenReference[e];if(0<i.length)for(var o=0;o<i.length;o++)n=Math.max(n,t(i[o]))}return a[e]=n}(t)}},{key:"levelDownstream",value:function(t,e){void 0===this.levels[e.id]&&(void 0===this.levels[t.id]&&(this.levels[t.id]=0),this.levels[e.id]=this.levels[t.id]+1)}},{key:"setMinLevelToZero",value:function(t){var e=1e9;for(var n in t)t.hasOwnProperty(n)&&void 0!==this.levels[n]&&(e=Math.min(this.levels[n],e));for(var i in t)t.hasOwnProperty(i)&&void 0!==this.levels[i]&&(this.levels[i]-=e)}},{key:"getTreeSize",value:function(t,e){var n=1e9,i=-1e9,o=1e9,r=-1e9;for(var a in this.trees)if(this.trees.hasOwnProperty(a)&&this.trees[a]===e){var s=t[a];n=Math.min(s.x,n),i=Math.max(s.x,i),o=Math.min(s.y,o),r=Math.max(s.y,r)}return{min_x:n,max_x:i,min_y:o,max_y:r}}},{key:"hasSameParent",value:function(t,e){var n=this.parentReference[t.id],i=this.parentReference[e.id];if(void 0===n||void 0===i)return!1;for(var o=0;o<n.length;o++)for(var r=0;r<i.length;r++)if(n[o]==i[r])return!0;return!1}},{key:"inSameSubNetwork",value:function(t,e){return this.trees[t.id]===this.trees[e.id]}},{key:"getLevels",value:function(){return(0,l.default)(this.distributionOrdering)}},{key:"addToOrdering",value:function(t,e){void 0===this.distributionOrdering[e]&&(this.distributionOrdering[e]=[]);var n=!1,i=this.distributionOrdering[e];for(var o in i)if(i[o]===t){n=!0;break}n||(this.distributionOrdering[e].push(t),this.distributionIndex[t.id]=this.distributionOrdering[e].length-1)}}]),t}(),f=function(){function e(t){(0,r.default)(this,e),this.body=t,this.initialRandomSeed=Math.round(1e6*Math.random()),this.randomSeed=this.initialRandomSeed,this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},s.extend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,a.default)(e,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("_dataChanged",function(){e.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",function(){e.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",function(){e.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",function(){if(!0===e.options.hierarchical.enabled){var t=e.direction.curveType();e.body.emitter.emit("_forceDisableDynamicCurves",t,!1)}})}},{key:"setOptions",value:function(t,e){if(void 0!==t){var n=this.options.hierarchical,i=n.enabled;if(s.selectiveDeepExtend(["randomSeed","improvedLayout"],this.options,t),s.mergeOptions(this.options,t,"hierarchical"),void 0!==t.randomSeed&&(this.initialRandomSeed=t.randomSeed),!0===n.enabled)return!0===i&&this.body.emitter.emit("refresh",!0),"RL"===n.direction||"DU"===n.direction?0<n.levelSeparation&&(n.levelSeparation*=-1):n.levelSeparation<0&&(n.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(e);if(!0===i)return this.body.emitter.emit("refresh"),s.deepExtend(e,this.optionsBackup)}return e}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(t){if(!0===this.options.hierarchical.enabled){var e=this.optionsBackup.physics;void 0===t.physics||!0===t.physics?(t.physics={enabled:void 0===e.enabled||e.enabled,solver:"hierarchicalRepulsion"},e.enabled=void 0===e.enabled||e.enabled,e.solver=e.solver||"barnesHut"):"object"===(0,o.default)(t.physics)?(e.enabled=void 0===t.physics.enabled||t.physics.enabled,e.solver=t.physics.solver||"barnesHut",t.physics.solver="hierarchicalRepulsion"):!1!==t.physics&&(e.solver="barnesHut",t.physics={solver:"hierarchicalRepulsion"});var n=this.direction.curveType();if(void 0===t.edges)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges={smooth:!1};else if(void 0===t.edges.smooth)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges.smooth=!1;else if("boolean"==typeof t.edges.smooth)this.optionsBackup.edges={smooth:t.edges.smooth},t.edges.smooth={enabled:t.edges.smooth,type:n};else{var i=t.edges.smooth;void 0!==i.type&&"dynamic"!==i.type&&(n=i.type),this.optionsBackup.edges={smooth:void 0===i.enabled||i.enabled,type:void 0===i.type?"dynamic":i.type,roundness:void 0===i.roundness?.5:i.roundness,forceDirection:void 0!==i.forceDirection&&i.forceDirection},t.edges.smooth={enabled:void 0===i.enabled||i.enabled,type:n,roundness:void 0===i.roundness?.5:i.roundness,forceDirection:void 0!==i.forceDirection&&i.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",n)}return t}},{key:"seededRandom",value:function(){var t=1e4*Math.sin(this.randomSeed++);return t-Math.floor(t)}},{key:"positionInitially",value:function(t){if(!0!==this.options.hierarchical.enabled){this.randomSeed=this.initialRandomSeed;for(var e=t.length+50,n=0;n<t.length;n++){var i=t[n],o=2*Math.PI*this.seededRandom();void 0===i.x&&(i.x=e*Math.cos(o)),void 0===i.y&&(i.y=e*Math.sin(o))}}}},{key:"layoutNetwork",value:function(){if(!0!==this.options.hierarchical.enabled&&!0===this.options.improvedLayout){for(var t=this.body.nodeIndices,e=0,n=0;n<t.length;n++)!0===this.body.nodes[t[n]].predefinedPosition&&(e+=1);if(e<.5*t.length){var i=0,o={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(150<t.length){for(var r=t.length;150<t.length&&i<=10;){i+=1;var a=t.length;if(i%3==0?this.body.modules.clustering.clusterBridges(o):this.body.modules.clustering.clusterOutliers(o),a==t.length&&i%3!=0)return this._declusterAll(),this.body.emitter.emit("_layoutFailed"),void console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.")}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*r)})}10<i&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(t,this.body.edgeIndices,!0),this._shiftToCenter();for(var s=0;s<t.length;s++){var l=this.body.nodes[t[s]];!1===l.predefinedPosition&&(l.x+=70*(.5-this.seededRandom()),l.y+=70*(.5-this.seededRandom()))}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var t=c.getRangeCore(this.body.nodes,this.body.nodeIndices),e=c.findCenter(t),n=0;n<this.body.nodeIndices.length;n++){var i=this.body.nodes[this.body.nodeIndices[n]];i.x-=e.x,i.y-=e.y}}},{key:"_declusterAll",value:function(){for(var t=!0;!0===t;){t=!1;for(var e=0;e<this.body.nodeIndices.length;e++)!0===this.body.nodes[this.body.nodeIndices[e]].isCluster&&(t=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[e],{},!1));!0===t&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(!0===this.options.hierarchical.enabled&&0<this.body.nodeIndices.length){var t=void 0,e=void 0,n=!1,i=!1;for(e in this.lastNodeOnLevel={},this.hierarchical=new p,this.body.nodes)this.body.nodes.hasOwnProperty(e)&&(void 0!==(t=this.body.nodes[e]).options.level?(n=!0,this.hierarchical.levels[e]=t.options.level):i=!0);if(!0===i&&!0===n)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(!0===i){var o=this.options.hierarchical.sortMethod;"hubsize"===o?this._determineLevelsByHubsize():"directed"===o?this._determineLevelsDirected():"custom"===o&&this._determineLevelsCustomCallback()}for(var r in this.body.nodes)this.body.nodes.hasOwnProperty(r)&&this.hierarchical.ensureLevel(r);var a=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(a),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var E=this,M=!1,T={},i=function(t,e){var n=E.hierarchical.trees;for(var i in n)n.hasOwnProperty(i)&&n[i]===t&&E.direction.shift(i,e)},C=function t(e,n){if(!n[e.id]&&(n[e.id]=!0,E.hierarchical.childrenReference[e.id])){var i=E.hierarchical.childrenReference[e.id];if(0<i.length)for(var o=0;o<i.length;o++)t(E.body.nodes[i[o]],n)}},S=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1e9,n=1e9,i=1e9,o=1e9,r=-1e9;for(var a in t)if(t.hasOwnProperty(a)){var s=E.body.nodes[a],l=E.hierarchical.levels[s.id],c=E.direction.getPosition(s),d=E._getSpaceAroundNode(s,t),u=(0,A.default)(d,2),h=u[0],p=u[1];n=Math.min(h,n),i=Math.min(p,i),l<=e&&(o=Math.min(c,o),r=Math.max(c,r))}return[o,r,n,i]},o=function(t,e,n){for(var i=E.hierarchical,o=0;o<e.length;o++){var r=e[o],a=i.distributionOrdering[r];if(1<a.length)for(var s=0;s<a.length-1;s++){var l=a[s],c=a[s+1];i.hasSameParent(l,c)&&i.inSameSubNetwork(l,c)&&t(l,c,n)}}},r=function(t,e){var n,i,o,r,a=2<arguments.length&&void 0!==arguments[2]&&arguments[2],s=E.direction.getPosition(t),l=E.direction.getPosition(e),c=Math.abs(l-s),d=E.options.hierarchical.nodeSpacing;if(d<c){var u={},h={};C(t,u),C(e,h);var p=(n=t,i=e,o=E.hierarchical.getMaxLevel(n.id),r=E.hierarchical.getMaxLevel(i.id),Math.min(o,r)),f=S(u,p),m=S(h,p),g=f[1],v=m[0],y=m[2];if(Math.abs(g-v)>d){var b=g-v+d;b<-y+d&&(b=-y+d),b<0&&(E._shiftBlock(e.id,b),(M=!0)===a&&E._centerParent(e))}}},s=function(t,l){for(var e=l.id,n=l.edges,i=E.hierarchical.levels[l.id],r=E.options.hierarchical.levelSeparation*E.options.hierarchical.levelSeparation,a={},o=[],s=0;s<n.length;s++){var c=n[s];if(c.toId!=c.fromId){var d=c.toId==e?c.from:c.to;a[n[s].id]=d,E.hierarchical.levels[d.id]<i&&o.push(c)}}var u,h,p,f,m,g,v,y,b=function(t,e){for(var n=0,i=0;i<e.length;i++)if(void 0!==a[e[i].id]){var o=E.direction.getPosition(a[e[i].id])-t;n+=o/Math.sqrt(o*o+r)}return n},_=function(t,e){for(var n=0,i=0;i<e.length;i++)if(void 0!==a[e[i].id]){var o=E.direction.getPosition(a[e[i].id])-t;n-=r*Math.pow(o*o+r,-1.5)}return n},x=function(t,e){for(var n=E.direction.getPosition(l),i={},o=0;o<t;o++){var r=b(n,e),a=_(n,e);if(void 0!==i[n-=Math.max(-40,Math.min(40,Math.round(r/a)))])break;i[n]=o}return n},w=x(t,o);!function(t){var e=E.direction.getPosition(l);if(void 0===T[l.id]){var n={};C(l,n),T[l.id]=n}var i=S(T[l.id]),o=i[2],r=i[3],a=t-e,s=0;0<a?s=Math.min(a,r-E.options.hierarchical.nodeSpacing):a<0&&(s=-Math.min(-a,o-E.options.hierarchical.nodeSpacing)),0!=s&&(E._shiftBlock(l.id,s),M=!0)}(w),w=x(t,n),u=w,h=E.direction.getPosition(l),p=E._getSpaceAroundNode(l),f=(0,A.default)(p,2),m=f[0],g=f[1],0<(v=u-(y=h))?y=Math.min(h+(g-E.options.hierarchical.nodeSpacing),u):v<0&&(y=Math.max(h-(m-E.options.hierarchical.nodeSpacing),u)),y!==h&&(E.direction.setPosition(l,y),M=!0)};!0===this.options.hierarchical.blockShifting&&(function(t){var e=E.hierarchical.getLevels();e=e.reverse();for(var n=0;n<5&&(o(r,e,!(M=!1)),!0===M);n++);}(),function(){for(var t in E.body.nodes)E.body.nodes.hasOwnProperty(t)&&E._centerParent(E.body.nodes[t])}()),!0===this.options.hierarchical.edgeMinimization&&function(t){var e=E.hierarchical.getLevels();e=e.reverse();for(var n=0;n<20;n++){M=!1;for(var i=0;i<e.length;i++)for(var o=e[i],r=E.hierarchical.distributionOrdering[o],a=0;a<r.length;a++)s(1e3,r[a]);if(!0!==M)break}}(),!0===this.options.hierarchical.parentCentralization&&function(){var t=E.hierarchical.getLevels();t=t.reverse();for(var e=0;e<t.length;e++)for(var n=t[e],i=E.hierarchical.distributionOrdering[n],o=0;o<i.length;o++)E._centerParent(i[o])}(),function(){for(var t=function(){for(var t=[],e=0;e<E.hierarchical.numTrees();e++)t.push(E.direction.getTreeSize(e));return t}(),e=0,n=0;n<t.length-1;n++)e+=t[n].max-t[n+1].min+E.options.hierarchical.treeSpacing,i(n+1,e)}()}},{key:"_getSpaceAroundNode",value:function(t,e){var n=!0;void 0===e&&(n=!1);var i=this.hierarchical.levels[t.id];if(void 0===i)return[0,0];var o=this.hierarchical.distributionIndex[t.id],r=this.direction.getPosition(t),a=this.hierarchical.distributionOrdering[i],s=1e9,l=1e9;if(0!==o){var c=a[o-1];(!0===n&&void 0===e[c.id]||!1===n)&&(s=r-this.direction.getPosition(c))}if(o!=a.length-1){var d=a[o+1];if(!0===n&&void 0===e[d.id]||!1===n){var u=this.direction.getPosition(d);l=Math.min(l,u-r)}}return[s,l]}},{key:"_centerParent",value:function(t){if(this.hierarchical.parentReference[t.id])for(var e=this.hierarchical.parentReference[t.id],n=0;n<e.length;n++){var i=e[n],o=this.body.nodes[i],r=this.hierarchical.childrenReference[i];if(void 0!==r){var a=this._getCenterPosition(r),s=this.direction.getPosition(o),l=this._getSpaceAroundNode(o),c=(0,A.default)(l,2),d=c[0],u=c[1],h=s-a;(h<0&&Math.abs(h)<u-this.options.hierarchical.nodeSpacing||0<h&&Math.abs(h)<d-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(o,a)}}}},{key:"_placeNodesByHierarchy",value:function(t){for(var e in this.positionedNodes={},t)if(t.hasOwnProperty(e)){var n=(0,l.default)(t[e]);n=this._indexArrayToNodes(n),this.direction.sort(n);for(var i=0,o=0;o<n.length;o++){var r=n[o];if(void 0===this.positionedNodes[r.id]){var a=this.options.hierarchical.nodeSpacing,s=a*i;0<i&&(s=this.direction.getPosition(n[o-1])+a),this.direction.setPosition(r,s,e),this._validatePositionAndContinue(r,e,s),i++}}}}},{key:"_placeBranchNodes",value:function(t,e){var n=this.hierarchical.childrenReference[t];if(void 0!==n){for(var i=[],o=0;o<n.length;o++)i.push(this.body.nodes[n[o]]);this.direction.sort(i);for(var r=0;r<i.length;r++){var a=i[r],s=this.hierarchical.levels[a.id];if(!(e<s&&void 0===this.positionedNodes[a.id]))return;var l,c=this.options.hierarchical.nodeSpacing;l=0===r?this.direction.getPosition(this.body.nodes[t]):this.direction.getPosition(i[r-1])+c,this.direction.setPosition(a,l,s),this._validatePositionAndContinue(a,s,l)}var d=this._getCenterPosition(i);this.direction.setPosition(this.body.nodes[t],d,e)}}},{key:"_validatePositionAndContinue",value:function(t,e,n){if(this.hierarchical.isTree){if(void 0!==this.lastNodeOnLevel[e]){var i=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[e]]);if(n-i<this.options.hierarchical.nodeSpacing){var o=i+this.options.hierarchical.nodeSpacing-n,r=this._findCommonParent(this.lastNodeOnLevel[e],t.id);this._shiftBlock(r.withChild,o)}}this.lastNodeOnLevel[e]=t.id,this.positionedNodes[t.id]=!0,this._placeBranchNodes(t.id,e)}}},{key:"_indexArrayToNodes",value:function(t){for(var e=[],n=0;n<t.length;n++)e.push(this.body.nodes[t[n]]);return e}},{key:"_getDistribution",value:function(){var t={},e=void 0,n=void 0;for(e in this.body.nodes)if(this.body.nodes.hasOwnProperty(e)){n=this.body.nodes[e];var i=void 0===this.hierarchical.levels[e]?0:this.hierarchical.levels[e];this.direction.fix(n,i),void 0===t[i]&&(t[i]={}),t[i][e]=n}return t}},{key:"_getActiveEdges",value:function(t){var e=this,n=[];return s.forEach(t.edges,function(t){-1!==e.body.edgeIndices.indexOf(t.id)&&n.push(t)}),n}},{key:"_getHubSizes",value:function(){var i=this,o={},t=this.body.nodeIndices;s.forEach(t,function(t){var e=i.body.nodes[t],n=i._getActiveEdges(e).length;o[n]=!0});var e=[];return s.forEach(o,function(t){e.push(Number(t))}),e.sort(function(t,e){return e-t}),e}},{key:"_determineLevelsByHubsize",value:function(){for(var i=this,o=function(t,e){i.hierarchical.levelDownstream(t,e)},e=this._getHubSizes(),r=0;r<e.length&&"break"!==function(t){var n=e[r];if(0===n)return"break";s.forEach(i.body.nodeIndices,function(t){var e=i.body.nodes[t];n===i._getActiveEdges(e).length&&i._crawlNetwork(o,t)})}();++r);}},{key:"_determineLevelsCustomCallback",value:function(){var r=this;this._crawlNetwork(function(t,e,n){var i=r.hierarchical.levels[t.id];void 0===i&&(i=r.hierarchical.levels[t.id]=1e5);var o=(c.cloneOptions(t,"node"),c.cloneOptions(e,"node"),void c.cloneOptions(n,"edge"));r.hierarchical.levels[e.id]=i+o}),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function(){var r=this;this._crawlNetwork(function(t,e,n){var i,o=r.hierarchical.levels[t.id];r.hierarchical.levels[e.id];i=n,s.forEach(r.body.edges,function(t){if(t.toId===i.fromId&&t.fromId===i.toId)return!0}),void 0===o&&(o=r.hierarchical.levels[t.id]=1e4),n.toId==e.id?r.hierarchical.levels[e.id]=o+1:r.hierarchical.levels[e.id]=o-1}),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function(){var n=this;this._crawlNetwork(function(t,e){n.hierarchical.levels[e.id]>n.hierarchical.levels[t.id]&&n.hierarchical.addRelation(t.id,e.id)}),this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(){var s=this,l=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments[1],c={},e=function t(e,n){if(void 0===c[e.id]){s.hierarchical.setTreeIndex(e,n),c[e.id]=!0;for(var i=void 0,o=s._getActiveEdges(e),r=0;r<o.length;r++){var a=o[r];!0===a.connected&&(i=a.toId==e.id?a.from:a.to,e.id!=i.id&&(l(e,i,a),t(i,n)))}}};if(void 0===t)for(var n=0,i=0;i<this.body.nodeIndices.length;i++){var o=this.body.nodeIndices[i];if(void 0===c[o])e(this.body.nodes[o],n),n+=1}else{var r=this.body.nodes[t];if(void 0===r)return void console.error("Node not found:",t);e(r)}}},{key:"_shiftBlock",value:function(t,o){var r=this,a={};!function t(e){if(!a[e]){a[e]=!0,r.direction.shift(e,o);var n=r.hierarchical.childrenReference[e];if(void 0!==n)for(var i=0;i<n.length;i++)t(n[i])}}(t)}},{key:"_findCommonParent",value:function(t,e){var s=this,n={};return function t(e,n){var i=s.hierarchical.parentReference[n];if(void 0!==i)for(var o=0;o<i.length;o++){var r=i[o];e[r]=!0,t(e,r)}}(n,t),function t(e,n){var i=s.hierarchical.parentReference[n];if(void 0!==i)for(var o=0;o<i.length;o++){var r=i[o];if(void 0!==e[r])return{foundParent:r,withChild:n};var a=t(e,r);if(null!==a.foundParent)return a}return{foundParent:null,withChild:n}}(n,e)}},{key:"setDirectionStrategy",value:function(){var t="UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction;this.direction=t?new h(this):new u(this)}},{key:"_getCenterPosition",value:function(t){for(var e=1e9,n=-1e9,i=0;i<t.length;i++){var o=void 0;if(void 0!==t[i].id)o=t[i];else{var r=t[i];o=this.body.nodes[r]}var a=this.direction.getPosition(o);e=Math.min(e,a),n=Math.max(n,a)}return.5*(e+n)}}]),e}();e.default=f},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.VerticalStrategy=e.HorizontalStrategy=void 0;var o=i(n(3)),r=i(n(4)),a=i(n(5)),s=i(n(0)),l=i(n(1)),c=function(){function t(){(0,s.default)(this,t)}return(0,l.default)(t,[{key:"abstract",value:function(){throw new Error("Can't instantiate abstract class!")}},{key:"fake_use",value:function(){}},{key:"curveType",value:function(){return this.abstract()}},{key:"getPosition",value:function(t){return this.fake_use(t),this.abstract()}},{key:"setPosition",value:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0;this.fake_use(t,e,n),this.abstract()}},{key:"getTreeSize",value:function(t){return this.fake_use(t),this.abstract()}},{key:"sort",value:function(t){this.fake_use(t),this.abstract()}},{key:"fix",value:function(t,e){this.fake_use(t,e),this.abstract()}},{key:"shift",value:function(t,e){this.fake_use(t,e),this.abstract()}}]),t}(),d=function(t){function n(t){(0,s.default)(this,n);var e=(0,r.default)(this,(n.__proto__||(0,o.default)(n)).call(this));return e.layout=t,e}return(0,a.default)(n,t),(0,l.default)(n,[{key:"curveType",value:function(){return"horizontal"}},{key:"getPosition",value:function(t){return t.x}},{key:"setPosition",value:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==n&&this.layout.hierarchical.addToOrdering(t,n),t.x=e}},{key:"getTreeSize",value:function(t){var e=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,t);return{min:e.min_x,max:e.max_x}}},{key:"sort",value:function(t){t.sort(function(t,e){return void 0===t.x||void 0===e.x?0:t.x-e.x})}},{key:"fix",value:function(t,e){t.y=this.layout.options.hierarchical.levelSeparation*e,t.options.fixed.y=!0}},{key:"shift",value:function(t,e){this.layout.body.nodes[t].x+=e}}]),n}(c),u=function(t){function n(t){(0,s.default)(this,n);var e=(0,r.default)(this,(n.__proto__||(0,o.default)(n)).call(this));return e.layout=t,e}return(0,a.default)(n,t),(0,l.default)(n,[{key:"curveType",value:function(){return"vertical"}},{key:"getPosition",value:function(t){return t.y}},{key:"setPosition",value:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==n&&this.layout.hierarchical.addToOrdering(t,n),t.y=e}},{key:"getTreeSize",value:function(t){var e=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,t);return{min:e.min_y,max:e.max_y}}},{key:"sort",value:function(t){t.sort(function(t,e){return void 0===t.y||void 0===e.y?0:t.y-e.y})}},{key:"fix",value:function(t,e){t.x=this.layout.options.hierarchical.levelSeparation*e,t.options.fixed.x=!0}},{key:"shift",value:function(t,e){this.layout.body.nodes[t].y+=e}}]),n}(c);e.HorizontalStrategy=u,e.VerticalStrategy=d},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(8)),a=i(n(19)),s=i(n(6)),l=i(n(0)),c=i(n(1)),d=n(2),u=n(10),h=n(37),o=function(){function o(t,e,n){var i=this;(0,l.default)(this,o),this.body=t,this.canvas=e,this.selectionHandler=n,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this.manipulationHammers=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},d.extend(this.options,this.defaultOptions),this.body.emitter.on("destroy",function(){i._clean()}),this.body.emitter.on("_dataChanged",this._restore.bind(this)),this.body.emitter.on("_resetData",this._restore.bind(this))}return(0,c.default)(o,[{key:"_restore",value:function(){!1!==this.inMode&&(!0===this.options.initiallyActive?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(t,e,n){void 0!==e&&(void 0!==e.locale?this.options.locale=e.locale:this.options.locale=n.locale,void 0!==e.locales?this.options.locales=e.locales:this.options.locales=n.locales),void 0!==t&&("boolean"==typeof t?this.options.enabled=t:(this.options.enabled=!0,d.deepExtend(this.options,t)),!0===this.options.initiallyActive&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){!0===this.editMode?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},!0===this.guiEnabled){this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var t=this.selectionHandler._getSelectedNodeCount(),e=this.selectionHandler._getSelectedEdgeCount(),n=t+e,i=this.options.locales[this.options.locale],o=!1;!1!==this.options.addNode&&(this._createAddNodeButton(i),o=!0),!1!==this.options.addEdge&&(!0===o?this._createSeperator(1):o=!0,this._createAddEdgeButton(i)),1===t&&"function"==typeof this.options.editNode?(!0===o?this._createSeperator(2):o=!0,this._createEditNodeButton(i)):1===e&&0===t&&!1!==this.options.editEdge&&(!0===o?this._createSeperator(3):o=!0,this._createEditEdgeButton(i)),0!==n&&(0<t&&!1!==this.options.deleteNode?(!0===o&&this._createSeperator(4),this._createDeleteButton(i)):0===t&&!1!==this.options.deleteEdge&&(!0===o&&this._createSeperator(4),this._createDeleteButton(i))),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this)),this._temporaryBindEvent("select",this.showManipulatorToolbar.bind(this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addNode",!0===this.guiEnabled){var t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.addDescription||this.options.locales.en.addDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindEvent("click",this._performAddNode.bind(this))}},{key:"editNode",value:function(){var e=this;!0!==this.editMode&&this.enableEditMode(),this._clean();var t=this.selectionHandler._getSelectedNode();if(void 0!==t){if(this.inMode="editNode","function"!=typeof this.options.editNode)throw new Error("No function has been configured to handle the editing of nodes.");if(!0!==t.isCluster){var n=d.deepExtend({},t.options,!1);if(n.x=t.x,n.y=t.y,2!==this.options.editNode.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(n,function(t){null!=t&&"editNode"===e.inMode&&e.body.data.nodes.getDataSet().update(t),e.showManipulatorToolbar()})}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addEdge",!0===this.guiEnabled){var t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.edgeDescription||this.options.locales.en.edgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindUI("onTouch",this._handleConnect.bind(this)),this._temporaryBindUI("onDragEnd",this._finishConnect.bind(this)),this._temporaryBindUI("onDrag",this._dragControlNode.bind(this)),this._temporaryBindUI("onRelease",this._finishConnect.bind(this)),this._temporaryBindUI("onDragStart",this._dragStartEdge.bind(this)),this._temporaryBindUI("onHold",function(){})}},{key:"editEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="editEdge","object"!==(0,s.default)(this.options.editEdge)||"function"!=typeof this.options.editEdge.editWithoutDrag||(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0===this.edgeBeingEditedId)){if(!0===this.guiEnabled){var t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0!==this.edgeBeingEditedId){var n=this.body.edges[this.edgeBeingEditedId],i=this._getNewTargetNode(n.from.x,n.from.y),o=this._getNewTargetNode(n.to.x,n.to.y);this.temporaryIds.nodes.push(i.id),this.temporaryIds.nodes.push(o.id),this.body.nodes[i.id]=i,this.body.nodeIndices.push(i.id),this.body.nodes[o.id]=o,this.body.nodeIndices.push(o.id),this._temporaryBindUI("onTouch",this._controlNodeTouch.bind(this)),this._temporaryBindUI("onTap",function(){}),this._temporaryBindUI("onHold",function(){}),this._temporaryBindUI("onDragStart",this._controlNodeDragStart.bind(this)),this._temporaryBindUI("onDrag",this._controlNodeDrag.bind(this)),this._temporaryBindUI("onDragEnd",this._controlNodeDragEnd.bind(this)),this._temporaryBindUI("onMouseMove",function(){}),this._temporaryBindEvent("beforeDrawing",function(t){var e=n.edgeType.findBorderPositions(t);!1===i.selected&&(i.x=e.from.x,i.y=e.from.y),!1===o.selected&&(o.x=e.to.x,o.y=e.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}else{var e=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(e.from,e.to)}}},{key:"deleteSelected",value:function(){var e=this;!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="delete";var t=this.selectionHandler.getSelectedNodes(),n=this.selectionHandler.getSelectedEdges(),i=void 0;if(0<t.length){for(var o=0;o<t.length;o++)if(!0===this.body.nodes[t[o]].isCluster)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);"function"==typeof this.options.deleteNode&&(i=this.options.deleteNode)}else 0<n.length&&"function"==typeof this.options.deleteEdge&&(i=this.options.deleteEdge);if("function"==typeof i){var r={nodes:t,edges:n};if(2!==i.length)throw new Error("The function for delete does not support two arguments (data, callback)");i(r,function(t){null!=t&&"delete"===e.inMode&&(e.body.data.edges.getDataSet().remove(t.edges),e.body.data.nodes.getDataSet().remove(t.nodes)),e.body.emitter.emit("startSimulation"),e.showManipulatorToolbar()})}else this.body.data.edges.getDataSet().remove(n),this.body.data.nodes.getDataSet().remove(t),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){!0===this.options.enabled?(this.guiEnabled=!0,this._createWrappers(),!1===this.editMode?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",!0===this.editMode?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",!0===this.editMode?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv&&(this.closeDiv=document.createElement("div"),this.closeDiv.className="vis-close",this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",value:function(t,e){var n=d.deepExtend({},this.options.controlNodeStyle);n.id="targetNode"+d.randomUUID(),n.hidden=!1,n.physics=!1,n.x=t,n.y=e;var i=this.body.functions.createNode(n);return i.shape.boundingBox={left:t,right:t,top:e,bottom:e},i}},{key:"_createEditButton",value:function(){this._clean(),this.manipulationDOM={},d.recursiveDOMDelete(this.editModeDiv);var t=this.options.locales[this.options.locale],e=this._createButton("editMode","vis-button vis-edit vis-edit-mode",t.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(e),this._bindHammerToDiv(e,this.toggleEditMode.bind(this))}},{key:"_clean",value:function(){!(this.inMode=!1)===this.guiEnabled&&(d.recursiveDOMDelete(this.editModeDiv),d.recursiveDOMDelete(this.manipulationDiv),this._cleanManipulatorHammers()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanManipulatorHammers",value:function(){if(0!=this.manipulationHammers.length){for(var t=0;t<this.manipulationHammers.length;t++)this.manipulationHammers[t].destroy();this.manipulationHammers=[]}}},{key:"_removeManipulationDOM",value:function(){this._clean(),d.recursiveDOMDelete(this.manipulationDiv),d.recursiveDOMDelete(this.editModeDiv),d.recursiveDOMDelete(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+t]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+t].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+t])}},{key:"_createAddNodeButton",value:function(t){var e=this._createButton("addNode","vis-button vis-add",t.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.addNodeMode.bind(this))}},{key:"_createAddEdgeButton",value:function(t){var e=this._createButton("addEdge","vis-button vis-connect",t.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.addEdgeMode.bind(this))}},{key:"_createEditNodeButton",value:function(t){var e=this._createButton("editNode","vis-button vis-edit",t.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.editNode.bind(this))}},{key:"_createEditEdgeButton",value:function(t){var e=this._createButton("editEdge","vis-button vis-edit",t.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.editEdgeMode.bind(this))}},{key:"_createDeleteButton",value:function(t){var e;e=this.options.rtl?"vis-button vis-delete-rtl":"vis-button vis-delete";var n=this._createButton("delete",e,t.del||this.options.locales.en.del);this.manipulationDiv.appendChild(n),this._bindHammerToDiv(n,this.deleteSelected.bind(this))}},{key:"_createBackButton",value:function(t){var e=this._createButton("back","vis-button vis-back",t.back||this.options.locales.en.back);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.showManipulatorToolbar.bind(this))}},{key:"_createButton",value:function(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"vis-label";return this.manipulationDOM[t+"Div"]=document.createElement("div"),this.manipulationDOM[t+"Div"].className=e,this.manipulationDOM[t+"Label"]=document.createElement("div"),this.manipulationDOM[t+"Label"].className=i,this.manipulationDOM[t+"Label"].innerHTML=n,this.manipulationDOM[t+"Div"].appendChild(this.manipulationDOM[t+"Label"]),this.manipulationDOM[t+"Div"]}},{key:"_createDescription",value:function(t){this.manipulationDiv.appendChild(this._createButton("description","vis-button vis-none",t))}},{key:"_temporaryBindEvent",value:function(t,e){this.temporaryEventFunctions.push({event:t,boundFunction:e}),this.body.emitter.on(t,e)}},{key:"_temporaryBindUI",value:function(t,e){if(void 0===this.body.eventListeners[t])throw new Error("This UI function does not exist. Typo? You tried: "+t+" possible are: "+(0,a.default)((0,r.default)(this.body.eventListeners)));this.temporaryUIFunctions[t]=this.body.eventListeners[t],this.body.eventListeners[t]=e}},{key:"_unbindTemporaryUIs",value:function(){for(var t in this.temporaryUIFunctions)this.temporaryUIFunctions.hasOwnProperty(t)&&(this.body.eventListeners[t]=this.temporaryUIFunctions[t],delete this.temporaryUIFunctions[t]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var t=0;t<this.temporaryEventFunctions.length;t++){var e=this.temporaryEventFunctions[t].event,n=this.temporaryEventFunctions[t].boundFunction;this.body.emitter.off(e,n)}this.temporaryEventFunctions=[]}},{key:"_bindHammerToDiv",value:function(t,e){var n=new u(t,{});h.onTouch(n,e),this.manipulationHammers.push(n)}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var t=0;t<this.temporaryIds.edges.length;t++){this.body.edges[this.temporaryIds.edges[t]].disconnect(),delete this.body.edges[this.temporaryIds.edges[t]];var e=this.body.edgeIndices.indexOf(this.temporaryIds.edges[t]);-1!==e&&this.body.edgeIndices.splice(e,1)}for(var n=0;n<this.temporaryIds.nodes.length;n++){delete this.body.nodes[this.temporaryIds.nodes[n]];var i=this.body.nodeIndices.indexOf(this.temporaryIds.nodes[n]);-1!==i&&this.body.nodeIndices.splice(i,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(t){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=d.extend({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(t){var e=this.lastTouch,n=this.selectionHandler._pointerToPositionObject(e),i=this.body.nodes[this.temporaryIds.nodes[0]],o=this.body.nodes[this.temporaryIds.nodes[1]],r=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var a=i.isOverlappingWith(n),s=o.isOverlappingWith(n);!0===a?(this.selectedControlNode=i,r.edgeType.from=i):!0===s&&(this.selectedControlNode=o,r.edgeType.to=o),void 0!==this.selectedControlNode&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(t){this.body.emitter.emit("disablePhysics");var e=this.body.functions.getPointer(t.center),n=this.canvas.DOMtoCanvas(e);if(void 0!==this.selectedControlNode)this.selectedControlNode.x=n.x,this.selectedControlNode.y=n.y;else{var i=e.x-this.lastTouch.x,o=e.y-this.lastTouch.y;this.body.view.translation={x:this.lastTouch.translation.x+i,y:this.lastTouch.translation.y+o}}this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(t){var e=this.body.functions.getPointer(t.center),n=this.selectionHandler._pointerToPositionObject(e),i=this.body.edges[this.edgeBeingEditedId];if(void 0!==this.selectedControlNode){this.selectionHandler.unselectAll();for(var o=this.selectionHandler._getAllNodesOverlappingWith(n),r=void 0,a=o.length-1;0<=a;a--)if(o[a]!==this.selectedControlNode.id){r=this.body.nodes[o[a]];break}if(void 0!==r&&void 0!==this.selectedControlNode)if(!0===r.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var s=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===s.id?this._performEditEdge(r.id,i.to.id):this._performEditEdge(i.from.id,r.id)}else i.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(t){if(100<(new Date).valueOf()-this.touchTime){this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=d.extend({},this.body.view.translation);var e=this.lastTouch,n=this.selectionHandler.getNodeAt(e);if(void 0!==n)if(!0===n.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var i=this._getNewTargetNode(n.x,n.y);this.body.nodes[i.id]=i,this.body.nodeIndices.push(i.id);var o=this.body.functions.createEdge({id:"connectionEdge"+d.randomUUID(),from:n.id,to:i.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[o.id]=o,this.body.edgeIndices.push(o.id),this.temporaryIds.nodes.push(i.id),this.temporaryIds.edges.push(o.id)}this.touchTime=(new Date).valueOf()}}},{key:"_dragControlNode",value:function(t){var e=this.body.functions.getPointer(t.center);if(void 0!==this.temporaryIds.nodes[0]){var n=this.body.nodes[this.temporaryIds.nodes[0]];n.x=this.canvas._XconvertDOMtoCanvas(e.x),n.y=this.canvas._YconvertDOMtoCanvas(e.y),this.body.emitter.emit("_redraw")}else{var i=e.x-this.lastTouch.x,o=e.y-this.lastTouch.y;this.body.view.translation={x:this.lastTouch.translation.x+i,y:this.lastTouch.translation.y+o}}}},{key:"_finishConnect",value:function(t){var e=this.body.functions.getPointer(t.center),n=this.selectionHandler._pointerToPositionObject(e),i=void 0;void 0!==this.temporaryIds.edges[0]&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var o=this.selectionHandler._getAllNodesOverlappingWith(n),r=void 0,a=o.length-1;0<=a;a--)if(-1===this.temporaryIds.nodes.indexOf(o[a])){r=this.body.nodes[o[a]];break}this._cleanupTemporaryNodesAndEdges(),void 0!==r&&(!0===r.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):void 0!==this.body.nodes[i]&&void 0!==this.body.nodes[r.id]&&this._performAddEdge(i,r.id)),this.body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function(t){var e=this.lastTouch;this.selectionHandler._generateClickEvent("dragStart",t,e,void 0,!0)}},{key:"_performAddNode",value:function(t){var e=this,n={id:d.randomUUID(),x:t.pointer.canvas.x,y:t.pointer.canvas.y,label:"new"};if("function"==typeof this.options.addNode){if(2!==this.options.addNode.length)throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");this.options.addNode(n,function(t){null!=t&&"addNode"===e.inMode&&(e.body.data.nodes.getDataSet().add(t),e.showManipulatorToolbar())})}else this.body.data.nodes.getDataSet().add(n),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(t,e){var n=this,i={from:t,to:e};if("function"==typeof this.options.addEdge){if(2!==this.options.addEdge.length)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(i,function(t){null!=t&&"addEdge"===n.inMode&&(n.body.data.edges.getDataSet().add(t),n.selectionHandler.unselectAll(),n.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().add(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(t,e){var n=this,i={id:this.edgeBeingEditedId,from:t,to:e,label:this.body.data.edges._data[this.edgeBeingEditedId].label},o=this.options.editEdge;if("object"===(void 0===o?"undefined":(0,s.default)(o))&&(o=o.editWithoutDrag),"function"==typeof o){if(2!==o.length)throw new Error("The function for edit does not support two arguments (data, callback)");o(i,function(t){null==t||"editEdge"!==n.inMode?(n.body.edges[i.id].updateEdgeType(),n.body.emitter.emit("_redraw")):(n.body.data.edges.getDataSet().update(t),n.selectionHandler.unselectAll()),n.showManipulatorToolbar()})}else this.body.data.edges.getDataSet().update(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),o}();e.default=o},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var g=i(n(30)),o=i(n(0)),r=i(n(1)),a=i(n(239)),s=function(){function i(t,e,n){(0,o.default)(this,i),this.body=t,this.springLength=e,this.springConstant=n,this.distanceSolver=new a.default}return(0,r.default)(i,[{key:"setOptions",value:function(t){t&&(t.springLength&&(this.springLength=t.springLength),t.springConstant&&(this.springConstant=t.springConstant))}},{key:"solve",value:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],i=this.distanceSolver.getDistances(this.body,t,e);this._createL_matrix(i),this._createK_matrix(i),this._createE_matrix();for(var o=0,r=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),a=1e9,s=0,l=0,c=0,d=0,u=0;.01<a&&o<r;){o+=1;var h=this._getHighestEnergyNode(n),p=(0,g.default)(h,4);for(s=p[0],a=p[1],l=p[2],c=p[3],d=a,u=0;1<d&&u<5;){u+=1,this._moveNode(s,l,c);var f=this._getEnergy(s),m=(0,g.default)(f,3);d=m[0],l=m[1],c=m[2]}}}},{key:"_getHighestEnergyNode",value:function(t){for(var e=this.body.nodeIndices,n=this.body.nodes,i=0,o=e[0],r=0,a=0,s=0;s<e.length;s++){var l=e[s];if(!1===n[l].predefinedPosition||!0===n[l].isCluster&&!0===t||!0===n[l].options.fixed.x||!0===n[l].options.fixed.y){var c=this._getEnergy(l),d=(0,g.default)(c,3),u=d[0],h=d[1],p=d[2];i<u&&(i=u,o=l,r=h,a=p)}}return[o,i,r,a]}},{key:"_getEnergy",value:function(t){var e=(0,g.default)(this.E_sums[t],2),n=e[0],i=e[1];return[Math.sqrt(Math.pow(n,2)+Math.pow(i,2)),n,i]}},{key:"_moveNode",value:function(t,e,n){for(var i=this.body.nodeIndices,o=this.body.nodes,r=0,a=0,s=0,l=o[t].x,c=o[t].y,d=this.K_matrix[t],u=this.L_matrix[t],h=0;h<i.length;h++){var p=i[h];if(p!==t){var f=o[p].x,m=o[p].y,g=d[p],v=u[p],y=1/Math.pow(Math.pow(l-f,2)+Math.pow(c-m,2),1.5);r+=g*(1-v*Math.pow(c-m,2)*y),a+=g*(v*(l-f)*(c-m)*y),s+=g*(1-v*Math.pow(l-f,2)*y)}}var b=(e/r+n/a)/(a/r-s/a),_=-(a*b+e)/r;o[t].x+=_,o[t].y+=b,this._updateE_matrix(t)}},{key:"_createL_matrix",value:function(t){var e=this.body.nodeIndices,n=this.springLength;this.L_matrix=[];for(var i=0;i<e.length;i++){this.L_matrix[e[i]]={};for(var o=0;o<e.length;o++)this.L_matrix[e[i]][e[o]]=n*t[e[i]][e[o]]}}},{key:"_createK_matrix",value:function(t){var e=this.body.nodeIndices,n=this.springConstant;this.K_matrix=[];for(var i=0;i<e.length;i++){this.K_matrix[e[i]]={};for(var o=0;o<e.length;o++)this.K_matrix[e[i]][e[o]]=n*Math.pow(t[e[i]][e[o]],-2)}}},{key:"_createE_matrix",value:function(){var t=this.body.nodeIndices,e=this.body.nodes;this.E_matrix={},this.E_sums={};for(var n=0;n<t.length;n++)this.E_matrix[t[n]]=[];for(var i=0;i<t.length;i++){for(var o=t[i],r=e[o].x,a=e[o].y,s=0,l=0,c=i;c<t.length;c++){var d=t[c];if(d!==o){var u=e[d].x,h=e[d].y,p=1/Math.sqrt(Math.pow(r-u,2)+Math.pow(a-h,2));this.E_matrix[o][c]=[this.K_matrix[o][d]*(r-u-this.L_matrix[o][d]*(r-u)*p),this.K_matrix[o][d]*(a-h-this.L_matrix[o][d]*(a-h)*p)],this.E_matrix[d][i]=this.E_matrix[o][c],s+=this.E_matrix[o][c][0],l+=this.E_matrix[o][c][1]}}this.E_sums[o]=[s,l]}}},{key:"_updateE_matrix",value:function(t){for(var e=this.body.nodeIndices,n=this.body.nodes,i=this.E_matrix[t],o=this.K_matrix[t],r=this.L_matrix[t],a=n[t].x,s=n[t].y,l=0,c=0,d=0;d<e.length;d++){var u=e[d];if(u!==t){var h=i[d],p=h[0],f=h[1],m=n[u].x,g=n[u].y,v=1/Math.sqrt(Math.pow(a-m,2)+Math.pow(s-g,2)),y=o[u]*(a-m-r[u]*(a-m)*v),b=o[u]*(s-g-r[u]*(s-g)*v);i[d]=[y,b],l+=y,c+=b;var _=this.E_sums[u];_[0]+=y-p,_[1]+=b-f}}this.E_sums[t]=[l,c]}}]),i}();e.default=s},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(0)),r=i(n(1)),a=function(){function t(){(0,o.default)(this,t)}return(0,r.default)(t,[{key:"getDistances",value:function(t,e,n){for(var i={},o=t.edges,r=0;r<e.length;r++){var a={};i[e[r]]=a;for(var s=0;s<e.length;s++)a[e[s]]=r==s?0:1e9}for(var l=0;l<n.length;l++){var c=o[n[l]];!0===c.connected&&void 0!==i[c.fromId]&&void 0!==i[c.toId]&&(i[c.fromId][c.toId]=1,i[c.toId][c.fromId]=1)}for(var d=e.length,u=0;u<d;u++)for(var h=e[u],p=i[h],f=0;f<d-1;f++)for(var m=e[f],g=i[m],v=f+1;v<d;v++){var y=e[v],b=i[y],_=Math.min(g[y],g[h]+p[y]);g[y]=_,b[m]=_}return i}}]),t}();e.default=a}])}),function(n){var i={};function o(t){if(i[t])return i[t].exports;var e=i[t]={exports:{},id:t,loaded:!1};return n[t].call(e.exports,e,e.exports,o),e.loaded=!0,e.exports}o.m=n,o.c=i,o.p="",o(0)}([function(t,e,n){"use strict";var i,o=n(1),r=(i=o)&&i.__esModule?i:{default:i};angular.module("angularjs-dropdown-multiselect",[]).directive("dmDropdownStaticInclude",["$compile",function(r){return function(t,e,n){var i=n.dmDropdownStaticInclude,o=e.html(i).contents();r(o)(t)}}]).directive("ngDropdownMultiselect",r.default)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return{restrict:"AE",scope:{selectedModel:"=",options:"=",extraSettings:"=",events:"=",searchFilter:"=?",translationTexts:"=",disabled:"="},transclude:{toggleDropdown:"?toggleDropdown"},controller:r.default,templateUrl:"app/component/angularjs-dropdown-multiselect.html"}};var i,o=n(2),r=(i=o)&&i.__esModule?i:{default:i}},function(t,e){"use strict";function u(t,e){var n=!1;return t.some(function(t){return t===e&&(n=!0)}),n}function h(t,n,i){var o=-1;return t.some(function(t,e){return t[i]===n[i]&&(o=e,!0)}),o}function n(r,a,i,t){var o=a.children()[0],e={onItemSelect:angular.noop,onItemDeselect:angular.noop,onSelectAll:angular.noop,onDeselectAll:angular.noop,onInitDone:angular.noop,onMaxSelectionReached:angular.noop,onSelectionChanged:angular.noop,onClose:angular.noop},s={dynamicTitle:!0,scrollable:!1,scrollableHeight:"300px",closeOnBlur:!0,displayProp:"label",enableSearch:!1,clearSearchOnClose:!1,selectionLimit:0,showCheckAll:!0,showUncheckAll:!0,showEnableSearchButton:!1,closeOnSelect:!1,buttonClasses:"btn btn-default",closeOnDeselect:!1,groupBy:void 0,checkBoxes:!1,groupByTextProvider:null,smartButtonMaxItems:0,smartButtonTextConverter:angular.noop,styleActive:!1,selectedToTop:!1,keyboardControls:!1,template:"{{getPropertyForObject(option, settings.displayProp)}}",searchField:"$",showAllSelectedText:!1},n={checkAll:"Check All",uncheckAll:"Uncheck All",selectionCount:"checked",selectionOf:"/",searchPlaceholder:"Search...",buttonDefaultText:"Select",dynamicButtonTextSuffix:"checked",disableSearch:"Disable search",enableSearch:"Enable search",selectGroup:"Select all:",allSelectedText:"All"},l={searchFilter:r.searchFilter||""};function c(){setTimeout(function(){var t=angular.element(a)[0].querySelector(".option");angular.isDefined(t)&&null!=t&&t.focus()},0)}function d(t){var e=a.find("button"),n=document.createElement("canvas").getContext("2d");return n.font=e.css("font-size")+e.css("font-family"),n.originalFont=e.css("font-size")+e.css("font-family"),n.fillStyle="#000000",n.measureText(t).width}angular.extend(s,r.extraSettings||[]),angular.extend(e,r.events||[]),angular.extend(n,r.translationTexts),s.closeOnBlur&&t.on("click",function(t){if(r.open){for(var e=t.target.parentElement,n=!1;angular.isDefined(e)&&null!==e&&!n;)e.className.split&&u(e.className.split(" "),"multiselect-parent")&&!n&&e===o&&(n=!0),e=e.parentElement;n||r.$apply(function(){r.close()})}}),angular.extend(r,{toggleDropdown:function(){r.open?r.close():r.open=!0;r.settings.keyboardControls&&r.open&&(1===r.settings.selectionLimit&&r.settings.enableSearch?setTimeout(function(){angular.element(a)[0].querySelector(".searchField").focus()},0):c());r.settings.enableSearch&&r.open&&setTimeout(function(){angular.element(a)[0].querySelector(".searchField").focus()},0)},checkboxClick:function(t,e){r.setSelectedItem(e,!1,!0),t.stopImmediatePropagation()},externalEvents:e,settings:s,texts:n,input:l,close:function(){r.open=!1,r.input.searchFilter=r.settings.clearSearchOnClose?"":r.input.searchFilter,r.externalEvents.onClose()},selectCurrentGroup:function(e){r.selectedModel.splice(0,r.selectedModel.length),r.options.forEach(function(t){t[r.settings.groupBy]===e&&r.setSelectedItem(t,!1,!1)}),r.externalEvents.onSelectionChanged()},getGroupLabel:function(t){return null===r.settings.groupByTextProvider?t:r.settings.groupByTextProvider(t)},getButtonText:function(){if(r.settings.dynamicTitle&&r.selectedModel&&0<r.selectedModel.length){if(angular.isFunction(r.settings.smartButtonTextProvider))return r.settings.smartButtonTextProvider(r.selectedModel);if(0<r.settings.smartButtonMaxItems){var t=a[0].offsetWidth-24-2-8,i=[];angular.forEach(r.options,function(t){if(r.isChecked(t)){var e=r.getPropertyForObject(t,r.settings.displayProp),n=r.settings.smartButtonTextConverter(e,t);i.push(n||e)}}),r.selectedModel.length>r.settings.smartButtonMaxItems&&(i=i.slice(0,r.settings.smartButtonMaxItems)).push("...");var e=i.join(", "),n=e.length-4;if(0===a[0].offsetWidth)return e;if(t<=d("..."))return"...";for(;d(e)>t;)"..."!==i[i.length-1]&&(i.push("..."),n=(e+="...").length-4),e=e.slice(0,n)+e.slice(n+1),n-=1;return e}var o=angular.isDefined(r.selectedModel)?r.selectedModel.length:0;return 0===o?r.texts.buttonDefaultText:r.settings.showAllSelectedText&&o===r.options.length?r.texts.allSelectedText:o+" "+r.texts.dynamicButtonTextSuffix}return r.texts.buttonDefaultText},getPropertyForObject:function(t,e){if(angular.isDefined(t)&&Object.prototype.hasOwnProperty.call(t,e))return t[e];return},selectAll:function(){r.deselectAll(!0),r.externalEvents.onSelectAll();var t=i("filter")(r.options,r.getFilter(r.input.searchFilter));angular.forEach(t,function(t){r.setSelectedItem(t,!0,!1)}),r.externalEvents.onSelectionChanged(),r.selectedGroup=null},deselectAll:function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];t||r.externalEvents.onDeselectAll();r.selectedModel.splice(0,r.selectedModel.length),t||r.externalEvents.onSelectionChanged();r.selectedGroup=null},setSelectedItem:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=arguments[2],i=void 0,o=void 0;o=angular.isDefined(s.idProperty)?(i=-1!==h(r.selectedModel,t,s.idProperty),h(r.selectedModel,t,s.idProperty)):(i=-1!==r.selectedModel.indexOf(t),r.selectedModel.indexOf(t));!e&&i?(r.selectedModel.splice(o,1),r.externalEvents.onItemDeselect(t),r.settings.closeOnDeselect&&r.close()):!i&&(0===r.settings.selectionLimit||r.selectedModel.length<r.settings.selectionLimit)?(r.selectedModel.push(t),n&&r.externalEvents.onItemSelect(t),r.settings.closeOnSelect&&r.close(),0<r.settings.selectionLimit&&r.selectedModel.length===r.settings.selectionLimit&&r.externalEvents.onMaxSelectionReached()):1!==r.settings.selectionLimit||i||r.selectedModel.length!==r.settings.selectionLimit||(r.selectedModel.splice(0,1),r.selectedModel.push(t),n&&r.externalEvents.onItemSelect(t),r.settings.closeOnSelect&&r.close());n&&r.externalEvents.onSelectionChanged();r.selectedGroup=null},isChecked:function(t){if(angular.isDefined(s.idProperty))return-1!==h(r.selectedModel,t,s.idProperty);return-1!==r.selectedModel.indexOf(t)},keyDownLink:function(t){var e=angular.element(t.target).scope(),n=void 0,i=t.target.parentNode;if(!r.settings.keyboardControls)return;if(13===t.keyCode||32===t.keyCode)t.preventDefault(),e.option?r.setSelectedItem(e.option,!1,!0):"deselectAll"===t.target.id?r.deselectAll():"selectAll"===t.target.id&&r.selectAll();else if(38===t.keyCode){for(t.preventDefault(),i.previousElementSibling&&(n=i.previousElementSibling.querySelector("a")||i.previousElementSibling.querySelector("input"));!n&&i;)(i=i.previousElementSibling)&&(n=i.querySelector("a")||i.querySelector("input"));n&&n.focus()}else if(40===t.keyCode){for(t.preventDefault(),i.nextElementSibling&&(n=i.nextElementSibling.querySelector("a")||i.nextElementSibling.querySelector("input"));!n&&i;)(i=i.nextElementSibling)&&(n=i.querySelector("a")||i.querySelector("input"));n&&n.focus()}else 27===t.keyCode&&(t.preventDefault(),r.toggleDropdown())},keyDownSearchDefault:function(t){var e=t.target.parentNode.parentNode,n=void 0;if(!r.settings.keyboardControls)return;if(9===t.keyCode||40===t.keyCode)t.preventDefault(),c();else if(38===t.keyCode){for(t.preventDefault(),e.previousElementSibling&&(n=e.previousElementSibling.querySelector("a")||e.previousElementSibling.querySelector("input"));!n&&e;)(e=e.previousElementSibling)&&(n=e.querySelector("a")||e.querySelector("input"));n&&n.focus()}else 27===t.keyCode&&(t.preventDefault(),r.toggleDropdown())},keyDownSearch:function(t,e){var n=void 0;if(!r.settings.keyboardControls)return;13===t.keyCode&&(1===r.settings.selectionLimit&&r.settings.enableSearch?1===(n=i("filter")(r.options,r.getFilter(e))).length&&r.setSelectedItem(n[0],!1,!0):r.settings.enableSearch&&r.selectAll())},getFilter:function(t){var e={};return e[r.settings.searchField]=t,e},toggleSearch:function(t){t&&t.stopPropagation();r.settings.enableSearch=!r.settings.enableSearch,r.settings.enableSearch||(r.input.searchFilter="")},keyDownToggleSearch:function(){if(!r.settings.keyboardControls)return;13===event.keyCode&&(r.toggleSearch(),r.settings.enableSearch?setTimeout(function(){angular.element(a)[0].querySelector(".searchField").focus()},0):c())},orderFunction:function(t,e){if(angular.isUndefined(e))return-1;if(angular.isUndefined(t))return 1;if("object"!==t.type||"object"!==e.type)return t.index<e.index?-1:1;var n=t.value,i=e.value;if(r.settings.groupBy&&n[r.settings.groupBy]!==i[r.settings.groupBy])return n[r.settings.groupBy]<i[r.settings.groupBy]?1:-1;if(!r.settings.selectedToTop)return r.options.indexOf(n)<r.options.indexOf(i)?-1:1;if(!r.isChecked(n)&&!r.isChecked(i)||r.isChecked(n)&&r.isChecked(i))return r.options.indexOf(n)<r.options.indexOf(i)?-1:1;if(r.isChecked(n))return-1;return 1}}),r.externalEvents.onInitDone()}n.$inject=["$scope","$element","$filter","$document"],Object.defineProperty(e,"__esModule",{value:!0}),e.default=n}]),angular.module("angularjs-dropdown-multiselect").run(["$templateCache",function(t){t.put("app/component/angularjs-dropdown-multiselect.html",'<div class="multiselect-parent btn-group dropdown-multiselect" ng-class="{open: open}"><div ng-transclude=toggleDropdown ng-click=toggleDropdown()><button ng-disabled=disabled type=button class=dropdown-toggle ng-class=settings.buttonClasses>{{getButtonText()}}&nbsp;<span class=caret></span></button></div><ul class="dropdown-menu dropdown-menu-form" ng-if=open ng-style="{display: open ? \'block\' : \'none\', height : settings.scrollable ? settings.scrollableHeight : \'auto\', overflow: \'auto\' }"><li ng-if="settings.showCheckAll && settings.selectionLimit === 0"><a ng-keydown=keyDownLink($event) data-ng-click=selectAll() tabindex=-1 id=selectAll><span class="glyphicon glyphicon-ok"></span> {{texts.checkAll}}</a></li><li ng-if=settings.showUncheckAll><a ng-keydown=keyDownLink($event) data-ng-click=deselectAll(); tabindex=-1 id=deselectAll><span class="glyphicon glyphicon-remove"></span> {{texts.uncheckAll}}</a></li><li ng-if="settings.selectByGroups && ((settings.showCheckAll && settings.selectionLimit > 0) || settings.showUncheckAll)" class=divider></li><li ng-repeat="currentGroup in settings.selectByGroups track by $index" ng-click=selectCurrentGroup(currentGroup)><a ng-class="{\'dropdown-selected-group\': selectedGroup === currentGroup}" tabindex=-1>{{::texts.selectGroup}} {{::getGroupLabel(currentGroup)}}</a></li><li ng-if="settings.selectByGroups && settings.showEnableSearchButton" class=divider></li><li ng-if="settings.showEnableSearchButton && settings.enableSearch"><a ng-keydown="keyDownLink($event); keyDownToggleSearch();" ng-click=toggleSearch($event); tabindex=-1>{{texts.disableSearch}}</a></li><li ng-if="settings.showEnableSearchButton && !settings.enableSearch"><a ng-keydown="keyDownLink($event); keyDownToggleSearch();" ng-click=toggleSearch($event); tabindex=-1>{{texts.enableSearch}}</a></li><li ng-if="(settings.showCheckAll && settings.selectionLimit > 0) || settings.showUncheckAll || settings.showEnableSearchButton" class=divider></li><li ng-if=settings.enableSearch><div class=dropdown-header><input type=text class="form-control searchField" ng-keydown="keyDownSearchDefault($event); keyDownSearch($event, input.searchFilter);" ng-style="{width: \'100%\'}" ng-model=input.searchFilter placeholder={{texts.searchPlaceholder}}></div></li><li ng-if=settings.enableSearch class=divider></li><li ng-if=settings.groupBy ng-repeat-start="option in orderedItems = ( options | filter:getFilter(input.searchFilter) | orderBy:\'\':false:orderFunction)" ng-show="getPropertyForObject(option, settings.groupBy) !== getPropertyForObject(orderedItems[$index - 1], settings.groupBy)" role=presentation class=dropdown-header>{{ getGroupLabel(getPropertyForObject(option, settings.groupBy)) }}</li><li ng-if=settings.groupBy ng-class="{\'active\': isChecked(option) && settings.styleActive}" ng-repeat-end role=presentation><a ng-keydown="option.disabled || keyDownLink($event)" role=menuitem class=option tabindex=-1 ng-click="option.disabled || setSelectedItem(option, false, true)" ng-disabled=option.disabled><div ng-if=settings.checkBoxes class=checkbox><label><input class=checkboxInput type=checkbox ng-click="checkboxClick($event, option)" ng-checked=isChecked(option)> <span dm-dropdown-static-include={{settings.template}}></span></label></div><span ng-if=!settings.checkBoxes data-ng-class="{\'glyphicon glyphicon-ok\': isChecked(option)}"></span> <span dm-dropdown-static-include={{settings.template}}></span></a></li><li ng-if=!settings.groupBy ng-class="{\'active\': isChecked(option) && settings.styleActive}" role=presentation ng-repeat="option in options | filter:getFilter(input.searchFilter) | orderBy:\'\':false:orderFunction"><a ng-keydown="option.disabled || keyDownLink($event)" role=menuitem class=option tabindex=-1 ng-click="option.disabled || setSelectedItem(option, false, true)" ng-disabled=option.disabled><div ng-if=settings.checkBoxes class=checkbox><label><input class=checkboxInput type=checkbox ng-click="checkboxClick($event, option)" ng-checked=isChecked(option)> <span dm-dropdown-static-include={{settings.template}}></span></label></div><span ng-if=!settings.checkBoxes data-ng-class="{\'glyphicon glyphicon-ok\': isChecked(option)}"></span> <span ng-if=!settings.checkBoxes dm-dropdown-static-include={{settings.template}}></span></a></li><li class=divider ng-show="settings.selectionLimit > 1"></li><li role=presentation ng-show="settings.selectionLimit > 1"><a role=menuitem>{{selectedModel.length}} {{texts.selectionOf}} {{settings.selectionLimit}} {{texts.selectionCount}}</a></li></ul></div>')}]),function(){"use strict";angular.module("as.sortable",[]).constant("sortableConfig",{itemClass:"as-sortable-item",handleClass:"as-sortable-item-handle",placeHolderClass:"as-sortable-placeholder",dragClass:"as-sortable-drag",hiddenClass:"as-sortable-hidden",dragging:"as-sortable-dragging"})}(),function(){"use strict";angular.module("as.sortable").factory("$helper",["$document","$window",function(i,o){return{height:function(t){return t[0].getBoundingClientRect().height},width:function(t){return t[0].getBoundingClientRect().width},offset:function(t,e){var n=t[0].getBoundingClientRect();return e||(e=i[0].documentElement),{width:n.width||t.prop("offsetWidth"),height:n.height||t.prop("offsetHeight"),top:n.top+(o.pageYOffset||e.scrollTop-e.offsetTop),left:n.left+(o.pageXOffset||e.scrollLeft-e.offsetLeft)}},eventObj:function(t){var e=t;return void 0!==t.targetTouches?e=t.targetTouches.item(0):void 0!==t.originalEvent&&void 0!==t.originalEvent.targetTouches&&(e=t.originalEvent.targetTouches.item(0)),e},isTouchInvalid:function(t){var e=!1;return void 0!==t.touches&&1<t.touches.length?e=!0:void 0!==t.originalEvent&&void 0!==t.originalEvent.touches&&1<t.originalEvent.touches.length&&(e=!0),e},positionStarted:function(t,e,n){var i={};return i.offsetX=t.pageX-this.offset(e,n).left,i.offsetY=t.pageY-this.offset(e,n).top,i.startX=i.lastX=t.pageX,i.startY=i.lastY=t.pageY,i.nowX=i.nowY=i.distX=i.distY=i.dirAx=0,i.dirX=i.dirY=i.lastDirX=i.lastDirY=i.distAxX=i.distAxY=0,i},calculatePosition:function(t,e){t.lastX=t.nowX,t.lastY=t.nowY,t.nowX=e.pageX,t.nowY=e.pageY,t.distX=t.nowX-t.lastX,t.distY=t.nowY-t.lastY,t.lastDirX=t.dirX,t.lastDirY=t.dirY,t.dirX=0===t.distX?0:0<t.distX?1:-1,t.dirY=0===t.distY?0:0<t.distY?1:-1;var n=Math.abs(t.distX)>Math.abs(t.distY)?1:0;t.dirAx!==n?(t.distAxX=0,t.distAxY=0):(t.distAxX+=Math.abs(t.distX),0!==t.dirX&&t.dirX!==t.lastDirX&&(t.distAxX=0),t.distAxY+=Math.abs(t.distY),0!==t.dirY&&t.dirY!==t.lastDirY&&(t.distAxY=0)),t.dirAx=n},movePosition:function(t,e,n,i,o,r){var a,s="relative"===o;e.x=t.pageX-n.offsetX,e.y=t.pageY-n.offsetY,i&&(a=this.offset(i,r),s&&(e.x-=a.left,e.y-=a.top,a.left=0,a.top=0),e.x<a.left?e.x=a.left:e.x>=a.width+a.left-this.offset(e).width&&(e.x=a.width+a.left-this.offset(e).width),e.y<a.top?e.y=a.top:e.y>=a.height+a.top-this.offset(e).height&&(e.y=a.height+a.top-this.offset(e).height)),e.css({left:e.x+"px",top:e.y+"px"}),this.calculatePosition(n,t)},dragItem:function(t){return{index:t.index(),parent:t.sortableScope,source:t,targetElement:null,targetElementOffset:null,sourceInfo:{index:t.index(),itemScope:t.itemScope,sortableScope:t.sortableScope},canMove:function(t,e,n){return this.targetElement!==e?(this.targetElement=e,this.targetElementOffset=n,!0):(0<t.dirX*(n.left-this.targetElementOffset.left)||0<t.dirY*(n.top-this.targetElementOffset.top))&&(this.targetElementOffset=n,!0)},moveTo:function(t,e){this.parent=t,this.isSameParent()&&this.source.index()<e&&!this.sourceInfo.sortableScope.cloning&&(e-=1),this.index=e},isSameParent:function(){return this.parent.element===this.sourceInfo.sortableScope.element},isOrderChanged:function(){return this.index!==this.sourceInfo.index},eventArgs:function(){return{source:this.sourceInfo,dest:{index:this.index,sortableScope:this.parent}}},apply:function(){this.sourceInfo.sortableScope.cloning?this.parent.options.clone||this.parent.insertItem(this.index,angular.copy(this.source.modelValue)):(this.sourceInfo.sortableScope.removeItem(this.sourceInfo.index),(this.parent.options.allowDuplicates||this.parent.modelValue.indexOf(this.source.modelValue)<0)&&this.parent.insertItem(this.index,this.source.modelValue))}}},noDrag:function(t){return void 0!==t.attr("no-drag")||void 0!==t.attr("data-no-drag")},findAncestor:function(t,e){t=t[0];for(var n=Element.matches||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector;(t=t.parentElement)&&!n.call(t,e););return t?angular.element(t):angular.element(document.body)}}}])}(),function(){"use strict";var t=angular.module("as.sortable");t.controller("as.sortable.sortableController",["$scope",function(i){(this.scope=i).modelValue=null,i.callbacks=null,i.type="sortable",i.options={longTouch:!1},i.isDisabled=!1,i.insertItem=function(t,e){i.options.allowDuplicates?i.modelValue.splice(t,0,angular.copy(e)):i.modelValue.splice(t,0,e)},i.removeItem=function(t){var e=null;return-1<t&&(e=i.modelValue.splice(t,1)[0]),e},i.isEmpty=function(){return i.modelValue&&0===i.modelValue.length},i.accept=function(t,e,n){return i.callbacks.accept(t,e,n)}}]),t.directive("asSortable",function(){return{require:"ngModel",restrict:"A",scope:!0,controller:"as.sortable.sortableController",link:function(n,t,e,i){var o,r;(o=i)&&(o.$render=function(){n.modelValue=o.$modelValue},(n.element=t).data("_scope",n),(r={accept:null,orderChanged:null,itemMoved:null,dragStart:null,dragMove:null,dragCancel:null,dragEnd:null}).accept=function(t,e,n){return!0},r.orderChanged=function(t){},r.itemMoved=function(t){},r.dragStart=function(t){},r.dragMove=angular.noop,r.dragCancel=function(t){},r.dragEnd=function(t){},n.$watch(e.asSortable,function(t,e){angular.forEach(t,function(t,e){r[e]?"function"==typeof t&&(r[e]=t):n.options[e]=t}),n.callbacks=r},!0),angular.isDefined(e.isDisabled)&&n.$watch(e.isDisabled,function(t,e){angular.isUndefined(t)||(n.isDisabled=t)},!0))}}})}(),function(){"use strict";var t=angular.module("as.sortable");t.controller("as.sortable.sortableItemHandleController",["$scope",function(t){(this.scope=t).itemScope=null,t.type="handle"}]),t.directive("asSortableItemHandle",["sortableConfig","$helper","$window","$document","$timeout",function($,F,z,H,B){return{require:"^asSortableItem",scope:!0,restrict:"A",controller:"as.sortable.sortableItemHandleController",link:function(d,r,t,e){var u,h,i,p,f,m,g,n,v,a,o,s,l,c,y,b,_,x,w,E,M,T,C,S,A,k,D,O,P=!1,N=!1;function L(t,e){"table-row"!==h.css("display")&&h.css("display","block"),e.sortableScope.options.clone||(t[0].parentNode.insertBefore(h[0],t[0]),f.moveTo(e.sortableScope,e.index()))}function I(t){for(var e;!e&&t.length;)(e=t.data("_scope"))||(t=t.parent());return e}function R(){d.itemScope.sortableScope.cloning||i.replaceWith(d.itemScope.element),h.remove(),u.remove(),u=null,A=!1,m.css("cursor",""),m.removeClass("as-sortable-un-selectable")}E="ontouchstart"in z,M=/iPad|iPhone|iPod/.test(z.navigator.userAgent)&&!z.MSStream,$.handleClass&&r.addClass($.handleClass),d.itemScope=e.scope,r.data("_scope",d),d.$watchGroup(["sortableScope.isDisabled","sortableScope.options.longTouch"],function(t){P!==t[0]?(P=t[0])?_():b():(N!==t[1]&&(N=t[1],_()),b())}),d.$on("$destroy",function(){angular.element(H[0].body).unbind("keydown",O)}),k=function(t){return"function"==typeof d.sortableScope.options.placeholder?angular.element(d.sortableScope.options.placeholder(t)):"string"==typeof d.sortableScope.options.placeholder?angular.element(d.sortableScope.options.placeholder):angular.element(H[0].createElement(t.element.prop("tagName")))},n=function(n){var i,o=function(){angular.element(H).unbind("mousemove",t),angular.element(H).unbind("touchmove",t),r.unbind("mouseup",o),r.unbind("touchend",o),r.unbind("touchcancel",o)},t=function(t){t.preventDefault();var e=F.eventObj(t);i||(i={clientX:e.clientX,clientY:e.clientY}),10<Math.abs(e.clientX-i.clientX)+Math.abs(e.clientY-i.clientY)&&(o(),a(n))};angular.element(H).bind("mousemove",t),angular.element(H).bind("touchmove",t),r.bind("mouseup",o),r.bind("touchend",o),r.bind("touchcancel",o),n.stopPropagation()},a=function(t){var e,n;(E||2!==t.button&&3!==t.which)&&(E&&F.isTouchInvalid(t)||!A&&c(t)&&(A=!0,t.preventDefault(),e=F.eventObj(t),d.sortableScope=d.sortableScope||d.itemScope.sortableScope,d.callbacks=d.callbacks||d.itemScope.callbacks,d.itemScope.sortableScope.options.clone||d.itemScope.sortableScope.options.ctrlClone&&t.ctrlKey?d.itemScope.sortableScope.cloning=!0:d.itemScope.sortableScope.cloning=!1,v=0<angular.element(H[0].querySelector(d.sortableScope.options.scrollableContainer)).length?H[0].querySelector(d.sortableScope.options.scrollableContainer):H[0].documentElement,(m=d.sortableScope.options.containment?F.findAncestor(r,d.sortableScope.options.containment):angular.element(H[0].body)).css("cursor","move"),m.css("cursor","-webkit-grabbing"),m.css("cursor","-moz-grabbing"),m.addClass("as-sortable-un-selectable"),g=d.sortableScope.options.containerPositioning||"absolute",f=F.dragItem(d),n=d.itemScope.element.prop("tagName"),(u=angular.element(H[0].createElement(d.sortableScope.element.prop("tagName"))).addClass(d.sortableScope.element.attr("class")).addClass($.dragClass)).css("width",F.width(d.itemScope.element)+"px"),u.css("height",F.height(d.itemScope.element)+"px"),(h=k(d.itemScope).addClass($.placeHolderClass).addClass(d.sortableScope.options.additionalPlaceholderClass)).css("width",F.width(d.itemScope.element)+"px"),h.css("height",F.height(d.itemScope.element)+"px"),i=angular.element(H[0].createElement(n)),$.hiddenClass&&i.addClass($.hiddenClass),p=F.positionStarted(e,d.itemScope.element,v),d.itemScope.sortableScope.options.clone||d.itemScope.element.after(h),d.itemScope.sortableScope.cloning?u.append(d.itemScope.element.clone()):(d.itemScope.element.after(i),u.append(d.itemScope.element)),m.append(u),F.movePosition(e,u,p,m,g,v),d.sortableScope.$apply(function(){d.callbacks.dragStart(f.eventArgs())}),x()))},c=function(t){var e,n,i;for(i=(n=I(e=angular.element(t.target)))&&"handle"===n.type;i&&e[0]!==r[0];)F.noDrag(e)&&(i=!1),e=e.parent();return i},o=function(t){var e,n,i,o,r,a,s;if((!E||!F.isTouchInvalid(t))&&(A&&u)){if(t.preventDefault(),e=F.eventObj(t),d.callbacks.dragMove!==angular.noop&&d.sortableScope.$apply(function(){d.callbacks.dragMove(p,m,e)}),n=e.pageX-H[0].documentElement.scrollLeft,i=e.pageY-(z.pageYOffset||H[0].documentElement.scrollTop),u.addClass($.hiddenClass),r=angular.element(H[0].elementFromPoint(n,i)),u.removeClass($.hiddenClass),F.movePosition(e,u,p,m,g,v),u.addClass($.dragging),!(o=I(r))||!o.type)return;if("handle"===o.type&&(o=o.itemScope),"item"!==o.type&&"sortable"!==o.type)return;if("item"===o.type&&o.accept(d,o.sortableScope,o)){r=o.element;var l=F.offset(r,v);if(!f.canMove(p,r,l))return;var c=y(o.sortableScope.element);c<0?L(r,o):c<=o.index()?(a=r,s=o,"table-row"!==h.css("display")&&h.css("display","block"),s.sortableScope.options.clone||(a.after(h),f.moveTo(s.sortableScope,s.index()+1))):L(r,o)}"sortable"===o.type&&o.accept(d,o)&&!function t(e,n){return!(!n||"HTML"===n.nodeName)&&(n.parentNode===e||t(e,n.parentNode))}(o.element[0],r[0])&&(D(r)||o.options.clone||(r[0].appendChild(h[0]),f.moveTo(o,o.modelValue.length)))}},y=function(t){var e,n;if(t.hasClass($.placeHolderClass))return 0;for(e=t.children(),n=0;n<e.length;n+=1)if(angular.element(e[n]).hasClass($.placeHolderClass))return n;return-1},D=function(t){return 0<=y(t)},s=function(t){A&&(t.preventDefault(),u&&(R(),f.apply(),d.sortableScope.$apply(function(){f.isSameParent()?f.isOrderChanged()&&d.callbacks.orderChanged(f.eventArgs()):d.callbacks.itemMoved(f.eventArgs())}),d.sortableScope.$apply(function(){d.callbacks.dragEnd(f.eventArgs())}),f=null),w())},l=function(t){A&&(t.preventDefault(),u&&(R(),d.sortableScope.$apply(function(){d.callbacks.dragCancel(f.eventArgs())}),f=null),w())},b=function(){E&&(N?M?(r.bind("touchstart",T),r.bind("touchend",C),r.bind("touchmove",C)):r.bind("contextmenu",n):r.bind("touchstart",n)),r.bind("mousedown",n)},_=function(){r.unbind("touchstart",T),r.unbind("touchend",C),r.unbind("touchmove",C),r.unbind("contextmenu",n),r.unbind("touchstart",n),r.unbind("mousedown",n)},T=function(t){S=B(function(){n(t)},500)},C=function(){B.cancel(S)},O=function(t){27===t.keyCode&&l(t)},angular.element(H[0].body).bind("keydown",O),x=function(){angular.element(H).bind("touchmove",o),angular.element(H).bind("touchend",s),angular.element(H).bind("touchcancel",l),angular.element(H).bind("mousemove",o),angular.element(H).bind("mouseup",s)},w=function(){angular.element(H).unbind("touchend",s),angular.element(H).unbind("touchcancel",l),angular.element(H).unbind("touchmove",o),angular.element(H).unbind("mouseup",s),angular.element(H).unbind("mousemove",o)}}}}])}(),function(){"use strict";var t=angular.module("as.sortable");t.controller("as.sortable.sortableItemController",["$scope",function(t){(this.scope=t).sortableScope=null,t.modelValue=null,t.type="item",t.index=function(){return t.$index},t.itemData=function(){return t.sortableScope.modelValue[t.$index]}}]),t.directive("asSortableItem",["sortableConfig",function(a){return{require:["^asSortable","?ngModel"],restrict:"A",controller:"as.sortable.sortableItemController",link:function(t,e,n,i){var o=i[0],r=i[1];a.itemClass&&e.addClass(a.itemClass),t.sortableScope=o.scope,r?r.$render=function(){t.modelValue=r.$modelValue}:t.modelValue=o.scope.modelValue[t.$index],(t.element=e).data("_scope",t)}}}])}();