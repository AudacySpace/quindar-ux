<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="google-signin-client_id" content="362495380849-nrd3ggo9adcrcu493fcu81k8ntkirnkc.apps.googleusercontent.com">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
	
    <title>Quindar Login</title>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="../css/bootstrap-min.css">
    <link rel="stylesheet" href="../css/site-fonts.css">
    <link rel="stylesheet" href="../css/login-page-2.css">

	<style>
		/* forces google sign-in button to be full width */
		.abcRioButton {
			width : 100% !important;
		}

	</style>
	
</head>
<body id="login-page">
	<!-- limiting max-width to 600px prevents image & login from getting huge on big screens -->
	<div class="col-sm-offset-1 col-sm-5 content" style="max-width:600px;">
		<div class="sign-in">
			<img id="qlogo" src="../media/logos/quindar_white.svg" alt="Quindar"/>

			<div id="my-signin2"></div>
		</div>

		<div class="footer-logos">
			<div class="row">
				<div class="col-xs-4">
					<img src="../media/logos/aud_audacy_2.png" alt="Audacy"/>
				</div>
				<div class="col-xs-4">
					<img src="../media/logos/aud_angular_2.png" alt="Angular"/>
				</div>
				<div class="col-xs-4">
					<img src="../media/logos/aud_mongodb_2.png" alt="MongoDB"/>
				</div>
			</div>
			<div class="row">
				<div class="col-xs-4">
					<img src="../media/logos/aud_nodejs_2.png" alt="NodeJS"/>
				</div>
				<div class="col-xs-4">
					<img src="../media/logos/aud_docker_2.png" alt="Docker"/>
				</div>
				<div class="col-xs-4">
					<img src="../media/logos/aud_github_2.png" alt="Github"/>
				</div>
			</div>
		</div>
	</div>
	<div class="col-sm-6" id="image_credit_container">
		<p id="image_credit"></p>
	</div>	


	<script>
		function onSuccess(googleUser) {

			console.log('Logged in as: ' + googleUser.getBasicProfile().getName());
			console.log('Successfully logged in!!');
			window.location.href = "googleAuthentication.html";
		}
		function onFailure(error) {
			console.log(error);
		}
		function renderButton() {
			gapi.signin2.render('my-signin2', {
				'scope': 'profile email',
				'width': 430,
				'height': 50,
				'longtitle': true,
				'theme': 'dark',
				'onsuccess': onSuccess,
				'onfailure': onFailure
			});
		}
	</script>

	<script>

		/* 
			The list of available background images should be scraped from 
			http://www.space.com/wallpapers. Select a random page, then a random
			image, then get the download URL and credit line. If no image or
			connection is available, then use one local image as a fallback.
			
		*/
			
		// first 5 entries are local fallback
		var imgs=[]; cred=[];
		
		imgs[0] = "../media/background/acidalia.jpg";
		cred[0] = "Acidalia Planitia - NASA/JPL-Caltech/Univ. of Arizona (via space.com)";
		
		imgs[1] = "../media/background/cosmic-fireball-falling-over-alma-1920.jpg";
		cred[1] = "Fiery Voyage Over ALMA - ESO/C. Malin (via space.com)";
		
		imgs[2] = "../media/background/star-trails-eso-paranal-1920.jpg";
		cred[2] = "Acidalia Planitia - NASA/JPL-Caltech/Univ. of Arizona (via space.com)";
	
		imgs[3] = "../media/background/mars-sand-dunes-1920.jpg";
		cred[3] = "Martian Sand Dunes - NASA/JPL-Caltech (via space.com)";

		imgs[4] = "../media/background/messy-galaxy-hubble-1920.jpg";
		cred[4] = "Hubble Galaxy - NASA/JPL-Caltech (via space.com)";
		

		
		// get other possible choices remotely
		// tba

		
		// determine array size, and get random index
		idx = Math.floor(Math.random() * imgs.length);
		
		//update the document display
		document.body.style.backgroundImage = "url('" + imgs[idx] + "')";
		document.getElementById("image_credit").innerHTML = cred[idx];


	</script>
	
	<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
	<script src="https://apis.google.com/js/platform.js?onload=renderButton" async defer></script>

</body>
</html>
